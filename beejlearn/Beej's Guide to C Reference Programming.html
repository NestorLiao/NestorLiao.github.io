<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="" class="TridactylThemeAuto irjrtvzp idc0_343 wrgdbcoye" style="scroll-behavior: unset;"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>Beej's Guide to C Programming</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <!-- BG custom styling -->
  <style type="text/css">
  /* Fix for line numbers not visible */
  pre.numberSource code > span {
      left: -1em;
  }
  pre.numberSource {
      margin-left: initial;
  }

  /* Put some space after the section numbers */
  span.toc-section-number::after {
      content: "\a0\a0\a0";  /* non-breaking whitespace */
  }

  /* Hide underlines on code number links */
  pre > code.sourceCode > span > a:first-child::before {
      text-decoration: none;
  }

  /* Color the source blocks */
  div.sourceCode {
      background-color: #f0f0f0;
  }

  /* Fix iOS big text rendering issue */
  pre > code.sourceCode > span {
      display: initial;
  }


  /* Color the inline code */
  code:not(.sourceCode) {
      background: #f0f0f0;
      padding-left: 0.2em;
      padding-right: 0.2em;
      border-radius: 0.2em;
  }

  pre.sourceCode {
      border: 1px solid #ccc;
      padding: 0.5em;
      border-radius: 0.2em;
  }

  /* Keep code tags from wrapping in tables */
  tbody code {
      white-space: nowrap;
  }

  td {
      vertical-align: top;
  }

  body {
      font-size: 12pt;
      max-width: 43em;
      font-family: sans-serif;
  }

  html {
      background: #f9f9f9;
  }

  figure > embed {
      max-width: 100%;
  }

  figure {
      text-align: center;
      margin-top: 2em;
      margin-bottom: 2em;
  }

  figcaption {
      font-size: 0.9em;
      font-style: italic;
      margin-top: 0.6em;
  }

  body {
      counter-reset: figure-counter-major;
      counter-reset: figure-counter-minor;
  }

  figure {
      counter-increment: figure-counter-minor;
  }

  figcaption::before {
      content: "Figure " counter(figure-counter-major) "." counter(figure-counter-minor) ": ";
  }

  /*
  In multipage, we need to reset the figure counter to the chapter
  number. Luckily, this is in the <h1 data-number> attribute. Unluckily,
  there is no way to get this in a general way.

  This doesn't work:

    h1[data-number] {
      counter-set: figure-counter-major attr(data-number);
    }

  Nor this:

    h1[data-number] {
      --figure-counter-major-value: attr(data-number);
      counter-set: figure-counter-major var(--figure-counter-major-value);
    }

  So, dumbly, we have a bunch of rules for all these sections, up to the
  maximum possible section.

  Here's a program to generate them:

    for (let i = 1; i < 100; i++)
        console.log(`h1[data-number="${i}"]{counter-set:figure-counter-major ${i};counter-reset:figure-counter-minor;}`);

  Note to self: never write a book with more than 99 frickin' chapters.
  */

  h1[data-number="1"]{counter-set:figure-counter-major 1;counter-reset:figure-counter-minor;}
  h1[data-number="2"]{counter-set:figure-counter-major 2;counter-reset:figure-counter-minor;}
  h1[data-number="3"]{counter-set:figure-counter-major 3;counter-reset:figure-counter-minor;}
  h1[data-number="4"]{counter-set:figure-counter-major 4;counter-reset:figure-counter-minor;}
  h1[data-number="5"]{counter-set:figure-counter-major 5;counter-reset:figure-counter-minor;}
  h1[data-number="6"]{counter-set:figure-counter-major 6;counter-reset:figure-counter-minor;}
  h1[data-number="7"]{counter-set:figure-counter-major 7;counter-reset:figure-counter-minor;}
  h1[data-number="8"]{counter-set:figure-counter-major 8;counter-reset:figure-counter-minor;}
  h1[data-number="9"]{counter-set:figure-counter-major 9;counter-reset:figure-counter-minor;}
  h1[data-number="10"]{counter-set:figure-counter-major 10;counter-reset:figure-counter-minor;}
  h1[data-number="11"]{counter-set:figure-counter-major 11;counter-reset:figure-counter-minor;}
  h1[data-number="12"]{counter-set:figure-counter-major 12;counter-reset:figure-counter-minor;}
  h1[data-number="13"]{counter-set:figure-counter-major 13;counter-reset:figure-counter-minor;}
  h1[data-number="14"]{counter-set:figure-counter-major 14;counter-reset:figure-counter-minor;}
  h1[data-number="15"]{counter-set:figure-counter-major 15;counter-reset:figure-counter-minor;}
  h1[data-number="16"]{counter-set:figure-counter-major 16;counter-reset:figure-counter-minor;}
  h1[data-number="17"]{counter-set:figure-counter-major 17;counter-reset:figure-counter-minor;}
  h1[data-number="18"]{counter-set:figure-counter-major 18;counter-reset:figure-counter-minor;}
  h1[data-number="19"]{counter-set:figure-counter-major 19;counter-reset:figure-counter-minor;}
  h1[data-number="20"]{counter-set:figure-counter-major 20;counter-reset:figure-counter-minor;}
  h1[data-number="21"]{counter-set:figure-counter-major 21;counter-reset:figure-counter-minor;}
  h1[data-number="22"]{counter-set:figure-counter-major 22;counter-reset:figure-counter-minor;}
  h1[data-number="23"]{counter-set:figure-counter-major 23;counter-reset:figure-counter-minor;}
  h1[data-number="24"]{counter-set:figure-counter-major 24;counter-reset:figure-counter-minor;}
  h1[data-number="25"]{counter-set:figure-counter-major 25;counter-reset:figure-counter-minor;}
  h1[data-number="26"]{counter-set:figure-counter-major 26;counter-reset:figure-counter-minor;}
  h1[data-number="27"]{counter-set:figure-counter-major 27;counter-reset:figure-counter-minor;}
  h1[data-number="28"]{counter-set:figure-counter-major 28;counter-reset:figure-counter-minor;}
  h1[data-number="29"]{counter-set:figure-counter-major 29;counter-reset:figure-counter-minor;}
  h1[data-number="30"]{counter-set:figure-counter-major 30;counter-reset:figure-counter-minor;}
  h1[data-number="31"]{counter-set:figure-counter-major 31;counter-reset:figure-counter-minor;}
  h1[data-number="32"]{counter-set:figure-counter-major 32;counter-reset:figure-counter-minor;}
  h1[data-number="33"]{counter-set:figure-counter-major 33;counter-reset:figure-counter-minor;}
  h1[data-number="34"]{counter-set:figure-counter-major 34;counter-reset:figure-counter-minor;}
  h1[data-number="35"]{counter-set:figure-counter-major 35;counter-reset:figure-counter-minor;}
  h1[data-number="36"]{counter-set:figure-counter-major 36;counter-reset:figure-counter-minor;}
  h1[data-number="37"]{counter-set:figure-counter-major 37;counter-reset:figure-counter-minor;}
  h1[data-number="38"]{counter-set:figure-counter-major 38;counter-reset:figure-counter-minor;}
  h1[data-number="39"]{counter-set:figure-counter-major 39;counter-reset:figure-counter-minor;}
  h1[data-number="40"]{counter-set:figure-counter-major 40;counter-reset:figure-counter-minor;}
  h1[data-number="41"]{counter-set:figure-counter-major 41;counter-reset:figure-counter-minor;}
  h1[data-number="42"]{counter-set:figure-counter-major 42;counter-reset:figure-counter-minor;}
  h1[data-number="43"]{counter-set:figure-counter-major 43;counter-reset:figure-counter-minor;}
  h1[data-number="44"]{counter-set:figure-counter-major 44;counter-reset:figure-counter-minor;}
  h1[data-number="45"]{counter-set:figure-counter-major 45;counter-reset:figure-counter-minor;}
  h1[data-number="46"]{counter-set:figure-counter-major 46;counter-reset:figure-counter-minor;}
  h1[data-number="47"]{counter-set:figure-counter-major 47;counter-reset:figure-counter-minor;}
  h1[data-number="48"]{counter-set:figure-counter-major 48;counter-reset:figure-counter-minor;}
  h1[data-number="49"]{counter-set:figure-counter-major 49;counter-reset:figure-counter-minor;}
  h1[data-number="50"]{counter-set:figure-counter-major 50;counter-reset:figure-counter-minor;}
  h1[data-number="51"]{counter-set:figure-counter-major 51;counter-reset:figure-counter-minor;}
  h1[data-number="52"]{counter-set:figure-counter-major 52;counter-reset:figure-counter-minor;}
  h1[data-number="53"]{counter-set:figure-counter-major 53;counter-reset:figure-counter-minor;}
  h1[data-number="54"]{counter-set:figure-counter-major 54;counter-reset:figure-counter-minor;}
  h1[data-number="55"]{counter-set:figure-counter-major 55;counter-reset:figure-counter-minor;}
  h1[data-number="56"]{counter-set:figure-counter-major 56;counter-reset:figure-counter-minor;}
  h1[data-number="57"]{counter-set:figure-counter-major 57;counter-reset:figure-counter-minor;}
  h1[data-number="58"]{counter-set:figure-counter-major 58;counter-reset:figure-counter-minor;}
  h1[data-number="59"]{counter-set:figure-counter-major 59;counter-reset:figure-counter-minor;}
  h1[data-number="60"]{counter-set:figure-counter-major 60;counter-reset:figure-counter-minor;}
  h1[data-number="61"]{counter-set:figure-counter-major 61;counter-reset:figure-counter-minor;}
  h1[data-number="62"]{counter-set:figure-counter-major 62;counter-reset:figure-counter-minor;}
  h1[data-number="63"]{counter-set:figure-counter-major 63;counter-reset:figure-counter-minor;}
  h1[data-number="64"]{counter-set:figure-counter-major 64;counter-reset:figure-counter-minor;}
  h1[data-number="65"]{counter-set:figure-counter-major 65;counter-reset:figure-counter-minor;}
  h1[data-number="66"]{counter-set:figure-counter-major 66;counter-reset:figure-counter-minor;}
  h1[data-number="67"]{counter-set:figure-counter-major 67;counter-reset:figure-counter-minor;}
  h1[data-number="68"]{counter-set:figure-counter-major 68;counter-reset:figure-counter-minor;}
  h1[data-number="69"]{counter-set:figure-counter-major 69;counter-reset:figure-counter-minor;}
  h1[data-number="70"]{counter-set:figure-counter-major 70;counter-reset:figure-counter-minor;}
  h1[data-number="71"]{counter-set:figure-counter-major 71;counter-reset:figure-counter-minor;}
  h1[data-number="72"]{counter-set:figure-counter-major 72;counter-reset:figure-counter-minor;}
  h1[data-number="73"]{counter-set:figure-counter-major 73;counter-reset:figure-counter-minor;}
  h1[data-number="74"]{counter-set:figure-counter-major 74;counter-reset:figure-counter-minor;}
  h1[data-number="75"]{counter-set:figure-counter-major 75;counter-reset:figure-counter-minor;}
  h1[data-number="76"]{counter-set:figure-counter-major 76;counter-reset:figure-counter-minor;}
  h1[data-number="77"]{counter-set:figure-counter-major 77;counter-reset:figure-counter-minor;}
  h1[data-number="78"]{counter-set:figure-counter-major 78;counter-reset:figure-counter-minor;}
  h1[data-number="79"]{counter-set:figure-counter-major 79;counter-reset:figure-counter-minor;}
  h1[data-number="80"]{counter-set:figure-counter-major 80;counter-reset:figure-counter-minor;}
  h1[data-number="81"]{counter-set:figure-counter-major 81;counter-reset:figure-counter-minor;}
  h1[data-number="82"]{counter-set:figure-counter-major 82;counter-reset:figure-counter-minor;}
  h1[data-number="83"]{counter-set:figure-counter-major 83;counter-reset:figure-counter-minor;}
  h1[data-number="84"]{counter-set:figure-counter-major 84;counter-reset:figure-counter-minor;}
  h1[data-number="85"]{counter-set:figure-counter-major 85;counter-reset:figure-counter-minor;}
  h1[data-number="86"]{counter-set:figure-counter-major 86;counter-reset:figure-counter-minor;}
  h1[data-number="87"]{counter-set:figure-counter-major 87;counter-reset:figure-counter-minor;}
  h1[data-number="88"]{counter-set:figure-counter-major 88;counter-reset:figure-counter-minor;}
  h1[data-number="89"]{counter-set:figure-counter-major 89;counter-reset:figure-counter-minor;}
  h1[data-number="90"]{counter-set:figure-counter-major 90;counter-reset:figure-counter-minor;}
  h1[data-number="91"]{counter-set:figure-counter-major 91;counter-reset:figure-counter-minor;}
  h1[data-number="92"]{counter-set:figure-counter-major 92;counter-reset:figure-counter-minor;}
  h1[data-number="93"]{counter-set:figure-counter-major 93;counter-reset:figure-counter-minor;}
  h1[data-number="94"]{counter-set:figure-counter-major 94;counter-reset:figure-counter-minor;}
  h1[data-number="95"]{counter-set:figure-counter-major 95;counter-reset:figure-counter-minor;}
  h1[data-number="96"]{counter-set:figure-counter-major 96;counter-reset:figure-counter-minor;}
  h1[data-number="97"]{counter-set:figure-counter-major 97;counter-reset:figure-counter-minor;}
  h1[data-number="98"]{counter-set:figure-counter-major 98;counter-reset:figure-counter-minor;}
  h1[data-number="99"]{counter-set:figure-counter-major 99;counter-reset:figure-counter-minor;}


  </style>
  <script src="Beej's%20Guide%20to%20C%20Programming_files/tex-chtml-full.js" type="text/javascript"></script><style type="text/css">.CtxtMenu_InfoClose {  top:.2em; right:.2em;}
.CtxtMenu_InfoContent {  overflow:auto; text-align:left; font-size:80%;  padding:.4em .6em; border:1px inset; margin:1em 0px;  max-height:20em; max-width:30em; background-color:#EEEEEE;  white-space:normal;}
.CtxtMenu_Info.CtxtMenu_MousePost {outline:none;}
.CtxtMenu_Info {  position:fixed; left:50%; width:auto; text-align:center;  border:3px outset; padding:1em 2em; background-color:#DDDDDD;  color:black;  cursor:default; font-family:message-box; font-size:120%;  font-style:normal; text-indent:0; text-transform:none;  line-height:normal; letter-spacing:normal; word-spacing:normal;  word-wrap:normal; white-space:nowrap; float:none; z-index:201;  border-radius: 15px;                     /* Opera 10.5 and IE9 */  -webkit-border-radius:15px;               /* Safari and Chrome */  -moz-border-radius:15px;                  /* Firefox */  -khtml-border-radius:15px;                /* Konqueror */  box-shadow:0px 10px 20px #808080;         /* Opera 10.5 and IE9 */  -webkit-box-shadow:0px 10px 20px #808080; /* Safari 3 & Chrome */  -moz-box-shadow:0px 10px 20px #808080;    /* Forefox 3.5 */  -khtml-box-shadow:0px 10px 20px #808080;  /* Konqueror */  filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color="gray", Positive="true"); /* IE */}
</style><style type="text/css">.CtxtMenu_MenuClose {  position:absolute;  cursor:pointer;  display:inline-block;  border:2px solid #AAA;  border-radius:18px;  -webkit-border-radius: 18px;             /* Safari and Chrome */  -moz-border-radius: 18px;                /* Firefox */  -khtml-border-radius: 18px;              /* Konqueror */  font-family: "Courier New", Courier;  font-size:24px;  color:#F0F0F0}
.CtxtMenu_MenuClose span {  display:block; background-color:#AAA; border:1.5px solid;  border-radius:18px;  -webkit-border-radius: 18px;             /* Safari and Chrome */  -moz-border-radius: 18px;                /* Firefox */  -khtml-border-radius: 18px;              /* Konqueror */  line-height:0;  padding:8px 0 6px     /* may need to be browser-specific */}
.CtxtMenu_MenuClose:hover {  color:white!important;  border:2px solid #CCC!important}
.CtxtMenu_MenuClose:hover span {  background-color:#CCC!important}
.CtxtMenu_MenuClose:hover:focus {  outline:none}
</style><style type="text/css">.CtxtMenu_Menu {  position:absolute;  background-color:white;  color:black;  width:auto; padding:5px 0px;  border:1px solid #CCCCCC; margin:0; cursor:default;  font: menu; text-align:left; text-indent:0; text-transform:none;  line-height:normal; letter-spacing:normal; word-spacing:normal;  word-wrap:normal; white-space:nowrap; float:none; z-index:201;  border-radius: 5px;                     /* Opera 10.5 and IE9 */  -webkit-border-radius: 5px;             /* Safari and Chrome */  -moz-border-radius: 5px;                /* Firefox */  -khtml-border-radius: 5px;              /* Konqueror */  box-shadow:0px 10px 20px #808080;         /* Opera 10.5 and IE9 */  -webkit-box-shadow:0px 10px 20px #808080; /* Safari 3 & Chrome */  -moz-box-shadow:0px 10px 20px #808080;    /* Forefox 3.5 */  -khtml-box-shadow:0px 10px 20px #808080;  /* Konqueror */}
.CtxtMenu_MenuItem {  padding: 1px 2em;  background:transparent;}
.CtxtMenu_MenuArrow {  position:absolute; right:.5em; padding-top:.25em; color:#666666;  font-family: null; font-size: .75em}
.CtxtMenu_MenuActive .CtxtMenu_MenuArrow {color:white}
.CtxtMenu_MenuArrow.CtxtMenu_RTL {left:.5em; right:auto}
.CtxtMenu_MenuCheck {  position:absolute; left:.7em;  font-family: null}
.CtxtMenu_MenuCheck.CtxtMenu_RTL { right:.7em; left:auto }
.CtxtMenu_MenuRadioCheck {  position:absolute; left: .7em;}
.CtxtMenu_MenuRadioCheck.CtxtMenu_RTL {  right: .7em; left:auto}
.CtxtMenu_MenuInputBox {  padding-left: 1em; right:.5em; color:#666666;  font-family: null;}
.CtxtMenu_MenuInputBox.CtxtMenu_RTL {  left: .1em;}
.CtxtMenu_MenuComboBox {  left:.1em; padding-bottom:.5em;}
.CtxtMenu_MenuSlider {  left: .1em;}
.CtxtMenu_SliderValue {  position:absolute; right:.1em; padding-top:.25em; color:#333333;  font-size: .75em}
.CtxtMenu_SliderBar {  outline: none; background: #d3d3d3}
.CtxtMenu_MenuLabel {  padding: 1px 2em 3px 1.33em;  font-style:italic}
.CtxtMenu_MenuRule {  border-top: 1px solid #DDDDDD;  margin: 4px 3px;}
.CtxtMenu_MenuDisabled {  color:GrayText}
.CtxtMenu_MenuActive {  background-color: #606872;  color: white;}
.CtxtMenu_MenuDisabled:focus {  background-color: #E8E8E8}
.CtxtMenu_MenuLabel:focus {  background-color: #E8E8E8}
.CtxtMenu_ContextMenu:focus {  outline:none}
.CtxtMenu_ContextMenu .CtxtMenu_MenuItem:focus {  outline:none}
.CtxtMenu_SelectionMenu {  position:relative; float:left;  border-bottom: none; -webkit-box-shadow:none; -webkit-border-radius:0px; }
.CtxtMenu_SelectionItem {  padding-right: 1em;}
.CtxtMenu_Selection {  right: 40%; width:50%; }
.CtxtMenu_SelectionBox {  padding: 0em; max-height:20em; max-width: none;  background-color:#FFFFFF;}
.CtxtMenu_SelectionDivider {  clear: both; border-top: 2px solid #000000;}
.CtxtMenu_Menu .CtxtMenu_MenuClose {  top:-10px; left:-10px}
</style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
<style id="MJX-CHTML-styles">
mjx-container[jax="CHTML"] {
  line-height: 0;
}

mjx-container [space="1"] {
  margin-left: .111em;
}

mjx-container [space="2"] {
  margin-left: .167em;
}

mjx-container [space="3"] {
  margin-left: .222em;
}

mjx-container [space="4"] {
  margin-left: .278em;
}

mjx-container [space="5"] {
  margin-left: .333em;
}

mjx-container [rspace="1"] {
  margin-right: .111em;
}

mjx-container [rspace="2"] {
  margin-right: .167em;
}

mjx-container [rspace="3"] {
  margin-right: .222em;
}

mjx-container [rspace="4"] {
  margin-right: .278em;
}

mjx-container [rspace="5"] {
  margin-right: .333em;
}

mjx-container [size="s"] {
  font-size: 70.7%;
}

mjx-container [size="ss"] {
  font-size: 50%;
}

mjx-container [size="Tn"] {
  font-size: 60%;
}

mjx-container [size="sm"] {
  font-size: 85%;
}

mjx-container [size="lg"] {
  font-size: 120%;
}

mjx-container [size="Lg"] {
  font-size: 144%;
}

mjx-container [size="LG"] {
  font-size: 173%;
}

mjx-container [size="hg"] {
  font-size: 207%;
}

mjx-container [size="HG"] {
  font-size: 249%;
}

mjx-container [width="full"] {
  width: 100%;
}

mjx-box {
  display: inline-block;
}

mjx-block {
  display: block;
}

mjx-itable {
  display: inline-table;
}

mjx-row {
  display: table-row;
}

mjx-row > * {
  display: table-cell;
}

mjx-mtext {
  display: inline-block;
}

mjx-mstyle {
  display: inline-block;
}

mjx-merror {
  display: inline-block;
  color: red;
  background-color: yellow;
}

mjx-mphantom {
  visibility: hidden;
}

_::-webkit-full-page-media, _:future, :root mjx-container {
  will-change: opacity;
}

mjx-assistive-mml {
  position: absolute !important;
  top: 0px;
  left: 0px;
  clip: rect(1px, 1px, 1px, 1px);
  padding: 1px 0px 0px 0px !important;
  border: 0px !important;
  display: block !important;
  width: auto !important;
  overflow: hidden !important;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

mjx-assistive-mml[display="block"] {
  width: 100% !important;
}

mjx-math {
  display: inline-block;
  text-align: left;
  line-height: 0;
  text-indent: 0;
  font-style: normal;
  font-weight: normal;
  font-size: 100%;
  font-size-adjust: none;
  letter-spacing: normal;
  border-collapse: collapse;
  word-wrap: normal;
  word-spacing: normal;
  white-space: nowrap;
  direction: ltr;
  padding: 1px 0;
}

mjx-container[jax="CHTML"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="CHTML"][display="true"][width="full"] {
  display: flex;
}

mjx-container[jax="CHTML"][display="true"] mjx-math {
  padding: 0;
}

mjx-container[jax="CHTML"][justify="left"] {
  text-align: left;
}

mjx-container[jax="CHTML"][justify="right"] {
  text-align: right;
}

mjx-mi {
  display: inline-block;
  text-align: left;
}

mjx-c {
  display: inline-block;
}

mjx-utext {
  display: inline-block;
  padding: .75em 0 .2em 0;
}

mjx-mo {
  display: inline-block;
  text-align: left;
}

mjx-stretchy-h {
  display: inline-table;
  width: 100%;
}

mjx-stretchy-h > * {
  display: table-cell;
  width: 0;
}

mjx-stretchy-h > * > mjx-c {
  display: inline-block;
  transform: scalex(1.0000001);
}

mjx-stretchy-h > * > mjx-c::before {
  display: inline-block;
  width: initial;
}

mjx-stretchy-h > mjx-ext {
  /* IE */ overflow: hidden;
  /* others */ overflow: clip visible;
  width: 100%;
}

mjx-stretchy-h > mjx-ext > mjx-c::before {
  transform: scalex(500);
}

mjx-stretchy-h > mjx-ext > mjx-c {
  width: 0;
}

mjx-stretchy-h > mjx-beg > mjx-c {
  margin-right: -.1em;
}

mjx-stretchy-h > mjx-end > mjx-c {
  margin-left: -.1em;
}

mjx-stretchy-v {
  display: inline-block;
}

mjx-stretchy-v > * {
  display: block;
}

mjx-stretchy-v > mjx-beg {
  height: 0;
}

mjx-stretchy-v > mjx-end > mjx-c {
  display: block;
}

mjx-stretchy-v > * > mjx-c {
  transform: scaley(1.0000001);
  transform-origin: left center;
  overflow: hidden;
}

mjx-stretchy-v > mjx-ext {
  display: block;
  height: 100%;
  box-sizing: border-box;
  border: 0px solid transparent;
  /* IE */ overflow: hidden;
  /* others */ overflow: visible clip;
}

mjx-stretchy-v > mjx-ext > mjx-c::before {
  width: initial;
  box-sizing: border-box;
}

mjx-stretchy-v > mjx-ext > mjx-c {
  transform: scaleY(500) translateY(.075em);
  overflow: visible;
}

mjx-mark {
  display: inline-block;
  height: 0px;
}

mjx-msqrt {
  display: inline-block;
  text-align: left;
}

mjx-root {
  display: inline-block;
  white-space: nowrap;
}

mjx-surd {
  display: inline-block;
  vertical-align: top;
}

mjx-sqrt {
  display: inline-block;
  padding-top: .07em;
}

mjx-sqrt > mjx-box {
  border-top: .07em solid;
}

mjx-sqrt.mjx-tall > mjx-box {
  padding-left: .3em;
  margin-left: -.3em;
}

mjx-mn {
  display: inline-block;
  text-align: left;
}

mjx-TeXAtom {
  display: inline-block;
  text-align: left;
}

mjx-msup {
  display: inline-block;
  text-align: left;
}

mjx-munderover {
  display: inline-block;
  text-align: left;
}

mjx-munderover:not([limits="false"]) {
  padding-top: .1em;
}

mjx-munderover:not([limits="false"]) > * {
  display: block;
}

mjx-msubsup {
  display: inline-block;
  text-align: left;
}

mjx-script {
  display: inline-block;
  padding-right: .05em;
  padding-left: .033em;
}

mjx-script > mjx-spacer {
  display: block;
}

mjx-msub {
  display: inline-block;
  text-align: left;
}

mjx-mroot {
  display: inline-block;
  text-align: left;
}

mjx-mfrac {
  display: inline-block;
  text-align: left;
}

mjx-frac {
  display: inline-block;
  vertical-align: 0.17em;
  padding: 0 .22em;
}

mjx-frac[type="d"] {
  vertical-align: .04em;
}

mjx-frac[delims] {
  padding: 0 .1em;
}

mjx-frac[atop] {
  padding: 0 .12em;
}

mjx-frac[atop][delims] {
  padding: 0;
}

mjx-dtable {
  display: inline-table;
  width: 100%;
}

mjx-dtable > * {
  font-size: 2000%;
}

mjx-dbox {
  display: block;
  font-size: 5%;
}

mjx-num {
  display: block;
  text-align: center;
}

mjx-den {
  display: block;
  text-align: center;
}

mjx-mfrac[bevelled] > mjx-num {
  display: inline-block;
}

mjx-mfrac[bevelled] > mjx-den {
  display: inline-block;
}

mjx-den[align="right"], mjx-num[align="right"] {
  text-align: right;
}

mjx-den[align="left"], mjx-num[align="left"] {
  text-align: left;
}

mjx-nstrut {
  display: inline-block;
  height: .054em;
  width: 0;
  vertical-align: -.054em;
}

mjx-nstrut[type="d"] {
  height: .217em;
  vertical-align: -.217em;
}

mjx-dstrut {
  display: inline-block;
  height: .505em;
  width: 0;
}

mjx-dstrut[type="d"] {
  height: .726em;
}

mjx-line {
  display: block;
  box-sizing: border-box;
  min-height: 1px;
  height: .06em;
  border-top: .06em solid;
  margin: .06em -.1em;
  overflow: hidden;
}

mjx-line[type="d"] {
  margin: .18em -.1em;
}

mjx-mspace {
  display: inline-block;
  text-align: left;
}

mjx-c::before {
  display: block;
  width: 0;
}

.MJX-TEX {
  font-family: MJXZERO, MJXTEX;
}

.TEX-B {
  font-family: MJXZERO, MJXTEX-B;
}

.TEX-I {
  font-family: MJXZERO, MJXTEX-I;
}

.TEX-MI {
  font-family: MJXZERO, MJXTEX-MI;
}

.TEX-BI {
  font-family: MJXZERO, MJXTEX-BI;
}

.TEX-S1 {
  font-family: MJXZERO, MJXTEX-S1;
}

.TEX-S2 {
  font-family: MJXZERO, MJXTEX-S2;
}

.TEX-S3 {
  font-family: MJXZERO, MJXTEX-S3;
}

.TEX-S4 {
  font-family: MJXZERO, MJXTEX-S4;
}

.TEX-A {
  font-family: MJXZERO, MJXTEX-A;
}

.TEX-C {
  font-family: MJXZERO, MJXTEX-C;
}

.TEX-CB {
  font-family: MJXZERO, MJXTEX-CB;
}

.TEX-FR {
  font-family: MJXZERO, MJXTEX-FR;
}

.TEX-FRB {
  font-family: MJXZERO, MJXTEX-FRB;
}

.TEX-SS {
  font-family: MJXZERO, MJXTEX-SS;
}

.TEX-SSB {
  font-family: MJXZERO, MJXTEX-SSB;
}

.TEX-SSI {
  font-family: MJXZERO, MJXTEX-SSI;
}

.TEX-SC {
  font-family: MJXZERO, MJXTEX-SC;
}

.TEX-T {
  font-family: MJXZERO, MJXTEX-T;
}

.TEX-V {
  font-family: MJXZERO, MJXTEX-V;
}

.TEX-VB {
  font-family: MJXZERO, MJXTEX-VB;
}

mjx-stretchy-v mjx-c, mjx-stretchy-h mjx-c {
  font-family: MJXZERO, MJXTEX-S1, MJXTEX-S4, MJXTEX, MJXTEX-A ! important;
}

@font-face /* 0 */ {
  font-family: MJXZERO;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Zero.woff") format("woff");
}

@font-face /* 1 */ {
  font-family: MJXTEX;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Main-Regular.woff") format("woff");
}

@font-face /* 2 */ {
  font-family: MJXTEX-B;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Main-Bold.woff") format("woff");
}

@font-face /* 3 */ {
  font-family: MJXTEX-I;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Math-Italic.woff") format("woff");
}

@font-face /* 4 */ {
  font-family: MJXTEX-MI;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Main-Italic.woff") format("woff");
}

@font-face /* 5 */ {
  font-family: MJXTEX-BI;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Math-BoldItalic.woff") format("woff");
}

@font-face /* 6 */ {
  font-family: MJXTEX-S1;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Size1-Regular.woff") format("woff");
}

@font-face /* 7 */ {
  font-family: MJXTEX-S2;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Size2-Regular.woff") format("woff");
}

@font-face /* 8 */ {
  font-family: MJXTEX-S3;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Size3-Regular.woff") format("woff");
}

@font-face /* 9 */ {
  font-family: MJXTEX-S4;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Size4-Regular.woff") format("woff");
}

@font-face /* 10 */ {
  font-family: MJXTEX-A;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_AMS-Regular.woff") format("woff");
}

@font-face /* 11 */ {
  font-family: MJXTEX-C;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Calligraphic-Regular.woff") format("woff");
}

@font-face /* 12 */ {
  font-family: MJXTEX-CB;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Calligraphic-Bold.woff") format("woff");
}

@font-face /* 13 */ {
  font-family: MJXTEX-FR;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Fraktur-Regular.woff") format("woff");
}

@font-face /* 14 */ {
  font-family: MJXTEX-FRB;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Fraktur-Bold.woff") format("woff");
}

@font-face /* 15 */ {
  font-family: MJXTEX-SS;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_SansSerif-Regular.woff") format("woff");
}

@font-face /* 16 */ {
  font-family: MJXTEX-SSB;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_SansSerif-Bold.woff") format("woff");
}

@font-face /* 17 */ {
  font-family: MJXTEX-SSI;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_SansSerif-Italic.woff") format("woff");
}

@font-face /* 18 */ {
  font-family: MJXTEX-SC;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Script-Regular.woff") format("woff");
}

@font-face /* 19 */ {
  font-family: MJXTEX-T;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Typewriter-Regular.woff") format("woff");
}

@font-face /* 20 */ {
  font-family: MJXTEX-V;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Vector-Regular.woff") format("woff");
}

@font-face /* 21 */ {
  font-family: MJXTEX-VB;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Vector-Bold.woff") format("woff");
}

mjx-c.mjx-c1D452.TEX-I::before {
  padding: 0.442em 0.466em 0.011em 0;
  content: "e";
}

mjx-c.mjx-c1D456.TEX-I::before {
  padding: 0.661em 0.345em 0.011em 0;
  content: "i";
}

mjx-c.mjx-c3D::before {
  padding: 0.583em 0.778em 0.082em 0;
  content: "=";
}

mjx-c.mjx-c221A::before {
  padding: 0.8em 0.853em 0.2em 0;
  content: "\221A";
}

mjx-c.mjx-c2212::before {
  padding: 0.583em 0.778em 0.082em 0;
  content: "\2212";
}

mjx-c.mjx-c31::before {
  padding: 0.666em 0.5em 0 0;
  content: "1";
}

mjx-c.mjx-c28::before {
  padding: 0.75em 0.389em 0.25em 0;
  content: "(";
}

mjx-c.mjx-c1D465.TEX-I::before {
  padding: 0.442em 0.572em 0.011em 0;
  content: "x";
}

mjx-c.mjx-c2B::before {
  padding: 0.583em 0.778em 0.082em 0;
  content: "+";
}

mjx-c.mjx-c1D466.TEX-I::before {
  padding: 0.442em 0.49em 0.205em 0;
  content: "y";
}

mjx-c.mjx-c29::before {
  padding: 0.75em 0.389em 0.25em 0;
  content: ")";
}

mjx-c.mjx-cD7::before {
  padding: 0.491em 0.778em 0 0;
  content: "\D7";
}

mjx-c.mjx-c1D462.TEX-I::before {
  padding: 0.442em 0.572em 0.011em 0;
  content: "u";
}

mjx-c.mjx-c1D463.TEX-I::before {
  padding: 0.443em 0.485em 0.011em 0;
  content: "v";
}

mjx-c.mjx-c2F::before {
  padding: 0.75em 0.5em 0.25em 0;
  content: "/";
}

mjx-c.mjx-c5B::before {
  padding: 0.75em 0.278em 0.25em 0;
  content: "[";
}

mjx-c.mjx-c5D::before {
  padding: 0.75em 0.278em 0.25em 0;
  content: "]";
}

mjx-c.mjx-c32::before {
  padding: 0.666em 0.5em 0 0;
  content: "2";
}

mjx-c.mjx-c7C::before {
  padding: 0.75em 0.278em 0.249em 0;
  content: "|";
}

mjx-c.mjx-c221A.TEX-S1::before {
  padding: 0.85em 1.02em 0.35em 0;
  content: "\221A";
}

mjx-c.mjx-c30::before {
  padding: 0.666em 0.5em 0.022em 0;
  content: "0";
}

mjx-c.mjx-c2C::before {
  padding: 0.121em 0.278em 0.194em 0;
  content: ",";
}

mjx-c.mjx-c1D70B.TEX-I::before {
  padding: 0.431em 0.57em 0.011em 0;
  content: "\3C0";
}

mjx-c.mjx-c1D460.TEX-I::before {
  padding: 0.442em 0.469em 0.01em 0;
  content: "s";
}

mjx-c.mjx-c1D44F.TEX-I::before {
  padding: 0.694em 0.429em 0.011em 0;
  content: "b";
}

mjx-c.mjx-c1D45D.TEX-I::before {
  padding: 0.442em 0.503em 0.194em 0;
  content: "p";
}

mjx-c.mjx-c2211.TEX-S2::before {
  padding: 0.95em 1.444em 0.45em 0;
  content: "\2211";
}

mjx-c.mjx-c1D458.TEX-I::before {
  padding: 0.694em 0.521em 0.011em 0;
  content: "k";
}

mjx-c.mjx-c1D453.TEX-I::before {
  padding: 0.705em 0.55em 0.205em 0;
  content: "f";
}

mjx-c.mjx-c1D45A.TEX-I::before {
  padding: 0.442em 0.878em 0.011em 0;
  content: "m";
}

mjx-c.mjx-c1D45B.TEX-I::before {
  padding: 0.442em 0.6em 0.011em 0;
  content: "n";
}

mjx-c.mjx-c2264::before {
  padding: 0.636em 0.778em 0.138em 0;
  content: "\2264";
}

mjx-c.mjx-c1D44E.TEX-I::before {
  padding: 0.441em 0.529em 0.01em 0;
  content: "a";
}

mjx-c.mjx-c2E::before {
  padding: 0.12em 0.278em 0 0;
  content: ".";
}

mjx-c.mjx-c35::before {
  padding: 0.666em 0.5em 0.022em 0;
  content: "5";
}

mjx-c.mjx-c36::before {
  padding: 0.666em 0.5em 0.022em 0;
  content: "6";
}

mjx-c.mjx-c1D457.TEX-I::before {
  padding: 0.661em 0.412em 0.204em 0;
  content: "j";
}

mjx-c.mjx-c393::before {
  padding: 0.68em 0.625em 0 0;
  content: "\393";
}

mjx-c.mjx-c1D45F.TEX-I::before {
  padding: 0.442em 0.451em 0.011em 0;
  content: "r";
}

mjx-c.mjx-c221E::before {
  padding: 0.442em 1em 0.011em 0;
  content: "\221E";
}

mjx-c.mjx-c33::before {
  padding: 0.665em 0.5em 0.022em 0;
  content: "3";
}

mjx-c.mjx-c34::before {
  padding: 0.677em 0.5em 0 0;
  content: "4";
}

mjx-c.mjx-c38::before {
  padding: 0.666em 0.5em 0.022em 0;
  content: "8";
}

mjx-c.mjx-c6C::before {
  padding: 0.694em 0.278em 0 0;
  content: "l";
}

mjx-c.mjx-c6F::before {
  padding: 0.448em 0.5em 0.01em 0;
  content: "o";
}

mjx-c.mjx-c67::before {
  padding: 0.453em 0.5em 0.206em 0;
  content: "g";
}

mjx-c.mjx-c2061::before {
  padding: 0 0 0 0;
  content: "";
}

mjx-c.mjx-c6E::before {
  padding: 0.442em 0.556em 0 0;
  content: "n";
}

mjx-c.mjx-c222B.TEX-S2::before {
  padding: 1.36em 0.944em 0.862em 0;
  content: "\222B";
}

mjx-c.mjx-c1D461.TEX-I::before {
  padding: 0.626em 0.361em 0.011em 0;
  content: "t";
}

mjx-c.mjx-c1D451.TEX-I::before {
  padding: 0.694em 0.52em 0.01em 0;
  content: "d";
}

mjx-c.mjx-c2308::before {
  padding: 0.75em 0.444em 0.25em 0;
  content: "\2308";
}

mjx-c.mjx-c2309::before {
  padding: 0.75em 0.444em 0.25em 0;
  content: "\2309";
}

mjx-c.mjx-c230A::before {
  padding: 0.75em 0.444em 0.25em 0;
  content: "\230A";
}

mjx-c.mjx-c230B::before {
  padding: 0.75em 0.444em 0.25em 0;
  content: "\230B";
}

mjx-c.mjx-c2260::before {
  padding: 0.716em 0.778em 0.215em 0;
  content: "\2260";
}

mjx-c.mjx-c73::before {
  padding: 0.448em 0.394em 0.011em 0;
  content: "s";
}

mjx-c.mjx-c69::before {
  padding: 0.669em 0.278em 0 0;
  content: "i";
}

mjx-c.mjx-c1D467.TEX-I::before {
  padding: 0.442em 0.465em 0.011em 0;
  content: "z";
}

mjx-c.mjx-c3C::before {
  padding: 0.54em 0.778em 0.04em 0;
  content: "<";
}

mjx-c.mjx-c3E::before {
  padding: 0.54em 0.778em 0.04em 0;
  content: ">";
}

mjx-c.mjx-c1D441.TEX-I::before {
  padding: 0.683em 0.888em 0 0;
  content: "N";
}

mjx-c.mjx-c1D450.TEX-I::before {
  padding: 0.442em 0.433em 0.011em 0;
  content: "c";
}

mjx-c.mjx-c37::before {
  padding: 0.676em 0.5em 0.022em 0;
  content: "7";
}
</style><style id="_fc_">[d__],[d__][style]{color:rgba(0, 0, 0, 1)!important}[s__='1']{font-size: calc(1px + 15%)!important}
[s__='2']{font-size: calc(2px + 15%)!important}
[s__='3']{font-size: calc(3px + 15%)!important}
[s__='4']{font-size: calc(4px + 15%)!important}
[s__='5']{font-size: calc(5px + 15%)!important}
[s__='6']{font-size: calc(6px + 15%)!important}
[s__='7']{font-size: calc(7px + 15%)!important}
[s__='8']{font-size: calc(8px + 15%)!important}
[s__='9']{font-size: calc(9px + 15%)!important}
[s__='10']{font-size: calc(10px + 15%)!important}
[s__='11']{font-size: calc(11px + 15%)!important}
[s__='12']{font-size: calc(12px + 15%)!important}
[s__='13']{font-size: calc(13px + 15%)!important}
[s__='14']{font-size: calc(14px + 15%)!important}
::placeholder{opacity:1!important;}[b__]{border:1px solid black!important}</style></head><iframe class="cleanslate hidden" src="Beej's%20Guide%20to%20C%20Programming_files/commandline.html" id="cmdline_iframe" loading="lazy" style="height: 0px !important;"></iframe>
<body>
<header id="title-block-header">
<h1 class="title" d__="">Beej's Guide to C Programming</h1>
<p class="subtitle" d__="">Library Reference</p>
<p class="author" d__="">Brian “Beej Jorgensen” Hall</p>
<p class="date" d__="">v0.9.9, Copyright © December 30, 2022</p>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#foreword" id="toc-foreword" d__=""><span class="toc-section-number" d__="">1</span> Foreword</a>
<ul>
<li><a href="#audience" id="toc-audience" d__=""><span class="toc-section-number" d__="">1.1</span> Audience</a></li>
<li><a href="#how-to-read-this-book" id="toc-how-to-read-this-book" d__=""><span class="toc-section-number" d__="">1.2</span> How to Read This Book</a></li>
<li><a href="#platform-and-compiler" id="toc-platform-and-compiler" d__=""><span class="toc-section-number" d__="">1.3</span> Platform and Compiler</a></li>
<li><a href="#official-homepage" id="toc-official-homepage" d__=""><span class="toc-section-number" d__="">1.4</span> Official Homepage</a></li>
<li><a href="#email-policy" id="toc-email-policy" d__=""><span class="toc-section-number" d__="">1.5</span> Email Policy</a></li>
<li><a href="#mirroring" id="toc-mirroring" d__=""><span class="toc-section-number" d__="">1.6</span> Mirroring</a></li>
<li><a href="#note-for-translators" id="toc-note-for-translators" d__=""><span class="toc-section-number" d__="">1.7</span> Note for Translators</a></li>
<li><a href="#copyright-and-distribution" id="toc-copyright-and-distribution" d__=""><span class="toc-section-number" d__="">1.8</span> Copyright and Distribution</a></li>
<li><a href="#dedication" id="toc-dedication" d__=""><span class="toc-section-number" d__="">1.9</span> Dedication</a></li>
</ul></li>
<li><a href="#the-c-language" id="toc-the-c-language" d__=""><span class="toc-section-number" d__="">2</span> The C Language</a>
<ul>
<li><a href="#background" id="toc-background" d__=""><span class="toc-section-number" d__="">2.1</span> Background</a>
<ul>
<li><a href="#comments" id="toc-comments" d__=""><span class="toc-section-number" d__="">2.1.1</span> Comments</a></li>
<li><a href="#separators" id="toc-separators" d__=""><span class="toc-section-number" d__="">2.1.2</span> Separators</a></li>
<li><a href="#expressions" id="toc-expressions" d__=""><span class="toc-section-number" d__="">2.1.3</span> Expressions</a></li>
<li><a href="#statements" id="toc-statements" d__=""><span class="toc-section-number" d__="">2.1.4</span> Statements</a></li>
<li><a href="#booleans" id="toc-booleans" d__=""><span class="toc-section-number" d__="">2.1.5</span> Booleans</a></li>
<li><a href="#blocks" id="toc-blocks" d__=""><span class="toc-section-number" d__="">2.1.6</span> Blocks</a></li>
<li><a href="#code-examples" id="toc-code-examples" d__=""><span class="toc-section-number" d__="">2.1.7</span> Code Examples</a></li>
</ul></li>
<li><a href="#operators" id="toc-operators" d__=""><span class="toc-section-number" d__="">2.2</span> Operators</a>
<ul>
<li><a href="#arithmetic-operators" id="toc-arithmetic-operators" d__=""><span class="toc-section-number" d__="">2.2.1</span> Arithmetic Operators</a></li>
<li><a href="#pre--and-post-increment-and--decrement" id="toc-pre--and-post-increment-and--decrement" d__=""><span class="toc-section-number" d__="">2.2.2</span> Pre- and Post-Increment and -Decrement</a></li>
<li><a href="#comparison-operators" id="toc-comparison-operators" d__=""><span class="toc-section-number" d__="">2.2.3</span> Comparison Operators</a></li>
<li><a href="#pointer-operators" id="toc-pointer-operators" d__=""><span class="toc-section-number" d__="">2.2.4</span> Pointer Operators</a></li>
<li><a href="#structure-and-union-operators" id="toc-structure-and-union-operators" d__=""><span class="toc-section-number" d__="">2.2.5</span> Structure and Union Operators</a></li>
<li><a href="#array-operators" id="toc-array-operators" d__=""><span class="toc-section-number" d__="">2.2.6</span> Array Operators</a></li>
<li><a href="#bitwise-operators" id="toc-bitwise-operators" d__=""><span class="toc-section-number" d__="">2.2.7</span> Bitwise Operators</a></li>
<li><a href="#assignment-operators" id="toc-assignment-operators" d__=""><span class="toc-section-number" d__="">2.2.8</span> Assignment Operators</a></li>
<li><a href="#the-sizeof-operator" id="toc-the-sizeof-operator" d__=""><span class="toc-section-number" d__="">2.2.9</span> The <code s__="13" d__="">sizeof</code> Operator</a></li>
<li><a href="#type-casts" id="toc-type-casts" d__=""><span class="toc-section-number" d__="">2.2.10</span> Type Casts</a></li>
<li><a href="#alignof-operator" id="toc-alignof-operator" d__=""><span class="toc-section-number" d__="">2.2.11</span> <code s__="13" d__="">_Alignof</code> Operator</a></li>
<li><a href="#comma-operator" id="toc-comma-operator" d__=""><span class="toc-section-number" d__="">2.2.12</span> Comma Operator</a></li>
</ul></li>
<li><a href="#type-specifiers" id="toc-type-specifiers" d__=""><span class="toc-section-number" d__="">2.3</span> Type Specifiers</a></li>
<li><a href="#constant-types" id="toc-constant-types" d__=""><span class="toc-section-number" d__="">2.4</span> Constant Types</a></li>
<li><a href="#composite-types" id="toc-composite-types" d__=""><span class="toc-section-number" d__="">2.5</span> Composite Types</a>
<ul>
<li><a href="#struct-types" id="toc-struct-types" d__=""><span class="toc-section-number" d__="">2.5.1</span> <code s__="13" d__="">struct</code> Types</a></li>
<li><a href="#union-types" id="toc-union-types" d__=""><span class="toc-section-number" d__="">2.5.2</span> <code s__="13" d__="">union</code> Types</a></li>
<li><a href="#enum-types" id="toc-enum-types" d__=""><span class="toc-section-number" d__="">2.5.3</span> <code s__="13" d__="">enum</code> Types</a></li>
</ul></li>
<li><a href="#initializers" id="toc-initializers" d__=""><span class="toc-section-number" d__="">2.6</span> Initializers</a></li>
<li><a href="#compound-literals" id="toc-compound-literals" d__=""><span class="toc-section-number" d__="">2.7</span> Compound Literals</a></li>
<li><a href="#type-aliases" id="toc-type-aliases" d__=""><span class="toc-section-number" d__="">2.8</span> Type Aliases</a></li>
<li><a href="#additional-type-related-specifiers" id="toc-additional-type-related-specifiers" d__=""><span class="toc-section-number" d__="">2.9</span> Additional Type-Related Specifiers</a>
<ul>
<li><a href="#storage-class-specifiers" id="toc-storage-class-specifiers" d__=""><span class="toc-section-number" d__="">2.9.1</span> Storage Class Specifiers</a></li>
<li><a href="#type-qualifiers" id="toc-type-qualifiers" d__=""><span class="toc-section-number" d__="">2.9.2</span> Type Qualifiers</a></li>
<li><a href="#function-specifiers" id="toc-function-specifiers" d__=""><span class="toc-section-number" d__="">2.9.3</span> Function Specifiers</a></li>
<li><a href="#alignment-specifier" id="toc-alignment-specifier" d__=""><span class="toc-section-number" d__="">2.9.4</span> Alignment Specifier</a></li>
</ul></li>
<li><a href="#if-statement" id="toc-if-statement" d__=""><span class="toc-section-number" d__="">2.10</span> <code s__="13" d__="">if</code> Statement</a></li>
<li><a href="#for-statement" id="toc-for-statement" d__=""><span class="toc-section-number" d__="">2.11</span> <code s__="13" d__="">for</code> Statement</a></li>
<li><a href="#while-statement" id="toc-while-statement" d__=""><span class="toc-section-number" d__="">2.12</span> <code s__="13" d__="">while</code> Statement</a></li>
<li><a href="#do-while-statement" id="toc-do-while-statement" d__=""><span class="toc-section-number" d__="">2.13</span> <code s__="13" d__="">do</code>-<code s__="13" d__="">while</code> Statement</a></li>
<li><a href="#switch-statement" id="toc-switch-statement" d__=""><span class="toc-section-number" d__="">2.14</span> <code s__="13" d__="">switch</code> Statement</a></li>
<li><a href="#break-statement" id="toc-break-statement" d__=""><span class="toc-section-number" d__="">2.15</span> <code s__="13" d__="">break</code> Statement</a></li>
<li><a href="#continue-statement" id="toc-continue-statement" d__=""><span class="toc-section-number" d__="">2.16</span> <code s__="13" d__="">continue</code> Statement</a></li>
<li><a href="#goto-statement" id="toc-goto-statement" d__=""><span class="toc-section-number" d__="">2.17</span> <code s__="13" d__="">goto</code> Statement</a></li>
<li><a href="#return-statement" id="toc-return-statement" d__=""><span class="toc-section-number" d__="">2.18</span> <code s__="13" d__="">return</code> Statement</a></li>
<li><a href="#static_assert-statement" id="toc-static_assert-statement" d__=""><span class="toc-section-number" d__="">2.19</span> <code s__="13" d__="">_Static_assert</code> Statement</a></li>
<li><a href="#functions" id="toc-functions" d__=""><span class="toc-section-number" d__="">2.20</span> Functions</a>
<ul>
<li><a href="#main-function" id="toc-main-function" d__=""><span class="toc-section-number">2.20.1</span> <code s__="13">main()</code> Function</a></li>
<li><a href="#variadic-functions" id="toc-variadic-functions" d__=""><span class="toc-section-number">2.20.2</span> Variadic Functions</a></li>
</ul></li>
</ul></li>
<li><a href="#assert" id="toc-assert" d__=""><span class="toc-section-number">3</span> <code s__="13">&lt;assert.h&gt;</code> Runtime and Compile-time Diagnostics</a>
<ul>
<li><a href="#macros" id="toc-macros" d__=""><span class="toc-section-number">3.1</span> Macros</a></li>
<li><a href="#man-assert" id="toc-man-assert"><span class="toc-section-number" d__="">3.2</span> <code s__="13" d__="">assert()</code></a></li>
<li><a href="#man-static_assert" id="toc-man-static_assert"><span class="toc-section-number" d__="">3.3</span> <code s__="13" d__="">static_assert()</code></a></li>
</ul></li>
<li><a href="#complex" id="toc-complex" d__=""><span class="toc-section-number">4</span> <code s__="13">&lt;complex.h&gt;</code> Complex Number Functionality</a>
<ul>
<li><a href="#man-cacos" id="toc-man-cacos" d__=""><span class="toc-section-number">4.1</span> <code s__="13">cacos()</code>, <code s__="13">cacosf()</code>, <code s__="13">cacosl()</code></a></li>
<li><a href="#man-casin" id="toc-man-casin" d__=""><span class="toc-section-number">4.2</span> <code s__="13">casin()</code>, <code s__="13">casinf()</code>, <code s__="13">casinl()</code></a></li>
<li><a href="#man-catan" id="toc-man-catan" d__=""><span class="toc-section-number">4.3</span> <code s__="13">catan()</code>, <code s__="13">catanf()</code>, <code s__="13">catanl()</code></a></li>
<li><a href="#man-ccos" id="toc-man-ccos" d__=""><span class="toc-section-number">4.4</span> <code s__="13">ccos()</code>, <code s__="13">ccosf()</code>, <code s__="13">ccosl()</code></a></li>
<li><a href="#man-csin" id="toc-man-csin" d__=""><span class="toc-section-number">4.5</span> <code s__="13">csin()</code>, <code s__="13">csinf()</code>, <code s__="13">csinl()</code></a></li>
<li><a href="#man-ctan" id="toc-man-ctan" d__=""><span class="toc-section-number">4.6</span> <code s__="13">ctan()</code>, <code s__="13">ctanf()</code>, <code s__="13">ctanl()</code></a></li>
<li><a href="#man-cacosh" id="toc-man-cacosh" d__=""><span class="toc-section-number">4.7</span> <code s__="13">cacosh()</code>, <code s__="13">cacoshf()</code>, <code s__="13">cacoshl()</code></a></li>
<li><a href="#man-casinh" id="toc-man-casinh" d__=""><span class="toc-section-number">4.8</span> <code s__="13">casinh()</code>, <code s__="13">casinhf()</code>, <code s__="13">casinhl()</code></a></li>
<li><a href="#man-catanh" id="toc-man-catanh" d__=""><span class="toc-section-number">4.9</span> <code s__="13">catanh()</code>, <code s__="13">catanhf()</code>, <code s__="13">catanhl()</code></a></li>
<li><a href="#man-ccosh" id="toc-man-ccosh" d__=""><span class="toc-section-number">4.10</span> <code s__="13">ccosh()</code>, <code s__="13">ccoshf()</code>, <code s__="13">ccoshl()</code></a></li>
<li><a href="#man-csinh" id="toc-man-csinh" d__=""><span class="toc-section-number">4.11</span> <code s__="13">csinh()</code>, <code s__="13">csinhf()</code>, <code s__="13">csinhl()</code></a></li>
<li><a href="#man-ctanh" id="toc-man-ctanh" d__=""><span class="toc-section-number">4.12</span> <code s__="13">ctanh()</code>, <code s__="13">ctanhf()</code>, <code s__="13">ctanhl()</code></a></li>
<li><a href="#man-cexp" id="toc-man-cexp" d__=""><span class="toc-section-number">4.13</span> <code s__="13">cexp()</code>, <code s__="13">cexpf()</code>, <code s__="13">cexpl()</code></a></li>
<li><a href="#man-clog" id="toc-man-clog" d__=""><span class="toc-section-number">4.14</span> <code s__="13">clog()</code>, <code s__="13">clogf()</code>, <code s__="13">clogl()</code></a></li>
<li><a href="#man-cabs" id="toc-man-cabs" d__=""><span class="toc-section-number">4.15</span> <code s__="13">cabs()</code>, <code s__="13">cabsf()</code>, <code s__="13">cabsl()</code></a></li>
<li><a href="#man-cpow" id="toc-man-cpow" d__=""><span class="toc-section-number">4.16</span> <code s__="13">cpow()</code>, <code s__="13">cpowf()</code>, <code s__="13">cpowl()</code></a></li>
<li><a href="#man-csqrt" id="toc-man-csqrt" d__=""><span class="toc-section-number">4.17</span> <code s__="13">csqrt()</code>, <code s__="13">csqrtf()</code>, <code s__="13">csqrtl()</code></a></li>
<li><a href="#man-carg" id="toc-man-carg" d__=""><span class="toc-section-number">4.18</span> <code s__="13">carg()</code>, <code s__="13">cargf()</code>, <code s__="13">cargl()</code></a></li>
<li><a href="#man-cimag" id="toc-man-cimag" d__=""><span class="toc-section-number">4.19</span> <code s__="13">cimag()</code>, <code s__="13">cimagf()</code>, <code s__="13">cimagl()</code></a></li>
<li><a href="#man-CMPLX" id="toc-man-CMPLX" d__=""><span class="toc-section-number">4.20</span> <code s__="13">CMPLX()</code>, <code s__="13">CMPLXF()</code>, <code s__="13">CMPLXL()</code></a></li>
<li><a href="#man-conj" id="toc-man-conj" d__=""><span class="toc-section-number">4.21</span> <code s__="13">conj()</code>, <code s__="13">conjf()</code>, <code s__="13">conjl()</code></a></li>
<li><a href="#man-cproj" id="toc-man-cproj" d__=""><span class="toc-section-number">4.22</span> <code s__="13">cproj()</code>, <code s__="13">cproj()</code>, <code s__="13">cproj()</code></a></li>
<li><a href="#man-creal" id="toc-man-creal" d__=""><span class="toc-section-number">4.23</span> <code s__="13">creal()</code>, <code s__="13">crealf()</code>, <code s__="13">creall()</code></a></li>
</ul></li>
<li><a href="#ctype" id="toc-ctype" d__=""><span class="toc-section-number">5</span> <code s__="13">&lt;ctype.h&gt;</code> Character Classification and Conversion</a>
<ul>
<li><a href="#man-isalnum" id="toc-man-isalnum"><span class="toc-section-number" d__="">5.1</span> <code s__="13" d__="">isalnum()</code></a></li>
<li><a href="#man-isalpha" id="toc-man-isalpha"><span class="toc-section-number" d__="">5.2</span> <code s__="13" d__="">isalpha()</code></a></li>
<li><a href="#man-isblank" id="toc-man-isblank"><span class="toc-section-number" d__="">5.3</span> <code s__="13" d__="">isblank()</code></a></li>
<li><a href="#man-iscntrl" id="toc-man-iscntrl"><span class="toc-section-number" d__="">5.4</span> <code s__="13" d__="">iscntrl()</code></a></li>
<li><a href="#man-isdigit" id="toc-man-isdigit"><span class="toc-section-number" d__="">5.5</span> <code s__="13" d__="">isdigit()</code></a></li>
<li><a href="#man-isgraph" id="toc-man-isgraph"><span class="toc-section-number" d__="">5.6</span> <code s__="13" d__="">isgraph()</code></a></li>
<li><a href="#man-islower" id="toc-man-islower"><span class="toc-section-number" d__="">5.7</span> <code s__="13" d__="">islower()</code></a></li>
<li><a href="#man-isprint" id="toc-man-isprint"><span class="toc-section-number" d__="">5.8</span> <code s__="13" d__="">isprint()</code></a></li>
<li><a href="#man-ispunct" id="toc-man-ispunct"><span class="toc-section-number" d__="">5.9</span> <code s__="13" d__="">ispunct()</code></a></li>
<li><a href="#man-isspace" id="toc-man-isspace"><span class="toc-section-number" d__="">5.10</span> <code s__="13" d__="">isspace()</code></a></li>
<li><a href="#man-isupper" id="toc-man-isupper"><span class="toc-section-number" d__="">5.11</span> <code s__="13" d__="">isupper()</code></a></li>
<li><a href="#man-isxdigit" id="toc-man-isxdigit"><span class="toc-section-number" d__="">5.12</span> <code s__="13" d__="">isxdigit()</code></a></li>
<li><a href="#man-tolower" id="toc-man-tolower"><span class="toc-section-number" d__="">5.13</span> <code s__="13" d__="">tolower()</code></a></li>
<li><a href="#man-toupper" id="toc-man-toupper"><span class="toc-section-number" d__="">5.14</span> <code s__="13" d__="">toupper()</code></a></li>
</ul></li>
<li><a href="#errno" id="toc-errno" d__=""><span class="toc-section-number">6</span> <code s__="13">&lt;errno.h&gt;</code> Error Information</a>
<ul>
<li><a href="#man-errno" id="toc-man-errno"><span class="toc-section-number" d__="">6.1</span> <code s__="13" d__="">errno</code></a></li>
</ul></li>
<li><a href="#fenv" id="toc-fenv" d__=""><span class="toc-section-number">7</span> <code s__="13">&lt;fenv.h&gt;</code> Floating Point Exceptions and Environment</a>
<ul>
<li><a href="#types-and-macros" id="toc-types-and-macros" d__=""><span class="toc-section-number">7.1</span> Types and Macros</a></li>
<li><a href="#pragmas" id="toc-pragmas" d__=""><span class="toc-section-number">7.2</span> Pragmas</a></li>
<li><a href="#man-feclearexcept" id="toc-man-feclearexcept"><span class="toc-section-number" d__="">7.3</span> <code s__="13" d__="">feclearexcept()</code></a></li>
<li><a href="#man-fegetexceptflag" id="toc-man-fegetexceptflag"><span class="toc-section-number" d__="">7.4</span> <code s__="13" d__="">fegetexceptflag()</code> <code s__="13" d__="">fesetexceptflag()</code></a></li>
<li><a href="#man-feraiseexcept" id="toc-man-feraiseexcept"><span class="toc-section-number" d__="">7.5</span> <code s__="13" d__="">feraiseexcept()</code></a></li>
<li><a href="#man-fetestexcept" id="toc-man-fetestexcept"><span class="toc-section-number" d__="">7.6</span> <code s__="13" d__="">fetestexcept()</code></a></li>
<li><a href="#man-fegetround" id="toc-man-fegetround"><span class="toc-section-number" d__="">7.7</span> <code s__="13" d__="">fegetround()</code> <code s__="13" d__="">fesetround()</code></a></li>
<li><a href="#man-fegetenv" id="toc-man-fegetenv"><span class="toc-section-number" d__="">7.8</span> <code s__="13" d__="">fegetenv()</code> <code s__="13" d__="">fesetenv()</code></a></li>
<li><a href="#man-feholdexcept" id="toc-man-feholdexcept"><span class="toc-section-number" d__="">7.9</span> <code s__="13" d__="">feholdexcept()</code></a></li>
<li><a href="#man-feupdateenv" id="toc-man-feupdateenv"><span class="toc-section-number" d__="">7.10</span> <code s__="13" d__="">feupdateenv()</code></a></li>
</ul></li>
<li><a href="#float" id="toc-float" d__=""><span class="toc-section-number">8</span> <code s__="13">&lt;float.h&gt;</code> Floating Point Limits</a>
<ul>
<li><a href="#background-1" id="toc-background-1" d__=""><span class="toc-section-number">8.1</span> Background</a></li>
<li><a href="#flt_rounds-details" id="toc-flt_rounds-details" d__=""><span class="toc-section-number">8.2</span> <code s__="13">FLT_ROUNDS</code> Details</a></li>
<li><a href="#flt_eval_method-details" id="toc-flt_eval_method-details" d__=""><span class="toc-section-number">8.3</span> <code s__="13">FLT_EVAL_METHOD</code> Details</a></li>
<li><a href="#subnormal-numbers" id="toc-subnormal-numbers" d__=""><span class="toc-section-number">8.4</span> Subnormal Numbers</a></li>
<li><a href="#how-many-decimal-places-can-i-use" id="toc-how-many-decimal-places-can-i-use" d__=""><span class="toc-section-number">8.5</span> How Many Decimal Places Can I Use?</a></li>
<li><a href="#comprehensive-example" id="toc-comprehensive-example" d__=""><span class="toc-section-number">8.6</span> Comprehensive Example</a></li>
</ul></li>
<li><a href="#inttypes" id="toc-inttypes" d__=""><span class="toc-section-number">9</span> <code s__="13">&lt;inttypes.h&gt;</code> More Integer Conversions</a>
<ul>
<li><a href="#macros-1" id="toc-macros-1" d__=""><span class="toc-section-number">9.1</span> Macros</a></li>
<li><a href="#man-imaxabs" id="toc-man-imaxabs"><span class="toc-section-number" d__="">9.2</span> <code s__="13" d__="">imaxabs()</code></a></li>
<li><a href="#man-imaxdiv" id="toc-man-imaxdiv"><span class="toc-section-number" d__="">9.3</span> <code s__="13" d__="">imaxdiv()</code></a></li>
<li><a href="#man-strtoimax" id="toc-man-strtoimax"><span class="toc-section-number" d__="">9.4</span> <code s__="13" d__="">strtoimax()</code> <code s__="13" d__="">strtoumax()</code></a></li>
<li><a href="#man-wcstoimax" id="toc-man-wcstoimax"><span class="toc-section-number" d__="">9.5</span> <code s__="13" d__="">wcstoimax()</code> <code s__="13" d__="">wcstoumax()</code></a></li>
</ul></li>
<li><a href="#iso646" id="toc-iso646" d__=""><span class="toc-section-number">10</span> <code s__="13">&lt;iso646.h&gt;</code> Alternative Operator Spellings</a></li>
<li><a href="#limits" id="toc-limits" d__=""><span class="toc-section-number">11</span> <code s__="13">&lt;limits.h&gt;</code> Numeric Limits</a>
<ul>
<li><a href="#char_min-and-char_max" id="toc-char_min-and-char_max" d__=""><span class="toc-section-number">11.1</span> <code s__="13">CHAR_MIN</code> and <code s__="13">CHAR_MAX</code></a></li>
<li><a href="#choosing-the-correct-type" id="toc-choosing-the-correct-type" d__=""><span class="toc-section-number">11.2</span> Choosing the Correct Type</a></li>
<li><a href="#whither-twos-complement" id="toc-whither-twos-complement" d__=""><span class="toc-section-number">11.3</span> Whither Two’s Complement?</a></li>
<li><a href="#demo-program" id="toc-demo-program" d__=""><span class="toc-section-number">11.4</span> Demo Program</a></li>
</ul></li>
<li><a href="#locale" id="toc-locale" d__=""><span class="toc-section-number">12</span> <code s__="13">&lt;locale.h&gt;</code> locale handling</a>
<ul>
<li><a href="#man-setlocale" id="toc-man-setlocale"><span class="toc-section-number" d__="">12.1</span> <code s__="13" d__="">setlocale()</code></a></li>
<li><a href="#man-localeconv" id="toc-man-localeconv"><span class="toc-section-number" d__="">12.2</span> <code s__="13" d__="">localeconv()</code></a></li>
</ul></li>
<li><a href="#math" id="toc-math" d__=""><span class="toc-section-number">13</span> <code s__="13">&lt;math.h&gt;</code> Mathematics</a>
<ul>
<li><a href="#func-idioms" id="toc-func-idioms" d__=""><span class="toc-section-number">13.1</span> Math Function Idioms</a></li>
<li><a href="#math-types" id="toc-math-types" d__=""><span class="toc-section-number">13.2</span> Math Types</a></li>
<li><a href="#math-macros" id="toc-math-macros" d__=""><span class="toc-section-number">13.3</span> Math Macros</a></li>
<li><a href="#math-errors" id="toc-math-errors" d__=""><span class="toc-section-number">13.4</span> Math Errors</a></li>
<li><a href="#math-pragmas" id="toc-math-pragmas" d__=""><span class="toc-section-number">13.5</span> Math Pragmas</a></li>
<li><a href="#man-fpclassify" id="toc-man-fpclassify"><span class="toc-section-number" d__="">13.6</span> <code s__="13" d__="">fpclassify()</code></a></li>
<li><a href="#man-isnan" id="toc-man-isnan" d__=""><span class="toc-section-number">13.7</span> <code s__="13">isfinite()</code>, <code s__="13">isinf()</code>, <code s__="13">isnan()</code>, <code s__="13">isnormal()</code></a></li>
<li><a href="#man-signbit" id="toc-man-signbit"><span class="toc-section-number" d__="">13.8</span> <code s__="13" d__="">signbit()</code></a></li>
<li><a href="#man-acos" id="toc-man-acos" d__=""><span class="toc-section-number">13.9</span> <code s__="13">acos()</code>, <code s__="13">acosf()</code>, <code s__="13">acosl()</code></a></li>
<li><a href="#man-asin" id="toc-man-asin" d__=""><span class="toc-section-number">13.10</span> <code s__="13">asin()</code>, <code s__="13">asinf()</code>, <code s__="13">asinl()</code></a></li>
<li><a href="#man-atan" id="toc-man-atan" d__=""><span class="toc-section-number">13.11</span> <code s__="13">atan()</code>, <code s__="13">atanf()</code>, <code s__="13">atanl()</code>, <code s__="13">atan2()</code>, <code s__="13">atan2f()</code>, <code s__="13">atan2l()</code></a></li>
<li><a href="#man-cos" id="toc-man-cos" d__=""><span class="toc-section-number">13.12</span> <code s__="13">cos()</code>, <code s__="13">cosf()</code>, <code s__="13">cosl()</code></a></li>
<li><a href="#man-sin" id="toc-man-sin" d__=""><span class="toc-section-number">13.13</span> <code s__="13">sin()</code>, <code s__="13">sinf()</code>, <code s__="13">sinl()</code></a></li>
<li><a href="#man-tan" id="toc-man-tan" d__=""><span class="toc-section-number">13.14</span> <code s__="13">tan()</code>, <code s__="13">tanf()</code>, <code s__="13">tanl()</code></a></li>
<li><a href="#man-acosh" id="toc-man-acosh" d__=""><span class="toc-section-number">13.15</span> <code s__="13">acosh()</code>, <code s__="13">acoshf()</code>, <code s__="13">acoshl()</code></a></li>
<li><a href="#man-asinh" id="toc-man-asinh" d__=""><span class="toc-section-number">13.16</span> <code s__="13">asinh()</code>, <code s__="13">asinhf()</code>, <code s__="13">asinhl()</code></a></li>
<li><a href="#man-atanh" id="toc-man-atanh" d__=""><span class="toc-section-number">13.17</span> <code s__="13">atanh()</code>, <code s__="13">atanhf()</code>, <code s__="13">atanhl()</code></a></li>
<li><a href="#man-cosh" id="toc-man-cosh" d__=""><span class="toc-section-number">13.18</span> <code s__="13">cosh()</code>, <code s__="13">coshf()</code>, <code s__="13">coshl()</code></a></li>
<li><a href="#man-sinh" id="toc-man-sinh" d__=""><span class="toc-section-number">13.19</span> <code s__="13">sinh()</code>, <code s__="13">sinhf()</code>, <code s__="13">sinhl()</code></a></li>
<li><a href="#man-tanh" id="toc-man-tanh" d__=""><span class="toc-section-number">13.20</span> <code s__="13">tanh()</code>, <code s__="13">tanhf()</code>, <code s__="13">tanhl()</code></a></li>
<li><a href="#man-exp" id="toc-man-exp" d__=""><span class="toc-section-number">13.21</span> <code s__="13">exp()</code>, <code s__="13">expf()</code>, <code s__="13">expl()</code></a></li>
<li><a href="#man-exp2" id="toc-man-exp2" d__=""><span class="toc-section-number">13.22</span> <code s__="13">exp2()</code>, <code s__="13">exp2f()</code>, <code s__="13">exp2l()</code></a></li>
<li><a href="#man-expm1" id="toc-man-expm1" d__=""><span class="toc-section-number">13.23</span> <code s__="13">expm1()</code>, <code s__="13">expm1f()</code>, <code s__="13">expm1l()</code></a></li>
<li><a href="#man-frexp" id="toc-man-frexp" d__=""><span class="toc-section-number">13.24</span> <code s__="13">frexp()</code>, <code s__="13">frexpf()</code>, <code s__="13">frexpl()</code></a></li>
<li><a href="#man-ilogb" id="toc-man-ilogb" d__=""><span class="toc-section-number">13.25</span> <code s__="13">ilogb()</code>, <code s__="13">ilogbf()</code>, <code s__="13">ilogbl()</code></a></li>
<li><a href="#man-ldexp" id="toc-man-ldexp" d__=""><span class="toc-section-number">13.26</span> <code s__="13">ldexp()</code>, <code s__="13">ldexpf()</code>, <code s__="13">ldexpl()</code></a></li>
<li><a href="#man-log" id="toc-man-log" d__=""><span class="toc-section-number">13.27</span> <code s__="13">log()</code>, <code s__="13">logf()</code>, <code s__="13">logl()</code></a></li>
<li><a href="#man-log10" id="toc-man-log10" d__=""><span class="toc-section-number">13.28</span> <code s__="13">log10()</code>, <code s__="13">log10f()</code>, <code s__="13">log10l()</code></a></li>
<li><a href="#man-log1p" id="toc-man-log1p" d__=""><span class="toc-section-number">13.29</span> <code s__="13">log1p()</code>, <code s__="13">log1pf()</code>, <code s__="13">log1pl()</code></a></li>
<li><a href="#man-log2" id="toc-man-log2" d__=""><span class="toc-section-number">13.30</span> <code s__="13">log2()</code>, <code s__="13">log2f()</code>, <code s__="13">log2l()</code></a></li>
<li><a href="#man-logb" id="toc-man-logb" d__=""><span class="toc-section-number">13.31</span> <code s__="13">logb()</code>, <code s__="13">logbf()</code>, <code s__="13">logbl()</code></a></li>
<li><a href="#man-modf" id="toc-man-modf" d__=""><span class="toc-section-number">13.32</span> <code s__="13">modf()</code>, <code s__="13">modff()</code>, <code s__="13">modfl()</code></a></li>
<li><a href="#man-scalb" id="toc-man-scalb" d__=""><span class="toc-section-number">13.33</span> <code s__="13">scalbn()</code>, <code s__="13">scalbnf()</code>, <code s__="13">scalbnl()</code> <code s__="13">scalbln()</code>, <code s__="13">scalblnf()</code>, <code s__="13">scalblnl()</code></a></li>
<li><a href="#man-cbrt" id="toc-man-cbrt" d__=""><span class="toc-section-number">13.34</span> <code s__="13">cbrt()</code>, <code s__="13">cbrtf()</code>, <code s__="13">cbrtl()</code></a></li>
<li><a href="#man-fabs" id="toc-man-fabs" d__=""><span class="toc-section-number">13.35</span> <code s__="13">fabs()</code>, <code s__="13">fabsf()</code>, <code s__="13">fabsl()</code></a></li>
<li><a href="#man-hypot" id="toc-man-hypot" d__=""><span class="toc-section-number">13.36</span> <code s__="13">hypot()</code>, <code s__="13">hypotf()</code>, <code s__="13">hypotl()</code></a></li>
<li><a href="#man-pow" id="toc-man-pow" d__=""><span class="toc-section-number">13.37</span> <code s__="13">pow()</code>, <code s__="13">powf()</code>, <code s__="13">powl()</code></a></li>
<li><a href="#man-sqrt" id="toc-man-sqrt"><span class="toc-section-number" d__="">13.38</span> <code s__="13" d__="">sqrt()</code></a></li>
<li><a href="#man-erf" id="toc-man-erf" d__=""><span class="toc-section-number">13.39</span> <code s__="13">erf()</code>, <code s__="13">erff()</code>, <code s__="13">erfl()</code></a></li>
<li><a href="#man-erfc" id="toc-man-erfc" d__=""><span class="toc-section-number">13.40</span> <code s__="13">erfc()</code>, <code s__="13">erfcf()</code>, <code s__="13">erfcl()</code></a></li>
<li><a href="#man-lgamma" id="toc-man-lgamma" d__=""><span class="toc-section-number">13.41</span> <code s__="13">lgamma()</code>, <code s__="13">lgammaf()</code>, <code s__="13">lgammal()</code></a></li>
<li><a href="#man-tgamma" id="toc-man-tgamma" d__=""><span class="toc-section-number">13.42</span> <code s__="13">tgamma()</code>, <code s__="13">tgammaf()</code>, <code s__="13">tgammal()</code></a></li>
<li><a href="#man-ceil" id="toc-man-ceil" d__=""><span class="toc-section-number">13.43</span> <code s__="13">ceil()</code>, <code s__="13">ceilf()</code>, <code s__="13">ceill()</code></a></li>
<li><a href="#man-floor" id="toc-man-floor" d__=""><span class="toc-section-number">13.44</span> <code s__="13">floor()</code>, <code s__="13">floorf()</code>, <code s__="13">floorl()</code></a></li>
<li><a href="#man-nearbyint" id="toc-man-nearbyint" d__=""><span class="toc-section-number">13.45</span> <code s__="13">nearbyint()</code>, <code s__="13">nearbyintf()</code>, <code s__="13">nearbyintl()</code></a></li>
<li><a href="#man-rint" id="toc-man-rint" d__=""><span class="toc-section-number">13.46</span> <code s__="13">rint()</code>, <code s__="13">rintf()</code>, <code s__="13">rintl()</code></a></li>
<li><a href="#man-lrint" id="toc-man-lrint" d__=""><span class="toc-section-number">13.47</span> <code s__="13">lrint()</code>, <code s__="13">lrintf()</code>, <code s__="13">lrintl()</code>, <code s__="13">llrint()</code>, <code s__="13">llrintf()</code>, <code s__="13">llrintl()</code></a></li>
<li><a href="#man-round" id="toc-man-round" d__=""><span class="toc-section-number">13.48</span> <code s__="13">round()</code>, <code s__="13">roundf()</code>, <code s__="13">roundl()</code></a></li>
<li><a href="#man-lround" id="toc-man-lround" d__=""><span class="toc-section-number">13.49</span> <code s__="13">lround()</code>, <code s__="13">lroundf()</code>, <code s__="13">lroundl()</code> <code s__="13">llround()</code>, <code s__="13">llroundf()</code>, <code s__="13">llroundl()</code></a></li>
<li><a href="#man-trunc" id="toc-man-trunc" d__=""><span class="toc-section-number">13.50</span> <code s__="13">trunc()</code>, <code s__="13">truncf()</code>, <code s__="13">truncl()</code></a></li>
<li><a href="#man-fmod" id="toc-man-fmod" d__=""><span class="toc-section-number">13.51</span> <code s__="13">fmod()</code>, <code s__="13">fmodf()</code>, <code s__="13">fmodl()</code></a></li>
<li><a href="#man-remainder" id="toc-man-remainder" d__=""><span class="toc-section-number">13.52</span> <code s__="13">remainder()</code>, <code s__="13">remainderf()</code>, <code s__="13">remainderl()</code></a></li>
<li><a href="#man-remquo" id="toc-man-remquo" d__=""><span class="toc-section-number">13.53</span> <code s__="13">remquo()</code>, <code s__="13">remquof()</code>, <code s__="13">remquol()</code></a></li>
<li><a href="#man-copysign" id="toc-man-copysign" d__=""><span class="toc-section-number">13.54</span> <code s__="13">copysign()</code>, <code s__="13">copysignf()</code>, <code s__="13">copysignl()</code></a></li>
<li><a href="#man-nan" id="toc-man-nan" d__=""><span class="toc-section-number">13.55</span> <code s__="13">nan()</code>, <code s__="13">nanf()</code>, <code s__="13">nanl()</code></a></li>
<li><a href="#man-nextafter" id="toc-man-nextafter" d__=""><span class="toc-section-number">13.56</span> <code s__="13">nextafter()</code>, <code s__="13">nextafterf()</code>, <code s__="13">nextafterl()</code></a></li>
<li><a href="#man-nexttoward" id="toc-man-nexttoward" d__=""><span class="toc-section-number">13.57</span> <code s__="13">nexttoward()</code>, <code s__="13">nexttowardf()</code>, <code s__="13">nexttowardl()</code></a></li>
<li><a href="#man-fdim" id="toc-man-fdim" d__=""><span class="toc-section-number">13.58</span> <code s__="13">fdim()</code>, <code s__="13">fdimf()</code>, <code s__="13">fdiml()</code></a></li>
<li><a href="#man-fmax" id="toc-man-fmax" d__=""><span class="toc-section-number">13.59</span> <code s__="13">fmax()</code>, <code s__="13">fmaxf()</code>, <code s__="13">fmaxl()</code>, <code s__="13">fmin()</code>, <code s__="13">fminf()</code>, <code s__="13">fminl()</code></a></li>
<li><a href="#man-fma" id="toc-man-fma" d__=""><span class="toc-section-number">13.60</span> <code s__="13">fma()</code>, <code s__="13">fmaf()</code>, <code s__="13">fmal()</code></a></li>
<li><a href="#man-isgreater" id="toc-man-isgreater" d__=""><span class="toc-section-number">13.61</span> <code s__="13">isgreater()</code>, <code s__="13">isgreaterequal()</code>, <code s__="13">isless()</code>, <code s__="13">islessequal()</code></a></li>
<li><a href="#man-islessgreater" id="toc-man-islessgreater"><span class="toc-section-number" d__="">13.62</span> <code s__="13" d__="">islessgreater()</code></a></li>
<li><a href="#man-isunordered" id="toc-man-isunordered"><span class="toc-section-number" d__="">13.63</span> <code s__="13" d__="">isunordered()</code></a></li>
</ul></li>
<li><a href="#setjmp" id="toc-setjmp" d__=""><span class="toc-section-number">14</span> <code s__="13">&lt;setjmp.h&gt;</code> Non-local Goto</a>
<ul>
<li><a href="#man-setjmp" id="toc-man-setjmp"><span class="toc-section-number" d__="">14.1</span> <code s__="13" d__="">setjmp()</code></a></li>
<li><a href="#man-longjmp" id="toc-man-longjmp"><span class="toc-section-number" d__="">14.2</span> <code s__="13" d__="">longjmp()</code></a></li>
</ul></li>
<li><a href="#signal" id="toc-signal" d__=""><span class="toc-section-number">15</span> <code s__="13">&lt;signal.h&gt;</code> signal handling</a>
<ul>
<li><a href="#man-signal" id="toc-man-signal"><span class="toc-section-number" d__="">15.1</span> <code s__="13" d__="">signal()</code></a></li>
<li><a href="#man-raise" id="toc-man-raise"><span class="toc-section-number" d__="">15.2</span> <code s__="13" d__="">raise()</code></a></li>
</ul></li>
<li><a href="#stdalign" id="toc-stdalign" d__=""><span class="toc-section-number">16</span> <code s__="13">&lt;stdalign.h&gt;</code> Macros for Alignment</a>
<ul>
<li><a href="#man-alignas" id="toc-man-alignas"><span class="toc-section-number" d__="">16.1</span> <code s__="13" d__="">alignas()</code> <code s__="13" d__="">_Alignas()</code></a></li>
<li><a href="#man-alignof" id="toc-man-alignof"><span class="toc-section-number" d__="">16.2</span> <code s__="13" d__="">alignof()</code> <code s__="13" d__="">_Alignof()</code></a></li>
</ul></li>
<li><a href="#stdarg" id="toc-stdarg" d__=""><span class="toc-section-number">17</span> <code s__="13">&lt;stdarg.h&gt;</code> Variable Arguments</a>
<ul>
<li><a href="#man-va_arg" id="toc-man-va_arg"><span class="toc-section-number" d__="">17.1</span> <code s__="13" d__="">va_arg()</code></a></li>
<li><a href="#man-va_copy" id="toc-man-va_copy"><span class="toc-section-number" d__="">17.2</span> <code s__="13" d__="">va_copy()</code></a></li>
<li><a href="#man-va_end" id="toc-man-va_end"><span class="toc-section-number" d__="">17.3</span> <code s__="13" d__="">va_end()</code></a></li>
<li><a href="#man-va_start" id="toc-man-va_start"><span class="toc-section-number" d__="">17.4</span> <code s__="13" d__="">va_start()</code></a></li>
</ul></li>
<li><a href="#stdatomic" id="toc-stdatomic" d__=""><span class="toc-section-number">18</span> <code s__="13">&lt;stdatomic.h&gt;</code> Atomic-Related Functions</a>
<ul>
<li><a href="#atomic-types" id="toc-atomic-types" d__=""><span class="toc-section-number">18.1</span> Atomic Types</a></li>
<li><a href="#lock-free-macros" id="toc-lock-free-macros" d__=""><span class="toc-section-number">18.2</span> Lock-free Macros</a></li>
<li><a href="#atomic-flag" id="toc-atomic-flag" d__=""><span class="toc-section-number">18.3</span> Atomic Flag</a></li>
<li><a href="#memory-order" id="toc-memory-order" d__=""><span class="toc-section-number">18.4</span> Memory Order</a></li>
<li><a href="#man-ATOMIC_VAR_INIT" id="toc-man-ATOMIC_VAR_INIT"><span class="toc-section-number" d__="">18.5</span> <code s__="13" d__="">ATOMIC_VAR_INIT()</code></a></li>
<li><a href="#man-atomic_init" id="toc-man-atomic_init"><span class="toc-section-number" d__="">18.6</span> <code s__="13" d__="">atomic_init()</code></a></li>
<li><a href="#man-kill_dependency" id="toc-man-kill_dependency"><span class="toc-section-number" d__="">18.7</span> <code s__="13" d__="">kill_dependency()</code></a></li>
<li><a href="#man-atomic_thread_fence" id="toc-man-atomic_thread_fence"><span class="toc-section-number" d__="">18.8</span> <code s__="13" d__="">atomic_thread_fence()</code></a></li>
<li><a href="#man-atomic_signal_fence" id="toc-man-atomic_signal_fence"><span class="toc-section-number" d__="">18.9</span> <code s__="13" d__="">atomic_signal_fence()</code></a></li>
<li><a href="#man-atomic_is_lock_free" id="toc-man-atomic_is_lock_free"><span class="toc-section-number" d__="">18.10</span> <code s__="13" d__="">atomic_is_lock_free()</code></a></li>
<li><a href="#man-atomic_store" id="toc-man-atomic_store"><span class="toc-section-number" d__="">18.11</span> <code s__="13" d__="">atomic_store()</code></a></li>
<li><a href="#man-atomic_load" id="toc-man-atomic_load"><span class="toc-section-number" d__="">18.12</span> <code s__="13" d__="">atomic_load()</code></a></li>
<li><a href="#man-atomic_exchange" id="toc-man-atomic_exchange"><span class="toc-section-number" d__="">18.13</span> <code s__="13" d__="">atomic_exchange()</code></a></li>
<li><a href="#man-atomic_compare_exchange" id="toc-man-atomic_compare_exchange"><span class="toc-section-number" d__="">18.14</span> <code s__="13" d__="">atomic_compare_exchange_*()</code></a></li>
<li><a href="#man-atomic_fetch" id="toc-man-atomic_fetch"><span class="toc-section-number" d__="">18.15</span> <code s__="13" d__="">atomic_fetch_*()</code></a></li>
<li><a href="#man-atomic_flag_test_and_set" id="toc-man-atomic_flag_test_and_set"><span class="toc-section-number" d__="">18.16</span> <code s__="13" d__="">atomic_flag_test_and_set()</code></a></li>
<li><a href="#man-atomic_flag_clear" id="toc-man-atomic_flag_clear"><span class="toc-section-number" d__="">18.17</span> <code s__="13" d__="">atomic_flag_clear()</code></a></li>
</ul></li>
<li><a href="#stdbit" id="toc-stdbit" d__=""><span class="toc-section-number">19</span> <code s__="13">&lt;stdbit.h&gt;</code> Bit-Related Functions</a>
<ul>
<li><a href="#existence-macro" id="toc-existence-macro" d__=""><span class="toc-section-number">19.1</span> Existence Macro</a></li>
<li><a href="#endianess-macros" id="toc-endianess-macros" d__=""><span class="toc-section-number">19.2</span> Endianess Macros</a></li>
<li><a href="#general-structure-of-these-functions" id="toc-general-structure-of-these-functions" d__=""><span class="toc-section-number">19.3</span> General Structure of These Functions</a></li>
<li><a href="#man-stdc_leading_zeros" id="toc-man-stdc_leading_zeros"><span class="toc-section-number" d__="">19.4</span> <code s__="13" d__="">stdc_leading_zeros()</code></a></li>
<li><a href="#man-stdc_leading_ones" id="toc-man-stdc_leading_ones"><span class="toc-section-number" d__="">19.5</span> <code s__="13" d__="">stdc_leading_ones()</code></a></li>
<li><a href="#man-stdc_trailing_zeros" id="toc-man-stdc_trailing_zeros"><span class="toc-section-number" d__="">19.6</span> <code s__="13" d__="">stdc_trailing_zeros()</code></a></li>
<li><a href="#man-stdc_trailing_ones" id="toc-man-stdc_trailing_ones"><span class="toc-section-number" d__="">19.7</span> <code s__="13" d__="">stdc_trailing_ones()</code></a></li>
<li><a href="#man-stdc_first_leading_zero" id="toc-man-stdc_first_leading_zero"><span class="toc-section-number" d__="">19.8</span> <code s__="13" d__="">stdc_first_leading_zero()</code></a></li>
<li><a href="#man-stdc_first_leading_one" id="toc-man-stdc_first_leading_one"><span class="toc-section-number" d__="">19.9</span> <code s__="13" d__="">stdc_first_leading_one()</code></a></li>
<li><a href="#man-stdc_first_trailing_zero" id="toc-man-stdc_first_trailing_zero"><span class="toc-section-number" d__="">19.10</span> <code s__="13" d__="">stdc_first_trailing_zero()</code></a></li>
<li><a href="#man-stdc_first_trailing_one" id="toc-man-stdc_first_trailing_one"><span class="toc-section-number" d__="">19.11</span> <code s__="13" d__="">stdc_first_trailing_one()</code></a></li>
<li><a href="#man-stdc_count_zeros" id="toc-man-stdc_count_zeros"><span class="toc-section-number" d__="">19.12</span> <code s__="13" d__="">stdc_count_zeros()</code></a></li>
<li><a href="#man-stdc_count_ones" id="toc-man-stdc_count_ones"><span class="toc-section-number" d__="">19.13</span> <code s__="13" d__="">stdc_count_ones()</code></a></li>
<li><a href="#man-stdc_has_single_bit" id="toc-man-stdc_has_single_bit"><span class="toc-section-number" d__="">19.14</span> <code s__="13" d__="">stdc_has_single_bit()</code></a></li>
<li><a href="#man-stdc_bit_width" id="toc-man-stdc_bit_width"><span class="toc-section-number" d__="">19.15</span> <code s__="13" d__="">stdc_bit_width()</code></a></li>
<li><a href="#man-stdc_bit_floor" id="toc-man-stdc_bit_floor"><span class="toc-section-number" d__="">19.16</span> <code s__="13" d__="">stdc_bit_floor()</code></a></li>
<li><a href="#man-stdc_bit_ceil" id="toc-man-stdc_bit_ceil"><span class="toc-section-number" d__="">19.17</span> <code s__="13" d__="">stdc_bit_ceil()</code></a></li>
</ul></li>
<li><a href="#stdbool" id="toc-stdbool" d__=""><span class="toc-section-number">20</span> <code s__="13">&lt;stdbool.h&gt;</code> Boolean Types</a>
<ul>
<li><a href="#example-149" id="toc-example-149" d__=""><span class="toc-section-number">20.1</span> Example</a></li>
<li><a href="#bool" id="toc-bool" d__=""><span class="toc-section-number">20.2</span> <code s__="13">_Bool</code>?</a></li>
</ul></li>
<li><a href="#stddef" id="toc-stddef" d__=""><span class="toc-section-number">21</span> <code s__="13">&lt;stddef.h&gt;</code> A Few Standard Definitions</a>
<ul>
<li><a href="#man-ptrdiff_t" id="toc-man-ptrdiff_t"><span class="toc-section-number" d__="">21.1</span> <code s__="13" d__="">ptrdiff_t</code></a></li>
<li><a href="#man-size_t" id="toc-man-size_t"><span class="toc-section-number" d__="">21.2</span> <code s__="13" d__="">size_t</code></a></li>
<li><a href="#man-max_align_t" id="toc-man-max_align_t"><span class="toc-section-number" d__="">21.3</span> <code s__="13" d__="">max_align_t</code></a></li>
<li><a href="#man-wchar_t" id="toc-man-wchar_t"><span class="toc-section-number" d__="">21.4</span> <code s__="13" d__="">wchar_t</code></a></li>
<li><a href="#man-offsetof" id="toc-man-offsetof"><span class="toc-section-number" d__="">21.5</span> <code s__="13" d__="">offsetof</code></a></li>
</ul></li>
<li><a href="#stdint" id="toc-stdint" d__=""><span class="toc-section-number">22</span> <code s__="13">&lt;stdint.h&gt;</code> More Integer Types</a>
<ul>
<li><a href="#specific-width-integers" id="toc-specific-width-integers" d__=""><span class="toc-section-number">22.1</span> Specific-Width Integers</a></li>
<li><a href="#other-integer-types" id="toc-other-integer-types" d__=""><span class="toc-section-number">22.2</span> Other Integer Types</a></li>
<li><a href="#macros-2" id="toc-macros-2" d__=""><span class="toc-section-number">22.3</span> Macros</a></li>
<li><a href="#other-limits" id="toc-other-limits" d__=""><span class="toc-section-number">22.4</span> Other Limits</a></li>
<li><a href="#macros-for-declaring-constants" id="toc-macros-for-declaring-constants" d__=""><span class="toc-section-number">22.5</span> Macros for Declaring Constants</a></li>
</ul></li>
<li><a href="#stdio" id="toc-stdio" d__=""><span class="toc-section-number">23</span> <code s__="13">&lt;stdio.h&gt;</code> Standard I/O Library</a>
<ul>
<li><a href="#man-remove" id="toc-man-remove"><span class="toc-section-number" d__="">23.1</span> <code s__="13" d__="">remove()</code></a></li>
<li><a href="#man-rename" id="toc-man-rename"><span class="toc-section-number" d__="">23.2</span> <code s__="13" d__="">rename()</code></a></li>
<li><a href="#man-tmpfile" id="toc-man-tmpfile"><span class="toc-section-number" d__="">23.3</span> <code s__="13" d__="">tmpfile()</code></a></li>
<li><a href="#man-tmpnam" id="toc-man-tmpnam"><span class="toc-section-number" d__="">23.4</span> <code s__="13" d__="">tmpnam()</code></a></li>
<li><a href="#man-fclose" id="toc-man-fclose"><span class="toc-section-number" d__="">23.5</span> <code s__="13" d__="">fclose()</code></a></li>
<li><a href="#man-fflush" id="toc-man-fflush"><span class="toc-section-number" d__="">23.6</span> <code s__="13" d__="">fflush()</code></a></li>
<li><a href="#man-fopen" id="toc-man-fopen"><span class="toc-section-number" d__="">23.7</span> <code s__="13" d__="">fopen()</code></a></li>
<li><a href="#man-freopen" id="toc-man-freopen"><span class="toc-section-number" d__="">23.8</span> <code s__="13" d__="">freopen()</code></a></li>
<li><a href="#man-setbuf" id="toc-man-setbuf" d__=""><span class="toc-section-number">23.9</span> <code s__="13">setbuf()</code>, <code s__="13">setvbuf()</code></a></li>
<li><a href="#man-printf" id="toc-man-printf" d__=""><span class="toc-section-number">23.10</span> <code s__="13">printf()</code>, <code s__="13">fprintf()</code>, <code s__="13">sprintf()</code>, <code s__="13">snprintf()</code></a></li>
<li><a href="#man-scanf" id="toc-man-scanf" d__=""><span class="toc-section-number">23.11</span> <code s__="13">scanf()</code>, <code s__="13">fscanf()</code>, <code s__="13">sscanf()</code></a></li>
<li><a href="#man-vprintf" id="toc-man-vprintf" d__=""><span class="toc-section-number">23.12</span> <code s__="13">vprintf()</code>, <code s__="13">vfprintf()</code>, <code s__="13">vsprintf()</code>, <code s__="13">vsnprintf()</code></a></li>
<li><a href="#man-vscanf" id="toc-man-vscanf" d__=""><span class="toc-section-number">23.13</span> <code s__="13">vscanf()</code>, <code s__="13">vfscanf()</code>, <code s__="13">vsscanf()</code></a></li>
<li><a href="#man-getc" id="toc-man-getc" d__=""><span class="toc-section-number">23.14</span> <code s__="13">getc()</code>, <code s__="13">fgetc()</code>, <code s__="13">getchar()</code></a></li>
<li><a href="#man-gets" id="toc-man-gets" d__=""><span class="toc-section-number">23.15</span> <code s__="13">gets()</code>, <code s__="13">fgets()</code></a></li>
<li><a href="#man-putc" id="toc-man-putc" d__=""><span class="toc-section-number">23.16</span> <code s__="13">putc()</code>, <code s__="13">fputc()</code>, <code s__="13">putchar()</code></a></li>
<li><a href="#man-puts" id="toc-man-puts" d__=""><span class="toc-section-number">23.17</span> <code s__="13">puts()</code>, <code s__="13">fputs()</code></a></li>
<li><a href="#man-ungetc" id="toc-man-ungetc"><span class="toc-section-number" d__="">23.18</span> <code s__="13" d__="">ungetc()</code></a></li>
<li><a href="#man-fread" id="toc-man-fread"><span class="toc-section-number" d__="">23.19</span> <code s__="13" d__="">fread()</code></a></li>
<li><a href="#man-fwrite" id="toc-man-fwrite"><span class="toc-section-number" d__="">23.20</span> <code s__="13" d__="">fwrite()</code></a></li>
<li><a href="#man-fgetpos" id="toc-man-fgetpos" d__=""><span class="toc-section-number">23.21</span> <code s__="13">fgetpos()</code>, <code s__="13">fsetpos()</code></a></li>
<li><a href="#man-fseek" id="toc-man-fseek" d__=""><span class="toc-section-number">23.22</span> <code s__="13">fseek()</code>, <code s__="13">rewind()</code></a></li>
<li><a href="#man-ftell" id="toc-man-ftell"><span class="toc-section-number" d__="">23.23</span> <code s__="13" d__="">ftell()</code></a></li>
<li><a href="#man-feof" id="toc-man-feof" d__=""><span class="toc-section-number">23.24</span> <code s__="13">feof()</code>, <code s__="13">ferror()</code>, <code s__="13">clearerr()</code></a></li>
<li><a href="#man-perror" id="toc-man-perror"><span class="toc-section-number" d__="">23.25</span> <code s__="13" d__="">perror()</code></a></li>
</ul></li>
<li><a href="#stdlib" id="toc-stdlib" d__=""><span class="toc-section-number">24</span> <code s__="13">&lt;stdlib.h&gt;</code> Standard Library Functions</a>
<ul>
<li><a href="#stdlib.h-types-and-macros" id="toc-stdlib.h-types-and-macros" d__=""><span class="toc-section-number">24.1</span> <code s__="13">&lt;stdlib.h&gt;</code> Types and Macros</a></li>
<li><a href="#man-atof" id="toc-man-atof"><span class="toc-section-number" d__="">24.2</span> <code s__="13" d__="">atof()</code></a></li>
<li><a href="#man-atoi" id="toc-man-atoi" d__=""><span class="toc-section-number">24.3</span> <code s__="13">atoi()</code>, <code s__="13">atol()</code>, <code s__="13">atoll()</code></a></li>
<li><a href="#man-strtod" id="toc-man-strtod" d__=""><span class="toc-section-number">24.4</span> <code s__="13">strtod()</code>, <code s__="13">strtof()</code>, <code s__="13">strtold()</code></a></li>
<li><a href="#man-strtol" id="toc-man-strtol" d__=""><span class="toc-section-number">24.5</span> <code s__="13">strtol()</code>, <code s__="13">strtoll()</code>, <code s__="13">strtoul()</code>, <code s__="13">strtoull()</code></a></li>
<li><a href="#man-rand" id="toc-man-rand"><span class="toc-section-number" d__="">24.6</span> <code s__="13" d__="">rand()</code></a></li>
<li><a href="#man-srand" id="toc-man-srand"><span class="toc-section-number" d__="">24.7</span> <code s__="13" d__="">srand()</code></a></li>
<li><a href="#man-aligned_alloc" id="toc-man-aligned_alloc"><span class="toc-section-number" d__="">24.8</span> <code s__="13" d__="">aligned_alloc()</code></a></li>
<li><a href="#man-malloc" id="toc-man-malloc" d__=""><span class="toc-section-number">24.9</span> <code s__="13">calloc()</code>, <code s__="13">malloc()</code></a></li>
<li><a href="#man-free" id="toc-man-free"><span class="toc-section-number" d__="">24.10</span> <code s__="13" d__="">free()</code></a></li>
<li><a href="#man-realloc" id="toc-man-realloc"><span class="toc-section-number" d__="">24.11</span> <code s__="13" d__="">realloc()</code></a></li>
<li><a href="#man-abort" id="toc-man-abort"><span class="toc-section-number" d__="">24.12</span> <code s__="13" d__="">abort()</code></a></li>
<li><a href="#man-atexit" id="toc-man-atexit" d__=""><span class="toc-section-number">24.13</span> <code s__="13">atexit()</code>, <code s__="13">at_quick_exit()</code></a></li>
<li><a href="#man-exit" id="toc-man-exit" d__=""><span class="toc-section-number">24.14</span> <code s__="13">exit()</code>, <code s__="13">quick_exit()</code>, <code s__="13">_Exit()</code></a></li>
<li><a href="#man-getenv" id="toc-man-getenv"><span class="toc-section-number" d__="">24.15</span> <code s__="13" d__="">getenv()</code></a></li>
<li><a href="#man-system" id="toc-man-system"><span class="toc-section-number" d__="">24.16</span> <code s__="13" d__="">system()</code></a></li>
<li><a href="#man-bsearch" id="toc-man-bsearch"><span class="toc-section-number" d__="">24.17</span> <code s__="13" d__="">bsearch()</code></a></li>
<li><a href="#man-qsort" id="toc-man-qsort"><span class="toc-section-number" d__="">24.18</span> <code s__="13" d__="">qsort()</code></a></li>
<li><a href="#man-abs" id="toc-man-abs" d__=""><span class="toc-section-number">24.19</span> <code s__="13">abs()</code>, <code s__="13">labs()</code>, <code s__="13">llabs()</code></a></li>
<li><a href="#man-div" id="toc-man-div" d__=""><span class="toc-section-number">24.20</span> <code s__="13">div()</code>, <code s__="13">ldiv()</code>, <code s__="13">lldiv()</code></a></li>
<li><a href="#man-mblen" id="toc-man-mblen"><span class="toc-section-number" d__="">24.21</span> <code s__="13" d__="">mblen()</code></a></li>
<li><a href="#man-mbtowc" id="toc-man-mbtowc"><span class="toc-section-number" d__="">24.22</span> <code s__="13" d__="">mbtowc()</code></a></li>
<li><a href="#man-wctomb" id="toc-man-wctomb"><span class="toc-section-number" d__="">24.23</span> <code s__="13" d__="">wctomb()</code></a></li>
<li><a href="#man-mbstowcs" id="toc-man-mbstowcs"><span class="toc-section-number" d__="">24.24</span> <code s__="13" d__="">mbstowcs()</code></a></li>
<li><a href="#man-wcstombs" id="toc-man-wcstombs"><span class="toc-section-number" d__="">24.25</span> <code s__="13" d__="">wcstombs()</code></a></li>
<li><a href="#man-memalignment" id="toc-man-memalignment"><span class="toc-section-number" d__="">24.26</span> <code s__="13" d__="">memalignment()</code></a></li>
</ul></li>
<li><a href="#stdnoreturn" id="toc-stdnoreturn" d__=""><span class="toc-section-number">25</span> <code s__="13">&lt;stdnoreturn.h&gt;</code> Macros for Non-Returning Functions</a></li>
<li><a href="#stringref" id="toc-stringref" d__=""><span class="toc-section-number">26</span> <code s__="13">&lt;string.h&gt;</code> String Manipulation</a>
<ul>
<li><a href="#man-memcpy" id="toc-man-memcpy" d__=""><span class="toc-section-number">26.1</span> <code s__="13">memcpy()</code>, <code s__="13">memccpy()</code>, <code s__="13">memmove()</code></a></li>
<li><a href="#man-strcpy" id="toc-man-strcpy" d__=""><span class="toc-section-number">26.2</span> <code s__="13">strcpy()</code>, <code s__="13">strncpy()</code></a></li>
<li><a href="#man-strdup" id="toc-man-strdup" d__=""><span class="toc-section-number">26.3</span> <code s__="13">strdup()</code>, <code s__="13">strndup()</code></a></li>
<li><a href="#man-strcat" id="toc-man-strcat" d__=""><span class="toc-section-number">26.4</span> <code s__="13">strcat()</code>, <code s__="13">strncat()</code></a></li>
<li><a href="#man-strcmp" id="toc-man-strcmp" d__=""><span class="toc-section-number">26.5</span> <code s__="13">strcmp()</code>, <code s__="13">strncmp()</code>, <code s__="13">memcmp()</code></a></li>
<li><a href="#man-strcoll" id="toc-man-strcoll"><span class="toc-section-number" d__="">26.6</span> <code s__="13" d__="">strcoll()</code></a></li>
<li><a href="#man-strxfrm" id="toc-man-strxfrm"><span class="toc-section-number" d__="">26.7</span> <code s__="13" d__="">strxfrm()</code></a></li>
<li><a href="#man-strchr" id="toc-man-strchr" d__=""><span class="toc-section-number">26.8</span> <code s__="13">strchr()</code>, <code s__="13">strrchr()</code>, <code s__="13">memchr()</code></a></li>
<li><a href="#man-strspn" id="toc-man-strspn" d__=""><span class="toc-section-number">26.9</span> <code s__="13">strspn()</code>, <code s__="13">strcspn()</code></a></li>
<li><a href="#man-strpbrk" id="toc-man-strpbrk"><span class="toc-section-number" d__="">26.10</span> <code s__="13" d__="">strpbrk()</code></a></li>
<li><a href="#man-strstr" id="toc-man-strstr"><span class="toc-section-number" d__="">26.11</span> <code s__="13" d__="">strstr()</code></a></li>
<li><a href="#man-strtok" id="toc-man-strtok"><span class="toc-section-number" d__="">26.12</span> <code s__="13" d__="">strtok()</code></a></li>
<li><a href="#man-memset" id="toc-man-memset" d__=""><span class="toc-section-number">26.13</span> <code s__="13">memset()</code>, `memset_explicit</a></li>
<li><a href="#man-strerror" id="toc-man-strerror"><span class="toc-section-number" d__="">26.14</span> <code s__="13" d__="">strerror()</code></a></li>
<li><a href="#man-strlen" id="toc-man-strlen"><span class="toc-section-number" d__="">26.15</span> <code s__="13" d__="">strlen()</code></a></li>
</ul></li>
<li><a href="#tgmath" id="toc-tgmath" d__=""><span class="toc-section-number">27</span> <code s__="13">&lt;tgmath.h&gt;</code> Type-Generic Math Functions</a>
<ul>
<li><a href="#example-215" id="toc-example-215" d__=""><span class="toc-section-number">27.1</span> Example</a></li>
</ul></li>
<li><a href="#threads" id="toc-threads" d__=""><span class="toc-section-number">28</span> <code s__="13">&lt;threads.h&gt;</code> Multithreading Functions</a>
<ul>
<li><a href="#man-call_once" id="toc-man-call_once"><span class="toc-section-number" d__="">28.1</span> <code s__="13" d__="">call_once()</code></a></li>
<li><a href="#man-cnd_broadcast" id="toc-man-cnd_broadcast"><span class="toc-section-number" d__="">28.2</span> <code s__="13" d__="">cnd_broadcast()</code></a></li>
<li><a href="#man-cnd_destroy" id="toc-man-cnd_destroy"><span class="toc-section-number" d__="">28.3</span> <code s__="13" d__="">cnd_destroy()</code></a></li>
<li><a href="#man-cnd_init" id="toc-man-cnd_init"><span class="toc-section-number" d__="">28.4</span> <code s__="13" d__="">cnd_init()</code></a></li>
<li><a href="#man-cnd_signal" id="toc-man-cnd_signal"><span class="toc-section-number" d__="">28.5</span> <code s__="13" d__="">cnd_signal()</code></a></li>
<li><a href="#man-cnd_timedwait" id="toc-man-cnd_timedwait"><span class="toc-section-number" d__="">28.6</span> <code s__="13" d__="">cnd_timedwait()</code></a></li>
<li><a href="#man-cnd_wait" id="toc-man-cnd_wait"><span class="toc-section-number" d__="">28.7</span> <code s__="13" d__="">cnd_wait()</code></a></li>
<li><a href="#man-mtx_destroy" id="toc-man-mtx_destroy"><span class="toc-section-number" d__="">28.8</span> <code s__="13" d__="">mtx_destroy()</code></a></li>
<li><a href="#man-mtx_init" id="toc-man-mtx_init"><span class="toc-section-number" d__="">28.9</span> <code s__="13" d__="">mtx_init()</code></a></li>
<li><a href="#man-mtx_lock" id="toc-man-mtx_lock"><span class="toc-section-number" d__="">28.10</span> <code s__="13" d__="">mtx_lock()</code></a></li>
<li><a href="#man-mtx_timedlock" id="toc-man-mtx_timedlock"><span class="toc-section-number" d__="">28.11</span> <code s__="13" d__="">mtx_timedlock()</code></a></li>
<li><a href="#man-mtx_trylock" id="toc-man-mtx_trylock"><span class="toc-section-number" d__="">28.12</span> <code s__="13" d__="">mtx_trylock()</code></a></li>
<li><a href="#man-mtx_unlock" id="toc-man-mtx_unlock"><span class="toc-section-number" d__="">28.13</span> <code s__="13" d__="">mtx_unlock()</code></a></li>
<li><a href="#man-thrd_create" id="toc-man-thrd_create"><span class="toc-section-number" d__="">28.14</span> <code s__="13" d__="">thrd_create()</code></a></li>
<li><a href="#man-thrd_current" id="toc-man-thrd_current"><span class="toc-section-number" d__="">28.15</span> <code s__="13" d__="">thrd_current()</code></a></li>
<li><a href="#man-thrd_detach" id="toc-man-thrd_detach"><span class="toc-section-number" d__="">28.16</span> <code s__="13" d__="">thrd_detach()</code></a></li>
<li><a href="#man-thrd_equal" id="toc-man-thrd_equal"><span class="toc-section-number" d__="">28.17</span> <code s__="13" d__="">thrd_equal()</code></a></li>
<li><a href="#man-thrd_exit" id="toc-man-thrd_exit"><span class="toc-section-number" d__="">28.18</span> <code s__="13" d__="">thrd_exit()</code></a></li>
<li><a href="#man-thrd_join" id="toc-man-thrd_join"><span class="toc-section-number" d__="">28.19</span> <code s__="13" d__="">thrd_join()</code></a></li>
<li><a href="#man-thrd_sleep" id="toc-man-thrd_sleep"><span class="toc-section-number" d__="">28.20</span> <code s__="13" d__="">thrd_sleep()</code></a></li>
<li><a href="#man-thrd_yield" id="toc-man-thrd_yield"><span class="toc-section-number" d__="">28.21</span> <code s__="13" d__="">thrd_yield()</code></a></li>
<li><a href="#man-tss_create" id="toc-man-tss_create"><span class="toc-section-number" d__="">28.22</span> <code s__="13" d__="">tss_create()</code></a></li>
<li><a href="#man-tss_delete" id="toc-man-tss_delete"><span class="toc-section-number" d__="">28.23</span> <code s__="13" d__="">tss_delete()</code></a></li>
<li><a href="#man-tss_get" id="toc-man-tss_get"><span class="toc-section-number" d__="">28.24</span> <code s__="13" d__="">tss_get()</code></a></li>
<li><a href="#man-tss_set" id="toc-man-tss_set"><span class="toc-section-number" d__="">28.25</span> <code s__="13" d__="">tss_set()</code></a></li>
</ul></li>
<li><a href="#time" id="toc-time" d__=""><span class="toc-section-number">29</span> <code s__="13">&lt;time.h&gt;</code> Date and Time Functions</a>
<ul>
<li><a href="#thread-safety-warning" id="toc-thread-safety-warning" d__=""><span class="toc-section-number">29.1</span> Thread Safety Warning</a></li>
<li><a href="#man-clock" id="toc-man-clock"><span class="toc-section-number" d__="">29.2</span> <code s__="13" d__="">clock()</code></a></li>
<li><a href="#man-difftime" id="toc-man-difftime"><span class="toc-section-number" d__="">29.3</span> <code s__="13" d__="">difftime()</code></a></li>
<li><a href="#man-mktime" id="toc-man-mktime"><span class="toc-section-number" d__="">29.4</span> <code s__="13" d__="">mktime()</code></a></li>
<li><a href="#man-timegm" id="toc-man-timegm"><span class="toc-section-number" d__="">29.5</span> <code s__="13" d__="">timegm()</code></a></li>
<li><a href="#man-time" id="toc-man-time"><span class="toc-section-number" d__="">29.6</span> <code s__="13" d__="">time()</code></a></li>
<li><a href="#man-timespec_get" id="toc-man-timespec_get"><span class="toc-section-number" d__="">29.7</span> <code s__="13" d__="">timespec_get()</code></a></li>
<li><a href="#man-asctime" id="toc-man-asctime"><span class="toc-section-number" d__="">29.8</span> <code s__="13" d__="">asctime()</code></a></li>
<li><a href="#man-ctime" id="toc-man-ctime"><span class="toc-section-number" d__="">29.9</span> <code s__="13" d__="">ctime()</code></a></li>
<li><a href="#man-gmtime" id="toc-man-gmtime"><span class="toc-section-number" d__="">29.10</span> <code s__="13" d__="">gmtime()</code></a></li>
<li><a href="#man-localtime" id="toc-man-localtime"><span class="toc-section-number" d__="">29.11</span> <code s__="13" d__="">localtime()</code></a></li>
<li><a href="#man-strftime" id="toc-man-strftime"><span class="toc-section-number" d__="">29.12</span> <code s__="13" d__="">strftime()</code></a></li>
</ul></li>
<li><a href="#uchar" id="toc-uchar" d__=""><span class="toc-section-number">30</span> <code s__="13">&lt;uchar.h&gt;</code> Unicode utility functions</a>
<ul>
<li><a href="#types" id="toc-types" d__=""><span class="toc-section-number">30.1</span> Types</a></li>
<li><a href="#os-x-issue" id="toc-os-x-issue" d__=""><span class="toc-section-number">30.2</span> OS X issue</a></li>
<li><a href="#man-mbrtoc16" id="toc-man-mbrtoc16"><span class="toc-section-number" d__="">30.3</span> <code s__="13" d__="">mbrtoc16()</code> <code s__="13" d__="">mbrtoc32()</code></a></li>
<li><a href="#man-c16rtomb" id="toc-man-c16rtomb"><span class="toc-section-number" d__="">30.4</span> <code s__="13" d__="">c16rtomb()</code> <code s__="13" d__="">c32rtomb()</code></a></li>
</ul></li>
<li><a href="#wchar" id="toc-wchar" d__=""><span class="toc-section-number">31</span> <code s__="13">&lt;wchar.h&gt;</code> Wide Character Handling</a>
<ul>
<li><a href="#restartable-functions" id="toc-restartable-functions" d__=""><span class="toc-section-number">31.1</span> Restartable Functions</a></li>
<li><a href="#man-wprintf" id="toc-man-wprintf" d__=""><span class="toc-section-number">31.2</span> <code s__="13">wprintf()</code>, <code s__="13">fwprintf()</code>, <code s__="13">swprintf()</code></a></li>
<li><a href="#man-wscanf" id="toc-man-wscanf"><span class="toc-section-number" d__="">31.3</span> <code s__="13" d__="">wscanf()</code> <code s__="13" d__="">fwscanf()</code> <code s__="13" d__="">swscanf()</code></a></li>
<li><a href="#man-vwprintf" id="toc-man-vwprintf"><span class="toc-section-number" d__="">31.4</span> <code s__="13" d__="">vwprintf()</code> <code s__="13" d__="">vfwprintf()</code> <code s__="13" d__="">vswprintf()</code></a></li>
<li><a href="#man-vwscanf" id="toc-man-vwscanf" d__=""><span class="toc-section-number">31.5</span> <code s__="13">vwscanf()</code>, <code s__="13">vfwscanf()</code>, <code s__="13">vswscanf()</code></a></li>
<li><a href="#man-getwc" id="toc-man-getwc"><span class="toc-section-number" d__="">31.6</span> <code s__="13" d__="">getwc()</code> <code s__="13" d__="">fgetwc()</code> <code s__="13" d__="">getwchar()</code></a></li>
<li><a href="#man-fgetws" id="toc-man-fgetws"><span class="toc-section-number" d__="">31.7</span> <code s__="13" d__="">fgetws()</code></a></li>
<li><a href="#man-putwc" id="toc-man-putwc"><span class="toc-section-number" d__="">31.8</span> <code s__="13" d__="">putwchar()</code> <code s__="13" d__="">putwc()</code> <code s__="13" d__="">fputwc()</code></a></li>
<li><a href="#man-fputws" id="toc-man-fputws"><span class="toc-section-number" d__="">31.9</span> <code s__="13" d__="">fputws()</code></a></li>
<li><a href="#man-fwide" id="toc-man-fwide"><span class="toc-section-number" d__="">31.10</span> <code s__="13" d__="">fwide()</code></a></li>
<li><a href="#man-ungetwc" id="toc-man-ungetwc"><span class="toc-section-number" d__="">31.11</span> <code s__="13" d__="">ungetwc()</code></a></li>
<li><a href="#man-wcstod" id="toc-man-wcstod"><span class="toc-section-number" d__="">31.12</span> <code s__="13" d__="">wcstod()</code> <code s__="13" d__="">wcstof()</code> <code s__="13" d__="">wcstold()</code></a></li>
<li><a href="#man-wcstol" id="toc-man-wcstol"><span class="toc-section-number" d__="">31.13</span> <code s__="13" d__="">wcstol()</code> <code s__="13" d__="">wcstoll()</code> <code s__="13" d__="">wcstoul()</code> <code s__="13" d__="">wcstoull()</code></a></li>
<li><a href="#man-wcscpy" id="toc-man-wcscpy"><span class="toc-section-number" d__="">31.14</span> <code s__="13" d__="">wcscpy()</code> <code s__="13" d__="">wcsncpy()</code></a></li>
<li><a href="#man-wmemcpy" id="toc-man-wmemcpy"><span class="toc-section-number" d__="">31.15</span> <code s__="13" d__="">wmemcpy()</code> <code s__="13" d__="">wmemmove()</code></a></li>
<li><a href="#man-wcscat" id="toc-man-wcscat"><span class="toc-section-number" d__="">31.16</span> <code s__="13" d__="">wcscat()</code> <code s__="13" d__="">wcsncat()</code></a></li>
<li><a href="#man-wcscmp" id="toc-man-wcscmp" d__=""><span class="toc-section-number">31.17</span> <code s__="13">wcscmp()</code>, <code s__="13">wcsncmp()</code>, <code s__="13">wmemcmp()</code></a></li>
<li><a href="#man-wcscoll" id="toc-man-wcscoll"><span class="toc-section-number" d__="">31.18</span> <code s__="13" d__="">wcscoll()</code></a></li>
<li><a href="#man-wcsxfrm" id="toc-man-wcsxfrm"><span class="toc-section-number" d__="">31.19</span> <code s__="13" d__="">wcsxfrm()</code></a></li>
<li><a href="#man-wcschr" id="toc-man-wcschr"><span class="toc-section-number" d__="">31.20</span> <code s__="13" d__="">wcschr()</code> <code s__="13" d__="">wcsrchr()</code></a></li>
<li><a href="#man-wcsspn" id="toc-man-wcsspn"><span class="toc-section-number" d__="">31.21</span> <code s__="13" d__="">wcsspn()</code> <code s__="13" d__="">wcscspn()</code></a></li>
<li><a href="#man-wcspbrk" id="toc-man-wcspbrk"><span class="toc-section-number" d__="">31.22</span> <code s__="13" d__="">wcspbrk()</code></a></li>
<li><a href="#man-wcsstr" id="toc-man-wcsstr"><span class="toc-section-number" d__="">31.23</span> <code s__="13" d__="">wcsstr()</code></a></li>
<li><a href="#man-wcstok" id="toc-man-wcstok"><span class="toc-section-number" d__="">31.24</span> <code s__="13" d__="">wcstok()</code></a></li>
<li><a href="#man-wcslen" id="toc-man-wcslen"><span class="toc-section-number" d__="">31.25</span> <code s__="13" d__="">wcslen()</code></a></li>
<li><a href="#man-wcsftime" id="toc-man-wcsftime"><span class="toc-section-number" d__="">31.26</span> <code s__="13" d__="">wcsftime()</code></a></li>
<li><a href="#man-btowc" id="toc-man-btowc"><span class="toc-section-number" d__="">31.27</span> <code s__="13" d__="">btowc()</code> <code s__="13" d__="">wctob()</code></a></li>
<li><a href="#man-mbsinit" id="toc-man-mbsinit"><span class="toc-section-number" d__="">31.28</span> <code s__="13" d__="">mbsinit()</code></a></li>
<li><a href="#man-mbrlen" id="toc-man-mbrlen"><span class="toc-section-number" d__="">31.29</span> <code s__="13" d__="">mbrlen()</code></a></li>
<li><a href="#man-mbrtowc" id="toc-man-mbrtowc"><span class="toc-section-number" d__="">31.30</span> <code s__="13" d__="">mbrtowc()</code></a></li>
<li><a href="#man-wcrtomb" id="toc-man-wcrtomb"><span class="toc-section-number" d__="">31.31</span> <code s__="13" d__="">wcrtomb()</code></a></li>
<li><a href="#man-mbsrtowcs" id="toc-man-mbsrtowcs"><span class="toc-section-number" d__="">31.32</span> <code s__="13" d__="">mbsrtowcs()</code></a></li>
<li><a href="#man-wcsrtombs" id="toc-man-wcsrtombs"><span class="toc-section-number" d__="">31.33</span> <code s__="13" d__="">wcsrtombs()</code></a></li>
</ul></li>
<li><a href="#wctype" id="toc-wctype" d__=""><span class="toc-section-number">32</span> <code s__="13">&lt;wctype.h&gt;</code> Wide Character Classification and Transformation</a>
<ul>
<li><a href="#man-iswalnum" id="toc-man-iswalnum"><span class="toc-section-number" d__="">32.1</span> <code s__="13" d__="">iswalnum()</code></a></li>
<li><a href="#man-iswalpha" id="toc-man-iswalpha"><span class="toc-section-number" d__="">32.2</span> <code s__="13" d__="">iswalpha()</code></a></li>
<li><a href="#man-iswblank" id="toc-man-iswblank"><span class="toc-section-number" d__="">32.3</span> <code s__="13" d__="">iswblank()</code></a></li>
<li><a href="#man-iswcntrl" id="toc-man-iswcntrl"><span class="toc-section-number" d__="">32.4</span> <code s__="13" d__="">iswcntrl()</code></a></li>
<li><a href="#man-iswdigit" id="toc-man-iswdigit"><span class="toc-section-number" d__="">32.5</span> <code s__="13" d__="">iswdigit()</code></a></li>
<li><a href="#man-iswgraph" id="toc-man-iswgraph"><span class="toc-section-number" d__="">32.6</span> <code s__="13" d__="">iswgraph()</code></a></li>
<li><a href="#man-iswlower" id="toc-man-iswlower"><span class="toc-section-number" d__="">32.7</span> <code s__="13" d__="">iswlower()</code></a></li>
<li><a href="#man-iswprint" id="toc-man-iswprint"><span class="toc-section-number" d__="">32.8</span> <code s__="13" d__="">iswprint()</code></a></li>
<li><a href="#man-iswpunct" id="toc-man-iswpunct"><span class="toc-section-number" d__="">32.9</span> <code s__="13" d__="">iswpunct()</code></a></li>
<li><a href="#man-iswspace" id="toc-man-iswspace"><span class="toc-section-number" d__="">32.10</span> <code s__="13" d__="">iswspace()</code></a></li>
<li><a href="#man-iswupper" id="toc-man-iswupper"><span class="toc-section-number" d__="">32.11</span> <code s__="13" d__="">iswupper()</code></a></li>
<li><a href="#man-iswxdigit" id="toc-man-iswxdigit"><span class="toc-section-number" d__="">32.12</span> <code s__="13" d__="">iswxdigit()</code></a></li>
<li><a href="#man-iswctype" id="toc-man-iswctype"><span class="toc-section-number" d__="">32.13</span> <code s__="13" d__="">iswctype()</code></a></li>
<li><a href="#man-wctype" id="toc-man-wctype"><span class="toc-section-number" d__="">32.14</span> <code s__="13" d__="">wctype()</code></a></li>
<li><a href="#man-towlower" id="toc-man-towlower"><span class="toc-section-number" d__="">32.15</span> <code s__="13" d__="">towlower()</code></a></li>
<li><a href="#man-towupper" id="toc-man-towupper"><span class="toc-section-number" d__="">32.16</span> <code s__="13" d__="">towupper()</code></a></li>
<li><a href="#man-towctrans" id="toc-man-towctrans"><span class="toc-section-number" d__="">32.17</span> <code s__="13" d__="">towctrans()</code></a></li>
<li><a href="#man-wctrans" id="toc-man-wctrans"><span class="toc-section-number" d__="">32.18</span> <code s__="13" d__="">wctrans()</code></a></li>
</ul></li>
</ul>
</nav>
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<!-- No hyphenation -->
<!-- Can't do things that aren't letters
\hyphenation{atan2}
\hyphenation{atan2f}
\hyphenation{atan2l}
-->
<!-- Index see alsos -->
<p> </p>
<h1 data-number="1" id="foreword" d__=""><span class="header-section-number">1</span> Foreword</h1>
<p d__="">The door slowly creaks open revealing a long hall with dusty stacks of books of lore…</p>
<p d__="">I admit, maybe not that.</p>
<p d__="">But you have found the Library Reference portion of Beej’s Guide to C!</p>
<p d__="">This isn’t a tutorial, but rather is a comprehensive set of manual pages (or <em>man pages</em> as Unix hackers like to say) that define <em>every</em> function in the C Standard Library, complete with examples.</p>
<blockquote>
<p><em d__="">“This book, sir, contains every word in our beloved language.”</em><br>
<em d__="">“Every single one, sir?”</em><br>
<em d__="">“Every single one, sir!”</em><br>
<em d__="">“Ah, well in that case, sir, I hope you will not object if I also offer the doctor my most enthusiastic contrafribularities.”</em></p>
<p d__="">—Blackadder toying with Dr.&nbsp;Samuel Johnson</p>
</blockquote>
<p d__="">There are, in fact, a number of functions left out of this guide, most notably all the optional “safe” functions (with a <code s__="13">_s</code> suffix).</p>
<p d__="">But everything you’re likely to want is definitely covered in here. With examples.</p>
<p d__="">Probably.</p>
<h2 data-number="1.1" id="audience" d__=""><span class="header-section-number">1.1</span> Audience</h2>
<p d__="">This guide is for people who are at least modestly proficient in C.</p>
<p d__="">If you are not one of those people and wish to become one of 
those people, I can wholeheartedly recommend with zero bias the book <a href="https://beej.us/guide/bgc/"><em d__="">Beej’s Guide to C Programming</em></a><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup s__="13" d__="">1</sup></a>, freely available wherever the Internet is sold.</p>
<h2 data-number="1.2" id="how-to-read-this-book" d__=""><span class="header-section-number">1.2</span> How to Read This Book</h2>
<p d__="">Use the contents or index to find the function or category you’re after.</p>
<p d__="">Then grab a bowl of your favorite cereal and devour the delicious, delicious verbiage.</p>
<h2 data-number="1.3" id="platform-and-compiler" d__=""><span class="header-section-number">1.3</span> Platform and Compiler</h2>
<p d__="">I’ll try to stick to Plain Ol’-Fashioned <a href="https://en.wikipedia.org/wiki/ANSI_C" d__="">ISO-standard C</a><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup s__="13" d__="">2</sup></a>. Well, for the most part. Here and there I might go crazy and start talking about <a href="https://en.wikipedia.org/wiki/POSIX" d__="">POSIX</a><a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup s__="13" d__="">3</sup></a> or something, but we’ll see.</p>
<p d__=""><strong>Unix</strong> users (e.g.&nbsp;Linux, BSD, etc.) try running <code s__="13">cc</code> or <code s__="13">gcc</code> from the command line–you might already have a compiler installed. If you don’t, search your distribution for installing <code s__="13">gcc</code> or <code s__="13">clang</code>.</p>
<p d__=""><strong>Windows</strong> users should check out <a href="https://visualstudio.microsoft.com/vs/community/" d__="">Visual Studio Community</a><a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup s__="13" d__="">4</sup></a>. Or, if you’re looking for a more Unix-like experience (recommended!), install <a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10" d__="">WSL</a><a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup s__="13" d__="">5</sup></a> and <code s__="13">gcc</code>.</p>
<p d__=""><strong>Mac</strong> users will want to install <a href="https://developer.apple.com/xcode/" d__="">XCode</a><a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup s__="13" d__="">6</sup></a>, and in particular the command line tools.</p>
<p d__="">There are a lot of compilers out there, and virtually all of 
them will work for this book. And a C++ compiler will compile a lot of 
(but not all!) C code. Best use a proper C compiler if you can.</p>
<h2 data-number="1.4" id="official-homepage" d__=""><span class="header-section-number">1.4</span> Official Homepage</h2>
<p d__="">This official location of this document is <a href="https://beej.us/guide/bgclr/"><code s__="13" d__="">https://beej.us/guide/bgclr/</code></a><a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup s__="13" d__="">7</sup></a>.
 There used to be a note here about migrating off Chico State’s 
computers (my alma mater), but that’s something that happened roughly a 
zillion years ago and the wording remained here only because it was 
copied over from the Network Guide, [<em>breath</em>] which I apparently haven’t read in its entirety for quite some time.</p>
<p d__="">The End.</p>
<h2 data-number="1.5" id="email-policy" d__=""><span class="header-section-number">1.5</span> Email Policy</h2>
<p d__="">I’m generally available to help out with email questions so 
feel free to write in, but I can’t guarantee a response. I lead a pretty
 busy life and there are times when I just can’t answer a question you 
have. When that’s the case, I usually just delete the message. It’s 
nothing personal; I just won’t ever have the time to give the detailed 
answer you require.</p>
<p d__="">As a rule, the more complex the question, the less likely I am
 to respond. If you can narrow down your question before mailing it and 
be sure to include any pertinent information (like platform, compiler, 
error messages you’re getting, and anything else you think might help me
 troubleshoot), you’re much more likely to get a response.</p>
<p d__="">If you don’t get a response, hack on it some more, try to find
 the answer, and if it’s still elusive, then write me again with the 
information you’ve found and hopefully it will be enough for me to help 
out.</p>
<p d__="">Now that I’ve badgered you about how to write and not write me, I’d just like to let you know that I <em>fully</em>
 appreciate all the praise the guide has received over the years. It’s a
 real morale boost, and it gladdens me to hear that it is being used for
 good! <code s__="13">:-)</code> Thank you!</p>
<h2 data-number="1.6" id="mirroring" d__=""><span class="header-section-number">1.6</span> Mirroring</h2>
<p d__="">You are more than welcome to mirror this site, whether 
publicly or privately. If you publicly mirror the site and want me to 
link to it from the main page, drop me a line at <a href="mailto:beej@beej.us"><code s__="13" d__="">beej@beej.us</code></a>.</p>
<h2 data-number="1.7" id="note-for-translators" d__=""><span class="header-section-number">1.7</span> Note for Translators</h2>
<p d__="">If you want to translate the guide into another language, write me at <a href="https://beej.us/guide/bgclr/html/beej@beej.us"><code s__="13" d__="">beej@beej.us</code></a> and I’ll link to your translation from the main page. Feel free to add your name and contact info to the translation.</p>
<p d__="">Please note the license restrictions in the Copyright and Distribution section, below.</p>
<h2 data-number="1.8" id="copyright-and-distribution" d__=""><span class="header-section-number">1.8</span> Copyright and Distribution</h2>
<p d__="">Beej’s Guide to C Programming–Library Reference is Copyright © 2021 Brian “Beej Jorgensen” Hall.</p>
<p d__="">With specific exceptions for source code and translations, 
below, this work is licensed under the Creative Commons 
Attribution-Noncommercial-No Derivative Works 3.0 License. To view a 
copy of this license, visit <a href="https://creativecommons.org/licenses/by-nc-nd/3.0/"><code s__="13" d__="">https://creativecommons.org/licenses/by-nc-nd/3.0/</code></a> or send a letter to Creative Commons, 171 Second Street, Suite 300, San Francisco, California, 94105, USA.</p>
<p d__="">One specific exception to the “No Derivative Works” portion of
 the license is as follows: this guide may be freely translated into any
 language, provided the translation is accurate, and the guide is 
reprinted in its entirety. The same license restrictions apply to the 
translation as to the original guide. The translation may also include 
the name and contact information for the translator.</p>
<p d__="">The C source code presented in this document is hereby granted
 to the public domain, and is completely free of any license 
restriction.</p>
<p d__="">Educators are freely encouraged to recommend or supply copies of this guide to their students.</p>
<p d__="">Contact <a href="https://beej.us/guide/bgclr/html/beej@beej.us"><code s__="13" d__="">beej@beej.us</code></a> for more information.</p>
<h2 data-number="1.9" id="dedication" d__=""><span class="header-section-number">1.9</span> Dedication</h2>
<p d__="">The hardest things about writing these guides are:</p>
<ul>
<li d__="">Learning the material in enough detail to be able to explain it</li>
<li d__="">Figuring out the best way to explain it clearly, a seemingly-endless iterative process</li>
<li d__="">Putting myself out there as a so-called <em>authority</em>, when really I’m just a regular human trying to make sense of it all, just like everyone else</li>
<li d__="">Keeping at it when so many other things draw my attention</li>
</ul>
<p d__="">A lot of people have helped me through this process, and I want to acknowledge those who have made this book possible.</p>
<ul>
<li d__="">Everyone on the Internet who decided to help share their 
knowledge in one form or another. The free sharing of instructive 
information is what makes the Internet the great place that it is.</li>
<li d__="">The volunteers at <a href="https://en.cppreference.com/" d__="">cppreference.com</a><a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup s__="13" d__="">8</sup></a> who provide the bridge that leads from the spec to the real world.</li>
<li d__="">The helpful and knowledgeable folks on <a href="https://groups.google.com/g/comp.lang.c" d__="">comp.lang.c</a><a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup s__="13" d__="">9</sup></a> and <a href="https://www.reddit.com/r/C_Programming/" d__="">r/C_Programming</a><a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup s__="13" d__="">10</sup></a> who got me through the tougher parts of the language.</li>
<li d__="">Everyone who submitted corrections and pull-requests on everything from misleading instructions to typos.</li>
</ul>
<p d__="">Thank you! ♥</p>
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="2" id="the-c-language" d__=""><span class="header-section-number">2</span> The C Language</h1>
<p d__="">This is just a quick overview of the fashionable and fun 
highlights of the syntax, keywords, and other animals in the C 
menagerie.</p>
<h2 data-number="2.1" id="background" d__=""><span class="header-section-number">2.1</span> Background</h2>
<p d__="">Some things you’ll need to make sense of the examples, below.</p>
<h3 data-number="2.1.1" id="comments" d__=""><span class="header-section-number">2.1.1</span> Comments</h3>
<p d__="">Comments in C start with <code s__="13">//</code> and go to the end of a line.</p>
<p d__="">Multiline comments begin with <code s__="13">/*</code> and continue until a closing <code s__="13">*/</code>.</p>
<h3 data-number="2.1.2" id="separators" d__=""><span class="header-section-number">2.1.2</span> Separators</h3>
<p d__="">Expressions in C are separated by semicolons (<code s__="13">;</code>). These tend to appear at the ends of lines.</p>
<h3 data-number="2.1.3" id="expressions" d__=""><span class="header-section-number">2.1.3</span> Expressions</h3>
<p d__="">If it’s not a keyword or other reserved punctuation, it tends to be an expression. Think “math including function calls”.</p>
<h3 data-number="2.1.4" id="statements" d__=""><span class="header-section-number">2.1.4</span> Statements</h3>
<p d__="">Think <code s__="13">if</code>, <code s__="13">while</code>, etc. Executable keywords.</p>
<h3 data-number="2.1.5" id="booleans" d__=""><span class="header-section-number">2.1.5</span> Booleans</h3>
<p d__="">Ignoring the <code s__="13">bool</code> type, zero is false and non-zero is true.</p>
<h3 data-number="2.1.6" id="blocks" d__=""><span class="header-section-number">2.1.6</span> Blocks</h3>
<p d__="">Multiple expressions and flow control keywords can be wrapped up in a block, made up of <code s__="13">{</code> followed by one or more expressions or statements, followed by <code s__="13">}</code>.</p>
<h3 data-number="2.1.7" id="code-examples" d__=""><span class="header-section-number">2.1.7</span> Code Examples</h3>
<p d__="">They are meant to give an idea of how to use various statements, but not be comprehensive in terms of examples.</p>
<p d__="">In the examples, below, if either an expression or statement can be used, the word <code s__="13">code</code> is inserted.</p>
<h2 data-number="2.2" id="operators" d__=""><span class="header-section-number">2.2</span> Operators</h2>
<h3 data-number="2.2.1" id="arithmetic-operators" d__=""><span class="header-section-number">2.2.1</span> Arithmetic Operators</h3>
<p d__="">The arithmetic operators: <code s__="13">+</code>, <code s__="13">-</code>, <code s__="13">*</code>, <code s__="13">/</code>, <code s__="13">%</code> (remainder).</p>
<p d__="">Division is integer if all arguments are integers. Otherwise it’s a floating result.</p>
<p d__="">You can also negate an expression by putting <code s__="13">-</code> in front of it. (You can also put a <code s__="13">+</code>
 in front of it—this doesn’t do anything mathematically, but it causes 
the Usual Arithmetic Conversions to be performed on the expression.)</p>
<h3 data-number="2.2.2" id="pre--and-post-increment-and--decrement" d__=""><span class="header-section-number">2.2.2</span> Pre- and Post-Increment and -Decrement</h3>
<p d__="">The post-increment (<code s__="13">++</code>) and post-decrement (<code s__="13">--</code>) operators (after the variable) do their work <em>after</em> the rest of the expression has been evaluated.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb1-1" d__=""><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> x <span class="op" d__="">=</span> <span class="dv" d__="">10</span><span class="op" d__="">;</span></span>
<span id="cb1-2" d__=""><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> y <span class="op" d__="">=</span> <span class="dv" d__="">20</span><span class="op" d__="">;</span></span>
<span id="cb1-3" d__=""><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> z <span class="op" d__="">=</span> <span class="dv" d__="">30</span><span class="op" d__="">;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5" d__=""><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> w <span class="op" d__="">=</span> <span class="op" d__="">(</span>x<span class="op" d__="">++)</span> <span class="op" d__="">+</span> <span class="op" d__="">(</span>y<span class="op" d__="">--)</span> <span class="op" d__="">+</span> <span class="op" d__="">(</span>z<span class="op" d__="">++);</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7" d__=""><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>print<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d</span><span class="st"> </span><span class="sc" d__="">%d</span><span class="st"> </span><span class="sc" d__="">%d</span><span class="st"> </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> x<span class="op" d__="">,</span> y<span class="op" d__="">,</span> z<span class="op" d__="">,</span> w<span class="op" d__="">);</span>  <span class="co" d__="">// 11 19 31 60</span></span></code></pre></div>
<p d__="">The pre-increment (<code s__="13">++</code>) and pre-decrement (<code s__="13">--</code>) operators (before the variable) do their work <em>before</em> the rest of the expression has been evaluated.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb2-1" d__=""><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> x <span class="op" d__="">=</span> <span class="dv" d__="">10</span><span class="op" d__="">;</span></span>
<span id="cb2-2" d__=""><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> y <span class="op" d__="">=</span> <span class="dv" d__="">20</span><span class="op" d__="">;</span></span>
<span id="cb2-3" d__=""><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> z <span class="op" d__="">=</span> <span class="dv" d__="">30</span><span class="op" d__="">;</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5" d__=""><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> w <span class="op" d__="">=</span> <span class="op" d__="">(++</span>x<span class="op" d__="">)</span> <span class="op" d__="">+</span> <span class="op" d__="">(--</span>y<span class="op" d__="">)</span> <span class="op" d__="">+</span> <span class="op" d__="">(++</span>z<span class="op" d__="">);</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7" d__=""><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>print<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d</span><span class="st"> </span><span class="sc" d__="">%d</span><span class="st"> </span><span class="sc" d__="">%d</span><span class="st"> </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> x<span class="op" d__="">,</span> y<span class="op" d__="">,</span> z<span class="op" d__="">,</span> w<span class="op" d__="">);</span>  <span class="co" d__="">// 11 19 31 61</span></span></code></pre></div>
<h3 data-number="2.2.3" id="comparison-operators" d__=""><span class="header-section-number">2.2.3</span> Comparison Operators</h3>
<p d__="">All of these return a Boolean true-y or false-y value.</p>
<p d__="">Less than, greater than, and equal to are: <code s__="13">&lt;</code>, <code s__="13">&gt;</code>, <code s__="13">==</code>, respectively.</p>
<p d__="">Less than or equal to and greater than or equal to are <code s__="13">&lt;=</code> and <code s__="13">&gt;=</code>.</p>
<p d__="">Not equal to is <code s__="13">!=</code>.</p>
<h3 data-number="2.2.4" id="pointer-operators" d__=""><span class="header-section-number">2.2.4</span> Pointer Operators</h3>
<p d__=""><code s__="13">*</code> in front of a pointer variable dereferences that variable.</p>
<p d__=""><code s__="13">&amp;</code> in front of a variable gives the address of that variable.</p>
<p d__=""><code s__="13">+</code> and <code s__="13">-</code> arithmetic operators work on pointers for pointer arithmetic.</p>
<h3 data-number="2.2.5" id="structure-and-union-operators" d__=""><span class="header-section-number">2.2.5</span> Structure and Union Operators</h3>
<p d__="">The dot operator (<code s__="13">.</code>) can get a field value out of a <code s__="13">struct</code> or <code s__="13">union</code>.</p>
<p d__="">The arrow operator (<code s__="13">-&gt;</code>) can get a field value out of a pointer to a <code s__="13">struct</code> or <code s__="13">union</code>. These two are equivalent, assuming <code s__="13">p</code> is just such a pointer:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb3-1" d__=""><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">(*</span>p<span class="op" d__="">).</span>bar<span class="op" d__="">;</span></span>
<span id="cb3-2" d__=""><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>p<span class="op" d__="">-&gt;</span>bar<span class="op" d__="">;</span></span></code></pre></div>
<h3 data-number="2.2.6" id="array-operators" d__=""><span class="header-section-number">2.2.6</span> Array Operators</h3>
<p d__="">The square bracket operators can reference a value in an array:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb4-1" d__=""><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>a<span class="op" d__="">[</span><span class="dv" d__="">10</span><span class="op" d__="">]</span> <span class="op" d__="">=</span> <span class="dv" d__="">99</span><span class="op" d__="">;</span></span></code></pre></div>
<p d__="">This is syntactic sugar over pointer arithmetic and referencing. The above line is equivalent to:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb5-1" d__=""><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">*(</span>a <span class="op" d__="">+</span> <span class="dv" d__="">10</span><span class="op" d__="">)</span> <span class="op" d__="">=</span> <span class="dv" d__="">99</span><span class="op" d__="">;</span></span></code></pre></div>
<h3 data-number="2.2.7" id="bitwise-operators" d__=""><span class="header-section-number">2.2.7</span> Bitwise Operators</h3>
<p d__="">Bit shift right: <code s__="13">&gt;&gt;</code>, bit shift left: <code s__="13">&lt;&lt;</code>.</p>
<pre><code s__="13" d__="">int i = x &lt;&lt; 3;  // left shift 3 bits</code></pre>
<p d__="">Whether or not a right shift on a signed value is sign-extended is implementation-defined.</p>
<p d__="">Bitwise AND, OR, NOT, and XOR are <code s__="13">&amp;</code>, <code s__="13">|</code>, <code s__="13">~</code>, and <code s__="13">^</code>, respectively.</p>
<h3 data-number="2.2.8" id="assignment-operators" d__=""><span class="header-section-number">2.2.8</span> Assignment Operators</h3>
<p d__="">A standalone <code s__="13">=</code> is your basic assignment.</p>
<p d__="">But there are also compound assignments that are like a shorthand version. For example, these two are basically equivalent:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb7-1" d__=""><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>x <span class="op" d__="">=</span> x <span class="op" d__="">+</span> <span class="dv" d__="">1</span><span class="op" d__="">;</span></span>
<span id="cb7-2" d__=""><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>x <span class="op" d__="">+=</span> <span class="dv" d__="">1</span><span class="op" d__="">;</span></span></code></pre></div>
<p d__="">There are compound assignment operators for many of the other operators.</p>
<p d__="">Arithmetic: <code s__="13">+=</code>, <code s__="13">-=</code>, <code s__="13">*=</code>, <code s__="13">/=</code>, and <code s__="13">%=</code>.</p>
<p d__="">Bitwise: <code s__="13">|=</code>, <code s__="13">&amp;=</code>, <code s__="13">~=</code>, and <code s__="13">^=</code>.</p>
<h3 data-number="2.2.9" id="the-sizeof-operator" d__=""><span class="header-section-number">2.2.9</span> The <code>sizeof</code> Operator</h3>
<p d__="">This is a compile-time operator that gives you the size in 
bytes of the type of the argument. The type of the expression is used; 
the expression is not evaluated. <code s__="13">sizeof</code> works with any type, even user-defined composite types.</p>
<p d__="">The return type is the integer type <code s__="13">size_t</code>.</p>
<pre><code s__="13" d__="">float f;
size_t x = sizeof f;

printf("f is %zu bytes\n", x);</code></pre>
<p d__="">You can also specify a raw type name in there by wrapping it in parentheses:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb9-1" d__=""><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">size_t</span> x <span class="op" d__="">=</span> <span class="kw" d__="">sizeof</span><span class="op" d__="">(</span><span class="dt" d__="">int</span><span class="op" d__="">);</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3" d__=""><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"int is </span><span class="sc" d__="">%zu</span><span class="st" d__=""> bytes</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 data-number="2.2.10" id="type-casts" d__=""><span class="header-section-number">2.2.10</span> Type Casts</h3>
<p d__="">You can force an expression to be another type (within reason) by <em>casting</em> to that type.</p>
<p d__="">You give the new type name in parentheses.</p>
<p d__="">Here we are forcing the subexpression <code s__="13">x</code> to be type <code s__="13">float</code> just before the division<a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup s__="13" d__="">11</sup></a>. This causes the division, which would otherwise be an integer division, to be a floating point division.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb10-1" d__=""><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> x <span class="op" d__="">=</span> <span class="dv" d__="">17</span><span class="op" d__="">;</span></span>
<span id="cb10-2" d__=""><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> y <span class="op" d__="">=</span> <span class="dv" d__="">2</span><span class="op" d__="">;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4" d__=""><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> f <span class="op" d__="">=</span> <span class="op" d__="">(</span><span class="dt" d__="">float</span><span class="op" d__="">)</span>x <span class="op" d__="">/</span> y<span class="op" d__="">;</span></span></code></pre></div>
<h3 data-number="2.2.11" id="alignof-operator" d__=""><span class="header-section-number">2.2.11</span> <code>_Alignof</code> Operator</h3>
<p d__="">You can get the byte alignment of any type with the <code s__="13">_Alignof</code> compile-time operator. If you include <code s__="13">&lt;stdalign.h&gt;</code>, you can use <code s__="13">alignof</code> instead.</p>
<p d__="">Any type can be the argument to the operator, which must be in parenthesis. Unlike <code s__="13">sizeof</code>, the argument cannot be an expression.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb11-1" d__=""><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"Alignment of int is </span><span class="sc" d__="">%zu\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="kw" d__="">alignof</span><span class="op" d__="">(</span><span class="dt" d__="">int</span><span class="op" d__="">));</span></span></code></pre></div>
<h3 data-number="2.2.12" id="comma-operator" d__=""><span class="header-section-number">2.2.12</span> Comma Operator</h3>
<p d__="">You can separate subexpressions with commas, and each will be 
evaluated from left to right, and the value of the entire expression 
will be the value of the subexpression after the last comma.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb12-1" d__=""><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> x <span class="op" d__="">=</span> <span class="op" d__="">(</span><span class="dv" d__="">1</span><span class="op" d__="">,</span> <span class="dv" d__="">2</span><span class="op" d__="">,</span> <span class="dv" d__="">3</span><span class="op" d__="">);</span>  <span class="co" d__="">// Silly way to assign `x = 3`</span></span></code></pre></div>
<p d__="">Usually this is used in the various clauses in loops. For example, we can do multiple assignments in a <code s__="13">for</code> loop, and have multiple post expressions like this:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb13-1" d__=""><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">for</span> <span class="op" d__="">(</span>i <span class="op" d__="">=</span> <span class="dv" d__="">2</span><span class="op" d__="">,</span> j <span class="op" d__="">=</span> <span class="dv" d__="">10</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> <span class="dv" d__="">100</span><span class="op" d__="">;</span> i<span class="op" d__="">++,</span> j <span class="op" d__="">+=</span> <span class="dv" d__="">4</span><span class="op" d__="">)</span> <span class="op" d__="">{</span> <span class="op" d__="">...</span> <span class="op" d__="">}</span></span></code></pre></div>
<h2 data-number="2.3" id="type-specifiers" d__=""><span class="header-section-number">2.3</span> Type Specifiers</h2>
<p d__="">Integer types from smallest to largest capacity: <code s__="13">char</code>, <code s__="13">short</code>, <code s__="13">int</code>, <code s__="13">long</code>, <code s__="13">long long</code>.</p>
<p d__="">Any integer type may be prefaced with <code s__="13">signed</code> (the default except for <code s__="13">char</code>) or <code s__="13">unsigned</code>.</p>
<p d__="">Whether or not <code s__="13">char</code> is signed is implementation defined.</p>
<p d__="">Floating types from least accuracy to most: <code s__="13">float</code>, <code s__="13">double</code>, <code s__="13">long double</code>.</p>
<p d__=""><code s__="13">void</code> is a type representing lack of type.</p>
<p d__=""><code s__="13">_Bool</code> is a Boolean type. This becomes <code s__="13">bool</code> in C23. Earlier versions of C must include <code s__="13">&lt;stdbool.h&gt;</code> to get <code s__="13">bool</code>.</p>
<p d__=""><code s__="13">_Complex</code> indicates a complex floating type type, when paired with such a type. Include <code s__="13">&lt;complex.h&gt;</code> to use <code s__="13">complex</code> instead.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb14-1" d__=""><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">complex</span> <span class="dt" d__="">float</span> x <span class="op" d__="">=</span> <span class="fl" d__="">1.2</span> <span class="op" d__="">+</span> <span class="fl" d__="">2.3</span><span class="op" d__="">*</span>I<span class="op" d__="">;</span></span>
<span id="cb14-2" d__=""><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">complex</span> <span class="dt" d__="">double</span> y <span class="op" d__="">=</span> <span class="fl" d__="">1.2</span> <span class="op" d__="">+</span> <span class="fl" d__="">2.3</span><span class="op" d__="">*</span>I<span class="op" d__="">;</span></span></code></pre></div>
<p d__=""><code s__="13">_Imaginary</code> is an optional keyword used 
to specify an imaginary type (the imaginary part of a complex number) 
when paired with a floating type. Include <code s__="13">&lt;complex.h&gt;</code> to use <code s__="13">imaginary</code> instead. Neither GCC nor clang support this.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb15-1" d__=""><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">imaginary</span> <span class="dt" d__="">float</span> f <span class="op" d__="">=</span> <span class="fl" d__="">2.3</span><span class="op" d__="">*</span>I<span class="op" d__="">;</span></span></code></pre></div>
<p d__=""><code s__="13">_Generic</code> is a type “switcher” that allows you to emit different code at compile time depending on the type of the data.</p>
<h2 data-number="2.4" id="constant-types" d__=""><span class="header-section-number">2.4</span> Constant Types</h2>
<p d__="">You can declare constants to be of specific types (though it 
might be a larger type). In the following example unqualified types, 
case doesn’t matter, and the <code s__="13">U</code> can come before or after the <code s__="13">L</code> or <code s__="13">LL</code>.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb16-1" d__=""><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="dv" d__="">123</span>              <span class="dt" d__="">int</span> or larger</span>
<span id="cb16-2" d__=""><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="dv" d__="">123</span><span class="bu" d__="">L</span>             <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> or larger</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="dv" d__="">123</span><span class="bu" d__="">LL</span>            <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5" d__=""><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="dv" d__="">123</span><span class="bu" d__="">U</span>             <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> or larger</span>
<span id="cb16-6" d__=""><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="dv" d__="">123</span><span class="bu" d__="">UL</span>            <span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> or larger</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="dv" d__="">123</span><span class="bu" d__="">ULL</span>           <span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="fl" d__="">123.4</span><span class="bu" d__="">F</span>           <span class="dt" d__="">float</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="fl" d__="">123.4</span>            <span class="dt" d__="">double</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="fl" d__="">123.4</span><span class="bu" d__="">L</span>           <span class="dt" d__="">long</span> <span class="dt" d__="">double</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="ch" d__="">'a'</span>              <span class="dt" d__="">char</span></span>
<span id="cb16-14" d__=""><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="st" d__="">"hello, world"</span>   <span class="dt" d__="">char</span><span class="op" d__="">*</span> <span class="op" d__="">(</span>string<span class="op" d__="">)</span></span></code></pre></div>
<p d__="">You can specify the constant in other bases as well:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb17-1" d__=""><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="dv" d__="">123</span>              decimal</span>
<span id="cb17-2" d__=""><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="bn" d__="">0x123</span>            hexadecimal</span>
<span id="cb17-3" d__=""><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="bn" d__="">0123</span>             octal</span></code></pre></div>
<p d__="">You can also specify floating constants in base-10 exponential notation:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb18-1" d__=""><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fl" d__="">1.2e3</span>            <span class="fl" d__="">1.2</span> x <span class="dv" d__="">10</span><span class="op" d__="">^</span><span class="dv" d__="">3</span></span></code></pre></div>
<p d__="">And you can specify floats in hex! Except in this case the exponent is still in decimal, and the base is 2 instead of 10:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb19-1" d__=""><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fl" d__="">0x1.2p3</span>          <span class="fl" d__="">0x1.2</span> x <span class="dv" d__="">2</span><span class="op" d__="">^</span><span class="dv" d__="">3</span></span></code></pre></div>
<h2 data-number="2.5" id="composite-types" d__=""><span class="header-section-number">2.5</span> Composite Types</h2>
<h3 data-number="2.5.1" id="struct-types" d__=""><span class="header-section-number">2.5.1</span> <code>struct</code> Types</h3>
<p d__="">You can build a composite type made out of other types with <code s__="13">struct</code> and then declare variables to be of that type.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb20-1" d__=""><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">struct</span> animal <span class="op" d__="">{</span></span>
<span id="cb20-2" d__=""><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>name<span class="op" d__="">;</span></span>
<span id="cb20-3" d__=""><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">int</span> leg_count<span class="op" d__="">;</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">};</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6" d__=""><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">struct</span> animal a<span class="op" d__="">;</span></span>
<span id="cb20-7" d__=""><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">struct</span> animal b <span class="op" d__="">=</span> <span class="op" d__="">{</span><span class="st" d__="">"goat"</span><span class="op" d__="">,</span> <span class="dv" d__="">4</span><span class="op" d__="">};</span></span>
<span id="cb20-8" d__=""><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">struct</span> animal c <span class="op" d__="">=</span> <span class="op" d__="">{.</span>name<span class="op" d__="">=</span><span class="st" d__="">"goat"</span><span class="op" d__="">,</span> <span class="op" d__="">.</span>leg_count<span class="op" d__="">=</span><span class="dv" d__="">4</span><span class="op" d__="">};</span></span></code></pre></div>
<p d__="">Accessing is done with the dot operator (<code s__="13">.</code>) or, if the variable is a pointer to a <code s__="13">struct</code>, the arrow operator (<code s__="13">-&gt;</code>).</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb21-1" d__=""><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">struct</span> animal <span class="op" d__="">*</span>p <span class="op" d__="">=</span> b<span class="op" d__="">;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3" d__=""><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> b<span class="op" d__="">.</span>leg_count<span class="op" d__="">);</span></span>
<span id="cb21-4" d__=""><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> p<span class="op" d__="">-&gt;</span>leg_count<span class="op" d__="">);</span></span></code></pre></div>
<h3 data-number="2.5.2" id="union-types" d__=""><span class="header-section-number">2.5.2</span> <code>union</code> Types</h3>
<p d__="">These are like <code s__="13">struct</code> types in usage, except that you can only use one field at a time. (The fields all use the same region of memory.)</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb22-1" d__=""><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">union</span> dt <span class="op" d__="">{</span></span>
<span id="cb22-2" d__=""><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">float</span> distance<span class="op" d__="">;</span></span>
<span id="cb22-3" d__=""><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">int</span> time<span class="op" d__="">;</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">};</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6" d__=""><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">union</span> dt a<span class="op" d__="">;</span></span>
<span id="cb22-7" d__=""><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">union</span> dt b <span class="op" d__="">=</span> <span class="op" d__="">{</span><span class="dv" d__="">6</span><span class="op" d__="">};</span>            <span class="co" d__="">// Initializes "distance", the first field</span></span>
<span id="cb22-8" d__=""><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">union</span> dt c <span class="op" d__="">=</span> <span class="op" d__="">{.</span>distance<span class="op" d__="">=</span><span class="dv" d__="">6</span><span class="op" d__="">};</span>  <span class="co" d__="">// Initializes "distance"</span></span>
<span id="cb22-9" d__=""><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">union</span> dt d <span class="op" d__="">=</span> <span class="op" d__="">{.</span>time<span class="op" d__="">=</span><span class="dv" d__="">6</span><span class="op" d__="">};</span>      <span class="co" d__="">// Initializes "time"</span></span></code></pre></div>
<p d__="">Accessing is done with the dot operator (<code s__="13">.</code>) or, if the variable is a pointer to a <code s__="13">union</code>, the arrow operator (<code s__="13">-&gt;</code>).</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb23-1" d__=""><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">union</span> dt <span class="op" d__="">*</span>p <span class="op" d__="">=</span> b<span class="op" d__="">;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3" d__=""><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> b<span class="op" d__="">.</span>time<span class="op" d__="">);</span></span>
<span id="cb23-4" d__=""><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> p<span class="op" d__="">-&gt;</span>time<span class="op" d__="">);</span></span></code></pre></div>
<h3 data-number="2.5.3" id="enum-types" d__=""><span class="header-section-number">2.5.3</span> <code>enum</code> Types</h3>
<p d__="">Gives you a typed way to have named constant integer values. These can be used with <code s__="13">switch()</code>, or as an array size, or any other place constant values are needed.</p>
<p d__="">Names are conventionally capitalized.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb24-1" d__=""><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">enum</span> animal <span class="op" d__="">{</span></span>
<span id="cb24-2" d__=""><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>    ANTELOPE<span class="op" d__="">,</span></span>
<span id="cb24-3" d__=""><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    BADGER<span class="op" d__="">,</span></span>
<span id="cb24-4" d__=""><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    CAT<span class="op" d__="">,</span></span>
<span id="cb24-5" d__=""><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    DOG<span class="op" d__="">,</span></span>
<span id="cb24-6" d__=""><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    ELEPHANT<span class="op" d__="">,</span></span>
<span id="cb24-7" d__=""><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    FISH</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">};</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-10" d__=""><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">enum</span> animal a <span class="op" d__="">=</span> CAT<span class="op" d__="">;</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-12" d__=""><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">if</span> <span class="op" d__="">(</span>a <span class="op" d__="">==</span> CAT<span class="op" d__="">)</span></span>
<span id="cb24-13" d__=""><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"The animal is a cat.</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span></code></pre></div>
<p d__="">The names have numeric values starting with zero and counting up. (In the example above, <code s__="13">DOG</code> would be <code s__="13">3</code>.)</p>
<p d__="">The numeric value can be overridden by specifying an integer exactly. Subsequent values increment from the specified one.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb25-1" d__=""><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">enum</span> animal <span class="op" d__="">{</span></span>
<span id="cb25-2" d__=""><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    ANTELOPE <span class="op" d__="">=</span> <span class="dv" d__="">4</span><span class="op" d__="">,</span></span>
<span id="cb25-3" d__=""><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    BADGER<span class="op" d__="">,</span>         <span class="co" d__="">// Will be 5</span></span>
<span id="cb25-4" d__=""><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    CAT<span class="op" d__="">,</span>            <span class="co" d__="">// Will be 6</span></span>
<span id="cb25-5" d__=""><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    DOG <span class="op" d__="">=</span> <span class="dv" d__="">3</span><span class="op" d__="">,</span></span>
<span id="cb25-6" d__=""><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    ELEPHANT<span class="op" d__="">,</span>       <span class="co" d__="">// Will be 4</span></span>
<span id="cb25-7" d__=""><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>    FISH            <span class="co" d__="">// Will be 5</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">};</span></span></code></pre></div>
<p d__="">As above, duplicate values are not illegal, but might be of marginal usefulness.</p>
<h2 data-number="2.6" id="initializers" d__=""><span class="header-section-number">2.6</span> Initializers</h2>
<p d__="">You can do this when the variable is defined, but not elsewhere.</p>
<p d__="">Initializing basic types:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb26-1" d__=""><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> x <span class="op" d__="">=</span> <span class="dv" d__="">12</span><span class="op" d__="">;</span></span>
<span id="cb26-2" d__=""><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> y <span class="op" d__="">=</span> <span class="fl" d__="">1.2</span><span class="op" d__="">;</span></span>
<span id="cb26-3" d__=""><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> c <span class="op" d__="">=</span> <span class="ch" d__="">'a'</span><span class="op" d__="">;</span></span>
<span id="cb26-4" d__=""><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> <span class="op" d__="">*</span>s <span class="op" d__="">=</span> <span class="st" d__="">"Hello, world!"</span><span class="op" d__="">;</span></span></code></pre></div>
<p d__="">Initializing array types:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb27-1" d__=""><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> a<span class="op" d__="">[</span><span class="dv" d__="">3</span><span class="op" d__="">]</span> <span class="op" d__="">=</span> <span class="op" d__="">{</span><span class="dv" d__="">1</span><span class="op" d__="">,</span><span class="dv" d__="">2</span><span class="op" d__="">,</span><span class="dv" d__="">3</span><span class="op" d__="">};</span></span>
<span id="cb27-2" d__=""><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> a<span class="op" d__="">[]</span> <span class="op" d__="">=</span> <span class="op" d__="">{</span><span class="dv" d__="">1</span><span class="op" d__="">,</span><span class="dv" d__="">2</span><span class="op" d__="">,</span><span class="dv" d__="">3</span><span class="op" d__="">};</span>   <span class="co" d__="">// Same as a[3]</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4" d__=""><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> a<span class="op" d__="">[</span><span class="dv" d__="">3</span><span class="op" d__="">]</span> <span class="op" d__="">=</span> <span class="op" d__="">{</span><span class="dv" d__="">1</span><span class="op" d__="">,</span> <span class="dv" d__="">2</span><span class="op" d__="">};</span>   <span class="co" d__="">// Same as {1, 2, 0}</span></span>
<span id="cb27-5" d__=""><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> a<span class="op" d__="">[</span><span class="dv" d__="">3</span><span class="op" d__="">]</span> <span class="op" d__="">=</span> <span class="op" d__="">{</span><span class="dv" d__="">1</span><span class="op" d__="">};</span>      <span class="co" d__="">// Same as {1, 0, 0}</span></span>
<span id="cb27-6" d__=""><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> a<span class="op" d__="">[</span><span class="dv" d__="">3</span><span class="op" d__="">]</span> <span class="op" d__="">=</span> <span class="op" d__="">{</span><span class="dv" d__="">0</span><span class="op" d__="">};</span>      <span class="co" d__="">// Same as {0, 0, 0}</span></span></code></pre></div>
<p d__="">Initializing pointer types:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb28-1" d__=""><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> q<span class="op" d__="">;</span></span>
<span id="cb28-2" d__=""><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> <span class="op" d__="">*</span>p <span class="op" d__="">=</span> <span class="op" d__="">&amp;</span>q<span class="op" d__="">;</span></span></code></pre></div>
<p d__="">Initializing <code s__="13">struct</code>s:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb29-1" d__=""><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">struct</span> s <span class="op" d__="">{</span></span>
<span id="cb29-2" d__=""><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">int</span> a<span class="op" d__="">;</span></span>
<span id="cb29-3" d__=""><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">float</span> b<span class="op" d__="">;</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">};</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-6" d__=""><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">struct</span> s x0 <span class="op" d__="">=</span> <span class="op" d__="">{</span><span class="dv" d__="">1</span><span class="op" d__="">,</span> <span class="fl" d__="">2.2</span><span class="op" d__="">};</span> <span class="co" d__="">// Initialize fields in order</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-8" d__=""><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">struct</span> s x0 <span class="op" d__="">=</span> <span class="op" d__="">{.</span>a<span class="op" d__="">=</span><span class="dv" d__="">1</span><span class="op" d__="">,</span> <span class="op" d__="">.</span>b<span class="op" d__="">=</span><span class="fl" d__="">2.2</span><span class="op" d__="">};</span> <span class="co" d__="">// Initialize fields by name</span></span>
<span id="cb29-9" d__=""><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">struct</span> s x0 <span class="op" d__="">=</span> <span class="op" d__="">{.</span>b<span class="op" d__="">=</span><span class="fl" d__="">2.2</span><span class="op" d__="">,</span> <span class="op" d__="">.</span>a<span class="op" d__="">=</span><span class="dv" d__="">1</span><span class="op" d__="">};</span> <span class="co" d__="">// Same thing</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-11" d__=""><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">struct</span> s x0 <span class="op" d__="">=</span> <span class="op" d__="">{.</span>b<span class="op" d__="">=</span><span class="fl" d__="">2.2</span><span class="op" d__="">};</span> <span class="co" d__="">// All other fields initialized to 0</span></span>
<span id="cb29-12" d__=""><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">struct</span> s x0 <span class="op" d__="">=</span> <span class="op" d__="">{.</span>b<span class="op" d__="">=</span><span class="fl" d__="">2.2</span><span class="op" d__="">,</span> <span class="op" d__="">.</span>a<span class="op" d__="">-=</span><span class="dv" d__="">0</span><span class="op" d__="">};</span>  <span class="co" d__="">// Same thing</span></span></code></pre></div>
<p d__="">Initializing <code s__="13">union</code>s:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb30-1" d__=""><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">union</span> u <span class="op" d__="">{</span></span>
<span id="cb30-2" d__=""><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">int</span> a<span class="op" d__="">;</span></span>
<span id="cb30-3" d__=""><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">float</span> b<span class="op" d__="">;</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">};</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-6" d__=""><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">union</span> u x0 <span class="op" d__="">=</span> <span class="op" d__="">{</span><span class="dv" d__="">1</span><span class="op" d__="">};</span>  <span class="co" d__="">// Initialize the first field (a)</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-8" d__=""><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">union</span> u x0 <span class="op" d__="">=</span> <span class="op" d__="">{.</span>a<span class="op" d__="">=</span><span class="dv" d__="">1</span><span class="op" d__="">};</span>  <span class="co" d__="">// Initialize fields by name</span></span>
<span id="cb30-9" d__=""><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">union</span> u x0 <span class="op" d__="">=</span> <span class="op" d__="">{.</span>b<span class="op" d__="">=</span><span class="fl" d__="">2.2</span><span class="op" d__="">};</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">//union u x0 = {1, 2};       // ILLEGAL</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">//union u x0 = {.a1, ,b=2};  // ILLEGAL</span></span></code></pre></div>
<h2 data-number="2.7" id="compound-literals" d__=""><span class="header-section-number">2.7</span> Compound Literals</h2>
<p d__="">You can declare “unnamed” objects in C. This is often useful for passing a <code s__="13">struct</code> to a function that otherwise doesn’t need a name.</p>
<p d__="">You use the type name in parens followed by an initializer to make the object.</p>
<p d__="">Here’s an example of passing a compound literal to a function. Note that there’s no <code s__="13">struct s</code> variable in <code s__="13">main()</code>:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb31-1"><a href="#cb31-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb31-2"><a href="#cb31-2"></a></span>
<span id="cb31-3" d__=""><a href="#cb31-3"></a><span class="kw" d__="">struct</span> s <span class="op" d__="">{</span></span>
<span id="cb31-4" d__=""><a href="#cb31-4"></a>    <span class="dt" d__="">int</span> a<span class="op" d__="">,</span> b<span class="op" d__="">;</span></span>
<span id="cb31-5"><a href="#cb31-5"></a><span class="op" d__="">};</span></span>
<span id="cb31-6"><a href="#cb31-6"></a></span>
<span id="cb31-7" d__=""><a href="#cb31-7"></a><span class="dt" d__="">int</span> add<span class="op" d__="">(</span><span class="kw" d__="">struct</span> s x<span class="op" d__="">)</span></span>
<span id="cb31-8"><a href="#cb31-8"></a><span class="op" d__="">{</span></span>
<span id="cb31-9" d__=""><a href="#cb31-9"></a>    <span class="cf" d__="">return</span> x<span class="op" d__="">.</span>a <span class="op" d__="">+</span> x<span class="op" d__="">.</span>b<span class="op" d__="">;</span></span>
<span id="cb31-10"><a href="#cb31-10"></a><span class="op" d__="">}</span></span>
<span id="cb31-11"><a href="#cb31-11"></a></span>
<span id="cb31-12" d__=""><a href="#cb31-12"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb31-13"><a href="#cb31-13"></a><span class="op" d__="">{</span></span>
<span id="cb31-14" d__=""><a href="#cb31-14"></a>    <span class="dt" d__="">int</span> t <span class="op" d__="">=</span> add<span class="op" d__="">((</span><span class="kw" d__="">struct</span> s<span class="op" d__="">){.</span>a<span class="op" d__="">=</span><span class="dv" d__="">2</span><span class="op" d__="">,</span> <span class="op" d__="">.</span>b<span class="op" d__="">=</span><span class="dv" d__="">4</span><span class="op" d__="">});</span>  <span class="co" d__="">// &lt;-- Here</span></span>
<span id="cb31-15"><a href="#cb31-15"></a></span>
<span id="cb31-16" d__=""><a href="#cb31-16"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> t<span class="op" d__="">);</span></span>
<span id="cb31-17"><a href="#cb31-17"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Compound literals have the lifetime of their scope.</p>
<p d__="">You can also pass a pointer to a compound literal by taking its address:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb32-1" d__=""><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>foo<span class="op" d__="">(&amp;(</span><span class="kw" d__="">struct</span> s<span class="op" d__="">){</span><span class="dv" d__="">1</span><span class="op" d__="">,</span> <span class="dv" d__="">2</span><span class="op" d__="">});</span></span></code></pre></div>
<h2 data-number="2.8" id="type-aliases" d__=""><span class="header-section-number">2.8</span> Type Aliases</h2>
<p d__="">You can set up a type alias for convenience or abstraction.</p>
<p d__="">Here we’ll make a new type called <code s__="13">time_counter</code> that is just an <code s__="13">int</code>. It can only be used exactly like an <code s__="13">int</code>. It’s just an alias for an <code s__="13">int</code>.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb33-1" d__=""><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">typedef</span> <span class="dt" d__="">int</span> time_counter<span class="op" d__="">;</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-3" d__=""><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>time_counter t <span class="op" d__="">=</span> <span class="dv" d__="">3490</span><span class="op" d__="">;</span></span></code></pre></div>
<p d__="">Also works with <code s__="13">struct</code>s or <code s__="13">union</code>s:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb34-1" d__=""><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">struct</span> foo <span class="op" d__="">{</span></span>
<span id="cb34-2" d__=""><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">int</span> bar<span class="op" d__="">;</span></span>
<span id="cb34-3" d__=""><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">float</span> baz<span class="op" d__="">;</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">};</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-6" d__=""><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">typedef</span> <span class="kw" d__="">struct</span> foo funtype<span class="op" d__="">;</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-8" d__=""><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>funtype f <span class="op" d__="">=</span> <span class="op" d__="">{</span><span class="dv" d__="">1</span><span class="op" d__="">,</span> <span class="dv" d__="">2</span><span class="op" d__="">};</span> <span class="co" d__="">// "funtype" is an alias for "struct foo";</span></span></code></pre></div>
<p d__="">It also works inline, and with named or unnamed <code s__="13">struct</code>s or <code s__="13">union</code>s:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">typedef</span> <span class="kw" d__="">struct</span> <span class="op" d__="">{</span></span>
<span id="cb35-2" d__=""><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">int</span> bar<span class="op" d__="">;</span></span>
<span id="cb35-3" d__=""><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">float</span> baz<span class="op" d__="">;</span></span>
<span id="cb35-4" d__=""><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span> funtype<span class="op" d__="">;</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-6" d__=""><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>funtype f <span class="op" d__="">=</span> <span class="op" d__="">{</span><span class="dv" d__="">1</span><span class="op" d__="">,</span> <span class="dv" d__="">2</span><span class="op" d__="">};</span> <span class="co" d__="">// "funtype" is an alias for the unnamed struct</span></span></code></pre></div>
<h2 data-number="2.9" id="additional-type-related-specifiers" d__=""><span class="header-section-number">2.9</span> Additional Type-Related Specifiers</h2>
<p d__="">You can give the compiler more hints about what qualities a type should have using these specifiers and qualifiers.</p>
<h3 data-number="2.9.1" id="storage-class-specifiers" d__=""><span class="header-section-number">2.9.1</span> Storage Class Specifiers</h3>
<p d__="">These can be placed before a type to provide more guidance about how the type is used.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb36-1" d__=""><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">auto</span> <span class="dt" d__="">int</span> a</span>
<span id="cb36-2" d__=""><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">register</span> <span class="dt" d__="">int</span> a</span>
<span id="cb36-3" d__=""><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">static</span> <span class="dt" d__="">int</span> a</span>
<span id="cb36-4" d__=""><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">extern</span> <span class="dt" d__="">int</span> a</span>
<span id="cb36-5" d__=""><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">thread_local</span> <span class="dt" d__="">int</span> a</span></code></pre></div>
<p d__=""><code s__="13">auto</code> is the default, so it’s basically 
never used. Indicates automatic storage duration (things like local 
variables get freed automatically when they fall out of scope). In C23 
this keyword changes to indicate type inference like C++.</p>
<p d__=""><code s__="13">register</code> indicates that accessing this 
variable should be as quick as possible. Restricts some usage of the 
variable giving the compiler a chance to optimize. Rare in daily use.</p>
<p d__=""><code s__="13">static</code> at function scope indicates that 
this variable’s value should persist from call to call. At file scope 
indicates that this variable should not be visible outside of this 
source file.</p>
<p d__=""><code s__="13">extern</code> indicates that this variable refers to one declared in another source file.</p>
<p d__=""><code s__="13">_Thread_local</code> means that every thread gets its own copy of this variable. You can use <code s__="13">thread_local</code> if you include <code s__="13">&lt;threads.h&gt;</code>.</p>
<h3 data-number="2.9.2" id="type-qualifiers" d__=""><span class="header-section-number">2.9.2</span> Type Qualifiers</h3>
<p d__="">These can be placed before a type to provide more guidance about how the type is used.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb37-1" d__=""><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">const</span> <span class="dt" d__="">int</span> a</span>
<span id="cb37-2" d__=""><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">const</span> <span class="dt" d__="">int</span> <span class="op" d__="">*</span>p</span>
<span id="cb37-3" d__=""><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> <span class="op" d__="">*</span> <span class="dt" d__="">const</span> p</span>
<span id="cb37-4" d__=""><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">const</span> <span class="dt" d__="">int</span> <span class="op" d__="">*</span> <span class="dt" d__="">const</span> p</span>
<span id="cb37-5" d__=""><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> p</span>
<span id="cb37-6" d__=""><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">volatile</span> <span class="dt" d__="">int</span> a</span>
<span id="cb37-7" d__=""><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>atomic <span class="dt" d__="">int</span> a</span></code></pre></div>
<p d__=""><code s__="13">const</code> means the value can’t be modified. You can use it with pointers, as well:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb38-1" d__=""><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">const</span> <span class="dt" d__="">int</span> a <span class="op" d__="">=</span> <span class="dv" d__="">10</span><span class="op" d__="">;</span>        <span class="co" d__="">// Can't modify "a"</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-3" d__=""><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">const</span> <span class="dt" d__="">int</span> <span class="op" d__="">*</span>p <span class="op" d__="">=</span> <span class="op" d__="">&amp;</span>b        <span class="co" d__="">// Can't modify the thing "p" points to ("b")</span></span>
<span id="cb38-4" d__=""><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> <span class="op" d__="">*</span><span class="dt" d__="">const</span> p <span class="op" d__="">=</span> <span class="op" d__="">&amp;</span>b        <span class="co" d__="">// Can't modify "p"</span></span>
<span id="cb38-5" d__=""><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">const</span> <span class="dt" d__="">int</span> <span class="op" d__="">*</span><span class="dt" d__="">const</span> p <span class="op" d__="">=</span> <span class="op" d__="">&amp;</span>b  <span class="co" d__="">// Can't modify "p" or the thing it points to</span></span></code></pre></div>
<p d__=""><code s__="13">restrict</code> on a pointer means that there 
will only be one pointer to the item in question, freeing the compiler 
to make some optimizations.</p>
<p d__=""><code s__="13">volatile</code> indicates that the value in a 
variable might change at any time and should be loaded from memory 
instead of being kept in a register. Usually used with memory-mapped 
hardware.</p>
<p d__=""><code s__="13">_Atomic</code> (or <code s__="13">atomic</code> if you include <code s__="13">&lt;stdatomic.h&gt;</code>)
 tells the compiler that reads or writes to this type should happen 
atomically. (This might be accomplished with a lock depending on the 
platform and type.)</p>
<h4 data-number="2.9.2.1" id="c23-qualified-pseudo-types-qvoid-qchar-etc." d__=""><span class="header-section-number">2.9.2.1</span> C23 Qualified Pseudo-Types: <code s__="13">QVoid*</code>, <code s__="13">QChar*</code>, etc.</h4>
<p d__="">There are some generic functions in C23 that will return a <code s__="13">const</code>-qualified type if one of the parameters is <code s__="13">const</code>, but not otherwise.</p>
<p d__="">The spec makes up a fake type for this, with a <code s__="13">Q</code> at the front (for “qualified”). This is not a real type and will not compile—it’s just for documentation purposes.</p>
<p d__="">These pseudotypes are:</p>
<ul>
<li><code s__="13" d__="">QVoid *</code></li>
<li><code s__="13" d__="">QChar *</code></li>
<li><code s__="13" d__="">QWchar_t *</code></li>
</ul>
<p d__="">For example, the <code s__="13">strchr()</code> function, which searches a string for a character, has this prototype in the spec:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb39-1" d__=""><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>QChar <span class="op" d__="">*</span>strchr<span class="op" d__="">(</span>QChar <span class="op" d__="">*</span>s<span class="op" d__="">,</span> <span class="dt" d__="">int</span> c<span class="op" d__="">);</span></span></code></pre></div>
<p d__="">What is it? It basically means that if <code s__="13">s</code> is type <code s__="13">const char *</code>, then the return type of the function will also be <code s__="13">const char *</code>.</p>
<p d__="">If <code s__="13">s</code> is merely <code s__="13">char *</code>, the return type of the function will merely be <code s__="13">char *</code>.</p>
<p d__="">In other words, the <code s__="13">const</code>-ness of <code s__="13">s</code> is preserved in the return value.</p>
<p d__="">Another way to look at it is that this:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb40-1" d__=""><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>QChar <span class="op" d__="">*</span>strchr<span class="op" d__="">(</span>QChar <span class="op" d__="">*</span>s<span class="op" d__="">,</span> <span class="dt" d__="">int</span> c<span class="op" d__="">);</span></span></code></pre></div>
<p d__="">is the same as:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb41-1" d__=""><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> <span class="op" d__="">*</span>strchr<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span>s<span class="op" d__="">,</span> <span class="dt" d__="">int</span> c<span class="op" d__="">);</span></span>
<span id="cb41-2" d__=""><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>strchr<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s<span class="op" d__="">,</span> <span class="dt" d__="">int</span> c<span class="op" d__="">);</span></span></code></pre></div>
<p d__="">The TLDR is when you see this, drop the leading <code s__="13">Q</code> and change the next letter to lowercase and you’re there.</p>
<h3 data-number="2.9.3" id="function-specifiers" d__=""><span class="header-section-number">2.9.3</span> Function Specifiers</h3>
<p d__="">These are used on functions to provide additional guidance for the compiler.</p>
<p d__=""><code s__="13">_Noreturn</code> indicates that a function will never return. It can only run forever or exit the program entirely. If you include <code s__="13">&lt;stdnoreturn.h&gt;</code>, you can use <code s__="13">noreturn</code> instead.</p>
<p d__=""><code s__="13">inline</code> indicates that calls to this 
function should be as fast as possible. The intention here is that the 
code of the function be moved <em>inline</em> to remove the overhead of the call and return. The compiler regards <code s__="13">inline</code> as a suggestion, not a requirement.</p>
<h3 data-number="2.9.4" id="alignment-specifier" d__=""><span class="header-section-number">2.9.4</span> Alignment Specifier</h3>
<p d__="">You can force the alignment of a variable with memory with <code s__="13">_Alignas</code>. If you include <code s__="13">&lt;stdalign.h&gt;</code> you can use <code s__="13">alignas</code> instead.</p>
<p d__=""><code s__="13">alignas(0)</code> has no effect.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb42-1" d__=""><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">alignas</span><span class="op" d__="">(</span><span class="dv" d__="">16</span><span class="op" d__="">)</span> <span class="dt" d__="">int</span> a <span class="op" d__="">=</span> <span class="dv" d__="">12</span><span class="op" d__="">;</span>    <span class="co" d__="">// 16-byte alignment</span></span>
<span id="cb42-2" d__=""><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">alignas</span><span class="op" d__="">(</span><span class="dt" d__="">long</span><span class="op" d__="">)</span> <span class="dt" d__="">int</span> b <span class="op" d__="">=</span> <span class="dv" d__="">34</span><span class="op" d__="">;</span>  <span class="co" d__="">// Same alignment as "long"</span></span></code></pre></div>
<h2 data-number="2.10" id="if-statement" d__=""><span class="header-section-number">2.10</span> <code>if</code> Statement</h2>
<div class="sourceCode" id="cb43"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb43-1" d__=""><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">if</span> <span class="op" d__="">(</span>boolean_expression<span class="op" d__="">)</span> code<span class="op" d__="">;</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-3" d__=""><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">if</span> <span class="op" d__="">(</span>boolean_expression<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb43-4" d__=""><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb43-5" d__=""><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb43-6" d__=""><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-9" d__=""><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">if</span> <span class="op" d__="">(</span>boolean_expression<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb43-10" d__=""><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb43-11" d__=""><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span> <span class="cf" d__="">else</span></span>
<span id="cb43-13" d__=""><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-15" d__=""><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">if</span> <span class="op" d__="">(</span>boolean_expression<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb43-16" d__=""><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb43-17" d__=""><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span> <span class="cf" d__="">else</span> <span class="cf" d__="">if</span> <span class="op" d__="">{</span></span>
<span id="cb43-19" d__=""><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb43-20" d__=""><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb43-21" d__=""><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb43-22"><a href="#cb43-22" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span> <span class="cf" d__="">else</span> <span class="op" d__="">{</span></span>
<span id="cb43-23" d__=""><a href="#cb43-23" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb43-24"><a href="#cb43-24" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span></code></pre></div>
<h2 data-number="2.11" id="for-statement" d__=""><span class="header-section-number">2.11</span> <code>for</code> Statement</h2>
<p d__="">Classic <code s__="13">for</code>-loop.</p>
<p d__="">The bit in parens comes in three parts separated by semicolons:</p>
<ul>
<li d__="">Initialization, executed once.</li>
<li d__="">Block entry condition, evaluated every time before entering the loop body.</li>
<li d__="">Post expression, evaluated every time after the loop body.</li>
</ul>
<p d__="">For example, initialize <code s__="13">i</code> to <code s__="13">0</code>, enter the loop body while <code s__="13">i &lt; 10</code>, and then increment <code s__="13">i</code> after each loop iteration:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb44-1" d__=""><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">for</span> <span class="op" d__="">(</span>i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> <span class="dv" d__="">10</span><span class="op" d__="">;</span> i<span class="op" d__="">++)</span> <span class="op" d__="">{</span></span>
<span id="cb44-2" d__=""><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb44-3" d__=""><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb44-4" d__=""><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">You can declare loop-local variables by specifying their type:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb45-1" d__=""><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> <span class="dv" d__="">10</span><span class="op" d__="">;</span> i<span class="op" d__="">++)</span> <span class="op" d__="">{</span></span>
<span id="cb45-2" d__=""><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb45-3" d__=""><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">You can separate parts of the expressions with the comma operator:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb46-1" d__=""><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">for</span> <span class="op" d__="">(</span>i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">,</span> j <span class="op" d__="">=</span> <span class="dv" d__="">5</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> <span class="dv" d__="">10</span><span class="op" d__="">;</span> i<span class="op" d__="">++,</span> j <span class="op" d__="">*=</span> <span class="dv" d__="">3</span><span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb46-2" d__=""><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb46-3" d__=""><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span></code></pre></div>
<h2 data-number="2.12" id="while-statement" d__=""><span class="header-section-number">2.12</span> <code>while</code> Statement</h2>
<p d__="">This loop won’t enter if the Boolean expression is false. The continuation test happens before the loop.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb47-1" d__=""><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">while</span> <span class="op" d__="">(</span>boolean_expression<span class="op" d__="">)</span> code<span class="op" d__="">;</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-3" d__=""><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">while</span> <span class="op" d__="">(</span>boolean_expression<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb47-4" d__=""><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb47-5" d__=""><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span></code></pre></div>
<h2 data-number="2.13" id="do-while-statement" d__=""><span class="header-section-number">2.13</span> <code>do</code>-<code>while</code> Statement</h2>
<p d__="">This loop will run at least once even if the Boolean 
expression is false. The continuation test doesn’t happen until after 
the loop.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-2" d__=""><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">do</span> code <span class="cf" d__="">while</span> <span class="op" d__="">(</span>boolean_expression<span class="op" d__="">);</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">do</span> <span class="op" d__="">{</span></span>
<span id="cb48-5" d__=""><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb48-6" d__=""><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb48-7" d__=""><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span> <span class="cf" d__="">while</span> <span class="op" d__="">(</span>boolean_expression<span class="op" d__="">);</span></span></code></pre></div>
<h2 data-number="2.14" id="switch-statement" d__=""><span class="header-section-number">2.14</span> <code>switch</code> Statement</h2>
<p d__="">Performs actions based on the value of an expression. The cases that it is compared against must be constant values.</p>
<p d__="">If the optional <code s__="13">default</code> is present, that code is executed if none of the cases match. Braces are not required around the cases.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb49-1" d__=""><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">switch</span> <span class="op" d__="">(</span>expression<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb49-2" d__=""><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf" d__="">case</span> constant<span class="op" d__="">:</span></span>
<span id="cb49-3" d__=""><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>        code<span class="op" d__="">;</span></span>
<span id="cb49-4" d__=""><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>        code<span class="op" d__="">;</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf" d__="">break</span><span class="op" d__="">;</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-7" d__=""><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf" d__="">case</span> constant<span class="op" d__="">:</span></span>
<span id="cb49-8" d__=""><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>        code<span class="op" d__="">;</span></span>
<span id="cb49-9" d__=""><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>        code<span class="op" d__="">;</span></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf" d__="">break</span><span class="op" d__="">;</span></span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf" d__="">default</span><span class="op" d__="">:</span></span>
<span id="cb49-13" d__=""><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>        code<span class="op" d__="">;</span></span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf" d__="">break</span><span class="op" d__="">;</span></span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">The final <code s__="13">break</code> in the <code s__="13">switch</code> is unnecessary if there are no cases after it.</p>
<p d__="">If the <code s__="13">break</code> isn’t present, the <code s__="13">case</code> falls through to the next one. It’s nice to put a comment to that effect so other devs don’t hate you.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb50-1" d__=""><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">switch</span> <span class="op" d__="">(</span>expression<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb50-2" d__=""><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf" d__="">case</span> constant<span class="op" d__="">:</span></span>
<span id="cb50-3" d__=""><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>        code<span class="op" d__="">;</span></span>
<span id="cb50-4" d__=""><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>        code<span class="op" d__="">;</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>        <span class="co" d__="">// fall through!</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-7" d__=""><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf" d__="">case</span> constant<span class="op" d__="">:</span></span>
<span id="cb50-8" d__=""><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>        code<span class="op" d__="">;</span></span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf" d__="">break</span><span class="op" d__="">;</span></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span></code></pre></div>
<h2 data-number="2.15" id="break-statement" d__=""><span class="header-section-number">2.15</span> <code>break</code> Statement</h2>
<p d__="">This breaks out of a <code s__="13">switch</code> case, but it also can break out of any loop.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb51-1" d__=""><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">while</span> <span class="op" d__="">(</span>boolean_expression<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb51-2" d__=""><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-4" d__=""><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>boolean_expression<span class="op" d__="">)</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf" d__="">break</span><span class="op" d__="">;</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-7" d__=""><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span></code></pre></div>
<h2 data-number="2.16" id="continue-statement" d__=""><span class="header-section-number">2.16</span> <code>continue</code> Statement</h2>
<p d__="">This can be used to short-circuit a loop and go to the next continuation condition test without completing the body of the loop.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb52-1" d__=""><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">while</span> <span class="op" d__="">(</span>boolean_expression<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb52-2" d__=""><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb52-3" d__=""><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-5" d__=""><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>boolean_expression_2<span class="op" d__="">)</span></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf" d__="">continue</span><span class="op" d__="">;</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>    <span class="co" d__="">// If boolean_expression_2, code down here will be skipped:</span></span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-10" d__=""><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb52-11" d__=""><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>    code<span class="op" d__="">;</span></span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span></code></pre></div>
<h2 data-number="2.17" id="goto-statement" d__=""><span class="header-section-number">2.17</span> <code>goto</code> Statement</h2>
<p d__="">You can just jump anywhere within a function with <code s__="13">goto</code>. (You can’t <code s__="13">goto</code> between functions, only within the same function as the <code s__="13">goto</code>.)</p>
<p d__="">The destination of the <code s__="13">goto</code> is a <em>label</em>, which is an identifier followed by a colon (<code s__="13">:</code>). Labels are typically left-justified all the way to the margin to make them visually stand out.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">{</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>    <span class="co" d__="">// Abusive demo code that should be a while loop</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-4" d__=""><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-6" d__=""><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>loop<span class="op" d__="">:</span></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-8" d__=""><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> i<span class="op" d__="">++);</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-10" d__=""><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>i <span class="op" d__="">&lt;</span> <span class="dv" d__="">10</span><span class="op" d__="">)</span></span>
<span id="cb53-11" d__=""><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf" d__="">goto</span> loop<span class="op" d__="">;</span></span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span></code></pre></div>
<h2 data-number="2.18" id="return-statement" d__=""><span class="header-section-number">2.18</span> <code>return</code> Statement</h2>
<p d__="">This is how you get back from a function. You can <code s__="13">return</code> multiple times or just once.</p>
<p d__="">If a function with <code s__="13">void</code> return type falls off the end, the <code s__="13">return</code> is implicit.</p>
<p d__="">If the return type is not <code s__="13">void</code>, the <code s__="13">return</code> statement must specify a return value of the same type.</p>
<p d__="">Parentheses around the return value are not necessary (as it’s a statement, not a function).</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb54-1" d__=""><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> increment<span class="op" d__="">(</span><span class="dt" d__="">int</span> a<span class="op" d__="">)</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">{</span></span>
<span id="cb54-3" d__=""><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf" d__="">return</span> a <span class="op" d__="">+</span> <span class="dv" d__="">1</span><span class="op" d__="">;</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span></code></pre></div>
<h2 data-number="2.19" id="static_assert-statement" d__=""><span class="header-section-number">2.19</span> <code>_Static_assert</code> Statement</h2>
<p d__="">This is a way to prevent <em>compilation</em> of a program if a certain constant condition is not met.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb55-1" d__=""><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">_Static_assert</span><span class="op" d__="">(</span>__STDC_VERSION__ <span class="op" d__="">&gt;=</span> <span class="dv" d__="">201112</span><span class="bu" d__="">L</span><span class="op" d__="">,</span> <span class="st" d__="">"You need at least C11!"</span><span class="op" d__="">)</span></span></code></pre></div>
<h2 data-number="2.20" id="functions" d__=""><span class="header-section-number">2.20</span> Functions</h2>
<p d__="">You need to specify the return type and parameter types for the function, and the body goes in a block afterward.</p>
<p d__="">Variables in the function are local to that function.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">// Function that adds two numbers</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-3" d__=""><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> add<span class="op" d__="">(</span><span class="dt" d__="">int</span> x<span class="op" d__="">,</span> <span class="dt" d__="">int</span> y<span class="op" d__="">)</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">{</span></span>
<span id="cb56-5" d__=""><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">int</span> sum <span class="op" d__="">=</span> x <span class="op" d__="">+</span> y<span class="op" d__="">;</span></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-7" d__=""><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf" d__="">return</span> sum<span class="op" d__="">;</span></span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Functions that return nothing should be return type <code s__="13">void</code>. Functions that accept no parameters should have <code s__="13">void</code> as the parameter list.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">// All side effects, all the time!</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-3" d__=""><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> foo<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">{</span></span>
<span id="cb57-5" d__=""><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>    some_global <span class="op" d__="">=</span> <span class="dv" d__="">12</span><span class="op" d__="">;</span></span>
<span id="cb57-6" d__=""><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Here we go!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 data-number="2.20.1" id="main-function" d__=""><span class="header-section-number">2.20.1</span> <code>main()</code> Function</h3>
<p d__="">This is the function that runs when you first start the program. It will be one of these forms:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb58-1" d__=""><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb58-2" d__=""><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">int</span> argc<span class="op" d__="">,</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>argv<span class="op" d__="">[])</span></span></code></pre></div>
<p d__="">The first form ignores all command line parameters.</p>
<p d__="">The second form stores the count of the command line parameters in <code s__="13">argc</code>, and stores the parameters themselves as an array of strings in <code s__="13">argv</code>. The first of these, <code s__="13">argv[0]</code>, is typically the name of the executable. The last <code s__="13">argv</code> pointer has the value <code s__="13">NULL</code>.</p>
<p d__="">The return values usually show up as exit status codes in the OS. If there is no <code s__="13">return</code>, falling off the end of <code s__="13">main()</code> is an implied <code s__="13">return 0</code><a href="#fn12" class="footnote-ref" id="fnref12" role="doc-noteref"><sup s__="13" d__="">12</sup></a>.</p>
<h3 data-number="2.20.2" id="variadic-functions" d__=""><span class="header-section-number">2.20.2</span> Variadic Functions</h3>
<p d__="">Some functions can take a variable number of arguments. Every 
function must have at least one argument. The remaining arguments are 
specified by <code s__="13">...</code> and can be read with the <code s__="13">va_start()</code>, <code s__="13">va_arg()</code>, and <code s__="13">va_end()</code> macros.</p>
<p d__="">Here’s an example that adds up a variable number of integer values.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb59-1" d__=""><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> add<span class="op" d__="">(</span><span class="dt" d__="">int</span> count<span class="op" d__="">,</span> <span class="op" d__="">...)</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">{</span></span>
<span id="cb59-3" d__=""><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">int</span> total <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb59-4" d__=""><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">va_list</span> va<span class="op" d__="">;</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-6" d__=""><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>    va_start<span class="op" d__="">(</span>va<span class="op" d__="">,</span> count<span class="op" d__="">);</span>   <span class="co" d__="">// Start with arguments after "count"</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-8" d__=""><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> count<span class="op" d__="">;</span> i<span class="op" d__="">++)</span> <span class="op" d__="">{</span></span>
<span id="cb59-9" d__=""><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>        <span class="dt" d__="">int</span> n <span class="op" d__="">=</span> va_arg<span class="op" d__="">(</span>va<span class="op" d__="">,</span> <span class="dt" d__="">int</span><span class="op" d__="">);</span>   <span class="co" d__="">// Get the next int</span></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-11" d__=""><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>        total <span class="op" d__="">+=</span> n<span class="op" d__="">;</span></span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>    <span class="op" d__="">}</span></span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-14" d__=""><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>    va_end<span class="op" d__="">(</span>va<span class="op" d__="">);</span>  <span class="co" d__="">// All done</span></span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-16" d__=""><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf" d__="">return</span> total<span class="op" d__="">;</span></span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span></code></pre></div>
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="3" id="assert" d__=""><span class="header-section-number">3</span> <code>&lt;assert.h&gt;</code> Runtime and Compile-time Diagnostics</h1>
<p></p>
<table>
<thead>
<tr class="header">
<th d__="">Macro</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">assert()</code></td>
<td d__="">Runtime assertion</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">static_assert()</code></td>
<td d__="">Compile-time assertion</td>
</tr>
</tbody>
</table>
<p d__="">This functionality has to do with things that Should Never 
Happen™. If you have something that should never be true and you want 
your program to bomb out because it happened, this is the header file 
for you.</p>
<p d__="">There are two types of assertions: compile-time assertions 
(called “static assertions”) and runtime assertions. If the assertion <em>fails</em> (i.e.&nbsp;the thing that you need to be true is not true) then the program will bomb out either at compile-time or runtime.</p>
<h2 data-number="3.1" id="macros" d__=""><span class="header-section-number">3.1</span> Macros</h2>
<p></p>
<p d__="">If you define the macro <code s__="13">NDEBUG</code> <strong>before</strong> you include <code s__="13">&lt;assert.h&gt;</code>, then the <code s__="13">assert()</code> macro will have no effect. You can define <code s__="13">NDEBUG</code> to be anything, but <code s__="13">1</code> seems like a good value.</p>
<p d__="">Since <code s__="13">assert()</code> causes your program to bomb out at runtime, you might not desire this behavior when you go into production. Defining <code s__="13">NDEBUG</code> causes <code s__="13">assert()</code> to be ignored.</p>
<p d__=""><code s__="13">NDEBUG</code> has no effect on <code s__="13">static_assert()</code>.</p>
<p></p>
<hr>
<h2 data-number="3.2" id="man-assert"><span class="header-section-number" d__="">3.2</span> <code d__="">assert()</code></h2>
<p></p>
<p d__="">Bomb out at runtime if a condition fails</p>
<h3 class="unnumbered unlisted" id="synopsis" d__="">Synopsis</h3>
<div class="sourceCode" id="cb60"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;assert.h&gt;</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-3" d__=""><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> assert<span class="op" d__="">(</span>scalar expression<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description" d__="">Description</h3>
<p d__="">You pass in an expression to this macro. If it evaluates to 
false, the program will crash with an assertion failure (by calling the <code s__="13">abort()</code> function).</p>
<p d__="">Basically, you’re saying, “Hey, I’m assuming this condition is true, and if it’s not, I don’t want to continue running.”</p>
<p d__="">This is used while debugging to make sure no unexpected 
conditions arise. And if you find during development that the condition 
does arise, maybe you should modify the code to handle it before going 
to production.</p>
<p d__="">If you’ve defined the macro <code s__="13">NDEBUG</code> to any value before <code s__="13">&lt;assert.h&gt;</code> was included, the <code s__="13">assert()</code> macro is ignored. This is a good idea before production.</p>
<p d__="">Unlike <code s__="13">static_assert()</code>, this macro 
doesn’t allow you to print an arbitrary message. If you want to do this,
 you can roll your own assert as a preprocessor macro:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#define ASSERT</span><span class="op" d__="">(</span><span class="pp" d__="">c</span><span class="op" d__="">,</span><span class="pp" d__=""> m</span><span class="op" d__="">)</span><span class="pp"> </span><span class="op" d__="">\</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">do</span><span class="pp"> </span><span class="op" d__="">{</span><span class="pp"> </span><span class="op" d__="">\</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a><span class="pp">    </span><span class="cf" d__="">if</span><span class="pp"> </span><span class="op" d__="">(!(</span><span class="pp" d__="">c</span><span class="op" d__="">))</span><span class="pp"> </span><span class="op" d__="">{</span><span class="pp"> </span><span class="op" d__="">\</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">        fprintf</span><span class="op" d__="">(</span><span class="pp" d__="">stderr</span><span class="op" d__="">,</span><span class="pp" d__=""> __FILE__ </span><span class="st" d__="">":</span><span class="sc" d__="">%d</span><span class="st" d__="">: assertion </span><span class="sc" d__="">%s</span><span class="st" d__=""> failed: </span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span><span class="pp"> </span><span class="op" d__="">\</span></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">                        __LINE__</span><span class="op" d__="">,</span><span class="pp"> </span><span class="op" d__="">#</span><span class="pp" d__="">c</span><span class="op" d__="">,</span><span class="pp" d__=""> m</span><span class="op" d__="">);</span><span class="pp"> </span><span class="op" d__="">\</span></span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">        exit</span><span class="op" d__="">(</span><span class="dv" d__="">1</span><span class="op" d__="">);</span><span class="pp"> </span><span class="op" d__="">\</span></span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a><span class="pp">    </span><span class="op" d__="">}</span><span class="pp"> </span><span class="op" d__="">\</span></span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span><span class="pp"> </span><span class="cf" d__="">while</span><span class="op" d__="">(</span><span class="dv" d__="">0</span><span class="op" d__="">)</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="return-value" d__="">Return Value</h3>
<p d__="">This macro doesn’t return (since it calls <code s__="13">abort()</code> which never returns).</p>
<p d__="">If <code s__="13">NDEBUG</code> is set, the macro evaluates to <code s__="13">((void)0)</code>, which does nothing.</p>
<h3 class="unnumbered unlisted" id="example" d__="">Example</h3>
<p d__="">Here’s a function that divides the size of our goat herd. But we’re assuming we’ll never get a <code s__="13">0</code> passed to us.</p>
<p d__="">So we assert that <code s__="13">amount != 0</code>… and if it is, the program aborts/</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb62-1"><a href="#cb62-1"></a><span class="co" d__="">//#define NDEBUG 1   // uncomment this to disable the assert</span></span>
<span id="cb62-2"><a href="#cb62-2"></a></span>
<span id="cb62-3"><a href="#cb62-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb62-4"><a href="#cb62-4"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;assert.h&gt;</span></span>
<span id="cb62-5"><a href="#cb62-5"></a></span>
<span id="cb62-6" d__=""><a href="#cb62-6"></a><span class="dt" d__="">int</span> goat_count <span class="op" d__="">=</span> <span class="dv" d__="">10</span><span class="op" d__="">;</span></span>
<span id="cb62-7"><a href="#cb62-7"></a></span>
<span id="cb62-8" d__=""><a href="#cb62-8"></a><span class="dt" d__="">void</span> divide_goat_herd_by<span class="op" d__="">(</span><span class="dt" d__="">int</span> amount<span class="op" d__="">)</span></span>
<span id="cb62-9"><a href="#cb62-9"></a><span class="op" d__="">{</span></span>
<span id="cb62-10" d__=""><a href="#cb62-10"></a>    assert<span class="op" d__="">(</span>amount <span class="op" d__="">!=</span> <span class="dv" d__="">0</span><span class="op" d__="">);</span></span>
<span id="cb62-11"><a href="#cb62-11"></a></span>
<span id="cb62-12" d__=""><a href="#cb62-12"></a>    goat_count <span class="op" d__="">/=</span> amount<span class="op" d__="">;</span></span>
<span id="cb62-13"><a href="#cb62-13"></a><span class="op" d__="">}</span>  </span>
<span id="cb62-14"><a href="#cb62-14"></a></span>
<span id="cb62-15" d__=""><a href="#cb62-15"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb62-16"><a href="#cb62-16"></a><span class="op" d__="">{</span></span>
<span id="cb62-17" d__=""><a href="#cb62-17"></a>    divide_goat_herd_by<span class="op" d__="">(</span><span class="dv" d__="">2</span><span class="op" d__="">);</span>  <span class="co" d__="">// OK</span></span>
<span id="cb62-18"><a href="#cb62-18"></a></span>
<span id="cb62-19" d__=""><a href="#cb62-19"></a>    divide_goat_herd_by<span class="op" d__="">(</span><span class="dv" d__="">0</span><span class="op" d__="">);</span>  <span class="co" d__="">// Causes the assert to fire</span></span>
<span id="cb62-20"><a href="#cb62-20"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">When I run this and pass <code s__="13">0</code> to the function, I get the following on my system (the exact output may vary):</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb63-1" d__=""><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>assert: assert.c:10: divide_goat_herd_by: Assertion `amount != 0' failed.</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also" d__="">See Also</h3>
<p d__=""><a href="#man-static_assert"><code s__="13" d__="">static_assert()</code></a>, <a href="#man-abort"><code s__="13" d__="">abort()</code></a></p>
<hr>
<h2 data-number="3.3" id="man-static_assert"><span class="header-section-number" d__="">3.3</span> <code d__="">static_assert()</code></h2>
<p></p>
<p d__="">Bomb out at compile-time if a condition fails</p>
<h3 class="unnumbered unlisted" id="synopsis-1" d__="">Synopsis</h3>
<div class="sourceCode" id="cb64"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;assert.h&gt;</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-3" d__=""><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">static_assert</span><span class="op" d__="">(</span>constant<span class="op" d__="">-</span>expression<span class="op" d__="">,</span> string<span class="op" d__="">-</span>literal<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-1" d__="">Description</h3>
<p d__="">This macro prevents your program from even compiling if a condition isn’t true.</p>
<p d__="">And it prints the string literal you give it.</p>
<p d__="">Basically if <code s__="13">constant-expression</code> is false, then compilation will cease and the <code s__="13">string-literal</code> will be printed.</p>
<p d__="">The constant expression must be truly constant–just values, no
 variables. And the same is true for the string literal: no variables, 
just a literal string in double quotes. (It has to be this way since the
 program’s not running at this point.)</p>
<h3 class="unnumbered unlisted" id="return-value-1" d__="">Return Value</h3>
<p d__="">Not applicable, as this is a compile-time feature.</p>
<h3 class="unnumbered unlisted" id="example-1" d__="">Example</h3>
<p d__="">Here’s a partial example with an algorithm that presumably has
 poor performance or memory issues if the size of the local array is too
 large. We prevent that eventuality at compile-time by catching it with 
the <code s__="13">static_assert()</code>.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb65-1"><a href="#cb65-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb65-2"><a href="#cb65-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;assert.h&gt;</span></span>
<span id="cb65-3"><a href="#cb65-3"></a></span>
<span id="cb65-4"><a href="#cb65-4"></a><span class="pp" d__="">#define ARRAY_SIZE </span><span class="dv" d__="">16</span></span>
<span id="cb65-5"><a href="#cb65-5"></a></span>
<span id="cb65-6" d__=""><a href="#cb65-6"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb65-7"><a href="#cb65-7"></a><span class="op" d__="">{</span></span>
<span id="cb65-8" d__=""><a href="#cb65-8"></a>    <span class="kw" d__="">static_assert</span><span class="op" d__="">(</span>ARRAY_SIZE <span class="op" d__="">&gt;</span> <span class="dv" d__="">32</span><span class="op" d__="">,</span> <span class="st" d__="">"ARRAY_SIZE too small"</span><span class="op" d__="">);</span></span>
<span id="cb65-9"><a href="#cb65-9"></a></span>
<span id="cb65-10" d__=""><a href="#cb65-10"></a>    <span class="dt" d__="">int</span> a<span class="op" d__="">[</span>ARRAY_SIZE<span class="op" d__="">];</span></span>
<span id="cb65-11"><a href="#cb65-11"></a></span>
<span id="cb65-12" d__=""><a href="#cb65-12"></a>    a<span class="op" d__="">[</span><span class="dv" d__="">32</span><span class="op" d__="">]</span> <span class="op" d__="">=</span> <span class="dv" d__="">10</span><span class="op" d__="">;</span></span>
<span id="cb65-13"><a href="#cb65-13"></a></span>
<span id="cb65-14" d__=""><a href="#cb65-14"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> a<span class="op" d__="">[</span><span class="dv" d__="">32</span><span class="op" d__="">]);</span></span>
<span id="cb65-15"><a href="#cb65-15"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">On my system, when I try to compile it, this prints (your output may vary):</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb66-1" d__=""><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>In file included from static_assert.c:2:</span>
<span id="cb66-2" d__=""><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>static_assert.c: In function ‘main’:</span>
<span id="cb66-3" d__=""><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>static_assert.c:8:5: error: static assertion failed: "ARRAY_SIZE too small"</span>
<span id="cb66-4" d__=""><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>    8 |     static_assert(ARRAY_SIZE &gt; 32, "ARRAY_SIZE too small");</span>
<span id="cb66-5" d__=""><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>      |     ^~~~~~~~~~~~~</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-1" d__="">See Also</h3>
<p><a href="#man-assert"><code s__="13" d__="">assert()</code></a></p>
<!--
***
## `example()` `example()` `example()` {#man-example}

### Synopsis {.unnumbered .unlisted}

``` {.c}
```

### Description {.unnumbered .unlisted}

### Return Value {.unnumbered .unlisted}

### Example {.unnumbered .unlisted}

``` {.c .numberLines}
```

### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="4" id="complex" d__=""><span class="header-section-number">4</span> <code>&lt;complex.h&gt;</code> Complex Number Functionality</h1>
<p></p>
<p d__="">The complex functions in this reference section come in three flavors each: <code s__="13">double complex</code>, <code s__="13">float complex</code>, and <code s__="13">long double complex</code>.</p>
<p d__="">The <code s__="13">float</code> variants end with <code s__="13">f</code> and the <code s__="13">long double</code> variants end with <code s__="13">l</code>, e.g.&nbsp;for complex cosine:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb67-1" d__=""><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>ccos<span class="op" d__="">()</span>   <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span></span>
<span id="cb67-2" d__=""><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>ccosf<span class="op" d__="">()</span>  <span class="dt" d__="">float</span> <span class="dt" d__="">complex</span></span>
<span id="cb67-3" d__=""><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>ccosl<span class="op" d__="">()</span>  <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span></span></code></pre></div>
<p d__="">The table below only lists the <code s__="13">double complex</code> version for brevity.</p>
<table>
<colgroup>
<col style="width: 26%">
<col style="width: 73%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Function</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#man-cabs"><code s__="13" d__="">cabs()</code></a></td>
<td d__="">Compute the complex absolute value</td>
</tr>
<tr class="even">
<td><a href="#man-cacos"><code s__="13" d__="">cacos()</code></a></td>
<td d__="">Compute the complex arc-cosine</td>
</tr>
<tr class="odd">
<td><a href="#man-cacosh"><code s__="13" d__="">cacosh()</code></a></td>
<td d__="">Compute the complex arc hyperbolic cosine</td>
</tr>
<tr class="even">
<td><a href="#man-carg"><code s__="13" d__="">carg()</code></a></td>
<td d__="">Compute the complex argument</td>
</tr>
<tr class="odd">
<td><a href="#man-casin"><code s__="13" d__="">casin()</code></a></td>
<td d__="">Compute the complex arc-sine</td>
</tr>
<tr class="even">
<td><a href="#man-casinh"><code s__="13" d__="">casinh()</code></a></td>
<td d__="">Compute the complex arc hyperbolic sine</td>
</tr>
<tr class="odd">
<td><a href="#man-catan"><code s__="13" d__="">catan()</code></a></td>
<td d__="">Compute the complex arc-tangent</td>
</tr>
<tr class="even">
<td><a href="#man-catanh"><code s__="13" d__="">catanh()</code></a></td>
<td d__="">Compute the complex arc hyperbolic tangent</td>
</tr>
<tr class="odd">
<td><a href="#man-ccos"><code s__="13" d__="">ccos()</code></a></td>
<td d__="">Compute the complex cosine</td>
</tr>
<tr class="even">
<td><a href="#man-ccosh"><code s__="13" d__="">ccosh()</code></a></td>
<td d__="">Compute the complex hyperbolic cosine</td>
</tr>
<tr class="odd">
<td><a href="#man-cexp"><code s__="13" d__="">cexp()</code></a></td>
<td d__="">Compute the complex base-<span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="0"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi></math></mjx-assistive-mml></mjx-container></span> exponential</td>
</tr>
<tr class="even">
<td><a href="#man-cimag"><code s__="13" d__="">cimag()</code></a></td>
<td d__="">Returns the imaginary part of a complex number</td>
</tr>
<tr class="odd">
<td><a href="#man-clog"><code s__="13" d__="">clog()</code></a></td>
<td d__="">Compute the complex logarithm</td>
</tr>
<tr class="even">
<td><a href="#man-CMPLX"><code s__="13" d__="">CMPLX()</code></a></td>
<td d__="">Build a complex value from real and imaginary types</td>
</tr>
<tr class="odd">
<td><a href="#man-conj"><code s__="13" d__="">conj()</code></a></td>
<td d__="">Compute the conjugate of a complex number</td>
</tr>
<tr class="even">
<td><a href="#man-cproj"><code s__="13" d__="">cproj()</code></a></td>
<td d__="">Compute the projection of a complex number</td>
</tr>
<tr class="odd">
<td><a href="#man-creal"><code s__="13" d__="">creal()</code></a></td>
<td d__="">Returns the real part of a complex number</td>
</tr>
<tr class="even">
<td><a href="#man-csin"><code s__="13" d__="">csin()</code></a></td>
<td d__="">Compute the complex sine</td>
</tr>
<tr class="odd">
<td><a href="#man-csinh"><code s__="13" d__="">csinh()</code></a></td>
<td d__="">Compute the complex hyperbolic sine</td>
</tr>
<tr class="even">
<td><a href="#man-csqrt"><code s__="13" d__="">csqrt()</code></a></td>
<td d__="">Compute the complex square root</td>
</tr>
<tr class="odd">
<td><a href="#man-ctan"><code s__="13" d__="">ctan()</code></a></td>
<td d__="">Compute the complex tangent</td>
</tr>
<tr class="even">
<td><a href="#man-ctanh"><code s__="13" d__="">ctanh()</code></a></td>
<td d__="">Compute the complex hyperbolic tangent</td>
</tr>
</tbody>
</table>
<p d__="">You can test for complex number support by looking at the <code s__="13">__STDC_NO_COMPLEX__</code> macro. If it’s defined, complex numbers aren’t available.</p>
<p d__="">There are possibly two types of numbers defined: <em>complex</em> and <em>imaginary</em>. No system I’m currently aware of implements imaginary types.</p>
<p d__="">The complex types, which are a real value plus a multiple of <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="1"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi></math></mjx-assistive-mml></mjx-container></span>, are:</p>
<p> </p>
<div class="sourceCode" id="cb68"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span></span></code></pre></div>
<p d__="">The imaginary types, which hold a multiple of <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="2"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi></math></mjx-assistive-mml></mjx-container></span>, are:</p>
<p> </p>
<div class="sourceCode" id="cb69"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> <span class="dt" d__="">imaginary</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> <span class="dt" d__="">imaginary</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">imaginary</span></span></code></pre></div>
<p d__="">The mathematical value <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="3"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-msqrt space="4"><mjx-sqrt><mjx-surd><mjx-mo class="mjx-n"><mjx-c class="mjx-c221A"></mjx-c></mjx-mo></mjx-surd><mjx-box style="padding-top: 0.134em;"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-box></mjx-sqrt></mjx-msqrt></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mo>=</mo><msqrt><mo>−</mo><mn>1</mn></msqrt></math></mjx-assistive-mml></mjx-container></span> is represented by the symbol <code s__="13">_Complex_I</code> or <code s__="13">_Imaginary_I</code>, if it exists.</p>
<!-- __ hackishly turn off the italic syntax highlighting -->
<p d__="">The The macro <code s__="13">I</code> will be preferentially set to <code s__="13">_Imaginary_I</code> (if it exists), or to <code s__="13">_Complex_I</code> otherwise.</p>
<p d__="">You can write imaginary literals (if supported) using this notation:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb70-1" d__=""><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> <span class="dt" d__="">imaginary</span> x <span class="op" d__="">=</span> <span class="fl" d__="">3.4</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span></code></pre></div>
<p d__="">You can write complex literals using regular complex notation:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb71-1" d__=""><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x <span class="op" d__="">=</span> <span class="fl" d__="">1.2</span> <span class="op" d__="">+</span> <span class="fl" d__="">3.4</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span></code></pre></div>
<p d__="">or build them with the <code s__="13">CMPLX()</code> macro:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb72-1" d__=""><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x <span class="op" d__="">=</span> CMPLX<span class="op" d__="">(</span><span class="fl" d__="">1.2</span><span class="op" d__="">,</span> <span class="fl" d__="">3.4</span><span class="op" d__="">);</span>  <span class="co" d__="">// Like 1.2 + 3.4 * I</span></span></code></pre></div>
<p d__="">The latter has the advantage of handing special cases of 
complex numbers correctly (like those involving infinity or signed 
zeroes) as if <code s__="13">_Imaginary_I</code> were present, even if it’s not.</p>
<p d__="">All angular values are in radians.</p>
<p d__="">Some functions have discontinuities called <em>branch cuts</em>.
 Now, I’m no mathematician so I can’t really talk sensibly about this, 
but if you’re here, I like to think you know what you’re doing when it 
comes to this side of things.</p>
<p d__="">If you system has signed zeroes, you can tell which side of 
the cut you’re on by the sign. And you can’t if you don’t. The spec 
elaborates:</p>
<blockquote>
<p d__="">Implementations that do not support a signed zero […] cannot 
distinguish the sides of branch cuts. These implementations shall map a 
cut so the function is continuous as the cut is approached coming around
 the finite endpoint of the cut in a counter clockwise direction. 
(Branch cuts for the functions specified here have just one finite 
endpoint.) For example, for the square root function, coming counter 
clockwise around the finite endpoint of the cut along the negative real 
axis approaches the cut from above, so the cut maps to the positive 
imaginary axis.</p>
</blockquote>
<p d__="">Finally, there’s a pragma called <code s__="13">CX_LIMITED_RANGE</code> that can be turned on and off (default is off). You can turn it on with:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#pragma STDC CX_LIMITED_RANGE ON</span></span></code></pre></div>
<p d__="">It allows for certain intermediate operations to underflow, 
overflow, or deal badly with infinity, presumably for a tradeoff in 
speed. If you’re sure these types of errors won’t occur with the numbers
 you’re using AND you’re trying to get as much speed out as you can, you
 could turn this macro on.</p>
<p d__="">The spec also elaborates here:</p>
<blockquote>
<p d__="">The purpose of the pragma is to allow the implementation to use the formulas:</p>
<p><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="4"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-cD7"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D463 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D463 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D463 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false" d__="">(</mo><mi d__="">x</mi><mo d__="">+</mo><mi d__="">i</mi><mi d__="">y</mi><mo stretchy="false" d__="">)</mo><mo d__="">×</mo><mo stretchy="false" d__="">(</mo><mi d__="">u</mi><mo d__="">+</mo><mi d__="">i</mi><mi d__="">v</mi><mo stretchy="false" d__="">)</mo><mo d__="">=</mo><mo stretchy="false" d__="">(</mo><mi d__="">x</mi><mi d__="">u</mi><mo d__="">−</mo><mi d__="">y</mi><mi d__="">v</mi><mo stretchy="false" d__="">)</mo><mo d__="">+</mo><mi d__="">i</mi><mo stretchy="false" d__="">(</mo><mi d__="">y</mi><mi d__="">u</mi><mo d__="">+</mo><mi d__="">x</mi><mi d__="">v</mi><mo stretchy="false" d__="">)</mo></math></mjx-assistive-mml></mjx-container></span></p>
<p><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="5"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D463 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c5B"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D463 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D463 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c5D"></mjx-c></mjx-mo><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-msup><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D462 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.363em;"><mjx-mn class="mjx-n" size="s" s__="13"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-script></mjx-msup><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-msup space="3"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D463 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.363em;"><mjx-mn class="mjx-n" size="s" s__="13"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-script></mjx-msup><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false" d__="">(</mo><mi d__="">x</mi><mo d__="">+</mo><mi d__="">i</mi><mi d__="">y</mi><mo stretchy="false" d__="">)</mo><mrow data-mjx-texclass="ORD"><mo d__="">/</mo></mrow><mo stretchy="false" d__="">(</mo><mi d__="">u</mi><mo d__="">+</mo><mi d__="">i</mi><mi d__="">v</mi><mo stretchy="false" d__="">)</mo><mo d__="">=</mo><mo stretchy="false" d__="">[</mo><mo stretchy="false" d__="">(</mo><mi d__="">x</mi><mi d__="">u</mi><mo d__="">+</mo><mi d__="">y</mi><mi d__="">v</mi><mo stretchy="false" d__="">)</mo><mo d__="">+</mo><mi d__="">i</mi><mo stretchy="false" d__="">(</mo><mi d__="">y</mi><mi d__="">u</mi><mo d__="">−</mo><mi d__="">x</mi><mi d__="">v</mi><mo stretchy="false" d__="">)</mo><mo stretchy="false" d__="">]</mo><mrow data-mjx-texclass="ORD"><mo d__="">/</mo></mrow><mo stretchy="false" d__="">(</mo><msup><mi d__="">u</mi><mn s__="13" d__="">2</mn></msup><mo d__="">+</mo><msup><mi d__="">v</mi><mn s__="13" d__="">2</mn></msup><mo stretchy="false" d__="">)</mo></math></mjx-assistive-mml></mjx-container></span></p>
<p><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="6"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-msqrt space="4"><mjx-sqrt><mjx-surd><mjx-mo class="mjx-sop"><mjx-c class="mjx-c221A TEX-S1"></mjx-c></mjx-mo></mjx-surd><mjx-box style="padding-top: 0.125em;"><mjx-msup><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.289em;"><mjx-mn class="mjx-n" size="s" s__="13"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-script></mjx-msup><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-msup space="3"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.289em;"><mjx-mn class="mjx-n" size="s" s__="13"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-script></mjx-msup></mjx-box></mjx-sqrt></mjx-msqrt></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo data-mjx-texclass="ORD" stretchy="false" d__="">|</mo><mi d__="">x</mi><mo d__="">+</mo><mi d__="">i</mi><mi d__="">y</mi><mo data-mjx-texclass="ORD" stretchy="false" d__="">|</mo><mo d__="">=</mo><msqrt><msup><mi d__="">x</mi><mn s__="13" d__="">2</mn></msup><mo d__="">+</mo><msup><mi d__="">y</mi><mn s__="13" d__="">2</mn></msup></msqrt></math></mjx-assistive-mml></mjx-container></span></p>
<p d__="">where the programmer can determine they are safe.</p>
</blockquote>
<hr>
<h2 data-number="4.1" id="man-cacos" d__=""><span class="header-section-number">4.1</span> <code>cacos()</code>, <code>cacosf()</code>, <code>cacosl()</code></h2>
<p> </p>
<p d__="">Compute the complex arc-cosine</p>
<h3 class="unnumbered unlisted" id="synopsis-2" d__="">Synopsis</h3>
<div class="sourceCode" id="cb74"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-3" d__=""><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> cacos<span class="op" d__="">(</span><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-5" d__=""><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> cacosf<span class="op" d__="">(</span><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-7" d__=""><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> cacosl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-2" d__="">Description</h3>
<p d__="">Computes the complex arc-cosine of a complex number.</p>
<p d__="">The complex number <code s__="13">z</code> will have an imaginary component in the range <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="7"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c5B"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c30"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="2"><mjx-c class="mjx-c1D70B TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c5D"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mn>0</mn><mo>,</mo><mi>π</mi><mo stretchy="false">]</mo></math></mjx-assistive-mml></mjx-container></span>, and the real component is unbounded.</p>
<p d__="">There are branch cuts outside the interval <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="8"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c5B"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c5D"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo>−</mo><mn>1</mn><mo>,</mo><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo></math></mjx-assistive-mml></mjx-container></span> on the real axis.</p>
<h3 class="unnumbered unlisted" id="return-value-2" d__="">Return Value</h3>
<p d__="">Returns the complex arc-cosine of <code s__="13">z</code>.</p>
<h3 class="unnumbered unlisted" id="example-2" d__="">Example</h3>
<div class="sourceCode" id="cb75"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb75-1"><a href="#cb75-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb75-2"><a href="#cb75-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb75-3"><a href="#cb75-3"></a></span>
<span id="cb75-4" d__=""><a href="#cb75-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb75-5"><a href="#cb75-5"></a><span class="op" d__="">{</span></span>
<span id="cb75-6" d__=""><a href="#cb75-6"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x <span class="op" d__="">=</span> <span class="dv" d__="">8</span> <span class="op" d__="">+</span> <span class="fl" d__="">1.5708</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span>
<span id="cb75-7"><a href="#cb75-7"></a></span>
<span id="cb75-8" d__=""><a href="#cb75-8"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> y <span class="op" d__="">=</span> cacos<span class="op" d__="">(</span>x<span class="op" d__="">);</span></span>
<span id="cb75-9"><a href="#cb75-9"></a></span>
<span id="cb75-10" d__=""><a href="#cb75-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Result: </span><span class="sc" d__="">%f</span><span class="st" d__=""> + </span><span class="sc" d__="">%f</span><span class="st" d__="">i</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> creal<span class="op" d__="">(</span>y<span class="op" d__="">),</span> cimag<span class="op" d__="">(</span>y<span class="op" d__="">));</span></span>
<span id="cb75-11"><a href="#cb75-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb76-1" d__=""><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>Result: 0.195321 + -2.788006i</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-2" d__="">See Also</h3>
<p d__=""><a href="#man-ccos"><code s__="13" d__="">ccos()</code></a>, <a href="#man-casin"><code s__="13" d__="">casin()</code></a>, <a href="#man-catan"><code s__="13" d__="">catan()</code></a></p>
<hr>
<h2 data-number="4.2" id="man-casin" d__=""><span class="header-section-number">4.2</span> <code>casin()</code>, <code>casinf()</code>, <code>casinl()</code></h2>
<p> </p>
<p d__="">Compute the complex arc-sine</p>
<h3 class="unnumbered unlisted" id="synopsis-3" d__="">Synopsis</h3>
<div class="sourceCode" id="cb77"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-3" d__=""><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> casin<span class="op" d__="">(</span><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-5" d__=""><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> casinf<span class="op" d__="">(</span><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-7" d__=""><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> casinl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-3" d__="">Description</h3>
<p d__="">Computes the complex arc-sine of a complex number.</p>
<p d__="">The complex number <code s__="13">z</code> will have an imaginary component in the range <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="9"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c5B"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D70B TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D70B TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c5D"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo>−</mo><mi>π</mi><mrow data-mjx-texclass="ORD"><mo>/</mo></mrow><mn>2</mn><mo>,</mo><mo>+</mo><mi>π</mi><mrow data-mjx-texclass="ORD"><mo>/</mo></mrow><mn>2</mn><mo stretchy="false">]</mo></math></mjx-assistive-mml></mjx-container></span>, and the real component is unbounded.</p>
<p d__="">There are branch cuts outside the interval <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="10"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c5B"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c5D"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo>−</mo><mn>1</mn><mo>,</mo><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo></math></mjx-assistive-mml></mjx-container></span> on the real axis.</p>
<h3 class="unnumbered unlisted" id="return-value-3" d__="">Return Value</h3>
<p d__="">Returns the complex arc-sine of <code s__="13">z</code>.</p>
<h3 class="unnumbered unlisted" id="example-3" d__="">Example</h3>
<div class="sourceCode" id="cb78"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb78-1"><a href="#cb78-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb78-2"><a href="#cb78-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb78-3"><a href="#cb78-3"></a></span>
<span id="cb78-4" d__=""><a href="#cb78-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb78-5"><a href="#cb78-5"></a><span class="op" d__="">{</span></span>
<span id="cb78-6" d__=""><a href="#cb78-6"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x <span class="op" d__="">=</span> <span class="dv" d__="">8</span> <span class="op" d__="">+</span> <span class="fl" d__="">1.5708</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span>
<span id="cb78-7"><a href="#cb78-7"></a></span>
<span id="cb78-8" d__=""><a href="#cb78-8"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> y <span class="op" d__="">=</span> casin<span class="op" d__="">(</span>x<span class="op" d__="">);</span></span>
<span id="cb78-9"><a href="#cb78-9"></a></span>
<span id="cb78-10" d__=""><a href="#cb78-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Result: </span><span class="sc" d__="">%f</span><span class="st" d__=""> + </span><span class="sc" d__="">%f</span><span class="st" d__="">i</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> creal<span class="op" d__="">(</span>y<span class="op" d__="">),</span> cimag<span class="op" d__="">(</span>y<span class="op" d__="">));</span></span>
<span id="cb78-11"><a href="#cb78-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb79-1" d__=""><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>Result: 1.375476 + 2.788006i</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-3" d__="">See Also</h3>
<p d__=""><a href="#man-csin"><code s__="13" d__="">csin()</code></a>, <a href="#man-cacos"><code s__="13" d__="">cacos()</code></a>, <a href="#man-catan"><code s__="13" d__="">catan()</code></a></p>
<hr>
<h2 data-number="4.3" id="man-catan" d__=""><span class="header-section-number">4.3</span> <code>catan()</code>, <code>catanf()</code>, <code>catanl()</code></h2>
<p> </p>
<p d__="">Compute the complex arc-tangent</p>
<h3 class="unnumbered unlisted" id="synopsis-4" d__="">Synopsis</h3>
<div class="sourceCode" id="cb80"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-3" d__=""><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> catan<span class="op" d__="">(</span><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-5" d__=""><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> catanf<span class="op" d__="">(</span><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-7" d__=""><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> catanl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-4" d__="">Description</h3>
<p d__="">Computes the complex arc-tangent of a complex number.</p>
<p d__="">The complex number <code s__="13">z</code> will have an real component in the range <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="11"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c5B"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D70B TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D70B TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c5D"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo>−</mo><mi>π</mi><mrow data-mjx-texclass="ORD"><mo>/</mo></mrow><mn>2</mn><mo>,</mo><mo>+</mo><mi>π</mi><mrow data-mjx-texclass="ORD"><mo>/</mo></mrow><mn>2</mn><mo stretchy="false">]</mo></math></mjx-assistive-mml></mjx-container></span>, and the imaginary component is unbounded.</p>
<p d__="">There are branch cuts outside the interval <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="12"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c5B"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c5D"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo>−</mo><mi>i</mi><mo>,</mo><mo>+</mo><mi>i</mi><mo stretchy="false">]</mo></math></mjx-assistive-mml></mjx-container></span> on the imaginary axis.</p>
<h3 class="unnumbered unlisted" id="return-value-4" d__="">Return Value</h3>
<p d__="">Returns the complex arc-tangent of <code s__="13">z</code>.</p>
<h3 class="unnumbered unlisted" id="example-4" d__="">Example</h3>
<div class="sourceCode" id="cb81"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb81-1"><a href="#cb81-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb81-2"><a href="#cb81-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb81-3"><a href="#cb81-3"></a></span>
<span id="cb81-4" d__=""><a href="#cb81-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb81-5"><a href="#cb81-5"></a><span class="op" d__="">{</span></span>
<span id="cb81-6" d__=""><a href="#cb81-6"></a>    <span class="dt" d__="">double</span> wheat <span class="op" d__="">=</span> <span class="dv" d__="">8</span><span class="op" d__="">;</span></span>
<span id="cb81-7" d__=""><a href="#cb81-7"></a>    <span class="dt" d__="">double</span> sheep <span class="op" d__="">=</span> <span class="fl" d__="">1.5708</span><span class="op" d__="">;</span></span>
<span id="cb81-8"><a href="#cb81-8"></a></span>
<span id="cb81-9" d__=""><a href="#cb81-9"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x <span class="op" d__="">=</span> wheat <span class="op" d__="">+</span> sheep <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span>
<span id="cb81-10"><a href="#cb81-10"></a></span>
<span id="cb81-11" d__=""><a href="#cb81-11"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> y <span class="op" d__="">=</span> catan<span class="op" d__="">(</span>x<span class="op" d__="">);</span></span>
<span id="cb81-12"><a href="#cb81-12"></a></span>
<span id="cb81-13" d__=""><a href="#cb81-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Result: </span><span class="sc" d__="">%f</span><span class="st" d__=""> + </span><span class="sc" d__="">%f</span><span class="st" d__="">i</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> creal<span class="op" d__="">(</span>y<span class="op" d__="">),</span> cimag<span class="op" d__="">(</span>y<span class="op" d__="">));</span></span>
<span id="cb81-14"><a href="#cb81-14"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb82-1" d__=""><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>Result: 1.450947 + 0.023299i</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-4" d__="">See Also</h3>
<p d__=""><a href="#man-ctan"><code s__="13" d__="">ctan()</code></a>, <a href="#man-cacos"><code s__="13" d__="">cacos()</code></a>, <a href="#man-casin"><code s__="13" d__="">casin()</code></a></p>
<hr>
<h2 data-number="4.4" id="man-ccos" d__=""><span class="header-section-number">4.4</span> <code>ccos()</code>, <code>ccosf()</code>, <code>ccosl()</code></h2>
<p> </p>
<p d__="">Compute the complex cosine</p>
<h3 class="unnumbered unlisted" id="synopsis-5" d__="">Synopsis</h3>
<div class="sourceCode" id="cb83"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-3" d__=""><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> ccos<span class="op" d__="">(</span><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-5" d__=""><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> ccosf<span class="op" d__="">(</span><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-7" d__=""><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> ccosl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-5" d__="">Description</h3>
<p d__="">Computes the complex cosine of a complex number.</p>
<h3 class="unnumbered unlisted" id="return-value-5" d__="">Return Value</h3>
<p d__="">Returns the complex cosine of <code s__="13">z</code>.</p>
<h3 class="unnumbered unlisted" id="example-5" d__="">Example</h3>
<div class="sourceCode" id="cb84"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb84-1"><a href="#cb84-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb84-2"><a href="#cb84-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb84-3"><a href="#cb84-3"></a></span>
<span id="cb84-4" d__=""><a href="#cb84-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb84-5"><a href="#cb84-5"></a><span class="op" d__="">{</span></span>
<span id="cb84-6" d__=""><a href="#cb84-6"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x <span class="op" d__="">=</span> <span class="dv" d__="">8</span> <span class="op" d__="">+</span> <span class="fl" d__="">1.5708</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span>
<span id="cb84-7"><a href="#cb84-7"></a></span>
<span id="cb84-8" d__=""><a href="#cb84-8"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> y <span class="op" d__="">=</span> ccos<span class="op" d__="">(</span>x<span class="op" d__="">);</span></span>
<span id="cb84-9"><a href="#cb84-9"></a></span>
<span id="cb84-10" d__=""><a href="#cb84-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Result: </span><span class="sc" d__="">%f</span><span class="st" d__=""> + </span><span class="sc" d__="">%f</span><span class="st" d__="">i</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> creal<span class="op" d__="">(</span>y<span class="op" d__="">),</span> cimag<span class="op" d__="">(</span>y<span class="op" d__="">));</span></span>
<span id="cb84-11"><a href="#cb84-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb85-1" d__=""><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>Result: -0.365087 + -2.276818i</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-5" d__="">See Also</h3>
<p d__=""><a href="#man-csin"><code s__="13" d__="">csin()</code></a>, <a href="#man-ctan"><code s__="13" d__="">ctan()</code></a>, <a href="#man-cacos"><code s__="13" d__="">cacos()</code></a></p>
<hr>
<h2 data-number="4.5" id="man-csin" d__=""><span class="header-section-number">4.5</span> <code>csin()</code>, <code>csinf()</code>, <code>csinl()</code></h2>
<p> </p>
<p d__="">Compute the complex sine</p>
<h3 class="unnumbered unlisted" id="synopsis-6" d__="">Synopsis</h3>
<div class="sourceCode" id="cb86"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-3" d__=""><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> csin<span class="op" d__="">(</span><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-5" d__=""><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> csinf<span class="op" d__="">(</span><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-7" d__=""><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> csinl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-6" d__="">Description</h3>
<p d__="">Computes the complex sine of a complex number.</p>
<h3 class="unnumbered unlisted" id="return-value-6" d__="">Return Value</h3>
<p d__="">Returns the complex sine of <code s__="13">z</code>.</p>
<h3 class="unnumbered unlisted" id="example-6" d__="">Example</h3>
<div class="sourceCode" id="cb87"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb87-1"><a href="#cb87-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb87-2"><a href="#cb87-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb87-3"><a href="#cb87-3"></a></span>
<span id="cb87-4" d__=""><a href="#cb87-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb87-5"><a href="#cb87-5"></a><span class="op" d__="">{</span></span>
<span id="cb87-6" d__=""><a href="#cb87-6"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x <span class="op" d__="">=</span> <span class="dv" d__="">8</span> <span class="op" d__="">+</span> <span class="fl" d__="">1.5708</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span>
<span id="cb87-7"><a href="#cb87-7"></a></span>
<span id="cb87-8" d__=""><a href="#cb87-8"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> y <span class="op" d__="">=</span> csin<span class="op" d__="">(</span>x<span class="op" d__="">);</span></span>
<span id="cb87-9"><a href="#cb87-9"></a></span>
<span id="cb87-10" d__=""><a href="#cb87-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Result: </span><span class="sc" d__="">%f</span><span class="st" d__=""> + </span><span class="sc" d__="">%f</span><span class="st" d__="">i</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> creal<span class="op" d__="">(</span>y<span class="op" d__="">),</span> cimag<span class="op" d__="">(</span>y<span class="op" d__="">));</span></span>
<span id="cb87-11"><a href="#cb87-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb88-1" d__=""><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>Result: 2.482485 + -0.334840i</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-6" d__="">See Also</h3>
<p d__=""><a href="#man-ccos"><code s__="13" d__="">ccos()</code></a>, <a href="#man-ctan"><code s__="13" d__="">ctan()</code></a>, <a href="#man-casin"><code s__="13" d__="">casin()</code></a></p>
<hr>
<h2 data-number="4.6" id="man-ctan" d__=""><span class="header-section-number">4.6</span> <code>ctan()</code>, <code>ctanf()</code>, <code>ctanl()</code></h2>
<p> </p>
<p d__="">Compute the complex tangent</p>
<h3 class="unnumbered unlisted" id="synopsis-7" d__="">Synopsis</h3>
<div class="sourceCode" id="cb89"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-3" d__=""><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> ctan<span class="op" d__="">(</span><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-5" d__=""><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> ctanf<span class="op" d__="">(</span><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-7" d__=""><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> ctanl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-7" d__="">Description</h3>
<p d__="">Computes the complex tangent of a complex number.</p>
<h3 class="unnumbered unlisted" id="return-value-7" d__="">Return Value</h3>
<p d__="">Returns the complex tangent of <code s__="13">z</code>.</p>
<h3 class="unnumbered unlisted" id="example-7" d__="">Example</h3>
<div class="sourceCode" id="cb90"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb90-1"><a href="#cb90-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb90-2"><a href="#cb90-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb90-3"><a href="#cb90-3"></a></span>
<span id="cb90-4" d__=""><a href="#cb90-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb90-5"><a href="#cb90-5"></a><span class="op" d__="">{</span></span>
<span id="cb90-6" d__=""><a href="#cb90-6"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x <span class="op" d__="">=</span> <span class="dv" d__="">8</span> <span class="op" d__="">+</span> <span class="fl" d__="">1.5708</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span>
<span id="cb90-7"><a href="#cb90-7"></a></span>
<span id="cb90-8" d__=""><a href="#cb90-8"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> y <span class="op" d__="">=</span> ctan<span class="op" d__="">(</span>x<span class="op" d__="">);</span></span>
<span id="cb90-9"><a href="#cb90-9"></a></span>
<span id="cb90-10" d__=""><a href="#cb90-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Result: </span><span class="sc" d__="">%f</span><span class="st" d__=""> + </span><span class="sc" d__="">%f</span><span class="st" d__="">i</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> creal<span class="op" d__="">(</span>y<span class="op" d__="">),</span> cimag<span class="op" d__="">(</span>y<span class="op" d__="">));</span></span>
<span id="cb90-11"><a href="#cb90-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb91-1" d__=""><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>Result: -0.027073 + 1.085990i</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-7" d__="">See Also</h3>
<p d__=""><a href="#man-ccos"><code s__="13" d__="">ccos()</code></a>, <a href="#man-csin"><code s__="13" d__="">csin()</code></a>, <a href="#man-catan"><code s__="13" d__="">catan()</code></a></p>
<hr>
<h2 data-number="4.7" id="man-cacosh" d__=""><span class="header-section-number">4.7</span> <code>cacosh()</code>, <code>cacoshf()</code>, <code>cacoshl()</code></h2>
<p> </p>
<p d__="">Compute the complex arc hyperbolic cosine</p>
<h3 class="unnumbered unlisted" id="synopsis-8" d__="">Synopsis</h3>
<div class="sourceCode" id="cb92"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-3" d__=""><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> cacosh<span class="op" d__="">(</span><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-5" d__=""><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> cacoshf<span class="op" d__="">(</span><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-7" d__=""><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> cacoshl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-8" d__="">Description</h3>
<p d__="">Computes the complex arc hyperbolic cosine of a complex number.</p>
<p d__="">There is a branch cut at values less than <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="13"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></mjx-assistive-mml></mjx-container></span> on the real axis.</p>
<p d__="">The return value will be non-negative on the real number axis, and in the range <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="14"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c5B"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D70B TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D70B TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c5D"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo>−</mo><mi>i</mi><mi>π</mi><mo>,</mo><mo>+</mo><mi>i</mi><mi>π</mi><mo stretchy="false">]</mo></math></mjx-assistive-mml></mjx-container></span> on the imaginary axis.</p>
<h3 class="unnumbered unlisted" id="return-value-8" d__="">Return Value</h3>
<p d__="">Returns the complex arc hyperbolic cosine of <code s__="13">z</code>.</p>
<h3 class="unnumbered unlisted" id="example-8" d__="">Example</h3>
<div class="sourceCode" id="cb93"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb93-1"><a href="#cb93-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb93-2"><a href="#cb93-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb93-3"><a href="#cb93-3"></a></span>
<span id="cb93-4" d__=""><a href="#cb93-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb93-5"><a href="#cb93-5"></a><span class="op" d__="">{</span></span>
<span id="cb93-6" d__=""><a href="#cb93-6"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x <span class="op" d__="">=</span> <span class="dv" d__="">8</span> <span class="op" d__="">+</span> <span class="fl" d__="">1.5708</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span>
<span id="cb93-7"><a href="#cb93-7"></a></span>
<span id="cb93-8" d__=""><a href="#cb93-8"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> y <span class="op" d__="">=</span> cacosh<span class="op" d__="">(</span>x<span class="op" d__="">);</span></span>
<span id="cb93-9"><a href="#cb93-9"></a></span>
<span id="cb93-10" d__=""><a href="#cb93-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Result: </span><span class="sc" d__="">%f</span><span class="st" d__=""> + </span><span class="sc" d__="">%f</span><span class="st" d__="">i</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> creal<span class="op" d__="">(</span>y<span class="op" d__="">),</span> cimag<span class="op" d__="">(</span>y<span class="op" d__="">));</span></span>
<span id="cb93-11"><a href="#cb93-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb94-1" d__=""><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>Result: 2.788006 + 0.195321i</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-8" d__="">See Also</h3>
<p d__=""><a href="#man-casinh"><code s__="13" d__="">casinh()</code></a>, <a href="#man-catanh"><code s__="13" d__="">catanh()</code></a>, <a href="#man-acosh"><code s__="13" d__="">acosh()</code></a></p>
<hr>
<h2 data-number="4.8" id="man-casinh" d__=""><span class="header-section-number">4.8</span> <code>casinh()</code>, <code>casinhf()</code>, <code>casinhl()</code></h2>
<p> </p>
<p d__="">Compute the complex arc hyperbolic sine</p>
<h3 class="unnumbered unlisted" id="synopsis-9" d__="">Synopsis</h3>
<div class="sourceCode" id="cb95"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-3" d__=""><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> casinh<span class="op" d__="">(</span><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-5" d__=""><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> casinhf<span class="op" d__="">(</span><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-7" d__=""><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> casinhl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-9" d__="">Description</h3>
<p d__="">Computes the complex arc hyperbolic sine of a complex number.</p>
<p d__="">There are branch cuts outside <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="15"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c5B"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c5D"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo>−</mo><mi>i</mi><mo>,</mo><mo>+</mo><mi>i</mi><mo stretchy="false">]</mo></math></mjx-assistive-mml></mjx-container></span> on the imaginary axis.</p>
<p d__="">The return value will be unbounded on the real number axis, and in the range <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="16"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c5B"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D70B TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D70B TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c5D"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo>−</mo><mi>i</mi><mi>π</mi><mrow data-mjx-texclass="ORD"><mo>/</mo></mrow><mn>2</mn><mo>,</mo><mo>+</mo><mi>i</mi><mi>π</mi><mrow data-mjx-texclass="ORD"><mo>/</mo></mrow><mn>2</mn><mo stretchy="false">]</mo></math></mjx-assistive-mml></mjx-container></span> on the imaginary axis.</p>
<h3 class="unnumbered unlisted" id="return-value-9" d__="">Return Value</h3>
<p d__="">Returns the complex arc hyperbolic sine of <code s__="13">z</code>.</p>
<h3 class="unnumbered unlisted" id="example-9" d__="">Example</h3>
<div class="sourceCode" id="cb96"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb96-1"><a href="#cb96-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb96-2"><a href="#cb96-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb96-3"><a href="#cb96-3"></a></span>
<span id="cb96-4" d__=""><a href="#cb96-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb96-5"><a href="#cb96-5"></a><span class="op" d__="">{</span></span>
<span id="cb96-6" d__=""><a href="#cb96-6"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x <span class="op" d__="">=</span> <span class="dv" d__="">8</span> <span class="op" d__="">+</span> <span class="fl" d__="">1.5708</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span>
<span id="cb96-7"><a href="#cb96-7"></a></span>
<span id="cb96-8" d__=""><a href="#cb96-8"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> y <span class="op" d__="">=</span> casinh<span class="op" d__="">(</span>x<span class="op" d__="">);</span></span>
<span id="cb96-9"><a href="#cb96-9"></a></span>
<span id="cb96-10" d__=""><a href="#cb96-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Result: </span><span class="sc" d__="">%f</span><span class="st" d__=""> + </span><span class="sc" d__="">%f</span><span class="st" d__="">i</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> creal<span class="op" d__="">(</span>y<span class="op" d__="">),</span> cimag<span class="op" d__="">(</span>y<span class="op" d__="">));</span></span>
<span id="cb96-11"><a href="#cb96-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb97-1" d__=""><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>Result: 2.794970 + 0.192476i</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-9" d__="">See Also</h3>
<p d__=""><a href="#man-cacosh"><code s__="13" d__="">cacosh()</code></a>, <a href="#man-catanh"><code s__="13" d__="">catanh()</code></a>, <a href="#man-asinh"><code s__="13" d__="">asinh()</code></a></p>
<hr>
<h2 data-number="4.9" id="man-catanh" d__=""><span class="header-section-number">4.9</span> <code>catanh()</code>, <code>catanhf()</code>, <code>catanhl()</code></h2>
<p> </p>
<p d__="">Compute the complex arc hyperbolic tangent</p>
<h3 class="unnumbered unlisted" id="synopsis-10" d__="">Synopsis</h3>
<div class="sourceCode" id="cb98"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-3" d__=""><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> catanh<span class="op" d__="">(</span><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-5" d__=""><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> catanhf<span class="op" d__="">(</span><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb98-6"><a href="#cb98-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-7" d__=""><a href="#cb98-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> catanhl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-10" d__="">Description</h3>
<p d__="">Computes the complex arc hyperbolic tangent of a complex number.</p>
<p d__="">There are branch cuts outside <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="17"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c5B"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c5D"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo>−</mo><mn>1</mn><mo>,</mo><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo></math></mjx-assistive-mml></mjx-container></span> on the real axis.</p>
<p d__="">The return value will be unbounded on the real number axis, and in the range <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="18"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c5B"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D70B TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D70B TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c5D"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo>−</mo><mi>i</mi><mi>π</mi><mrow data-mjx-texclass="ORD"><mo>/</mo></mrow><mn>2</mn><mo>,</mo><mo>+</mo><mi>i</mi><mi>π</mi><mrow data-mjx-texclass="ORD"><mo>/</mo></mrow><mn>2</mn><mo stretchy="false">]</mo></math></mjx-assistive-mml></mjx-container></span> on the imaginary axis.</p>
<h3 class="unnumbered unlisted" id="return-value-10" d__="">Return Value</h3>
<p d__="">Returns the complex arc hyperbolic tangent of <code s__="13">z</code>.</p>
<h3 class="unnumbered unlisted" id="example-10" d__="">Example</h3>
<div class="sourceCode" id="cb99"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb99-1"><a href="#cb99-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb99-2"><a href="#cb99-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb99-3"><a href="#cb99-3"></a></span>
<span id="cb99-4" d__=""><a href="#cb99-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb99-5"><a href="#cb99-5"></a><span class="op" d__="">{</span></span>
<span id="cb99-6" d__=""><a href="#cb99-6"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x <span class="op" d__="">=</span> <span class="dv" d__="">8</span> <span class="op" d__="">+</span> <span class="fl" d__="">1.5708</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span>
<span id="cb99-7"><a href="#cb99-7"></a></span>
<span id="cb99-8" d__=""><a href="#cb99-8"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> y <span class="op" d__="">=</span> catanh<span class="op" d__="">(</span>x<span class="op" d__="">);</span></span>
<span id="cb99-9"><a href="#cb99-9"></a></span>
<span id="cb99-10" d__=""><a href="#cb99-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Result: </span><span class="sc" d__="">%f</span><span class="st" d__=""> + </span><span class="sc" d__="">%f</span><span class="st" d__="">i</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> creal<span class="op" d__="">(</span>y<span class="op" d__="">),</span> cimag<span class="op" d__="">(</span>y<span class="op" d__="">));</span></span>
<span id="cb99-11"><a href="#cb99-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb100-1" d__=""><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>Result: 0.120877 + 1.546821i</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-10" d__="">See Also</h3>
<p d__=""><a href="#man-cacosh"><code s__="13" d__="">cacosh()</code></a>, <a href="#man-casinh"><code s__="13" d__="">casinh()</code></a>, <a href="#man-atanh"><code s__="13" d__="">atanh()</code></a></p>
<hr>
<h2 data-number="4.10" id="man-ccosh" d__=""><span class="header-section-number">4.10</span> <code>ccosh()</code>, <code>ccoshf()</code>, <code>ccoshl()</code></h2>
<p> </p>
<p d__="">Compute the complex hyperbolic cosine</p>
<h3 class="unnumbered unlisted" id="synopsis-11" d__="">Synopsis</h3>
<div class="sourceCode" id="cb101"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-3" d__=""><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> ccosh<span class="op" d__="">(</span><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-5" d__=""><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> ccoshf<span class="op" d__="">(</span><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-7" d__=""><a href="#cb101-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> ccoshl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-11" d__="">Description</h3>
<p d__="">Computes the complex hyperbolic cosine of a complex number.</p>
<h3 class="unnumbered unlisted" id="return-value-11" d__="">Return Value</h3>
<p d__="">Returns the complex hyperbolic cosine of <code s__="13">z</code>.</p>
<h3 class="unnumbered unlisted" id="example-11" d__="">Example</h3>
<div class="sourceCode" id="cb102"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb102-1"><a href="#cb102-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb102-2"><a href="#cb102-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb102-3"><a href="#cb102-3"></a></span>
<span id="cb102-4" d__=""><a href="#cb102-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb102-5"><a href="#cb102-5"></a><span class="op" d__="">{</span></span>
<span id="cb102-6" d__=""><a href="#cb102-6"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x <span class="op" d__="">=</span> <span class="dv" d__="">8</span> <span class="op" d__="">+</span> <span class="fl" d__="">1.5708</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span>
<span id="cb102-7"><a href="#cb102-7"></a></span>
<span id="cb102-8" d__=""><a href="#cb102-8"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> y <span class="op" d__="">=</span> ccosh<span class="op" d__="">(</span>x<span class="op" d__="">);</span></span>
<span id="cb102-9"><a href="#cb102-9"></a></span>
<span id="cb102-10" d__=""><a href="#cb102-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Result: </span><span class="sc" d__="">%f</span><span class="st" d__=""> + </span><span class="sc" d__="">%f</span><span class="st" d__="">i</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> creal<span class="op" d__="">(</span>y<span class="op" d__="">),</span> cimag<span class="op" d__="">(</span>y<span class="op" d__="">));</span></span>
<span id="cb102-11"><a href="#cb102-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb103-1" d__=""><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>Result: -0.005475 + 1490.478826i</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-11" d__="">See Also</h3>
<p d__=""><a href="#man-csinh"><code s__="13" d__="">csinh()</code></a>, <a href="#man-ctanh"><code s__="13" d__="">ctanh()</code></a>, <a href="#man-ccos"><code s__="13" d__="">ccos()</code></a></p>
<hr>
<h2 data-number="4.11" id="man-csinh" d__=""><span class="header-section-number">4.11</span> <code>csinh()</code>, <code>csinhf()</code>, <code>csinhl()</code></h2>
<p> </p>
<p d__="">Compute the complex hyperbolic sine</p>
<h3 class="unnumbered unlisted" id="synopsis-12" d__="">Synopsis</h3>
<div class="sourceCode" id="cb104"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-3" d__=""><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> csinh<span class="op" d__="">(</span><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-5" d__=""><a href="#cb104-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> csinhf<span class="op" d__="">(</span><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb104-6"><a href="#cb104-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-7" d__=""><a href="#cb104-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> csinhl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-12" d__="">Description</h3>
<p d__="">Computes the complex hyperbolic sine of a complex number.</p>
<h3 class="unnumbered unlisted" id="return-value-12" d__="">Return Value</h3>
<p d__="">Returns the complex hyperbolic sine of <code s__="13">z</code>.</p>
<h3 class="unnumbered unlisted" id="example-12" d__="">Example</h3>
<div class="sourceCode" id="cb105"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb105-1"><a href="#cb105-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb105-2"><a href="#cb105-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb105-3"><a href="#cb105-3"></a></span>
<span id="cb105-4" d__=""><a href="#cb105-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb105-5"><a href="#cb105-5"></a><span class="op" d__="">{</span></span>
<span id="cb105-6" d__=""><a href="#cb105-6"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x <span class="op" d__="">=</span> <span class="dv" d__="">8</span> <span class="op" d__="">+</span> <span class="fl" d__="">1.5708</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span>
<span id="cb105-7"><a href="#cb105-7"></a></span>
<span id="cb105-8" d__=""><a href="#cb105-8"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> y <span class="op" d__="">=</span> csinh<span class="op" d__="">(</span>x<span class="op" d__="">);</span></span>
<span id="cb105-9"><a href="#cb105-9"></a></span>
<span id="cb105-10" d__=""><a href="#cb105-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Result: </span><span class="sc" d__="">%f</span><span class="st" d__=""> + </span><span class="sc" d__="">%f</span><span class="st" d__="">i</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> creal<span class="op" d__="">(</span>y<span class="op" d__="">),</span> cimag<span class="op" d__="">(</span>y<span class="op" d__="">));</span></span>
<span id="cb105-11"><a href="#cb105-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb106-1" d__=""><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>Result: -0.005475 + 1490.479161i</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-12" d__="">See Also</h3>
<p d__=""><a href="#man-ccosh"><code s__="13" d__="">ccosh()</code></a>, <a href="#man-ctanh"><code s__="13" d__="">ctanh()</code></a>, <a href="#man-csin"><code s__="13" d__="">csin()</code></a></p>
<hr>
<h2 data-number="4.12" id="man-ctanh" d__=""><span class="header-section-number">4.12</span> <code>ctanh()</code>, <code>ctanhf()</code>, <code>ctanhl()</code></h2>
<p> </p>
<p d__="">Compute the complex hyperbolic tangent</p>
<h3 class="unnumbered unlisted" id="synopsis-13" d__="">Synopsis</h3>
<div class="sourceCode" id="cb107"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-3" d__=""><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> ctanh<span class="op" d__="">(</span><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-5" d__=""><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> ctanhf<span class="op" d__="">(</span><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb107-6"><a href="#cb107-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-7" d__=""><a href="#cb107-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> ctanhl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-13" d__="">Description</h3>
<p d__="">Computes the complex hyperbolic tangent of a complex number.</p>
<h3 class="unnumbered unlisted" id="return-value-13" d__="">Return Value</h3>
<p d__="">Returns the complex hyperbolic tangent of <code s__="13">z</code>.</p>
<h3 class="unnumbered unlisted" id="example-13" d__="">Example</h3>
<div class="sourceCode" id="cb108"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb108-1"><a href="#cb108-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb108-2"><a href="#cb108-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb108-3"><a href="#cb108-3"></a></span>
<span id="cb108-4" d__=""><a href="#cb108-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb108-5"><a href="#cb108-5"></a><span class="op" d__="">{</span></span>
<span id="cb108-6" d__=""><a href="#cb108-6"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x <span class="op" d__="">=</span> <span class="dv" d__="">8</span> <span class="op" d__="">+</span> <span class="fl" d__="">1.5708</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span>
<span id="cb108-7"><a href="#cb108-7"></a></span>
<span id="cb108-8" d__=""><a href="#cb108-8"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> y <span class="op" d__="">=</span> ctanh<span class="op" d__="">(</span>x<span class="op" d__="">);</span></span>
<span id="cb108-9"><a href="#cb108-9"></a></span>
<span id="cb108-10" d__=""><a href="#cb108-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Result: </span><span class="sc" d__="">%f</span><span class="st" d__=""> + </span><span class="sc" d__="">%f</span><span class="st" d__="">i</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> creal<span class="op" d__="">(</span>y<span class="op" d__="">),</span> cimag<span class="op" d__="">(</span>y<span class="op" d__="">));</span></span>
<span id="cb108-11"><a href="#cb108-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb109-1" d__=""><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>Result: 1.000000 + -0.000000i</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-13" d__="">See Also</h3>
<p d__=""><a href="#man-ccosh"><code s__="13" d__="">ccosh()</code></a>, <a href="#man-csinh"><code s__="13" d__="">csinh()</code></a>, <a href="#man-ctan"><code s__="13" d__="">ctan()</code></a></p>
<hr>
<h2 data-number="4.13" id="man-cexp" d__=""><span class="header-section-number">4.13</span> <code>cexp()</code>, <code>cexpf()</code>, <code>cexpl()</code></h2>
<p> </p>
<p d__="">Compute the complex base-<span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="19"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi></math></mjx-assistive-mml></mjx-container></span> exponential</p>
<h3 class="unnumbered unlisted" id="synopsis-14" d__="">Synopsis</h3>
<div class="sourceCode" id="cb110"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-3" d__=""><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> cexp<span class="op" d__="">(</span><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-5" d__=""><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> cexpf<span class="op" d__="">(</span><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb110-6"><a href="#cb110-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-7" d__=""><a href="#cb110-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> cexpl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-14" d__="">Description</h3>
<p d__="">Computes the complex base-<span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="20"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi></math></mjx-assistive-mml></mjx-container></span> exponential of <code s__="13">z</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-14" d__="">Return Value</h3>
<p d__="">Returns the complex base-<span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="21"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi></math></mjx-assistive-mml></mjx-container></span> exponential of <code s__="13">z</code>.</p>
<h3 class="unnumbered unlisted" id="example-14" d__="">Example</h3>
<div class="sourceCode" id="cb111"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb111-1"><a href="#cb111-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb111-2"><a href="#cb111-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb111-3"><a href="#cb111-3"></a></span>
<span id="cb111-4" d__=""><a href="#cb111-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb111-5"><a href="#cb111-5"></a><span class="op" d__="">{</span></span>
<span id="cb111-6" d__=""><a href="#cb111-6"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x <span class="op" d__="">=</span> <span class="dv" d__="">1</span> <span class="op" d__="">+</span> <span class="dv" d__="">2</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span>
<span id="cb111-7"><a href="#cb111-7"></a></span>
<span id="cb111-8" d__=""><a href="#cb111-8"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> y <span class="op" d__="">=</span> cexp<span class="op" d__="">(</span>x<span class="op" d__="">);</span></span>
<span id="cb111-9"><a href="#cb111-9"></a></span>
<span id="cb111-10" d__=""><a href="#cb111-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Result: </span><span class="sc" d__="">%f</span><span class="st" d__=""> + </span><span class="sc" d__="">%f</span><span class="st" d__="">i</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> creal<span class="op" d__="">(</span>y<span class="op" d__="">),</span> cimag<span class="op" d__="">(</span>y<span class="op" d__="">));</span></span>
<span id="cb111-11"><a href="#cb111-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb112-1" d__=""><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>Result: -1.131204 + 2.471727i</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-14" d__="">See Also</h3>
<p d__=""><a href="#man-cpow"><code s__="13" d__="">cpow()</code></a>, <a href="#man-clog"><code s__="13" d__="">clog()</code></a>, <a href="#man-exp"><code s__="13" d__="">exp()</code></a></p>
<hr>
<h2 data-number="4.14" id="man-clog" d__=""><span class="header-section-number">4.14</span> <code>clog()</code>, <code>clogf()</code>, <code>clogl()</code></h2>
<p> </p>
<p d__="">Compute the complex logarithm</p>
<h3 class="unnumbered unlisted" id="synopsis-15" d__="">Synopsis</h3>
<div class="sourceCode" id="cb113"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-3" d__=""><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> clog<span class="op" d__="">(</span><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-5" d__=""><a href="#cb113-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> clogf<span class="op" d__="">(</span><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb113-6"><a href="#cb113-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-7" d__=""><a href="#cb113-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> clogl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-15" d__="">Description</h3>
<p d__="">Compute the base-<span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="22"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi></math></mjx-assistive-mml></mjx-container></span> complex logarithm of <code s__="13">z</code>. There is a branch cut on the negative real axis.</p>
<p d__="">The returns value is unbounded on the real axis and in the range <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="23"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c5B"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D70B TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D70B TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c5D"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo>−</mo><mi>i</mi><mi>π</mi><mo>,</mo><mo>+</mo><mi>i</mi><mi>π</mi><mo stretchy="false">]</mo></math></mjx-assistive-mml></mjx-container></span> on the imaginary axis.</p>
<h3 class="unnumbered unlisted" id="return-value-15" d__="">Return Value</h3>
<p d__="">Returns the base-<span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="24"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi></math></mjx-assistive-mml></mjx-container></span> complex logarithm of <code s__="13">z</code>.</p>
<h3 class="unnumbered unlisted" id="example-15" d__="">Example</h3>
<div class="sourceCode" id="cb114"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb114-1"><a href="#cb114-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb114-2"><a href="#cb114-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb114-3"><a href="#cb114-3"></a></span>
<span id="cb114-4" d__=""><a href="#cb114-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb114-5"><a href="#cb114-5"></a><span class="op" d__="">{</span></span>
<span id="cb114-6" d__=""><a href="#cb114-6"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x <span class="op" d__="">=</span> <span class="dv" d__="">1</span> <span class="op" d__="">+</span> <span class="dv" d__="">2</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span>
<span id="cb114-7"><a href="#cb114-7"></a></span>
<span id="cb114-8" d__=""><a href="#cb114-8"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> y <span class="op" d__="">=</span> clog<span class="op" d__="">(</span>x<span class="op" d__="">);</span></span>
<span id="cb114-9"><a href="#cb114-9"></a></span>
<span id="cb114-10" d__=""><a href="#cb114-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Result: </span><span class="sc" d__="">%f</span><span class="st" d__=""> + </span><span class="sc" d__="">%f</span><span class="st" d__="">i</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> creal<span class="op" d__="">(</span>y<span class="op" d__="">),</span> cimag<span class="op" d__="">(</span>y<span class="op" d__="">));</span></span>
<span id="cb114-11"><a href="#cb114-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb115-1" d__=""><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>Result: 0.804719 + 1.107149i</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-15" d__="">See Also</h3>
<p d__=""><a href="#man-cexp"><code s__="13" d__="">cexp()</code></a>, <a href="#man-log"><code s__="13" d__="">log()</code></a></p>
<hr>
<h2 data-number="4.15" id="man-cabs" d__=""><span class="header-section-number">4.15</span> <code>cabs()</code>, <code>cabsf()</code>, <code>cabsl()</code></h2>
<p> </p>
<p d__="">Compute the complex absolute value</p>
<h3 class="unnumbered unlisted" id="synopsis-16" d__="">Synopsis</h3>
<div class="sourceCode" id="cb116"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-3" d__=""><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> cabs<span class="op" d__="">(</span><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-5" d__=""><a href="#cb116-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> cabsf<span class="op" d__="">(</span><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb116-6"><a href="#cb116-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-7" d__=""><a href="#cb116-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> cabsl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-16" d__="">Description</h3>
<p d__="">Computes the complex absolute value of <code s__="13">z</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-16" d__="">Return Value</h3>
<p d__="">Returns the complex absolute value of <code s__="13">z</code>.</p>
<h3 class="unnumbered unlisted" id="example-16" d__="">Example</h3>
<div class="sourceCode" id="cb117"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb117-1"><a href="#cb117-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb117-2"><a href="#cb117-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb117-3"><a href="#cb117-3"></a></span>
<span id="cb117-4" d__=""><a href="#cb117-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb117-5"><a href="#cb117-5"></a><span class="op" d__="">{</span></span>
<span id="cb117-6" d__=""><a href="#cb117-6"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x <span class="op" d__="">=</span> <span class="dv" d__="">1</span> <span class="op" d__="">+</span> <span class="dv" d__="">2</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span>
<span id="cb117-7"><a href="#cb117-7"></a></span>
<span id="cb117-8" d__=""><a href="#cb117-8"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> y <span class="op" d__="">=</span> cabs<span class="op" d__="">(</span>x<span class="op" d__="">);</span></span>
<span id="cb117-9"><a href="#cb117-9"></a></span>
<span id="cb117-10" d__=""><a href="#cb117-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Result: </span><span class="sc" d__="">%f</span><span class="st" d__=""> + </span><span class="sc" d__="">%f</span><span class="st" d__="">i</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> creal<span class="op" d__="">(</span>y<span class="op" d__="">),</span> cimag<span class="op" d__="">(</span>y<span class="op" d__="">));</span></span>
<span id="cb117-11"><a href="#cb117-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb118-1" d__=""><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>Result: 2.236068 + 0.000000i</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-16" d__="">See Also</h3>
<p d__=""><a href="#man-fabs"><code s__="13" d__="">fabs()</code></a>, <a href="#man-abs"><code s__="13" d__="">abs()</code></a></p>
<hr>
<h2 data-number="4.16" id="man-cpow" d__=""><span class="header-section-number">4.16</span> <code>cpow()</code>, <code>cpowf()</code>, <code>cpowl()</code></h2>
<p> </p>
<p d__="">Compute complex power</p>
<h3 class="unnumbered unlisted" id="synopsis-17" d__="">Synopsis</h3>
<div class="sourceCode" id="cb119"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-3" d__=""><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> cpow<span class="op" d__="">(</span><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x<span class="op" d__="">,</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> y<span class="op" d__="">);</span></span>
<span id="cb119-4"><a href="#cb119-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-5" d__=""><a href="#cb119-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> cpowf<span class="op" d__="">(</span><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> x<span class="op" d__="">,</span> <span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> y<span class="op" d__="">);</span></span>
<span id="cb119-6"><a href="#cb119-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-7" d__=""><a href="#cb119-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> cpowl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x<span class="op" d__="">,</span></span>
<span id="cb119-8" d__=""><a href="#cb119-8" aria-hidden="true" tabindex="-1"></a>                          <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> y<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-17" d__="">Description</h3>
<p d__="">Computes the complex <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="25"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msup><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.363em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>x</mi><mi s__="13">y</mi></msup></math></mjx-assistive-mml></mjx-container></span>.</p>
<p d__="">There is a branch cut for <code s__="13">x</code> along the negative real axis.</p>
<h3 class="unnumbered unlisted" id="return-value-17" d__="">Return Value</h3>
<p d__="">Returns the complex <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="26"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msup><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.363em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>x</mi><mi s__="13">y</mi></msup></math></mjx-assistive-mml></mjx-container></span>.</p>
<h3 class="unnumbered unlisted" id="example-17" d__="">Example</h3>
<div class="sourceCode" id="cb120"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb120-1"><a href="#cb120-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb120-2"><a href="#cb120-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb120-3"><a href="#cb120-3"></a></span>
<span id="cb120-4" d__=""><a href="#cb120-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb120-5"><a href="#cb120-5"></a><span class="op" d__="">{</span></span>
<span id="cb120-6" d__=""><a href="#cb120-6"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x <span class="op" d__="">=</span> <span class="dv" d__="">1</span> <span class="op" d__="">+</span> <span class="dv" d__="">2</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span>
<span id="cb120-7" d__=""><a href="#cb120-7"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> y <span class="op" d__="">=</span> <span class="dv" d__="">3</span> <span class="op" d__="">+</span> <span class="dv" d__="">4</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span>
<span id="cb120-8"><a href="#cb120-8"></a></span>
<span id="cb120-9" d__=""><a href="#cb120-9"></a>    <span class="dt" d__="">double</span> r <span class="op" d__="">=</span> cpow<span class="op" d__="">(</span>x<span class="op" d__="">,</span> y<span class="op" d__="">);</span></span>
<span id="cb120-10"><a href="#cb120-10"></a></span>
<span id="cb120-11" d__=""><a href="#cb120-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Result: </span><span class="sc" d__="">%f</span><span class="st" d__=""> + </span><span class="sc" d__="">%f</span><span class="st" d__="">i</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> creal<span class="op" d__="">(</span>r<span class="op" d__="">),</span> cimag<span class="op" d__="">(</span>r<span class="op" d__="">));</span></span>
<span id="cb120-12"><a href="#cb120-12"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Result:</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb121-1" d__=""><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>Result: 0.129010 + 0.000000i</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-17" d__="">See Also</h3>
<p d__=""><a href="#man-csqrt"><code s__="13" d__="">csqrt()</code></a>, <a href="#man-cexp"><code s__="13" d__="">cexp()</code></a></p>
<hr>
<h2 data-number="4.17" id="man-csqrt" d__=""><span class="header-section-number">4.17</span> <code>csqrt()</code>, <code>csqrtf()</code>, <code>csqrtl()</code></h2>
<p> </p>
<p d__="">Compute the complex square root</p>
<h3 class="unnumbered unlisted" id="synopsis-18" d__="">Synopsis</h3>
<div class="sourceCode" id="cb122"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-3" d__=""><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> csqrt<span class="op" d__="">(</span><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-5" d__=""><a href="#cb122-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> csqrtf<span class="op" d__="">(</span><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb122-6"><a href="#cb122-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-7" d__=""><a href="#cb122-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> csqrtl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-18" d__="">Description</h3>
<p d__="">Computes the complex square root of <code s__="13">z</code>.</p>
<p d__="">There is a branch cut along the negative real axis.</p>
<p d__="">The return value is in the right half of the complex plane and includes the imaginary axis.</p>
<h3 class="unnumbered unlisted" id="return-value-18" d__="">Return Value</h3>
<p d__="">Returns the complex square root of <code s__="13">z</code>.</p>
<h3 class="unnumbered unlisted" id="example-18" d__="">Example</h3>
<div class="sourceCode" id="cb123"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb123-1"><a href="#cb123-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb123-2"><a href="#cb123-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb123-3"><a href="#cb123-3"></a></span>
<span id="cb123-4" d__=""><a href="#cb123-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb123-5"><a href="#cb123-5"></a><span class="op" d__="">{</span></span>
<span id="cb123-6" d__=""><a href="#cb123-6"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x <span class="op" d__="">=</span> <span class="dv" d__="">1</span> <span class="op" d__="">+</span> <span class="dv" d__="">2</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span>
<span id="cb123-7"><a href="#cb123-7"></a></span>
<span id="cb123-8" d__=""><a href="#cb123-8"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> y <span class="op" d__="">=</span> csqrt<span class="op" d__="">(</span>x<span class="op" d__="">);</span></span>
<span id="cb123-9"><a href="#cb123-9"></a></span>
<span id="cb123-10" d__=""><a href="#cb123-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Result: </span><span class="sc" d__="">%f</span><span class="st" d__=""> + </span><span class="sc" d__="">%f</span><span class="st" d__="">i</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> creal<span class="op" d__="">(</span>y<span class="op" d__="">),</span> cimag<span class="op" d__="">(</span>y<span class="op" d__="">));</span></span>
<span id="cb123-11"><a href="#cb123-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb124-1" d__=""><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>Result: 1.272020 + 0.786151i</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-18" d__="">See Also</h3>
<p d__=""><a href="#man-cpow"><code s__="13" d__="">cpow()</code></a>, <a href="#man-sqrt"><code s__="13" d__="">sqrt()</code></a></p>
<hr>
<h2 data-number="4.18" id="man-carg" d__=""><span class="header-section-number">4.18</span> <code>carg()</code>, <code>cargf()</code>, <code>cargl()</code></h2>
<p> </p>
<p d__="">Compute the complex argument</p>
<h3 class="unnumbered unlisted" id="synopsis-19" d__="">Synopsis</h3>
<div class="sourceCode" id="cb125"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-3" d__=""><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> carg<span class="op" d__="">(</span><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb125-4"><a href="#cb125-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-5" d__=""><a href="#cb125-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> cargf<span class="op" d__="">(</span><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb125-6"><a href="#cb125-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-7" d__=""><a href="#cb125-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> cargl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-19" d__="">Description</h3>
<p d__="">Computes the complex argument (AKA phase angle) of <code s__="13">z</code>.</p>
<p d__="">There is a branch cut along the negative real axis.</p>
<p d__="">Returns a value in the range <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="27"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c5B"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D70B TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D70B TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c5D"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo>−</mo><mi>π</mi><mo>,</mo><mo>+</mo><mi>π</mi><mo stretchy="false">]</mo></math></mjx-assistive-mml></mjx-container></span>.</p>
<h3 class="unnumbered unlisted" id="return-value-19" d__="">Return Value</h3>
<p d__="">Returns the complex argument of <code s__="13">z</code>.</p>
<h3 class="unnumbered unlisted" id="example-19" d__="">Example</h3>
<div class="sourceCode" id="cb126"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb126-1"><a href="#cb126-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb126-2"><a href="#cb126-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb126-3"><a href="#cb126-3"></a></span>
<span id="cb126-4" d__=""><a href="#cb126-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb126-5"><a href="#cb126-5"></a><span class="op" d__="">{</span></span>
<span id="cb126-6" d__=""><a href="#cb126-6"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x <span class="op" d__="">=</span> <span class="dv" d__="">1</span> <span class="op" d__="">+</span> <span class="dv" d__="">2</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span>
<span id="cb126-7"><a href="#cb126-7"></a></span>
<span id="cb126-8" d__=""><a href="#cb126-8"></a>    <span class="dt" d__="">double</span> y <span class="op" d__="">=</span> carg<span class="op" d__="">(</span>x<span class="op" d__="">);</span></span>
<span id="cb126-9"><a href="#cb126-9"></a></span>
<span id="cb126-10" d__=""><a href="#cb126-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Result: </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> y<span class="op" d__="">);</span></span>
<span id="cb126-11"><a href="#cb126-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb127-1" d__=""><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>Result: 1.107149</span></code></pre></div>
<!--
### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<hr>
<h2 data-number="4.19" id="man-cimag" d__=""><span class="header-section-number">4.19</span> <code>cimag()</code>, <code>cimagf()</code>, <code>cimagl()</code></h2>
<p> </p>
<p d__="">Returns the imaginary part of a complex number</p>
<h3 class="unnumbered unlisted" id="synopsis-20" d__="">Synopsis</h3>
<div class="sourceCode" id="cb128"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-3" d__=""><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> cimag<span class="op" d__="">(</span><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb128-4"><a href="#cb128-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-5" d__=""><a href="#cb128-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> cimagf<span class="op" d__="">(</span><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb128-6"><a href="#cb128-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-7" d__=""><a href="#cb128-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> cimagl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-20" d__="">Description</h3>
<p d__="">Returns the imaginary part of <code s__="13">z</code>.</p>
<p d__="">As a footnote, the spec points out that any complex number <code s__="13">x</code> is part of the following equivalency:</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb129-1" d__=""><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>x <span class="op" d__="">==</span> creal<span class="op" d__="">(</span>x<span class="op" d__="">)</span> <span class="op" d__="">+</span> cimag<span class="op" d__="">(</span>x<span class="op" d__="">)</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="return-value-20" d__="">Return Value</h3>
<p d__="">Returns the imaginary part of <code s__="13">z</code>.</p>
<h3 class="unnumbered unlisted" id="example-20" d__="">Example</h3>
<div class="sourceCode" id="cb130"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb130-1"><a href="#cb130-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb130-2"><a href="#cb130-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb130-3"><a href="#cb130-3"></a></span>
<span id="cb130-4" d__=""><a href="#cb130-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb130-5"><a href="#cb130-5"></a><span class="op" d__="">{</span></span>
<span id="cb130-6" d__=""><a href="#cb130-6"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x <span class="op" d__="">=</span> <span class="dv" d__="">1</span> <span class="op" d__="">+</span> <span class="dv" d__="">2</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span>
<span id="cb130-7"><a href="#cb130-7"></a></span>
<span id="cb130-8" d__=""><a href="#cb130-8"></a>    <span class="dt" d__="">double</span> y <span class="op" d__="">=</span> cimag<span class="op" d__="">(</span>x<span class="op" d__="">);</span></span>
<span id="cb130-9"><a href="#cb130-9"></a></span>
<span id="cb130-10" d__=""><a href="#cb130-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Result: </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> y<span class="op" d__="">);</span></span>
<span id="cb130-11"><a href="#cb130-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output—just the imaginary part:</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb131-1" d__=""><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>Result: 2.000000</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-19" d__="">See Also</h3>
<p><a href="#man-creal"><code s__="13" d__="">creal()</code></a></p>
<hr>
<h2 data-number="4.20" id="man-CMPLX" d__=""><span class="header-section-number">4.20</span> <code>CMPLX()</code>, <code>CMPLXF()</code>, <code>CMPLXL()</code></h2>
<p> </p>
<p d__="">Build a complex value from real and imaginary types</p>
<h3 class="unnumbered unlisted" id="synopsis-21" d__="">Synopsis</h3>
<div class="sourceCode" id="cb132"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-3" d__=""><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> CMPLX<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">double</span> y<span class="op" d__="">);</span></span>
<span id="cb132-4"><a href="#cb132-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-5" d__=""><a href="#cb132-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> CMPLXF<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">,</span> <span class="dt" d__="">float</span> y<span class="op" d__="">);</span></span>
<span id="cb132-6"><a href="#cb132-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-7" d__=""><a href="#cb132-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> CMPLXL<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> y<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-21" d__="">Description</h3>
<p d__="">These macros build a complex value from real and imaginary types.</p>
<p d__="">Now I know what you’re thinking. “But I can already build a complex value from real and imaginary types using the <code s__="13">I</code> macro, like in the example you’re about to give us.”</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb133-1" d__=""><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x <span class="op" d__="">=</span> <span class="dv" d__="">1</span> <span class="op" d__="">+</span> <span class="dv" d__="">2</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span></code></pre></div>
<p d__="">And that’s true.</p>
<p d__="">But the reality of the matter is weird and complex.</p>
<p d__="">Maybe <code s__="13">I</code> got undefined, or maybe you redefined it.</p>
<p d__="">Or maybe <code s__="13">I</code> was defined as <code s__="13">_Complex_I</code> which doesn’t necessarily preserve the sign of a zero value.</p>
<p d__="">As the spec points out, these macros build complex numbers as if <code s__="13">_Imaginary_I</code> were defined (thus preserving your zero sign) even if it’s not. That is, they are defined equivalently to:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#define CMPLX</span><span class="op" d__="">(</span><span class="pp" d__="">x</span><span class="op" d__="">,</span><span class="pp" d__=""> y</span><span class="op" d__="">)</span><span class="pp">  </span><span class="op" d__="">((</span><span class="dt" d__="">double</span><span class="pp"> </span><span class="dt" d__="">complex</span><span class="op" d__="">)((</span><span class="dt" d__="">double</span><span class="op" d__="">)(</span><span class="pp" d__="">x</span><span class="op" d__="">)</span><span class="pp"> </span><span class="op" d__="">+</span><span class="pp"> </span><span class="op" d__="">\</span></span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">                     _Imaginary_I </span><span class="op" d__="">*</span><span class="pp"> </span><span class="op" d__="">(</span><span class="dt" d__="">double</span><span class="op" d__="">)(</span><span class="pp" d__="">y</span><span class="op" d__="">)))</span></span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-4"><a href="#cb134-4" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#define CMPLXF</span><span class="op" d__="">(</span><span class="pp" d__="">x</span><span class="op" d__="">,</span><span class="pp" d__=""> y</span><span class="op" d__="">)</span><span class="pp"> </span><span class="op" d__="">((</span><span class="dt" d__="">float</span><span class="pp"> </span><span class="dt" d__="">complex</span><span class="op" d__="">)((</span><span class="dt" d__="">float</span><span class="op" d__="">)(</span><span class="pp" d__="">x</span><span class="op" d__="">)</span><span class="pp"> </span><span class="op" d__="">+</span><span class="pp"> </span><span class="op" d__="">\</span></span>
<span id="cb134-5"><a href="#cb134-5" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">                     _Imaginary_I </span><span class="op" d__="">*</span><span class="pp"> </span><span class="op" d__="">(</span><span class="dt" d__="">float</span><span class="op" d__="">)(</span><span class="pp" d__="">y</span><span class="op" d__="">)))</span></span>
<span id="cb134-6"><a href="#cb134-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-7"><a href="#cb134-7" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#define CMPLXL</span><span class="op" d__="">(</span><span class="pp" d__="">x</span><span class="op" d__="">,</span><span class="pp" d__=""> y</span><span class="op" d__="">)</span><span class="pp"> </span><span class="op" d__="">((</span><span class="dt" d__="">long</span><span class="pp"> </span><span class="dt" d__="">double</span><span class="pp"> </span><span class="dt" d__="">complex</span><span class="op" d__="">)((</span><span class="dt" d__="">long</span><span class="pp"> </span><span class="dt" d__="">double</span><span class="op" d__="">)(</span><span class="pp" d__="">x</span><span class="op" d__="">)</span><span class="pp"> </span><span class="op" d__="">+</span><span class="pp"> </span><span class="op" d__="">\</span></span>
<span id="cb134-8"><a href="#cb134-8" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">                     _Imaginary_I </span><span class="op" d__="">*</span><span class="pp"> </span><span class="op" d__="">(</span><span class="dt" d__="">long</span><span class="pp"> </span><span class="dt" d__="">double</span><span class="op" d__="">)(</span><span class="pp" d__="">y</span><span class="op" d__="">)))</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="return-value-21" d__="">Return Value</h3>
<p d__="">Returns the complex number for the given real <code s__="13">x</code> and imaginary <code s__="13">y</code> components.</p>
<h3 class="unnumbered unlisted" id="example-21" d__="">Example</h3>
<div class="sourceCode" id="cb135"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb135-1"><a href="#cb135-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb135-2"><a href="#cb135-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb135-3"><a href="#cb135-3"></a></span>
<span id="cb135-4" d__=""><a href="#cb135-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb135-5"><a href="#cb135-5"></a><span class="op" d__="">{</span></span>
<span id="cb135-6" d__=""><a href="#cb135-6"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x <span class="op" d__="">=</span> CMPLX<span class="op" d__="">(</span><span class="dv" d__="">1</span><span class="op" d__="">,</span> <span class="dv" d__="">2</span><span class="op" d__="">);</span>  <span class="co" d__="">// Like 1 + 2 * I</span></span>
<span id="cb135-7"><a href="#cb135-7"></a></span>
<span id="cb135-8" d__=""><a href="#cb135-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Result: </span><span class="sc" d__="">%f</span><span class="st" d__=""> + </span><span class="sc" d__="">%f</span><span class="st" d__="">i</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> creal<span class="op" d__="">(</span>x<span class="op" d__="">),</span> cimag<span class="op" d__="">(</span>x<span class="op" d__="">));</span></span>
<span id="cb135-9"><a href="#cb135-9"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb136-1" d__=""><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>Result: 1.000000 + 2.000000i</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-20" d__="">See Also</h3>
<p d__=""><a href="#man-creal"><code s__="13" d__="">creal()</code></a>, <a href="#man-cimag"><code s__="13" d__="">cimag()</code></a></p>
<hr>
<h2 data-number="4.21" id="man-conj" d__=""><span class="header-section-number">4.21</span> <code>conj()</code>, <code>conjf()</code>, <code>conjl()</code></h2>
<p> </p>
<p d__="">Compute the conjugate of a complex number</p>
<h3 class="unnumbered unlisted" id="synopsis-22" d__="">Synopsis</h3>
<div class="sourceCode" id="cb137"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-3" d__=""><a href="#cb137-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> conj<span class="op" d__="">(</span><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb137-4"><a href="#cb137-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-5" d__=""><a href="#cb137-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> conjf<span class="op" d__="">(</span><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb137-6"><a href="#cb137-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-7" d__=""><a href="#cb137-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> conjl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-22" d__="">Description</h3>
<p d__="">This function computes the <a href="https://en.wikipedia.org/wiki/Complex_conjugate" d__="">complex conjugate</a><a href="#fn13" class="footnote-ref" id="fnref13" role="doc-noteref"><sup s__="13" d__="">13</sup></a> of <code s__="13">z</code>. Apparently it does this by reversing the sign of the imaginary part, but dammit, I’m a programmer not a mathematician, Jim!</p>
<h3 class="unnumbered unlisted" id="return-value-22" d__="">Return Value</h3>
<p d__="">Returns the complex conjugate of <code s__="13">z</code></p>
<h3 class="unnumbered unlisted" id="example-22" d__="">Example</h3>
<div class="sourceCode" id="cb138"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb138-1"><a href="#cb138-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb138-2"><a href="#cb138-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb138-3"><a href="#cb138-3"></a></span>
<span id="cb138-4" d__=""><a href="#cb138-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb138-5"><a href="#cb138-5"></a><span class="op" d__="">{</span></span>
<span id="cb138-6" d__=""><a href="#cb138-6"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x <span class="op" d__="">=</span> <span class="dv" d__="">1</span> <span class="op" d__="">+</span> <span class="dv" d__="">2</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span>
<span id="cb138-7"><a href="#cb138-7"></a></span>
<span id="cb138-8" d__=""><a href="#cb138-8"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> y <span class="op" d__="">=</span> conj<span class="op" d__="">(</span>x<span class="op" d__="">);</span></span>
<span id="cb138-9"><a href="#cb138-9"></a></span>
<span id="cb138-10" d__=""><a href="#cb138-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Result: </span><span class="sc" d__="">%f</span><span class="st" d__=""> + </span><span class="sc" d__="">%f</span><span class="st" d__="">i</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> creal<span class="op" d__="">(</span>y<span class="op" d__="">),</span> cimag<span class="op" d__="">(</span>y<span class="op" d__="">));</span></span>
<span id="cb138-11"><a href="#cb138-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb139-1" d__=""><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>Result: 1.000000 + -2.000000i</span></code></pre></div>
<!--
### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<hr>
<h2 data-number="4.22" id="man-cproj" d__=""><span class="header-section-number">4.22</span> <code>cproj()</code>, <code>cproj()</code>, <code>cproj()</code></h2>
<p> </p>
<p d__="">Compute the projection of a complex number</p>
<h3 class="unnumbered unlisted" id="synopsis-23" d__="">Synopsis</h3>
<div class="sourceCode" id="cb140"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-3" d__=""><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> cproj<span class="op" d__="">(</span><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb140-4"><a href="#cb140-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-5" d__=""><a href="#cb140-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> cprojf<span class="op" d__="">(</span><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb140-6"><a href="#cb140-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-7" d__=""><a href="#cb140-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> cprojl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-23" d__="">Description</h3>
<p d__="">Computes the projection of <code s__="13">z</code> onto a <a href="https://en.wikipedia.org/wiki/Riemann_sphere" d__="">Riemann sphere</a><a href="#fn14" class="footnote-ref" id="fnref14" role="doc-noteref"><sup s__="13" d__="">14</sup></a>.</p>
<p d__="">Now we’re <em>really</em> outside my expertise. The spec has 
this to say, which I’m quoting verbatim because I’m not knowledgable 
enough to rewrite it sensibly. Hopefully it makes sense to anyone who 
would need to use this function.</p>
<blockquote>
<p d__=""><code s__="13">z</code> projects to <code s__="13">z</code> except that all complex infinities (even those with one infinite part and one <code s__="13">NaN</code> part) project to positive infinity on the real axis. If <code s__="13">z</code> has an infinite part, then <code s__="13">cproj(z)</code> is equivalent to</p>
<pre><code s__="13" d__="">INFINITY + I * copysign(0.0, cimag(z))</code></pre>
</blockquote>
<p d__="">So there you have it.</p>
<h3 class="unnumbered unlisted" id="return-value-23" d__="">Return Value</h3>
<p d__="">Returns the projection of <code s__="13">z</code> onto a Riemann sphere.</p>
<h3 class="unnumbered unlisted" id="example-23" d__="">Example</h3>
<p d__="">Fingers crossed this is a remotely sane example…</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb142-1"><a href="#cb142-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb142-2"><a href="#cb142-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb142-3"><a href="#cb142-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb142-4"><a href="#cb142-4"></a></span>
<span id="cb142-5" d__=""><a href="#cb142-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb142-6"><a href="#cb142-6"></a><span class="op" d__="">{</span></span>
<span id="cb142-7" d__=""><a href="#cb142-7"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x <span class="op" d__="">=</span> <span class="dv" d__="">1</span> <span class="op" d__="">+</span> <span class="dv" d__="">2</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span>
<span id="cb142-8"><a href="#cb142-8"></a></span>
<span id="cb142-9" d__=""><a href="#cb142-9"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> y <span class="op" d__="">=</span> cproj<span class="op" d__="">(</span>x<span class="op" d__="">);</span></span>
<span id="cb142-10"><a href="#cb142-10"></a></span>
<span id="cb142-11" d__=""><a href="#cb142-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Result: </span><span class="sc" d__="">%f</span><span class="st" d__=""> + </span><span class="sc" d__="">%f</span><span class="st" d__="">i</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> creal<span class="op" d__="">(</span>y<span class="op" d__="">),</span> cimag<span class="op" d__="">(</span>y<span class="op" d__="">));</span></span>
<span id="cb142-12"><a href="#cb142-12"></a></span>
<span id="cb142-13" d__=""><a href="#cb142-13"></a>    x <span class="op" d__="">=</span> INFINITY <span class="op" d__="">+</span> <span class="dv" d__="">2</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span>
<span id="cb142-14" d__=""><a href="#cb142-14"></a>    y <span class="op" d__="">=</span> cproj<span class="op" d__="">(</span>x<span class="op" d__="">);</span></span>
<span id="cb142-15"><a href="#cb142-15"></a></span>
<span id="cb142-16" d__=""><a href="#cb142-16"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Result: </span><span class="sc" d__="">%f</span><span class="st" d__=""> + </span><span class="sc" d__="">%f</span><span class="st" d__="">i</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> creal<span class="op" d__="">(</span>y<span class="op" d__="">),</span> cimag<span class="op" d__="">(</span>y<span class="op" d__="">));</span></span>
<span id="cb142-17"><a href="#cb142-17"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb143-1" d__=""><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a>Result: 1.000000 + 2.000000i</span>
<span id="cb143-2" d__=""><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a>Result: inf + 0.000000i</span></code></pre></div>
<!--
### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<hr>
<h2 data-number="4.23" id="man-creal" d__=""><span class="header-section-number">4.23</span> <code>creal()</code>, <code>crealf()</code>, <code>creall()</code></h2>
<p> </p>
<p d__="">Returns the real part of a complex number</p>
<h3 class="unnumbered unlisted" id="synopsis-24" d__="">Synopsis</h3>
<div class="sourceCode" id="cb144"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-3" d__=""><a href="#cb144-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> creal<span class="op" d__="">(</span><span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb144-4"><a href="#cb144-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-5" d__=""><a href="#cb144-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> crealf<span class="op" d__="">(</span><span class="dt" d__="">float</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span>
<span id="cb144-6"><a href="#cb144-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-7" d__=""><a href="#cb144-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> creall<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-24" d__="">Description</h3>
<p d__="">Returns the real part of <code s__="13">z</code>.</p>
<p d__="">As a footnote, the spec points out that any complex number <code s__="13">x</code> is part of the following equivalency:</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb145-1" d__=""><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a>x <span class="op" d__="">==</span> creal<span class="op" d__="">(</span>x<span class="op" d__="">)</span> <span class="op" d__="">+</span> cimag<span class="op" d__="">(</span>x<span class="op" d__="">)</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="return-value-24" d__="">Return Value</h3>
<p d__="">Returns the real part of <code s__="13">z</code>.</p>
<h3 class="unnumbered unlisted" id="example-24" d__="">Example</h3>
<div class="sourceCode" id="cb146"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb146-1"><a href="#cb146-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb146-2"><a href="#cb146-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;complex.h&gt;</span></span>
<span id="cb146-3"><a href="#cb146-3"></a></span>
<span id="cb146-4" d__=""><a href="#cb146-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb146-5"><a href="#cb146-5"></a><span class="op" d__="">{</span></span>
<span id="cb146-6" d__=""><a href="#cb146-6"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> x <span class="op" d__="">=</span> <span class="dv" d__="">1</span> <span class="op" d__="">+</span> <span class="dv" d__="">2</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span>
<span id="cb146-7"><a href="#cb146-7"></a></span>
<span id="cb146-8" d__=""><a href="#cb146-8"></a>    <span class="dt" d__="">double</span> y <span class="op" d__="">=</span> creal<span class="op" d__="">(</span>x<span class="op" d__="">);</span></span>
<span id="cb146-9"><a href="#cb146-9"></a></span>
<span id="cb146-10" d__=""><a href="#cb146-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Result: </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> y<span class="op" d__="">);</span></span>
<span id="cb146-11"><a href="#cb146-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output—just the real part:</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb147-1" d__=""><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>Result: 1.000000</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-21" d__="">See Also</h3>
<p><a href="#man-cimag"><code s__="13" d__="">cimag()</code></a></p>
<!--
***
## `example()` `example()` `example()` {#man-example}

### Synopsis {.unnumbered .unlisted}

``` {.c}
```

### Description {.unnumbered .unlisted}

### Return Value {.unnumbered .unlisted}

### Example {.unnumbered .unlisted}

``` {.c .numberLines}
```

### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="5" id="ctype" d__=""><span class="header-section-number">5</span> <code>&lt;ctype.h&gt;</code> Character Classification and Conversion</h1>
<p></p>
<table>
<colgroup>
<col style="width: 26%">
<col style="width: 73%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Function</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#man-isalnum"><code s__="13" d__="">isalnum()</code></a></td>
<td d__="">Tests if a character is alphabetic or is a digit</td>
</tr>
<tr class="even">
<td><a href="#man-isalpha"><code s__="13" d__="">isalpha()</code></a></td>
<td d__="">Returns true if a character is alphabetic</td>
</tr>
<tr class="odd">
<td><a href="#man-isblank"><code s__="13" d__="">isblank()</code></a></td>
<td d__="">Tests if a character is word-separating whitespace</td>
</tr>
<tr class="even">
<td><a href="#man-iscntrl"><code s__="13" d__="">iscntrl()</code></a></td>
<td d__="">Test if a character is a control character</td>
</tr>
<tr class="odd">
<td><a href="#man-isdigit"><code s__="13" d__="">isdigit()</code></a></td>
<td d__="">Tests if a character is a digit</td>
</tr>
<tr class="even">
<td><a href="#man-isgraph"><code s__="13" d__="">isgraph()</code></a></td>
<td d__="">Tests if the character is printable and not a space</td>
</tr>
<tr class="odd">
<td><a href="#man-islower"><code s__="13" d__="">islower()</code></a></td>
<td d__="">Tests if a character is lowercase</td>
</tr>
<tr class="even">
<td><a href="#man-isprint"><code s__="13" d__="">isprint()</code></a></td>
<td d__="">Tests if a character is printable</td>
</tr>
<tr class="odd">
<td><a href="#man-ispunct"><code s__="13" d__="">ispunct()</code></a></td>
<td d__="">Test if a character is punctuation</td>
</tr>
<tr class="even">
<td><a href="#man-isspace"><code s__="13" d__="">isspace()</code></a></td>
<td d__="">Test if a character is whitespace</td>
</tr>
<tr class="odd">
<td><a href="#man-isupper"><code s__="13" d__="">isupper()</code></a></td>
<td d__="">Tests if a character is uppercase</td>
</tr>
<tr class="even">
<td><a href="#man-isxdigit"><code s__="13" d__="">isxdigit()</code></a></td>
<td d__="">Tests if a character is a hexadecimal digit</td>
</tr>
<tr class="odd">
<td><a href="#man-tolower"><code s__="13" d__="">tolower()</code></a></td>
<td d__="">Convert a letter to lowercase</td>
</tr>
<tr class="even">
<td><a href="#man-toupper"><code s__="13" d__="">toupper()</code></a></td>
<td d__="">Convert a letter to uppercase</td>
</tr>
</tbody>
</table>
<p d__="">This collection of macros is good for testing characters to 
see if they’re of a certain class, such as alphabetic, numeric, control 
characters, etc.</p>
<p d__="">Surprisingly, they take <code s__="13">int</code> arguments instead of some kind of <code s__="13">char</code>. This is so you can feed <code s__="13">EOF</code> in for convenience if you have an integer representation of that. If not <code s__="13">EOF</code>, the value passed in has to be representable in an <code s__="13">unsigned char</code>. Otherwise it’s (dun dun DUUNNNN) undefined behavior. So you can forget about passing in your UTF-8 multibyte characters.</p>
<p d__="">You can portably avoid this undefined behavior by casting the arguments to these functions to <code s__="13">(unsigned char)</code>.
 This is irksome and ugly, admittedly. The values in the basic character
 set are all safe to use since they’re positive values that fit into an <code s__="13">unsigned char</code>.</p>
<p d__="">Also, the behavior of these functions varies based on locale.</p>
<p d__="">In many of the pages in this section, I give some examples. 
These are from the “C” locale, and might vary if you’ve set a different 
locale.</p>
<p d__="">Note that wide characters have their own set of classification functions, so don’t try to use these on <code s__="13">wchar_t</code>s. Or <em>else</em>!</p>
<hr>
<h2 data-number="5.1" id="man-isalnum"><span class="header-section-number" d__="">5.1</span> <code d__="">isalnum()</code></h2>
<p></p>
<p d__="">Tests if a character is alphabetic or is a digit</p>
<h3 class="unnumbered unlisted" id="synopsis-25" d__="">Synopsis</h3>
<div class="sourceCode" id="cb148"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb148-2"><a href="#cb148-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb148-3" d__=""><a href="#cb148-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> isalnum<span class="op" d__="">(</span><span class="dt" d__="">int</span> c<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-25" d__="">Description</h3>
<p d__="">Tests if a character is alphabetic (<code s__="13">A</code>-<code s__="13">Z</code> or <code s__="13">a</code>-<code s__="13">z</code>) or a digit (<code s__="13">0</code>-<code s__="13">9</code>).</p>
<p d__="">Is equivalent to:</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb149-1" d__=""><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a>isalpha<span class="op" d__="">(</span>c<span class="op" d__="">)</span> <span class="op" d__="">||</span> isdigit<span class="op" d__="">(</span>c<span class="op" d__="">)</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="return-value-25" d__="">Return Value</h3>
<p d__="">Returns true if a character is alphabetic (<code s__="13">A</code>-<code s__="13">Z</code> or <code s__="13">a</code>-<code s__="13">z</code>) or a digit (<code s__="13">0</code>-<code s__="13">9</code>).</p>
<h3 class="unnumbered unlisted" id="example-25" d__="">Example</h3>
<div class="sourceCode" id="cb150"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb150-1"><a href="#cb150-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb150-2"><a href="#cb150-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb150-3"><a href="#cb150-3"></a></span>
<span id="cb150-4" d__=""><a href="#cb150-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb150-5"><a href="#cb150-5"></a><span class="op" d__="">{</span></span>
<span id="cb150-6"><a href="#cb150-6"></a>    <span class="co" d__="">//             testing this char</span></span>
<span id="cb150-7"><a href="#cb150-7"></a>    <span class="co" d__="">//                      v</span></span>
<span id="cb150-8" d__=""><a href="#cb150-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isalnum<span class="op" d__="">(</span><span class="ch" d__="">'a'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// yes</span></span>
<span id="cb150-9" d__=""><a href="#cb150-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isalnum<span class="op" d__="">(</span><span class="ch" d__="">'B'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// yes</span></span>
<span id="cb150-10" d__=""><a href="#cb150-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isalnum<span class="op" d__="">(</span><span class="ch" d__="">'5'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// yes</span></span>
<span id="cb150-11" d__=""><a href="#cb150-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isalnum<span class="op" d__="">(</span><span class="ch" d__="">'?'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// no</span></span>
<span id="cb150-12"><a href="#cb150-12"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-22" d__="">See Also</h3>
<p d__=""><a href="#man-isalpha"><code s__="13" d__="">isalpha()</code></a>, <a href="#man-isdigit"><code s__="13" d__="">isdigit()</code></a></p>
<hr>
<h2 data-number="5.2" id="man-isalpha"><span class="header-section-number" d__="">5.2</span> <code d__="">isalpha()</code></h2>
<p></p>
<p d__="">Returns true if a character is alphabetic</p>
<h3 class="unnumbered unlisted" id="synopsis-26" d__="">Synopsis</h3>
<div class="sourceCode" id="cb151"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb151-2"><a href="#cb151-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb151-3" d__=""><a href="#cb151-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> isalpha<span class="op" d__="">(</span><span class="dt" d__="">int</span> c<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-26" d__="">Description</h3>
<p d__="">Returns true for alphabetic characters (<code s__="13">A</code>-<code s__="13">Z</code> or <code s__="13">a</code>-<code s__="13">z</code>).</p>
<p d__="">Technically (and in the “C” locale) equivalent to:</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb152-1" d__=""><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a>isupper<span class="op" d__="">(</span>c<span class="op" d__="">)</span> <span class="op" d__="">||</span> islower<span class="op" d__="">(</span>c<span class="op" d__="">)</span></span></code></pre></div>
<p d__="">Extra super technically, because I know you’re dying for this 
to be extra unnecessarily complex, it can also include some 
locale-specific characters for which this is true:</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb153-1" d__=""><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">!</span>iscntrl<span class="op" d__="">(</span>c<span class="op" d__="">)</span> <span class="op" d__="">&amp;&amp;</span> <span class="op" d__="">!</span>isdigit<span class="op" d__="">(</span>c<span class="op" d__="">)</span> <span class="op" d__="">&amp;&amp;</span> <span class="op" d__="">!</span>ispunct<span class="op" d__="">(</span>c<span class="op" d__="">)</span> <span class="op" d__="">&amp;&amp;</span> <span class="op" d__="">!</span>isspace<span class="op" d__="">(</span>c<span class="op" d__="">)</span></span></code></pre></div>
<p d__="">and this is true:</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb154-1" d__=""><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a>isupper<span class="op" d__="">(</span>c<span class="op" d__="">)</span> <span class="op" d__="">||</span> islower<span class="op" d__="">(</span>c<span class="op" d__="">)</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="return-value-26" d__="">Return Value</h3>
<p d__="">Returns true for alphabetic characters (<code s__="13">A</code>-<code s__="13">Z</code> or <code s__="13">a</code>-<code s__="13">z</code>).</p>
<p d__="">Or for any of the other crazy stuff in the description, above.</p>
<h3 class="unnumbered unlisted" id="example-26" d__="">Example</h3>
<div class="sourceCode" id="cb155"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb155-1"><a href="#cb155-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb155-2"><a href="#cb155-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb155-3"><a href="#cb155-3"></a></span>
<span id="cb155-4" d__=""><a href="#cb155-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb155-5"><a href="#cb155-5"></a><span class="op" d__="">{</span></span>
<span id="cb155-6"><a href="#cb155-6"></a>    <span class="co" d__="">//             testing this char</span></span>
<span id="cb155-7"><a href="#cb155-7"></a>    <span class="co" d__="">//                      v</span></span>
<span id="cb155-8" d__=""><a href="#cb155-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isalpha<span class="op" d__="">(</span><span class="ch" d__="">'a'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// yes</span></span>
<span id="cb155-9" d__=""><a href="#cb155-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isalpha<span class="op" d__="">(</span><span class="ch" d__="">'B'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// yes</span></span>
<span id="cb155-10" d__=""><a href="#cb155-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isalpha<span class="op" d__="">(</span><span class="ch" d__="">'5'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// no</span></span>
<span id="cb155-11" d__=""><a href="#cb155-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isalpha<span class="op" d__="">(</span><span class="ch" d__="">'?'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// no</span></span>
<span id="cb155-12"><a href="#cb155-12"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-23" d__="">See Also</h3>
<p><a href="#man-isalnum"><code s__="13" d__="">isalnum()</code></a></p>
<hr>
<h2 data-number="5.3" id="man-isblank"><span class="header-section-number" d__="">5.3</span> <code d__="">isblank()</code></h2>
<p></p>
<p d__="">Tests if a character is word-separating whitespace</p>
<h3 class="unnumbered unlisted" id="synopsis-27" d__="">Synopsis</h3>
<div class="sourceCode" id="cb156"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-3" d__=""><a href="#cb156-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> isblank<span class="op" d__="">(</span><span class="dt" d__="">int</span> c<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-27" d__="">Description</h3>
<p d__="">True if the character is a whitespace character used to separate words in a single line.</p>
<p d__="">For example, space (<code s__="13">' '</code>) or horizontal tab (<code s__="13">'\t'</code>). Other locales might define other blank characters.</p>
<h3 class="unnumbered unlisted" id="return-value-27" d__="">Return Value</h3>
<p d__="">Returns true if the character is a whitespace character used to separate words in a single line.</p>
<h3 class="unnumbered unlisted" id="example-27" d__="">Example</h3>
<div class="sourceCode" id="cb157"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb157-1"><a href="#cb157-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb157-2"><a href="#cb157-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb157-3"><a href="#cb157-3"></a></span>
<span id="cb157-4" d__=""><a href="#cb157-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb157-5"><a href="#cb157-5"></a><span class="op" d__="">{</span></span>
<span id="cb157-6"><a href="#cb157-6"></a>    <span class="co" d__="">//             testing this char</span></span>
<span id="cb157-7"><a href="#cb157-7"></a>    <span class="co" d__="">//                      v</span></span>
<span id="cb157-8" d__=""><a href="#cb157-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isblank<span class="op" d__="">(</span><span class="ch" d__="">' '</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb157-9" d__=""><a href="#cb157-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isblank<span class="op" d__="">(</span><span class="ch" d__="">'</span><span class="sc" d__="">\t</span><span class="ch" d__="">'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// yes</span></span>
<span id="cb157-10" d__=""><a href="#cb157-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isblank<span class="op" d__="">(</span><span class="ch" d__="">'</span><span class="sc" d__="">\n</span><span class="ch" d__="">'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// no</span></span>
<span id="cb157-11" d__=""><a href="#cb157-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isblank<span class="op" d__="">(</span><span class="ch" d__="">'a'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb157-12" d__=""><a href="#cb157-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isblank<span class="op" d__="">(</span><span class="ch" d__="">'?'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb157-13"><a href="#cb157-13"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-24" d__="">See Also</h3>
<p><a href="#man-isspace"><code s__="13" d__="">isspace()</code></a></p>
<hr>
<h2 data-number="5.4" id="man-iscntrl"><span class="header-section-number" d__="">5.4</span> <code d__="">iscntrl()</code></h2>
<p></p>
<p d__="">Test if a character is a control character</p>
<h3 class="unnumbered unlisted" id="synopsis-28" d__="">Synopsis</h3>
<div class="sourceCode" id="cb158"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb158-3" d__=""><a href="#cb158-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> iscntrl<span class="op" d__="">(</span><span class="dt" d__="">int</span> c<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-28" d__="">Description</h3>
<p d__="">A <em>control character</em> is a locale-specific non-printing character.</p>
<p d__="">For the “C” locale, this means control characters are in the 
range 0x00 to 0x1F (the character right before SPACE) and 0x7F (the DEL 
character).</p>
<p d__="">Basically if it’s not an ASCII (or Unicode less than 128) printable character, it’s a control character in the “C” locale.</p>
<h3 class="unnumbered unlisted" id="return-value-28" d__="">Return Value</h3>
<p d__="">Returns true if <code s__="13">c</code> is a control character.</p>
<h3 class="unnumbered unlisted" id="example-28" d__="">Example</h3>
<div class="sourceCode" id="cb159"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb159-1"><a href="#cb159-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb159-2"><a href="#cb159-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb159-3"><a href="#cb159-3"></a></span>
<span id="cb159-4" d__=""><a href="#cb159-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb159-5"><a href="#cb159-5"></a><span class="op" d__="">{</span></span>
<span id="cb159-6"><a href="#cb159-6"></a>    <span class="co" d__="">//             testing this char</span></span>
<span id="cb159-7"><a href="#cb159-7"></a>    <span class="co" d__="">//                      v</span></span>
<span id="cb159-8" d__=""><a href="#cb159-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iscntrl<span class="op" d__="">(</span><span class="ch" d__="">'</span><span class="sc" d__="">\t</span><span class="ch" d__="">'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// yes (tab)</span></span>
<span id="cb159-9" d__=""><a href="#cb159-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iscntrl<span class="op" d__="">(</span><span class="ch" d__="">'</span><span class="sc" d__="">\n</span><span class="ch" d__="">'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// yes (newline)</span></span>
<span id="cb159-10" d__=""><a href="#cb159-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iscntrl<span class="op" d__="">(</span><span class="ch" d__="">'</span><span class="sc" d__="">\r</span><span class="ch" d__="">'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// yes (return)</span></span>
<span id="cb159-11" d__=""><a href="#cb159-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iscntrl<span class="op" d__="">(</span><span class="ch" d__="">'</span><span class="sc" d__="">\a</span><span class="ch" d__="">'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// yes (bell)</span></span>
<span id="cb159-12" d__=""><a href="#cb159-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iscntrl<span class="op" d__="">(</span><span class="ch" d__="">' '</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb159-13" d__=""><a href="#cb159-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iscntrl<span class="op" d__="">(</span><span class="ch" d__="">'a'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb159-14" d__=""><a href="#cb159-14"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iscntrl<span class="op" d__="">(</span><span class="ch" d__="">'?'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb159-15"><a href="#cb159-15"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-25" d__="">See Also</h3>
<p d__=""><a href="#man-isgraph"><code s__="13" d__="">isgraph()</code></a>, <a href="#man-isprint"><code s__="13" d__="">isprint()</code></a></p>
<hr>
<h2 data-number="5.5" id="man-isdigit"><span class="header-section-number" d__="">5.5</span> <code d__="">isdigit()</code></h2>
<p></p>
<p d__="">Tests if a character is a digit</p>
<h3 class="unnumbered unlisted" id="synopsis-29" d__="">Synopsis</h3>
<div class="sourceCode" id="cb160"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb160-2"><a href="#cb160-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-3" d__=""><a href="#cb160-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> isdigit<span class="op" d__="">(</span><span class="dt" d__="">int</span> c<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-29" d__="">Description</h3>
<p d__="">Tests if <code s__="13">c</code> is a digit in the range <code s__="13">0</code>-<code s__="13">9</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-29" d__="">Return Value</h3>
<p d__="">Returns true if the character is a digit, unsurprisingly.</p>
<h3 class="unnumbered unlisted" id="example-29" d__="">Example</h3>
<div class="sourceCode" id="cb161"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb161-1"><a href="#cb161-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb161-2"><a href="#cb161-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb161-3"><a href="#cb161-3"></a></span>
<span id="cb161-4" d__=""><a href="#cb161-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb161-5"><a href="#cb161-5"></a><span class="op" d__="">{</span></span>
<span id="cb161-6"><a href="#cb161-6"></a>    <span class="co" d__="">//             testing this char</span></span>
<span id="cb161-7"><a href="#cb161-7"></a>    <span class="co" d__="">//                      v</span></span>
<span id="cb161-8" d__=""><a href="#cb161-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isdigit<span class="op" d__="">(</span><span class="ch" d__="">'0'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb161-9" d__=""><a href="#cb161-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isdigit<span class="op" d__="">(</span><span class="ch" d__="">'5'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb161-10" d__=""><a href="#cb161-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isdigit<span class="op" d__="">(</span><span class="ch" d__="">'a'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb161-11" d__=""><a href="#cb161-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isdigit<span class="op" d__="">(</span><span class="ch" d__="">'B'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb161-12" d__=""><a href="#cb161-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isdigit<span class="op" d__="">(</span><span class="ch" d__="">'?'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb161-13"><a href="#cb161-13"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-26" d__="">See Also</h3>
<p d__=""><a href="#man-isalnum"><code s__="13" d__="">isalnum()</code></a>, <a href="#man-isxdigit"><code s__="13" d__="">isxdigit()</code></a></p>
<hr>
<h2 data-number="5.6" id="man-isgraph"><span class="header-section-number" d__="">5.6</span> <code d__="">isgraph()</code></h2>
<p></p>
<p d__="">Tests if the character is printable and not a space</p>
<h3 class="unnumbered unlisted" id="synopsis-30" d__="">Synopsis</h3>
<div class="sourceCode" id="cb162"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb162-3" d__=""><a href="#cb162-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> isgraph<span class="op" d__="">(</span><span class="dt" d__="">int</span> c<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-30" d__="">Description</h3>
<p d__="">Tests if <code s__="13">c</code> is any printable character that isn’t a space (<code s__="13">' '</code>).</p>
<h3 class="unnumbered unlisted" id="return-value-30" d__="">Return Value</h3>
<p d__="">Returns true if <code s__="13">c</code> is any printable character that isn’t a space (<code s__="13">' '</code>).</p>
<h3 class="unnumbered unlisted" id="example-30" d__="">Example</h3>
<div class="sourceCode" id="cb163"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb163-1"><a href="#cb163-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb163-2"><a href="#cb163-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb163-3"><a href="#cb163-3"></a></span>
<span id="cb163-4" d__=""><a href="#cb163-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb163-5"><a href="#cb163-5"></a><span class="op" d__="">{</span></span>
<span id="cb163-6"><a href="#cb163-6"></a>    <span class="co" d__="">//             testing this char</span></span>
<span id="cb163-7"><a href="#cb163-7"></a>    <span class="co" d__="">//                      v</span></span>
<span id="cb163-8" d__=""><a href="#cb163-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isgraph<span class="op" d__="">(</span><span class="ch" d__="">'0'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb163-9" d__=""><a href="#cb163-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isgraph<span class="op" d__="">(</span><span class="ch" d__="">'a'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb163-10" d__=""><a href="#cb163-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isgraph<span class="op" d__="">(</span><span class="ch" d__="">'B'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb163-11" d__=""><a href="#cb163-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isgraph<span class="op" d__="">(</span><span class="ch" d__="">'?'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb163-12" d__=""><a href="#cb163-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isgraph<span class="op" d__="">(</span><span class="ch" d__="">' '</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb163-13" d__=""><a href="#cb163-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isgraph<span class="op" d__="">(</span><span class="ch" d__="">'</span><span class="sc" d__="">\n</span><span class="ch" d__="">'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// no</span></span>
<span id="cb163-14"><a href="#cb163-14"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-27" d__="">See Also</h3>
<p d__=""><a href="#man-iscntrl"><code s__="13" d__="">iscntrl()</code></a>, <a href="#man-isprint"><code s__="13" d__="">isprint()</code></a></p>
<hr>
<h2 data-number="5.7" id="man-islower"><span class="header-section-number" d__="">5.7</span> <code d__="">islower()</code></h2>
<p></p>
<p d__="">Tests if a character is lowercase</p>
<h3 class="unnumbered unlisted" id="synopsis-31" d__="">Synopsis</h3>
<div class="sourceCode" id="cb164"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-3" d__=""><a href="#cb164-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> islower<span class="op" d__="">(</span><span class="dt" d__="">int</span> c<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-31" d__="">Description</h3>
<p d__="">Tests if a character is lowercase, in the range <code s__="13">a</code>-<code s__="13">z</code>.</p>
<p d__="">In other locales, there could be other lowercase characters. In all cases, to be lowercase, the following must be true:</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb165-1" d__=""><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">!</span>iscntrl<span class="op" d__="">(</span>c<span class="op" d__="">)</span> <span class="op" d__="">&amp;&amp;</span> <span class="op" d__="">!</span>isdigit<span class="op" d__="">(</span>c<span class="op" d__="">)</span> <span class="op" d__="">&amp;&amp;</span> <span class="op" d__="">!</span>ispunct<span class="op" d__="">(</span>c<span class="op" d__="">)</span> <span class="op" d__="">&amp;&amp;</span> <span class="op" d__="">!</span>isspace<span class="op" d__="">(</span>c<span class="op" d__="">)</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="return-value-31" d__="">Return Value</h3>
<p d__="">Returns true if the character is lowercase.</p>
<h3 class="unnumbered unlisted" id="example-31" d__="">Example</h3>
<div class="sourceCode" id="cb166"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb166-1"><a href="#cb166-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb166-2"><a href="#cb166-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb166-3"><a href="#cb166-3"></a></span>
<span id="cb166-4" d__=""><a href="#cb166-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb166-5"><a href="#cb166-5"></a><span class="op" d__="">{</span></span>
<span id="cb166-6"><a href="#cb166-6"></a>    <span class="co" d__="">//             testing this char</span></span>
<span id="cb166-7"><a href="#cb166-7"></a>    <span class="co" d__="">//                      v</span></span>
<span id="cb166-8" d__=""><a href="#cb166-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> islower<span class="op" d__="">(</span><span class="ch" d__="">'c'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb166-9" d__=""><a href="#cb166-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> islower<span class="op" d__="">(</span><span class="ch" d__="">'0'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb166-10" d__=""><a href="#cb166-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> islower<span class="op" d__="">(</span><span class="ch" d__="">'B'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb166-11" d__=""><a href="#cb166-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> islower<span class="op" d__="">(</span><span class="ch" d__="">'?'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb166-12" d__=""><a href="#cb166-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> islower<span class="op" d__="">(</span><span class="ch" d__="">' '</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb166-13"><a href="#cb166-13"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-28" d__="">See Also</h3>
<p d__=""><a href="#man-isupper"><code s__="13" d__="">isupper()</code></a>, <a href="#man-isalpha"><code s__="13" d__="">isalpha()</code></a>, <a href="#man-toupper"><code s__="13" d__="">toupper()</code></a>, <a href="#man-tolower"><code s__="13" d__="">tolower()</code></a></p>
<hr>
<h2 data-number="5.8" id="man-isprint"><span class="header-section-number" d__="">5.8</span> <code d__="">isprint()</code></h2>
<p></p>
<p d__="">Tests if a character is printable</p>
<h3 class="unnumbered unlisted" id="synopsis-32" d__="">Synopsis</h3>
<div class="sourceCode" id="cb167"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb167-2"><a href="#cb167-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb167-3" d__=""><a href="#cb167-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> isprint<span class="op" d__="">(</span><span class="dt" d__="">int</span> c<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-32" d__="">Description</h3>
<p d__="">Tests if a character is printable, including space (<code s__="13">' '</code>). So like <code s__="13">isgraph()</code>, except space isn’t left out in the cold.</p>
<h3 class="unnumbered unlisted" id="return-value-32" d__="">Return Value</h3>
<p d__="">Returns true if the character is printable, including space (<code s__="13">' '</code>).</p>
<h3 class="unnumbered unlisted" id="example-32" d__="">Example</h3>
<div class="sourceCode" id="cb168"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb168-1"><a href="#cb168-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb168-2"><a href="#cb168-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb168-3"><a href="#cb168-3"></a></span>
<span id="cb168-4" d__=""><a href="#cb168-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb168-5"><a href="#cb168-5"></a><span class="op" d__="">{</span></span>
<span id="cb168-6"><a href="#cb168-6"></a>    <span class="co" d__="">//             testing this char</span></span>
<span id="cb168-7"><a href="#cb168-7"></a>    <span class="co" d__="">//                      v</span></span>
<span id="cb168-8" d__=""><a href="#cb168-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isprint<span class="op" d__="">(</span><span class="ch" d__="">'c'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb168-9" d__=""><a href="#cb168-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isprint<span class="op" d__="">(</span><span class="ch" d__="">'0'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb168-10" d__=""><a href="#cb168-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isprint<span class="op" d__="">(</span><span class="ch" d__="">' '</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb168-11" d__=""><a href="#cb168-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isprint<span class="op" d__="">(</span><span class="ch" d__="">'</span><span class="sc" d__="">\r</span><span class="ch" d__="">'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// no</span></span>
<span id="cb168-12"><a href="#cb168-12"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-29" d__="">See Also</h3>
<p d__=""><a href="#man-isgraph"><code s__="13" d__="">isgraph()</code></a>, <a href="#man-iscntrl"><code s__="13" d__="">iscntrl()</code></a></p>
<hr>
<h2 data-number="5.9" id="man-ispunct"><span class="header-section-number" d__="">5.9</span> <code d__="">ispunct()</code></h2>
<p></p>
<p d__="">Test if a character is punctuation</p>
<h3 class="unnumbered unlisted" id="synopsis-33" d__="">Synopsis</h3>
<div class="sourceCode" id="cb169"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb169-2"><a href="#cb169-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-3" d__=""><a href="#cb169-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> ispunct<span class="op" d__="">(</span><span class="dt" d__="">int</span> c<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-33" d__="">Description</h3>
<p d__="">Tests if a character is punctuation.</p>
<p d__="">In the “C” locale, this means:</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb170-1" d__=""><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">!</span>isspace<span class="op" d__="">(</span>c<span class="op" d__="">)</span> <span class="op" d__="">&amp;&amp;</span> <span class="op" d__="">!</span>isalnum<span class="op" d__="">(</span>c<span class="op" d__="">)</span></span></code></pre></div>
<p d__="">In other locales, there could be other punctuation characters (but they also can’t be space or alphanumeric).</p>
<h3 class="unnumbered unlisted" id="return-value-33" d__="">Return Value</h3>
<p d__="">True if the character is punctuation.</p>
<h3 class="unnumbered unlisted" id="example-33" d__="">Example</h3>
<div class="sourceCode" id="cb171"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb171-1"><a href="#cb171-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb171-2"><a href="#cb171-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb171-3"><a href="#cb171-3"></a></span>
<span id="cb171-4" d__=""><a href="#cb171-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb171-5"><a href="#cb171-5"></a><span class="op" d__="">{</span></span>
<span id="cb171-6"><a href="#cb171-6"></a>    <span class="co" d__="">//             testing this char</span></span>
<span id="cb171-7"><a href="#cb171-7"></a>    <span class="co" d__="">//                      v</span></span>
<span id="cb171-8" d__=""><a href="#cb171-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ispunct<span class="op" d__="">(</span><span class="ch" d__="">','</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb171-9" d__=""><a href="#cb171-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ispunct<span class="op" d__="">(</span><span class="ch" d__="">'!'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb171-10" d__=""><a href="#cb171-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ispunct<span class="op" d__="">(</span><span class="ch" d__="">'c'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb171-11" d__=""><a href="#cb171-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ispunct<span class="op" d__="">(</span><span class="ch" d__="">'0'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb171-12" d__=""><a href="#cb171-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ispunct<span class="op" d__="">(</span><span class="ch" d__="">' '</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb171-13" d__=""><a href="#cb171-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ispunct<span class="op" d__="">(</span><span class="ch" d__="">'</span><span class="sc" d__="">\n</span><span class="ch" d__="">'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// no</span></span>
<span id="cb171-14"><a href="#cb171-14"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-30" d__="">See Also</h3>
<p d__=""><a href="#man-isspace"><code s__="13" d__="">isspace()</code></a>, <a href="#man-isalnum"><code s__="13" d__="">isalnum()</code></a></p>
<hr>
<h2 data-number="5.10" id="man-isspace"><span class="header-section-number" d__="">5.10</span> <code d__="">isspace()</code></h2>
<p></p>
<p d__="">Test if a character is whitespace</p>
<h3 class="unnumbered unlisted" id="synopsis-34" d__="">Synopsis</h3>
<div class="sourceCode" id="cb172"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb172-2"><a href="#cb172-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb172-3" d__=""><a href="#cb172-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> isspace<span class="op" d__="">(</span><span class="dt" d__="">int</span> c<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-34" d__="">Description</h3>
<p d__="">Tests if <code s__="13">c</code> is a whitespace character. These are:</p>
<ul>
<li d__="">Space (<code s__="13">' '</code>)</li>
<li d__="">Formfeed (<code s__="13">'\f'</code>)</li>
<li d__="">Newline (<code s__="13">'\n'</code>)</li>
<li d__="">Carriage Return (<code s__="13">'\r'</code>)</li>
<li d__="">Horizontal Tab (<code s__="13">'\t'</code>)</li>
<li d__="">Vertical Tab (<code s__="13">'\v'</code>)</li>
</ul>
<p d__="">Other locales might specify other whitespace characters. <code s__="13">isalnum()</code> is false for all whitespace characters.</p>
<h3 class="unnumbered unlisted" id="return-value-34" d__="">Return Value</h3>
<p d__="">True if the character is whitespace.</p>
<h3 class="unnumbered unlisted" id="example-34" d__="">Example</h3>
<div class="sourceCode" id="cb173"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb173-1"><a href="#cb173-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb173-2"><a href="#cb173-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb173-3"><a href="#cb173-3"></a></span>
<span id="cb173-4" d__=""><a href="#cb173-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb173-5"><a href="#cb173-5"></a><span class="op" d__="">{</span></span>
<span id="cb173-6"><a href="#cb173-6"></a>    <span class="co" d__="">//             testing this char</span></span>
<span id="cb173-7"><a href="#cb173-7"></a>    <span class="co" d__="">//                      v</span></span>
<span id="cb173-8" d__=""><a href="#cb173-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isspace<span class="op" d__="">(</span><span class="ch" d__="">' '</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb173-9" d__=""><a href="#cb173-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isspace<span class="op" d__="">(</span><span class="ch" d__="">'</span><span class="sc" d__="">\n</span><span class="ch" d__="">'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// yes</span></span>
<span id="cb173-10" d__=""><a href="#cb173-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isspace<span class="op" d__="">(</span><span class="ch" d__="">'</span><span class="sc" d__="">\t</span><span class="ch" d__="">'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// yes</span></span>
<span id="cb173-11" d__=""><a href="#cb173-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isspace<span class="op" d__="">(</span><span class="ch" d__="">','</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb173-12" d__=""><a href="#cb173-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isspace<span class="op" d__="">(</span><span class="ch" d__="">'!'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb173-13" d__=""><a href="#cb173-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isspace<span class="op" d__="">(</span><span class="ch" d__="">'c'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb173-14"><a href="#cb173-14"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-31" d__="">See Also</h3>
<p><a href="#man-isblank"><code s__="13" d__="">isblank()</code></a></p>
<hr>
<h2 data-number="5.11" id="man-isupper"><span class="header-section-number" d__="">5.11</span> <code d__="">isupper()</code></h2>
<p></p>
<p d__="">Tests if a character is uppercase</p>
<h3 class="unnumbered unlisted" id="synopsis-35" d__="">Synopsis</h3>
<div class="sourceCode" id="cb174"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb174-2"><a href="#cb174-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb174-3" d__=""><a href="#cb174-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> isupper<span class="op" d__="">(</span><span class="dt" d__="">int</span> c<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-35" d__="">Description</h3>
<p d__="">Tests if a character is uppercase, in the range <code s__="13">A</code>-<code s__="13">Z</code>.</p>
<p d__="">In other locales, there could be other uppercase characters. In all cases, to be uppercase, the following must be true:</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb175-1" d__=""><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">!</span>iscntrl<span class="op" d__="">(</span>c<span class="op" d__="">)</span> <span class="op" d__="">&amp;&amp;</span> <span class="op" d__="">!</span>isdigit<span class="op" d__="">(</span>c<span class="op" d__="">)</span> <span class="op" d__="">&amp;&amp;</span> <span class="op" d__="">!</span>ispunct<span class="op" d__="">(</span>c<span class="op" d__="">)</span> <span class="op" d__="">&amp;&amp;</span> <span class="op" d__="">!</span>isspace<span class="op" d__="">(</span>c<span class="op" d__="">)</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="return-value-35" d__="">Return Value</h3>
<p d__="">Returns true if the character is uppercase.</p>
<h3 class="unnumbered unlisted" id="example-35" d__="">Example</h3>
<div class="sourceCode" id="cb176"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb176-1"><a href="#cb176-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb176-2"><a href="#cb176-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb176-3"><a href="#cb176-3"></a></span>
<span id="cb176-4" d__=""><a href="#cb176-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb176-5"><a href="#cb176-5"></a><span class="op" d__="">{</span></span>
<span id="cb176-6"><a href="#cb176-6"></a>    <span class="co" d__="">//             testing this char</span></span>
<span id="cb176-7"><a href="#cb176-7"></a>    <span class="co" d__="">//                      v</span></span>
<span id="cb176-8" d__=""><a href="#cb176-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isupper<span class="op" d__="">(</span><span class="ch" d__="">'B'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb176-9" d__=""><a href="#cb176-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isupper<span class="op" d__="">(</span><span class="ch" d__="">'c'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb176-10" d__=""><a href="#cb176-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isupper<span class="op" d__="">(</span><span class="ch" d__="">'0'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb176-11" d__=""><a href="#cb176-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isupper<span class="op" d__="">(</span><span class="ch" d__="">'?'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb176-12" d__=""><a href="#cb176-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isupper<span class="op" d__="">(</span><span class="ch" d__="">' '</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb176-13"><a href="#cb176-13"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-32" d__="">See Also</h3>
<p d__=""><a href="#man-islower"><code s__="13" d__="">islower()</code></a>, <a href="#man-isalpha"><code s__="13" d__="">isalpha()</code></a>, <a href="#man-toupper"><code s__="13" d__="">toupper()</code></a>, <a href="#man-tolower"><code s__="13" d__="">tolower()</code></a></p>
<hr>
<h2 data-number="5.12" id="man-isxdigit"><span class="header-section-number" d__="">5.12</span> <code d__="">isxdigit()</code></h2>
<p></p>
<p d__="">Tests if a character is a hexadecimal digit</p>
<h3 class="unnumbered unlisted" id="synopsis-36" d__="">Synopsis</h3>
<div class="sourceCode" id="cb177"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb177-2"><a href="#cb177-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-3" d__=""><a href="#cb177-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> isxdigit<span class="op" d__="">(</span><span class="dt" d__="">int</span> c<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-36" d__="">Description</h3>
<p d__="">Returns true if the character is a hexadecimal digit. Namely if it’s <code s__="13">0</code>-<code s__="13">9</code>, <code s__="13">a</code>-<code s__="13">f</code>, or <code s__="13">A</code>-<code s__="13">F</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-36" d__="">Return Value</h3>
<p d__="">True if the character is a hexadecimal digit.</p>
<h3 class="unnumbered unlisted" id="example-36" d__="">Example</h3>
<div class="sourceCode" id="cb178"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb178-1"><a href="#cb178-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb178-2"><a href="#cb178-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb178-3"><a href="#cb178-3"></a></span>
<span id="cb178-4" d__=""><a href="#cb178-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb178-5"><a href="#cb178-5"></a><span class="op" d__="">{</span></span>
<span id="cb178-6"><a href="#cb178-6"></a>    <span class="co" d__="">//             testing this char</span></span>
<span id="cb178-7"><a href="#cb178-7"></a>    <span class="co" d__="">//                      v</span></span>
<span id="cb178-8" d__=""><a href="#cb178-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isxdigit<span class="op" d__="">(</span><span class="ch" d__="">'B'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb178-9" d__=""><a href="#cb178-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isxdigit<span class="op" d__="">(</span><span class="ch" d__="">'c'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb178-10" d__=""><a href="#cb178-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isxdigit<span class="op" d__="">(</span><span class="ch" d__="">'2'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb178-11" d__=""><a href="#cb178-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isxdigit<span class="op" d__="">(</span><span class="ch" d__="">'G'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb178-12" d__=""><a href="#cb178-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isxdigit<span class="op" d__="">(</span><span class="ch" d__="">'?'</span><span class="op" d__="">)?</span> <span class="st" d__="">"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb178-13"><a href="#cb178-13"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-33" d__="">See Also</h3>
<p><a href="#man-isdigit"><code s__="13" d__="">isdigit()</code></a></p>
<hr>
<h2 data-number="5.13" id="man-tolower"><span class="header-section-number" d__="">5.13</span> <code d__="">tolower()</code></h2>
<p></p>
<p d__="">Convert a letter to lowercase</p>
<h3 class="unnumbered unlisted" id="synopsis-37" d__="">Synopsis</h3>
<div class="sourceCode" id="cb179"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb179-2"><a href="#cb179-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-3" d__=""><a href="#cb179-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> tolower<span class="op" d__="">(</span><span class="dt" d__="">int</span> c<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-37" d__="">Description</h3>
<p d__="">If the character is uppercase (i.e.&nbsp;<code s__="13">isupper(c)</code> is true), this function returns the corresponding lowercase letter.</p>
<p d__="">Different locales might have different upper- and lowercase letters.</p>
<h3 class="unnumbered unlisted" id="return-value-37" d__="">Return Value</h3>
<p d__="">Returns the lowercase value for an uppercase letter. If the letter isn’t uppercase, returns it unchanged.</p>
<h3 class="unnumbered unlisted" id="example-37" d__="">Example</h3>
<div class="sourceCode" id="cb180"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb180-1"><a href="#cb180-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb180-2"><a href="#cb180-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb180-3"><a href="#cb180-3"></a></span>
<span id="cb180-4" d__=""><a href="#cb180-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb180-5"><a href="#cb180-5"></a><span class="op" d__="">{</span></span>
<span id="cb180-6"><a href="#cb180-6"></a>    <span class="co" d__="">//             changing this char</span></span>
<span id="cb180-7"><a href="#cb180-7"></a>    <span class="co" d__="">//                      v</span></span>
<span id="cb180-8" d__=""><a href="#cb180-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> tolower<span class="op" d__="">(</span><span class="ch" d__="">'B'</span><span class="op" d__="">));</span>  <span class="co" d__="">// b (made lowercase!)</span></span>
<span id="cb180-9" d__=""><a href="#cb180-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> tolower<span class="op" d__="">(</span><span class="ch" d__="">'e'</span><span class="op" d__="">));</span>  <span class="co" d__="">// e (unchanged)</span></span>
<span id="cb180-10" d__=""><a href="#cb180-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> tolower<span class="op" d__="">(</span><span class="ch" d__="">'!'</span><span class="op" d__="">));</span>  <span class="co" d__="">// ! (unchanged)</span></span>
<span id="cb180-11"><a href="#cb180-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-34" d__="">See Also</h3>
<p d__=""><a href="#man-toupper"><code s__="13" d__="">toupper()</code></a>, <a href="#man-islower"><code s__="13" d__="">islower()</code></a>, <a href="#man-isupper"><code s__="13" d__="">isupper()</code></a></p>
<hr>
<h2 data-number="5.14" id="man-toupper"><span class="header-section-number" d__="">5.14</span> <code d__="">toupper()</code></h2>
<p></p>
<p d__="">Convert a letter to uppercase</p>
<h3 class="unnumbered unlisted" id="synopsis-38" d__="">Synopsis</h3>
<div class="sourceCode" id="cb181"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb181-2"><a href="#cb181-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb181-3" d__=""><a href="#cb181-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> toupper<span class="op" d__="">(</span><span class="dt" d__="">int</span> c<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-38" d__="">Description</h3>
<p d__="">If the character is lower (i.e.&nbsp;<code s__="13">islower(c)</code> is true), this function returns the corresponding uppercase letter.</p>
<p d__="">Different locales might have different upper- and lowercase letters.</p>
<h3 class="unnumbered unlisted" id="return-value-38" d__="">Return Value</h3>
<p d__="">Returns the uppercase value for a lowercase letter. If the letter isn’t lowercase, returns it unchanged.</p>
<h3 class="unnumbered unlisted" id="example-38" d__="">Example</h3>
<div class="sourceCode" id="cb182"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb182-1"><a href="#cb182-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb182-2"><a href="#cb182-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb182-3"><a href="#cb182-3"></a></span>
<span id="cb182-4" d__=""><a href="#cb182-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb182-5"><a href="#cb182-5"></a><span class="op" d__="">{</span></span>
<span id="cb182-6"><a href="#cb182-6"></a>    <span class="co" d__="">//             changing this char</span></span>
<span id="cb182-7"><a href="#cb182-7"></a>    <span class="co" d__="">//                      v</span></span>
<span id="cb182-8" d__=""><a href="#cb182-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> toupper<span class="op" d__="">(</span><span class="ch" d__="">'B'</span><span class="op" d__="">));</span>  <span class="co" d__="">// B (unchanged)</span></span>
<span id="cb182-9" d__=""><a href="#cb182-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> toupper<span class="op" d__="">(</span><span class="ch" d__="">'e'</span><span class="op" d__="">));</span>  <span class="co" d__="">// E (made uppercase!)</span></span>
<span id="cb182-10" d__=""><a href="#cb182-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> toupper<span class="op" d__="">(</span><span class="ch" d__="">'!'</span><span class="op" d__="">));</span>  <span class="co" d__="">// ! (unchanged)</span></span>
<span id="cb182-11"><a href="#cb182-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-35" d__="">See Also</h3>
<p d__=""><a href="#man-tolower"><code s__="13" d__="">tolower()</code></a>, <a href="#man-islower"><code s__="13" d__="">islower()</code></a>, <a href="#man-isupper"><code s__="13" d__="">isupper()</code></a></p>
<!--
***
## `example()` {#man-example}

### Synopsis {.unnumbered .unlisted}

``` {.c}
```

### Description {.unnumbered .unlisted}

### Return Value {.unnumbered .unlisted}

### Example {.unnumbered .unlisted}

``` {.c .numberLines}
```

### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="6" id="errno" d__=""><span class="header-section-number">6</span> <code>&lt;errno.h&gt;</code> Error Information</h1>
<p></p>
<table>
<thead>
<tr class="header">
<th d__="">Variable</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#man-errno"><code s__="13" d__="">errno</code></a></td>
<td d__="">Holds the error status of the last call</td>
</tr>
</tbody>
</table>
<p d__="">This header defines a single variable<a href="#fn15" class="footnote-ref" id="fnref15" role="doc-noteref"><sup s__="13" d__="">15</sup></a>, <code s__="13">errno</code>, that can be checked to see if an error has occurred.</p>
<p d__=""><code s__="13">errno</code> is set to <code s__="13">0</code> on startup, but no library function sets it to <code s__="13">0</code>. If you’re going to use solely it to check for errors, set it to <code s__="13">0</code> before the call and then check it after. Not only that, but if there’s no error, all library functions will leave the value of <code s__="13">errno</code> unchanged.</p>
<p d__="">Often, though, you’ll get some error indication from the function you’re calling then check <code s__="13">errno</code> to see what went wrong.</p>
<p d__="">This is commonly used in conjunction with <a href="#man-perror"><code s__="13" d__="">perror()</code></a> to get a human-readable error message that corresponds to the specific error.</p>
<p d__="">Important Safety Tip: You should never make your own variable called <code s__="13">errno</code>—that’s undefined behavior.</p>
<p d__="">Note that the C Spec defines less than a handful of values <code s__="13">errno</code> can take on. <a href="https://man.archlinux.org/man/errno.3.en" d__="">Unix defines a bunch more</a><a href="#fn16" class="footnote-ref" id="fnref16" role="doc-noteref"><sup s__="13" d__="">16</sup></a>, <a href="https://docs.microsoft.com/en-us/cpp/c-runtime-library/errno-constants?view=msvc-160" d__="">as does Windows</a><a href="#fn17" class="footnote-ref" id="fnref17" role="doc-noteref"><sup s__="13" d__="">17</sup></a>.</p>
<hr>
<h2 data-number="6.1" id="man-errno"><span class="header-section-number" d__="">6.1</span> <code d__="">errno</code></h2>
<p></p>
<p d__="">Holds the error status of the last call</p>
<h3 class="unnumbered unlisted" id="synopsis-39" d__="">Synopsis</h3>
<div class="sourceCode" id="cb183"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb183-1" d__=""><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a>errno   <span class="co" d__="">// Type is undefined, but it's assignable</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-39" d__="">Description</h3>
<p d__="">Indicates the error status of the last call (note that not all calls will set this value).</p>
<table>
<thead>
<tr class="header">
<th d__="">Value</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">0</code></td>
<td d__="">No error</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">EDOM</code></td>
<td d__="">Domain error (from math)</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">EILSEQ</code></td>
<td d__="">Encoding error (from character conversion)</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">ERANGE</code></td>
<td d__="">Range error (from math)</td>
</tr>
</tbody>
</table>
<p d__="">If you’re doing a number of math functions, you might come across <code s__="13">EDOM</code> or <code s__="13">ERANGE</code>.</p>
<p d__="">With multibyte/wide character conversion functions, you might see <code s__="13">EILSEQ</code>.</p>
<p d__="">And your system might define any other number of values that <code s__="13">errno</code> could be set to, all of which will begin with the letter <code s__="13">E</code>.</p>
<p d__="">Fun Fact: you can use <code s__="13">EDOM</code>, <code s__="13">EILSEQ</code>, and <code s__="13">ERANGE</code> with preprocessor directives such as <code s__="13">#ifdef</code>. But, frankly, I’m not sure why you’d do that other than to test their existence.</p>
<!--
### Return Value {.unnumbered .unlisted}
-->
<h3 class="unnumbered unlisted" id="example-39" d__="">Example</h3>
<p d__="">The following prints an error message, since passing <code s__="13">2.0</code> to <code s__="13">acos()</code> is outside the function’s domain.</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb184-1"><a href="#cb184-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb184-2"><a href="#cb184-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb184-3"><a href="#cb184-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;errno.h&gt;</span></span>
<span id="cb184-4"><a href="#cb184-4"></a></span>
<span id="cb184-5" d__=""><a href="#cb184-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb184-6"><a href="#cb184-6"></a><span class="op" d__="">{</span></span>
<span id="cb184-7" d__=""><a href="#cb184-7"></a>    <span class="dt" d__="">double</span> x<span class="op" d__="">;</span></span>
<span id="cb184-8"><a href="#cb184-8"></a></span>
<span id="cb184-9" d__=""><a href="#cb184-9"></a>    errno <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span>       <span class="co" d__="">// Make sure this is clear before the call</span></span>
<span id="cb184-10"><a href="#cb184-10"></a></span>
<span id="cb184-11" d__=""><a href="#cb184-11"></a>    x <span class="op" d__="">=</span> acos<span class="op" d__="">(</span><span class="fl" d__="">2.0</span><span class="op" d__="">);</span>   <span class="co" d__="">// Invalid argument to acos()</span></span>
<span id="cb184-12"><a href="#cb184-12"></a></span>
<span id="cb184-13" d__=""><a href="#cb184-13"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>errno <span class="op" d__="">==</span> EDOM<span class="op" d__="">)</span></span>
<span id="cb184-14" d__=""><a href="#cb184-14"></a>        perror<span class="op" d__="">(</span><span class="st" d__="">"acos"</span><span class="op" d__="">);</span></span>
<span id="cb184-15"><a href="#cb184-15"></a>    <span class="cf" d__="">else</span></span>
<span id="cb184-16" d__=""><a href="#cb184-16"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"Answer is </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> x<span class="op" d__="">);</span></span>
<span id="cb184-17"><a href="#cb184-17"></a></span>
<span id="cb184-18"><a href="#cb184-18"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb184-19"><a href="#cb184-19"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb185-1" d__=""><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a>acos: Numerical argument out of domain</span></code></pre></div>
<p d__="">The following prints an error message (on my system), since passing <code s__="13">1e+30</code> to <code s__="13">exp()</code> produces a result that’s outside the range of a <code s__="13">double</code>.</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb186-1"><a href="#cb186-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb186-2"><a href="#cb186-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb186-3"><a href="#cb186-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;errno.h&gt;</span></span>
<span id="cb186-4"><a href="#cb186-4"></a></span>
<span id="cb186-5" d__=""><a href="#cb186-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb186-6"><a href="#cb186-6"></a><span class="op" d__="">{</span></span>
<span id="cb186-7" d__=""><a href="#cb186-7"></a>    <span class="dt" d__="">double</span> x<span class="op" d__="">;</span></span>
<span id="cb186-8"><a href="#cb186-8"></a></span>
<span id="cb186-9" d__=""><a href="#cb186-9"></a>    errno <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span>       <span class="co" d__="">// Make sure this is clear before the call</span></span>
<span id="cb186-10"><a href="#cb186-10"></a></span>
<span id="cb186-11" d__=""><a href="#cb186-11"></a>    x <span class="op" d__="">=</span> exp<span class="op" d__="">(</span><span class="fl" d__="">1e+30</span><span class="op" d__="">);</span>  <span class="co" d__="">// Pass in some too-huge number</span></span>
<span id="cb186-12"><a href="#cb186-12"></a></span>
<span id="cb186-13" d__=""><a href="#cb186-13"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>errno <span class="op" d__="">==</span> ERANGE<span class="op" d__="">)</span></span>
<span id="cb186-14" d__=""><a href="#cb186-14"></a>        perror<span class="op" d__="">(</span><span class="st" d__="">"exp"</span><span class="op" d__="">);</span></span>
<span id="cb186-15"><a href="#cb186-15"></a>    <span class="cf" d__="">else</span></span>
<span id="cb186-16" d__=""><a href="#cb186-16"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"Answer is </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> x<span class="op" d__="">);</span></span>
<span id="cb186-17"><a href="#cb186-17"></a></span>
<span id="cb186-18"><a href="#cb186-18"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb186-19"><a href="#cb186-19"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb187-1" d__=""><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a>exp: Numerical result out of range</span></code></pre></div>
<p d__="">This example tries to convert an invalid character into a wide character, failing. This sets <code s__="13">errno</code> to <code s__="13">EILSEQ</code>. We then use <code s__="13">perror()</code> to print an error message.</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb188-1"><a href="#cb188-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb188-2"><a href="#cb188-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb188-3"><a href="#cb188-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb188-4"><a href="#cb188-4"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;errno.h&gt;</span></span>
<span id="cb188-5"><a href="#cb188-5"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;locale.h&gt;</span></span>
<span id="cb188-6"><a href="#cb188-6"></a></span>
<span id="cb188-7" d__=""><a href="#cb188-7"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb188-8"><a href="#cb188-8"></a><span class="op" d__="">{</span></span>
<span id="cb188-9" d__=""><a href="#cb188-9"></a>    setlocale<span class="op" d__="">(</span>LC_ALL<span class="op" d__="">,</span> <span class="st" d__="">""</span><span class="op" d__="">);</span></span>
<span id="cb188-10"><a href="#cb188-10"></a></span>
<span id="cb188-11" d__=""><a href="#cb188-11"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>bad_str <span class="op" d__="">=</span> <span class="st" d__="">"</span><span class="sc" d__="">\xff</span><span class="st" d__="">"</span><span class="op" d__="">;</span>  <span class="co" d__="">// Probably invalid char in this locale</span></span>
<span id="cb188-12" d__=""><a href="#cb188-12"></a>    <span class="dt" d__="">wchar_t</span> wc<span class="op" d__="">;</span></span>
<span id="cb188-13" d__=""><a href="#cb188-13"></a>    <span class="dt" d__="">size_t</span> result<span class="op" d__="">;</span></span>
<span id="cb188-14" d__=""><a href="#cb188-14"></a>    mbstate_t ps<span class="op" d__="">;</span></span>
<span id="cb188-15"><a href="#cb188-15"></a></span>
<span id="cb188-16" d__=""><a href="#cb188-16"></a>    memset<span class="op" d__="">(&amp;</span>ps<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span> ps<span class="op" d__="">);</span></span>
<span id="cb188-17"><a href="#cb188-17"></a></span>
<span id="cb188-18" d__=""><a href="#cb188-18"></a>    result <span class="op" d__="">=</span> mbrtowc<span class="op" d__="">(&amp;</span>wc<span class="op" d__="">,</span> bad_str<span class="op" d__="">,</span> <span class="dv" d__="">1</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>ps<span class="op" d__="">);</span></span>
<span id="cb188-19"><a href="#cb188-19"></a></span>
<span id="cb188-20" d__=""><a href="#cb188-20"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>result <span class="op" d__="">==</span> <span class="op" d__="">(</span><span class="dt" d__="">size_t</span><span class="op" d__="">)(-</span><span class="dv" d__="">1</span><span class="op" d__="">))</span></span>
<span id="cb188-21" d__=""><a href="#cb188-21"></a>        perror<span class="op" d__="">(</span><span class="st" d__="">"mbrtowc"</span><span class="op" d__="">);</span>  <span class="co" d__="">// mbrtowc: Illegal byte sequence</span></span>
<span id="cb188-22"><a href="#cb188-22"></a>    <span class="cf" d__="">else</span></span>
<span id="cb188-23" d__=""><a href="#cb188-23"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"Converted to L'</span><span class="sc" d__="">%lc</span><span class="st" d__="">'</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> wc<span class="op" d__="">);</span></span>
<span id="cb188-24"><a href="#cb188-24"></a></span>
<span id="cb188-25"><a href="#cb188-25"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb188-26"><a href="#cb188-26"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb189-1" d__=""><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a>mbrtowc: Invalid or incomplete multibyte or wide character</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-36" d__="">See Also</h3>
<p d__=""><a href="#man-perror"><code s__="13" d__="">perror()</code></a>, <a href="#man-mbrtoc16"><code s__="13" d__="">mbrtoc16()</code></a>, <a href="#man-c16rtomb"><code s__="13" d__="">c16rtomb()</code></a>, <a href="#man-mbrtoc16"><code s__="13" d__="">mbrtoc32()</code></a>, <a href="#man-c16rtomb"><code s__="13" d__="">c32rtomb()</code></a>, <a href="#man-getwc"><code s__="13" d__="">fgetwc()</code></a>, <a href="#man-putwc"><code s__="13" d__="">fputwc()</code></a>, <a href="#man-mbrtowc"><code s__="13" d__="">mbrtowc()</code></a>, <a href="#man-wcrtomb"><code s__="13" d__="">wcrtomb()</code></a>, <a href="#man-mbsrtowcs"><code s__="13" d__="">mbsrtowcs()</code></a>, <a href="#man-wcsrtombs"><code s__="13" d__="">wcsrtombs()</code></a>, <a href="#math"><code s__="13" d__="">&lt;math.h&gt;</code></a>,</p>
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="7" id="fenv" d__=""><span class="header-section-number">7</span> <code>&lt;fenv.h&gt;</code> Floating Point Exceptions and Environment</h1>
<p></p>
<table>
<colgroup>
<col style="width: 26%">
<col style="width: 73%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Function</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#man-feclearexcept"><code s__="13" d__="">feclearexcept()</code></a></td>
<td d__="">Clear floating point exceptions</td>
</tr>
<tr class="even">
<td><a href="#man-fegetexceptflag"><code s__="13" d__="">fegetexceptflag()</code></a></td>
<td d__="">Save the floating point exception flags</td>
</tr>
<tr class="odd">
<td><a href="#man-fegetexceptflag"><code s__="13" d__="">fesetexceptflag()</code></a></td>
<td d__="">Restore the floating point exception flags</td>
</tr>
<tr class="even">
<td><a href="#man-feraiseexcept"><code s__="13" d__="">feraiseexcept()</code></a></td>
<td d__="">Raise a floating point exception through software</td>
</tr>
<tr class="odd">
<td><a href="#man-fetestexcept"><code s__="13" d__="">fetestexcept()</code></a></td>
<td d__="">Test to see if an exception has occurred</td>
</tr>
<tr class="even">
<td><a href="#man-fegetround"><code s__="13" d__="">fegetround()</code></a></td>
<td d__="">Get the rounding direction</td>
</tr>
<tr class="odd">
<td><a href="#man-fegetround"><code s__="13" d__="">fesetround()</code></a></td>
<td d__="">Set the rounding direction</td>
</tr>
<tr class="even">
<td><a href="#man-fegetenv"><code s__="13" d__="">fegetenv()</code></a></td>
<td d__="">Save the entire floating point environment</td>
</tr>
<tr class="odd">
<td><a href="#man-fegetenv"><code s__="13" d__="">fesetenv()</code></a></td>
<td d__="">Restore the entire floating point environment</td>
</tr>
<tr class="even">
<td><a href="#man-feholdexcept"><code s__="13" d__="">feholdexcept()</code></a></td>
<td d__="">Save floating point state and install non-stop mode</td>
</tr>
<tr class="odd">
<td><a href="#man-feupdateenv"><code s__="13" d__="">feupdateenv()</code></a></td>
<td d__="">Restore floating point environment and apply recent exceptions</td>
</tr>
</tbody>
</table>
<h2 data-number="7.1" id="types-and-macros" d__=""><span class="header-section-number">7.1</span> Types and Macros</h2>
<p d__="">There are two types defined in this header:</p>
<p> </p>
<table>
<thead>
<tr class="header">
<th d__="">Type</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">fenv_t</code></td>
<td d__="">The entire floating point environment</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">fexcept_t</code></td>
<td d__="">A set of floating point exceptions</td>
</tr>
</tbody>
</table>
<p d__="">The “environment” can be thought of as the status at this 
moment of the floating point processing system: this includes the 
exceptions, rounding, etc. It’s an opaque type, so you won’t be able to 
access it directly, and it must be done through the proper functions.</p>
<p d__="">If the functions in question exist on your system (they might 
not be!), then you’ll also have these macros defined to represent 
different exceptions:</p>
<p> </p>
<table>
<thead>
<tr class="header">
<th d__="">Macro</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">FE_DIVBYZERO</code></td>
<td d__="">Division by zero</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">FE_INEXACT</code></td>
<td d__="">Result was not exact, was rounded</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">FE_INVALID</code></td>
<td d__="">Domain error</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">FE_OVERFLOW</code></td>
<td d__="">Numeric overflow</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">FE_UNDERFLOW</code></td>
<td d__="">Numeric underflow</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">FE_ALL_EXCEPT</code></td>
<td d__="">All of the above combined</td>
</tr>
</tbody>
</table>
<p d__="">The idea is that you can bitwise-OR these together to represent multiple exceptions, e.g.&nbsp;<code s__="13">FE_INVALID|FE_OVERFLOW</code>.</p>
<p d__="">The functions, below, that have an <code s__="13">excepts</code> parameter will take these values.</p>
<p d__="">See <a href="#math"><code s__="13" d__="">&lt;math.h&gt;</code></a> for which functions raise which exceptions and when.</p>
<h2 data-number="7.2" id="pragmas" d__=""><span class="header-section-number">7.2</span> Pragmas</h2>
<p d__="">Normally C is free to optimize all kinds of stuff that might 
cause the flags to not look like you might expect. So if you’re going to
 use this stuff, be sure to set this pragma:</p>
<p></p>
<div class="sourceCode" id="cb190"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#pragma STDC FENV_ACCESS ON</span></span></code></pre></div>
<p d__="">If you do this at global scope, it remains in effect until you turn it off:</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb191-1"><a href="#cb191-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#pragma STDC FENV_ACCESS OFF</span></span></code></pre></div>
<p d__="">If you do it in block scope, it has to come before any 
statements or declarations. In this case, it has effect until the block 
ends (or until it is explicitly turned off.)</p>
<p d__=""><strong>A caveat</strong>: this program isn’t supported on 
either of the compilers I have (gcc and clang) as of this writing, so 
though I have built the code, below, it’s not particularly well-tested.</p>
<hr>
<h2 data-number="7.3" id="man-feclearexcept"><span class="header-section-number" d__="">7.3</span> <code d__="">feclearexcept()</code></h2>
<p></p>
<p d__="">Clear floating point exceptions</p>
<h3 class="unnumbered unlisted" id="synopsis-40" d__="">Synopsis</h3>
<div class="sourceCode" id="cb192"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb192-1"><a href="#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;fenv.h&gt;</span></span>
<span id="cb192-2"><a href="#cb192-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-3" d__=""><a href="#cb192-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> feclearexcept<span class="op" d__="">(</span><span class="dt" d__="">int</span> excepts<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-40" d__="">Description</h3>
<p d__="">If a floating point exception has occurred, this function can clear it.</p>
<p d__="">Set <code s__="13">excepts</code> to a bitwise-OR list of exceptions to clear.</p>
<p d__="">Passing <code s__="13">0</code> has no effect.</p>
<h3 class="unnumbered unlisted" id="return-value-39" d__="">Return Value</h3>
<p d__="">Returns <code s__="13">0</code> on success and non-zero on failure.</p>
<h3 class="unnumbered unlisted" id="example-40" d__="">Example</h3>
<div class="sourceCode" id="cb193"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb193-1"><a href="#cb193-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb193-2"><a href="#cb193-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb193-3"><a href="#cb193-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;fenv.h&gt;</span></span>
<span id="cb193-4"><a href="#cb193-4"></a></span>
<span id="cb193-5" d__=""><a href="#cb193-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb193-6"><a href="#cb193-6"></a><span class="op" d__="">{</span></span>
<span id="cb193-7"><a href="#cb193-7"></a>    <span class="pp" d__="">#pragma STDC FENV_ACCESS ON </span></span>
<span id="cb193-8"><a href="#cb193-8"></a></span>
<span id="cb193-9" d__=""><a href="#cb193-9"></a>    <span class="dt" d__="">double</span> f <span class="op" d__="">=</span> sqrt<span class="op" d__="">(-</span><span class="dv" d__="">1</span><span class="op" d__="">);</span></span>
<span id="cb193-10"><a href="#cb193-10"></a></span>
<span id="cb193-11" d__=""><a href="#cb193-11"></a>    <span class="dt" d__="">int</span> r <span class="op" d__="">=</span> feclearexcept<span class="op" d__="">(</span>FE_INVALID<span class="op" d__="">);</span></span>
<span id="cb193-12"><a href="#cb193-12"></a></span>
<span id="cb193-13" d__=""><a href="#cb193-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d</span><span class="st"> </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> r<span class="op" d__="">,</span> f<span class="op" d__="">);</span></span>
<span id="cb193-14"><a href="#cb193-14"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-37" d__="">See Also</h3>
<p d__=""><a href="#man-feraiseexcept"><code s__="13" d__="">feraiseexcept()</code></a>, <a href="#man-fetestexcept"><code s__="13" d__="">fetestexcept()</code></a></p>
<hr>
<h2 data-number="7.4" id="man-fegetexceptflag"><span class="header-section-number" d__="">7.4</span> <code d__="">fegetexceptflag()</code> <code d__="">fesetexceptflag()</code></h2>
<p> </p>
<p d__="">Save or restore the floating point exception flags</p>
<h3 class="unnumbered unlisted" id="synopsis-41" d__="">Synopsis</h3>
<div class="sourceCode" id="cb194"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb194-1"><a href="#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;fenv.h&gt;</span></span>
<span id="cb194-2"><a href="#cb194-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb194-3" d__=""><a href="#cb194-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> fegetexceptflag<span class="op" d__="">(</span>fexcept_t <span class="op" d__="">*</span>flagp<span class="op" d__="">,</span> <span class="dt" d__="">int</span> excepts<span class="op" d__="">);</span></span>
<span id="cb194-4"><a href="#cb194-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb194-5" d__=""><a href="#cb194-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> fesetexceptflag<span class="op" d__="">(</span>fexcept_t <span class="op" d__="">*</span>flagp<span class="op" d__="">,</span> <span class="dt" d__="">int</span> excepts<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-41" d__="">Description</h3>
<p d__="">Use these functions to save or restore the current floating point environment in a variable.</p>
<p d__="">Set <code s__="13">excepts</code> to the set of exceptions you want to save or restore the state of. Setting it to <code s__="13">FE_ALL_EXCEPT</code> will save or restore the entire state.</p>
<p d__="">Note that <code s__="13">fexcept_t</code> is an opaque type—you don’t know what’s in it.</p>
<p d__=""><code s__="13">excepts</code> can be set to zero for no effect.</p>
<h3 class="unnumbered unlisted" id="return-value-40" d__="">Return Value</h3>
<p d__="">Returns <code s__="13">0</code> on success or if <code s__="13">excepts</code> is zero.</p>
<p d__="">Returns non-zero on failure.</p>
<h3 class="unnumbered unlisted" id="example-41" d__="">Example</h3>
<p d__="">This program saves the state (before any error has happened), then deliberately causes a domain error by trying to take <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="28"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msqrt><mjx-sqrt><mjx-surd><mjx-mo class="mjx-n"><mjx-c class="mjx-c221A"></mjx-c></mjx-mo></mjx-surd><mjx-box style="padding-top: 0.134em;"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-box></mjx-sqrt></mjx-msqrt></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msqrt><mo>−</mo><mn>1</mn></msqrt></math></mjx-assistive-mml></mjx-container></span>.</p>
<p d__="">After that, it restores the floating point state to before the error had occurred, thereby clearing it.</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb195-1"><a href="#cb195-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb195-2"><a href="#cb195-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb195-3"><a href="#cb195-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;fenv.h&gt;</span></span>
<span id="cb195-4"><a href="#cb195-4"></a></span>
<span id="cb195-5" d__=""><a href="#cb195-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb195-6"><a href="#cb195-6"></a><span class="op" d__="">{</span></span>
<span id="cb195-7"><a href="#cb195-7"></a>    <span class="pp" d__="">#pragma STDC FENV_ACCESS ON </span></span>
<span id="cb195-8"><a href="#cb195-8"></a></span>
<span id="cb195-9" d__=""><a href="#cb195-9"></a>    fexcept_t flag<span class="op" d__="">;</span></span>
<span id="cb195-10"><a href="#cb195-10"></a></span>
<span id="cb195-11" d__=""><a href="#cb195-11"></a>    fegetexceptflag<span class="op" d__="">(&amp;</span>flag<span class="op" d__="">,</span> FE_ALL_EXCEPT<span class="op" d__="">);</span>  <span class="co" d__="">// Save state</span></span>
<span id="cb195-12"><a href="#cb195-12"></a></span>
<span id="cb195-13" d__=""><a href="#cb195-13"></a>    <span class="dt" d__="">double</span> f <span class="op" d__="">=</span> sqrt<span class="op" d__="">(-</span><span class="dv" d__="">1</span><span class="op" d__="">);</span>                    <span class="co" d__="">// I imagine this won't work</span></span>
<span id="cb195-14" d__=""><a href="#cb195-14"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> f<span class="op" d__="">);</span>                      <span class="co" d__="">// "nan"</span></span>
<span id="cb195-15"><a href="#cb195-15"></a></span>
<span id="cb195-16" d__=""><a href="#cb195-16"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>fetestexcept<span class="op" d__="">(</span>FE_INVALID<span class="op" d__="">))</span></span>
<span id="cb195-17" d__=""><a href="#cb195-17"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"1: Domain error</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span>        <span class="co" d__="">// This prints!</span></span>
<span id="cb195-18"><a href="#cb195-18"></a>    <span class="cf" d__="">else</span></span>
<span id="cb195-19" d__=""><a href="#cb195-19"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"1: No domain error</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb195-20"><a href="#cb195-20"></a></span>
<span id="cb195-21" d__=""><a href="#cb195-21"></a>    fesetexceptflag<span class="op" d__="">(&amp;</span>flag<span class="op" d__="">,</span> FE_ALL_EXCEPT<span class="op" d__="">);</span>  <span class="co" d__="">// Restore to before error</span></span>
<span id="cb195-22"><a href="#cb195-22"></a></span>
<span id="cb195-23" d__=""><a href="#cb195-23"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>fetestexcept<span class="op" d__="">(</span>FE_INVALID<span class="op" d__="">))</span></span>
<span id="cb195-24" d__=""><a href="#cb195-24"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"2: Domain error</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb195-25"><a href="#cb195-25"></a>    <span class="cf" d__="">else</span></span>
<span id="cb195-26" d__=""><a href="#cb195-26"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"2: No domain error</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span>     <span class="co" d__="">// This prints!</span></span>
<span id="cb195-27"><a href="#cb195-27"></a><span class="op" d__="">}</span></span></code></pre></div>
<!--
### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<hr>
<h2 data-number="7.5" id="man-feraiseexcept"><span class="header-section-number" d__="">7.5</span> <code d__="">feraiseexcept()</code></h2>
<p></p>
<p d__="">Raise a floating point exception through software</p>
<h3 class="unnumbered unlisted" id="synopsis-42" d__="">Synopsis</h3>
<div class="sourceCode" id="cb196"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;fenv.h&gt;</span></span>
<span id="cb196-2"><a href="#cb196-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb196-3" d__=""><a href="#cb196-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> feraiseexcept<span class="op" d__="">(</span><span class="dt" d__="">int</span> excepts<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-42" d__="">Description</h3>
<p d__="">This attempts to raise a floating point exception as if it had happened.</p>
<p d__="">You can specify multiple exceptions to raise.</p>
<p d__="">If either <code s__="13">FE_UNDERFLOW</code> or <code s__="13">FE_OVERFLOW</code> is raised, C <em>might</em> also raise <code s__="13">FE_INEXACT</code>.</p>
<p d__="">If either <code s__="13">FE_UNDERFLOW</code> or <code s__="13">FE_OVERFLOW</code> is raised at the same time as <code s__="13">FE_INEXACT</code>, then <code s__="13">FE_UNDERFLOW</code> or <code s__="13">FE_OVERFLOW</code> will be raised <em>before</em> <code s__="13">FE_INEXACT</code> behind the scenes.</p>
<p d__="">The order the other exceptions are raised is undefined.</p>
<h3 class="unnumbered unlisted" id="return-value-41" d__="">Return Value</h3>
<p d__="">Returns <code s__="13">0</code> if all the exceptions were raised or if <code s__="13">excepts</code> is <code s__="13">0</code>.</p>
<p d__="">Returns non-zero otherwise.</p>
<h3 class="unnumbered unlisted" id="example-42" d__="">Example</h3>
<p d__="">This code deliberately raises a division-by-zero exception and then detects it.</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb197-1"><a href="#cb197-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb197-2"><a href="#cb197-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb197-3"><a href="#cb197-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;fenv.h&gt;</span></span>
<span id="cb197-4"><a href="#cb197-4"></a></span>
<span id="cb197-5" d__=""><a href="#cb197-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb197-6"><a href="#cb197-6"></a><span class="op" d__="">{</span></span>
<span id="cb197-7"><a href="#cb197-7"></a>    <span class="pp" d__="">#pragma STDC FENV_ACCESS ON </span></span>
<span id="cb197-8"><a href="#cb197-8"></a></span>
<span id="cb197-9" d__=""><a href="#cb197-9"></a>    feraiseexcept<span class="op" d__="">(</span>FE_DIVBYZERO<span class="op" d__="">);</span></span>
<span id="cb197-10"><a href="#cb197-10"></a></span>
<span id="cb197-11" d__=""><a href="#cb197-11"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>fetestexcept<span class="op" d__="">(</span>FE_DIVBYZERO<span class="op" d__="">)</span> <span class="op" d__="">==</span> FE_DIVBYZERO<span class="op" d__="">)</span></span>
<span id="cb197-12" d__=""><a href="#cb197-12"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"Detected division by zero</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span>  <span class="co" d__="">// This prints!!</span></span>
<span id="cb197-13"><a href="#cb197-13"></a>    <span class="cf" d__="">else</span></span>
<span id="cb197-14" d__=""><a href="#cb197-14"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"This is fine.</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb197-15"><a href="#cb197-15"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-38" d__="">See Also</h3>
<p d__=""><a href="#man-feclearexcept"><code s__="13" d__="">feclearexcept()</code></a>, <a href="#man-fetestexcept"><code s__="13" d__="">fetestexcept()</code></a></p>
<hr>
<h2 data-number="7.6" id="man-fetestexcept"><span class="header-section-number" d__="">7.6</span> <code d__="">fetestexcept()</code></h2>
<p></p>
<p d__="">Test to see if an exception has occurred</p>
<h3 class="unnumbered unlisted" id="synopsis-43" d__="">Synopsis</h3>
<div class="sourceCode" id="cb198"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb198-1"><a href="#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;fenv.h&gt;</span></span>
<span id="cb198-2"><a href="#cb198-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb198-3" d__=""><a href="#cb198-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> fetestexcept<span class="op" d__="">(</span><span class="dt" d__="">int</span> excepts<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-43" d__="">Description</h3>
<p d__="">Put the exceptions you want to test in <code s__="13">excepts</code>, bitwise-ORing them together.</p>
<h3 class="unnumbered unlisted" id="return-value-42" d__="">Return Value</h3>
<p d__="">Returns the bitwise-OR of the exceptions that have been raised.</p>
<h3 class="unnumbered unlisted" id="example-43" d__="">Example</h3>
<p d__="">This code deliberately raises a division-by-zero exception and then detects it.</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb199-1"><a href="#cb199-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb199-2"><a href="#cb199-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb199-3"><a href="#cb199-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;fenv.h&gt;</span></span>
<span id="cb199-4"><a href="#cb199-4"></a></span>
<span id="cb199-5" d__=""><a href="#cb199-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb199-6"><a href="#cb199-6"></a><span class="op" d__="">{</span></span>
<span id="cb199-7"><a href="#cb199-7"></a>    <span class="pp" d__="">#pragma STDC FENV_ACCESS ON </span></span>
<span id="cb199-8"><a href="#cb199-8"></a></span>
<span id="cb199-9" d__=""><a href="#cb199-9"></a>    feraiseexcept<span class="op" d__="">(</span>FE_DIVBYZERO<span class="op" d__="">);</span></span>
<span id="cb199-10"><a href="#cb199-10"></a></span>
<span id="cb199-11" d__=""><a href="#cb199-11"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>fetestexcept<span class="op" d__="">(</span>FE_DIVBYZERO<span class="op" d__="">)</span> <span class="op" d__="">==</span> FE_DIVBYZERO<span class="op" d__="">)</span></span>
<span id="cb199-12" d__=""><a href="#cb199-12"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"Detected division by zero</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span>  <span class="co" d__="">// This prints!!</span></span>
<span id="cb199-13"><a href="#cb199-13"></a>    <span class="cf" d__="">else</span></span>
<span id="cb199-14" d__=""><a href="#cb199-14"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"This is fine.</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb199-15"><a href="#cb199-15"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-39" d__="">See Also</h3>
<p d__=""><a href="#man-feclearexcept"><code s__="13" d__="">feclearexcept()</code></a>, <a href="#man-feraiseexcept"><code s__="13" d__="">feraiseexcept()</code></a></p>
<hr>
<h2 data-number="7.7" id="man-fegetround"><span class="header-section-number" d__="">7.7</span> <code d__="">fegetround()</code> <code d__="">fesetround()</code></h2>
<p> </p>
<p d__="">Get or set the rounding direction</p>
<h3 class="unnumbered unlisted" id="synopsis-44" d__="">Synopsis</h3>
<div class="sourceCode" id="cb200"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb200-1"><a href="#cb200-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;fenv.h&gt;</span></span>
<span id="cb200-2"><a href="#cb200-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb200-3" d__=""><a href="#cb200-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> fegetround<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">);</span></span>
<span id="cb200-4"><a href="#cb200-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb200-5" d__=""><a href="#cb200-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> fesetround<span class="op" d__="">(</span><span class="dt" d__="">int</span> round<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-44" d__="">Description</h3>
<p d__="">Use these to get or set the rounding direction used by a variety of math functions.</p>
<p d__="">Basically when a function “rounds” a number, it wants to know 
how to do it. By default, it does it how we tend to expect: if the 
fractional part is less than 0.5, it rounds down closer to zero, 
otherwise up farther from zero.</p>
<table>
<thead>
<tr class="header">
<th d__="">Macro</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">FE_TONEAREST</code></td>
<td d__="">Round to the nearest whole number, the default</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">FE_TOWARDZERO</code></td>
<td d__="">Round toward zero always</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">FE_DOWNWARD</code></td>
<td d__="">Round toward the next lesser whole number</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">FE_UPWARD</code></td>
<td d__="">Round toward the next greater whole number</td>
</tr>
</tbody>
</table>
<p d__="">Some implementations don’t support rounding. If it does, the above macros will be defined.</p>
<p d__="">Note that the <code s__="13">round()</code> function is always “to-nearest” and doesn’t pay attention to the rounding mode.</p>
<h3 class="unnumbered unlisted" id="return-value-43" d__="">Return Value</h3>
<p d__=""><code s__="13">fegetround()</code> returns the current rounding direction, or a negative value on error.</p>
<p d__=""><code s__="13">fesetround()</code> returns zero on success, or non-zero on failure.</p>
<h3 class="unnumbered unlisted" id="example-44" d__="">Example</h3>
<p d__="">This rounds some numbers</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb201-1"><a href="#cb201-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb201-2"><a href="#cb201-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb201-3"><a href="#cb201-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;fenv.h&gt;</span></span>
<span id="cb201-4"><a href="#cb201-4"></a></span>
<span id="cb201-5"><a href="#cb201-5"></a><span class="co" d__="">// Helper function to print the rounding mode</span></span>
<span id="cb201-6" d__=""><a href="#cb201-6"></a><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>rounding_mode_str<span class="op" d__="">(</span><span class="dt" d__="">int</span> mode<span class="op" d__="">)</span></span>
<span id="cb201-7"><a href="#cb201-7"></a><span class="op" d__="">{</span></span>
<span id="cb201-8" d__=""><a href="#cb201-8"></a>    <span class="cf" d__="">switch</span> <span class="op" d__="">(</span>mode<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb201-9" d__=""><a href="#cb201-9"></a>        <span class="cf" d__="">case</span> FE_TONEAREST<span class="op" d__="">:</span>  <span class="cf" d__="">return</span> <span class="st" d__="">"FE_TONEAREST"</span><span class="op" d__="">;</span></span>
<span id="cb201-10" d__=""><a href="#cb201-10"></a>        <span class="cf" d__="">case</span> FE_TOWARDZERO<span class="op" d__="">:</span> <span class="cf" d__="">return</span> <span class="st" d__="">"FE_TOWARDZERO"</span><span class="op" d__="">;</span></span>
<span id="cb201-11" d__=""><a href="#cb201-11"></a>        <span class="cf" d__="">case</span> FE_DOWNWARD<span class="op" d__="">:</span>   <span class="cf" d__="">return</span> <span class="st" d__="">"FE_DOWNWARD"</span><span class="op" d__="">;</span></span>
<span id="cb201-12" d__=""><a href="#cb201-12"></a>        <span class="cf" d__="">case</span> FE_UPWARD<span class="op" d__="">:</span>     <span class="cf" d__="">return</span> <span class="st" d__="">"FE_UPWARD"</span><span class="op" d__="">;</span></span>
<span id="cb201-13"><a href="#cb201-13"></a>    <span class="op" d__="">}</span></span>
<span id="cb201-14"><a href="#cb201-14"></a></span>
<span id="cb201-15"><a href="#cb201-15"></a>    <span class="cf" d__="">return</span> <span class="st" d__="">"Unknown"</span><span class="op" d__="">;</span></span>
<span id="cb201-16"><a href="#cb201-16"></a><span class="op" d__="">}</span></span>
<span id="cb201-17"><a href="#cb201-17"></a></span>
<span id="cb201-18" d__=""><a href="#cb201-18"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb201-19"><a href="#cb201-19"></a><span class="op" d__="">{</span></span>
<span id="cb201-20"><a href="#cb201-20"></a>    <span class="pp" d__="">#pragma STDC FENV_ACCESS ON </span></span>
<span id="cb201-21"><a href="#cb201-21"></a></span>
<span id="cb201-22" d__=""><a href="#cb201-22"></a>    <span class="dt" d__="">int</span> rm<span class="op" d__="">;</span></span>
<span id="cb201-23"><a href="#cb201-23"></a></span>
<span id="cb201-24" d__=""><a href="#cb201-24"></a>    rm <span class="op" d__="">=</span> fegetround<span class="op" d__="">();</span></span>
<span id="cb201-25"><a href="#cb201-25"></a></span>
<span id="cb201-26" d__=""><a href="#cb201-26"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> rounding_mode_str<span class="op" d__="">(</span>rm<span class="op" d__="">));</span>    <span class="co" d__="">// Print current mode</span></span>
<span id="cb201-27" d__=""><a href="#cb201-27"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f</span><span class="st"> </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> rint<span class="op" d__="">(</span><span class="fl" d__="">2.1</span><span class="op" d__="">),</span> rint<span class="op" d__="">(</span><span class="fl" d__="">2.7</span><span class="op" d__="">));</span>  <span class="co" d__="">// Try rounding</span></span>
<span id="cb201-28"><a href="#cb201-28"></a></span>
<span id="cb201-29" d__=""><a href="#cb201-29"></a>    fesetround<span class="op" d__="">(</span>FE_TOWARDZERO<span class="op" d__="">);</span>                <span class="co" d__="">// Set the mode</span></span>
<span id="cb201-30"><a href="#cb201-30"></a></span>
<span id="cb201-31" d__=""><a href="#cb201-31"></a>    rm <span class="op" d__="">=</span> fegetround<span class="op" d__="">();</span></span>
<span id="cb201-32"><a href="#cb201-32"></a></span>
<span id="cb201-33" d__=""><a href="#cb201-33"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> rounding_mode_str<span class="op" d__="">(</span>rm<span class="op" d__="">));</span>    <span class="co" d__="">// Print it</span></span>
<span id="cb201-34" d__=""><a href="#cb201-34"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f</span><span class="st"> </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> rint<span class="op" d__="">(</span><span class="fl" d__="">2.1</span><span class="op" d__="">),</span> rint<span class="op" d__="">(</span><span class="fl" d__="">2.7</span><span class="op" d__="">));</span>  <span class="co" d__="">// Try it now!</span></span>
<span id="cb201-35"><a href="#cb201-35"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb202-1" d__=""><a href="#cb202-1" aria-hidden="true" tabindex="-1"></a>FE_TONEAREST</span>
<span id="cb202-2" d__=""><a href="#cb202-2" aria-hidden="true" tabindex="-1"></a>2.000000 3.000000</span>
<span id="cb202-3" d__=""><a href="#cb202-3" aria-hidden="true" tabindex="-1"></a>FE_TOWARDZERO</span>
<span id="cb202-4" d__=""><a href="#cb202-4" aria-hidden="true" tabindex="-1"></a>2.000000 2.000000</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-40" d__="">See Also</h3>
<p d__=""><a href="#man-nearbyint"><code s__="13" d__="">nearbyint()</code></a>, <a href="#man-nearbyint"><code s__="13" d__="">nearbyintf()</code></a>, <a href="#man-nearbyint"><code s__="13" d__="">nearbyintl()</code></a>, <a href="#man-rint"><code s__="13" d__="">rint()</code></a>, <a href="#man-rint"><code s__="13" d__="">rintf()</code></a>, <a href="#man-rint"><code s__="13" d__="">rintl()</code></a>, <a href="#man-lrint"><code s__="13" d__="">lrint()</code></a>, <a href="#man-lrint"><code s__="13" d__="">lrintf()</code></a>, <a href="#man-lrint"><code s__="13" d__="">lrintl()</code></a>, <a href="#man-lrint"><code s__="13" d__="">llrint()</code></a>, <a href="#man-lrint"><code s__="13" d__="">llrintf()</code></a>, <a href="#man-lrint"><code s__="13" d__="">llrintl()</code></a></p>
<hr>
<h2 data-number="7.8" id="man-fegetenv"><span class="header-section-number" d__="">7.8</span> <code d__="">fegetenv()</code> <code d__="">fesetenv()</code></h2>
<p> </p>
<p d__="">Save or restore the entire floating point environment</p>
<h3 class="unnumbered unlisted" id="synopsis-45" d__="">Synopsis</h3>
<div class="sourceCode" id="cb203"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb203-1"><a href="#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;fenv.h&gt;</span></span>
<span id="cb203-2"><a href="#cb203-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb203-3" d__=""><a href="#cb203-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> fegetenv<span class="op" d__="">(</span>fenv_t <span class="op" d__="">*</span>envp<span class="op" d__="">);</span></span>
<span id="cb203-4" d__=""><a href="#cb203-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> fesetenv<span class="op" d__="">(</span><span class="dt" d__="">const</span> fenv_t <span class="op" d__="">*</span>envp<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-45" d__="">Description</h3>
<p d__="">You can save the environment (exceptions, rounding direction, etc.) by calling <code s__="13">fegetenv()</code> and restore it with <code s__="13">fesetenv()</code>.</p>
<p d__="">Use this if you want to restore the state after a function 
call, i.e. hide from the caller that some floating point exceptions or 
changes occurred.</p>
<h3 class="unnumbered unlisted" id="return-value-44" d__="">Return Value</h3>
<p d__=""><code s__="13">fegetenv()</code> and <code s__="13">fesetenv()</code> return <code s__="13">0</code> on success, and non-zero otherwise.</p>
<h3 class="unnumbered unlisted" id="example-45" d__="">Example</h3>
<p d__="">This example saves the environment, messes with the rounding 
and exceptions, then restores it. After the environment is restored, we 
see that the rounding is back to default and the exception is cleared.</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb204-1"><a href="#cb204-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb204-2"><a href="#cb204-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb204-3"><a href="#cb204-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;fenv.h&gt;</span></span>
<span id="cb204-4"><a href="#cb204-4"></a></span>
<span id="cb204-5" d__=""><a href="#cb204-5"></a><span class="dt" d__="">void</span> show_status<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb204-6"><a href="#cb204-6"></a><span class="op" d__="">{</span></span>
<span id="cb204-7" d__=""><a href="#cb204-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Rounding is FE_TOWARDZERO: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span></span>
<span id="cb204-8" d__=""><a href="#cb204-8"></a>           fegetround<span class="op" d__="">()</span> <span class="op" d__="">==</span> FE_TOWARDZERO<span class="op" d__="">);</span></span>
<span id="cb204-9"><a href="#cb204-9"></a></span>
<span id="cb204-10" d__=""><a href="#cb204-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"FE_DIVBYZERO is set: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span></span>
<span id="cb204-11" d__=""><a href="#cb204-11"></a>           fetestexcept<span class="op" d__="">(</span>FE_DIVBYZERO<span class="op" d__="">)</span> <span class="op" d__="">!=</span> <span class="dv" d__="">0</span><span class="op" d__="">);</span></span>
<span id="cb204-12"><a href="#cb204-12"></a><span class="op" d__="">}</span></span>
<span id="cb204-13"><a href="#cb204-13"></a></span>
<span id="cb204-14" d__=""><a href="#cb204-14"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb204-15"><a href="#cb204-15"></a><span class="op" d__="">{</span></span>
<span id="cb204-16"><a href="#cb204-16"></a>    <span class="pp" d__="">#pragma STDC FENV_ACCESS ON </span></span>
<span id="cb204-17"><a href="#cb204-17"></a></span>
<span id="cb204-18" d__=""><a href="#cb204-18"></a>    fenv_t env<span class="op" d__="">;</span></span>
<span id="cb204-19"><a href="#cb204-19"></a></span>
<span id="cb204-20" d__=""><a href="#cb204-20"></a>    fegetenv<span class="op" d__="">(&amp;</span>env<span class="op" d__="">);</span>  <span class="co" d__="">// Save the environment</span></span>
<span id="cb204-21"><a href="#cb204-21"></a></span>
<span id="cb204-22" d__=""><a href="#cb204-22"></a>    fesetround<span class="op" d__="">(</span>FE_TOWARDZERO<span class="op" d__="">);</span>    <span class="co" d__="">// Change rounding</span></span>
<span id="cb204-23" d__=""><a href="#cb204-23"></a>    feraiseexcept<span class="op" d__="">(</span>FE_DIVBYZERO<span class="op" d__="">);</span>  <span class="co" d__="">// Raise an exception</span></span>
<span id="cb204-24"><a href="#cb204-24"></a></span>
<span id="cb204-25" d__=""><a href="#cb204-25"></a>    show_status<span class="op" d__="">();</span></span>
<span id="cb204-26"><a href="#cb204-26"></a></span>
<span id="cb204-27" d__=""><a href="#cb204-27"></a>    fesetenv<span class="op" d__="">(&amp;</span>env<span class="op" d__="">);</span>  <span class="co" d__="">// Restore the environment</span></span>
<span id="cb204-28"><a href="#cb204-28"></a></span>
<span id="cb204-29" d__=""><a href="#cb204-29"></a>    show_status<span class="op" d__="">();</span></span>
<span id="cb204-30"><a href="#cb204-30"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb205-1" d__=""><a href="#cb205-1" aria-hidden="true" tabindex="-1"></a>Rounding is FE_TOWARDZERO: 1</span>
<span id="cb205-2" d__=""><a href="#cb205-2" aria-hidden="true" tabindex="-1"></a>FE_DIVBYZERO is set: 1</span>
<span id="cb205-3" d__=""><a href="#cb205-3" aria-hidden="true" tabindex="-1"></a>Rounding is FE_TOWARDZERO: 0</span>
<span id="cb205-4" d__=""><a href="#cb205-4" aria-hidden="true" tabindex="-1"></a>FE_DIVBYZERO is set: 0</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-41" d__="">See Also</h3>
<p d__=""><a href="#man-feholdexcept"><code s__="13" d__="">feholdexcept()</code></a>, <a href="#man-feupdateenv"><code s__="13" d__="">feupdateenv()</code></a></p>
<hr>
<h2 data-number="7.9" id="man-feholdexcept"><span class="header-section-number" d__="">7.9</span> <code d__="">feholdexcept()</code></h2>
<p></p>
<p d__="">Save floating point state and install non-stop mode</p>
<h3 class="unnumbered unlisted" id="synopsis-46" d__="">Synopsis</h3>
<div class="sourceCode" id="cb206"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb206-1"><a href="#cb206-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;fenv.h&gt;</span></span>
<span id="cb206-2"><a href="#cb206-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb206-3" d__=""><a href="#cb206-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> feholdexcept<span class="op" d__="">(</span>fenv_t <span class="op" d__="">*</span>envp<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-46" d__="">Description</h3>
<p d__="">This is just like <code s__="13">fegetenv()</code> except that it updates the current environment to be in <em>non-stop</em> mode, namely it won’t halt on any exceptions.</p>
<p d__="">It remains in this state until you restore the state with <code s__="13">fesetenv()</code> or <code s__="13">feupdateenv()</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-45" d__="">Return Value</h3>
<h3 class="unnumbered unlisted" id="example-46" d__="">Example</h3>
<p d__="">This example saves the environment and goes into non-stop 
mode, messes with the rounding and exceptions, then restores it. After 
the environment is restored, we see that the rounding is back to default
 and the exception is cleared. We’ll also be out of non-stop mode.</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb207-1"><a href="#cb207-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb207-2"><a href="#cb207-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb207-3"><a href="#cb207-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;fenv.h&gt;</span></span>
<span id="cb207-4"><a href="#cb207-4"></a></span>
<span id="cb207-5" d__=""><a href="#cb207-5"></a><span class="dt" d__="">void</span> show_status<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb207-6"><a href="#cb207-6"></a><span class="op" d__="">{</span></span>
<span id="cb207-7" d__=""><a href="#cb207-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Rounding is FE_TOWARDZERO: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span></span>
<span id="cb207-8" d__=""><a href="#cb207-8"></a>           fegetround<span class="op" d__="">()</span> <span class="op" d__="">==</span> FE_TOWARDZERO<span class="op" d__="">);</span></span>
<span id="cb207-9"><a href="#cb207-9"></a></span>
<span id="cb207-10" d__=""><a href="#cb207-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"FE_DIVBYZERO is set: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span></span>
<span id="cb207-11" d__=""><a href="#cb207-11"></a>           fetestexcept<span class="op" d__="">(</span>FE_DIVBYZERO<span class="op" d__="">)</span> <span class="op" d__="">!=</span> <span class="dv" d__="">0</span><span class="op" d__="">);</span></span>
<span id="cb207-12"><a href="#cb207-12"></a><span class="op" d__="">}</span></span>
<span id="cb207-13"><a href="#cb207-13"></a></span>
<span id="cb207-14" d__=""><a href="#cb207-14"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb207-15"><a href="#cb207-15"></a><span class="op" d__="">{</span></span>
<span id="cb207-16"><a href="#cb207-16"></a>    <span class="pp" d__="">#pragma STDC FENV_ACCESS ON </span></span>
<span id="cb207-17"><a href="#cb207-17"></a></span>
<span id="cb207-18" d__=""><a href="#cb207-18"></a>    fenv_t env<span class="op" d__="">;</span></span>
<span id="cb207-19"><a href="#cb207-19"></a></span>
<span id="cb207-20"><a href="#cb207-20"></a>    <span class="co" d__="">// Save the environment and don't stop on exceptions</span></span>
<span id="cb207-21" d__=""><a href="#cb207-21"></a>    feholdexcept<span class="op" d__="">(&amp;</span>env<span class="op" d__="">);</span></span>
<span id="cb207-22"><a href="#cb207-22"></a></span>
<span id="cb207-23" d__=""><a href="#cb207-23"></a>    fesetround<span class="op" d__="">(</span>FE_TOWARDZERO<span class="op" d__="">);</span>    <span class="co" d__="">// Change rounding</span></span>
<span id="cb207-24" d__=""><a href="#cb207-24"></a>    feraiseexcept<span class="op" d__="">(</span>FE_DIVBYZERO<span class="op" d__="">);</span>  <span class="co" d__="">// Raise an exception</span></span>
<span id="cb207-25"><a href="#cb207-25"></a></span>
<span id="cb207-26" d__=""><a href="#cb207-26"></a>    show_status<span class="op" d__="">();</span></span>
<span id="cb207-27"><a href="#cb207-27"></a></span>
<span id="cb207-28" d__=""><a href="#cb207-28"></a>    fesetenv<span class="op" d__="">(&amp;</span>env<span class="op" d__="">);</span>  <span class="co" d__="">// Restore the environment</span></span>
<span id="cb207-29"><a href="#cb207-29"></a></span>
<span id="cb207-30" d__=""><a href="#cb207-30"></a>    show_status<span class="op" d__="">();</span></span>
<span id="cb207-31"><a href="#cb207-31"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-42" d__="">See Also</h3>
<p d__=""><a href="#man-fegetenv"><code s__="13" d__="">fegetenv()</code></a>, <a href="#man-fegetenv"><code s__="13" d__="">fesetenv()</code></a>, <a href="#man-feupdateenv"><code s__="13" d__="">feupdateenv()</code></a></p>
<hr>
<h2 data-number="7.10" id="man-feupdateenv"><span class="header-section-number" d__="">7.10</span> <code d__="">feupdateenv()</code></h2>
<p></p>
<p d__="">Restore floating point environment and apply recent exceptions</p>
<h3 class="unnumbered unlisted" id="synopsis-47" d__="">Synopsis</h3>
<div class="sourceCode" id="cb208"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb208-1"><a href="#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;fenv.h&gt;</span></span>
<span id="cb208-2"><a href="#cb208-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb208-3" d__=""><a href="#cb208-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> feupdateenv<span class="op" d__="">(</span><span class="dt" d__="">const</span> fenv_t <span class="op" d__="">*</span>envp<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-47" d__="">Description</h3>
<p d__="">This is like <code s__="13">fesetenv()</code> except that it modifies the passed-in environment so that it is updated with exceptions that have happened in the meantime.</p>
<p d__="">So let’s say you had a function that might raise exceptions, but you wanted to hide those in the caller. One option might be to:</p>
<ol type="1">
<li d__="">Save the environment with <code s__="13">fegetenv()</code> or <code s__="13">feholdexcept()</code>.</li>
<li d__="">Do whatever you do that might raise exceptions.</li>
<li d__="">Restore the environment with <code s__="13">fesetenv()</code>, thereby hiding the exceptions that happened in step 2.</li>
</ol>
<p d__="">But that hides <em>all</em> exceptions. What if you just wanted to hide some of them? You could use <code s__="13">feupdateenv()</code> like this:</p>
<ol type="1">
<li d__="">Save the environment with <code s__="13">fegetenv()</code> or <code s__="13">feholdexcept()</code>.</li>
<li d__="">Do whatever you do that might raise exceptions.</li>
<li d__="">Call <code s__="13">feclearexcept()</code> to clear the exceptions you want to hide from the caller.</li>
<li d__="">Call <code s__="13">feupdateenv()</code> to restore the previous environment and update it with the other exceptions that have occurred.</li>
</ol>
<p d__="">So it’s like a more capable way of restoring the environment than simply <code s__="13">fegetenv()</code>/<code s__="13">fesetenv()</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-46" d__="">Return Value</h3>
<p d__="">Returns <code s__="13">0</code> on success, non-zero otherwise.</p>
<h3 class="unnumbered unlisted" id="example-47" d__="">Example</h3>
<p d__="">This program saves state, raises some exceptions, then clears one of the exceptions, then restores and updates the state.</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb209-1"><a href="#cb209-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb209-2"><a href="#cb209-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb209-3"><a href="#cb209-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;fenv.h&gt;</span></span>
<span id="cb209-4"><a href="#cb209-4"></a></span>
<span id="cb209-5" d__=""><a href="#cb209-5"></a><span class="dt" d__="">void</span> show_status<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb209-6"><a href="#cb209-6"></a><span class="op" d__="">{</span></span>
<span id="cb209-7" d__=""><a href="#cb209-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"FE_DIVBYZERO: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> fetestexcept<span class="op" d__="">(</span>FE_DIVBYZERO<span class="op" d__="">)</span> <span class="op" d__="">!=</span> <span class="dv" d__="">0</span><span class="op" d__="">);</span></span>
<span id="cb209-8" d__=""><a href="#cb209-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"FE_INVALID  : </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> fetestexcept<span class="op" d__="">(</span>FE_INVALID<span class="op" d__="">)</span> <span class="op" d__="">!=</span> <span class="dv" d__="">0</span><span class="op" d__="">);</span></span>
<span id="cb209-9" d__=""><a href="#cb209-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"FE_OVERFLOW : </span><span class="sc" d__="">%d\n\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> fetestexcept<span class="op" d__="">(</span>FE_OVERFLOW<span class="op" d__="">)</span> <span class="op" d__="">!=</span> <span class="dv" d__="">0</span><span class="op" d__="">);</span></span>
<span id="cb209-10"><a href="#cb209-10"></a><span class="op" d__="">}</span></span>
<span id="cb209-11"><a href="#cb209-11"></a></span>
<span id="cb209-12" d__=""><a href="#cb209-12"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb209-13"><a href="#cb209-13"></a><span class="op" d__="">{</span></span>
<span id="cb209-14"><a href="#cb209-14"></a>    <span class="pp" d__="">#pragma STDC FENV_ACCESS ON </span></span>
<span id="cb209-15"><a href="#cb209-15"></a></span>
<span id="cb209-16" d__=""><a href="#cb209-16"></a>    fenv_t env<span class="op" d__="">;</span></span>
<span id="cb209-17"><a href="#cb209-17"></a></span>
<span id="cb209-18" d__=""><a href="#cb209-18"></a>    feholdexcept<span class="op" d__="">(&amp;</span>env<span class="op" d__="">);</span>  <span class="co" d__="">// Save the environment</span></span>
<span id="cb209-19"><a href="#cb209-19"></a></span>
<span id="cb209-20"><a href="#cb209-20"></a>    <span class="co" d__="">// Pretend some bad math happened here:</span></span>
<span id="cb209-21" d__=""><a href="#cb209-21"></a>    feraiseexcept<span class="op" d__="">(</span>FE_DIVBYZERO<span class="op" d__="">);</span>  <span class="co" d__="">// Raise an exception</span></span>
<span id="cb209-22" d__=""><a href="#cb209-22"></a>    feraiseexcept<span class="op" d__="">(</span>FE_INVALID<span class="op" d__="">);</span>    <span class="co" d__="">// Raise an exception</span></span>
<span id="cb209-23" d__=""><a href="#cb209-23"></a>    feraiseexcept<span class="op" d__="">(</span>FE_OVERFLOW<span class="op" d__="">);</span>   <span class="co" d__="">// Raise an exception</span></span>
<span id="cb209-24"><a href="#cb209-24"></a></span>
<span id="cb209-25" d__=""><a href="#cb209-25"></a>    show_status<span class="op" d__="">();</span></span>
<span id="cb209-26"><a href="#cb209-26"></a></span>
<span id="cb209-27" d__=""><a href="#cb209-27"></a>    feclearexcept<span class="op" d__="">(</span>FE_INVALID<span class="op" d__="">);</span></span>
<span id="cb209-28"><a href="#cb209-28"></a></span>
<span id="cb209-29" d__=""><a href="#cb209-29"></a>    feupdateenv<span class="op" d__="">(&amp;</span>env<span class="op" d__="">);</span>  <span class="co" d__="">// Restore the environment</span></span>
<span id="cb209-30"><a href="#cb209-30"></a></span>
<span id="cb209-31" d__=""><a href="#cb209-31"></a>    show_status<span class="op" d__="">();</span></span>
<span id="cb209-32"><a href="#cb209-32"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">In the output, at first we have no exceptions. Then we have 
the three we raised. Then after we restore/update the environment, we 
see the one we cleared (<code s__="13">FE_INVALID</code>) hasn’t been applied:</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb210-1" d__=""><a href="#cb210-1" aria-hidden="true" tabindex="-1"></a>FE_DIVBYZERO: 0</span>
<span id="cb210-2" d__=""><a href="#cb210-2" aria-hidden="true" tabindex="-1"></a>FE_INVALID  : 0</span>
<span id="cb210-3" d__=""><a href="#cb210-3" aria-hidden="true" tabindex="-1"></a>FE_OVERFLOW : 0</span>
<span id="cb210-4"><a href="#cb210-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb210-5" d__=""><a href="#cb210-5" aria-hidden="true" tabindex="-1"></a>FE_DIVBYZERO: 1</span>
<span id="cb210-6" d__=""><a href="#cb210-6" aria-hidden="true" tabindex="-1"></a>FE_INVALID  : 1</span>
<span id="cb210-7" d__=""><a href="#cb210-7" aria-hidden="true" tabindex="-1"></a>FE_OVERFLOW : 1</span>
<span id="cb210-8"><a href="#cb210-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb210-9" d__=""><a href="#cb210-9" aria-hidden="true" tabindex="-1"></a>FE_DIVBYZERO: 1</span>
<span id="cb210-10" d__=""><a href="#cb210-10" aria-hidden="true" tabindex="-1"></a>FE_INVALID  : 0</span>
<span id="cb210-11" d__=""><a href="#cb210-11" aria-hidden="true" tabindex="-1"></a>FE_OVERFLOW : 1</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-43" d__="">See Also</h3>
<p d__=""><a href="#man-fegetenv"><code s__="13" d__="">fegetenv()</code></a>, <a href="#man-fegetenv"><code s__="13" d__="">fesetenv()</code></a>, <a href="#man-feholdexcept"><code s__="13" d__="">feholdexcept()</code></a>, <a href="#man-feclearexcept"><code s__="13" d__="">feclearexcept()</code></a></p>
<!--
***
## `example()` `example()` `example()` {#man-example}

### Synopsis {.unnumbered .unlisted}

``` {.c}
```

### Description {.unnumbered .unlisted}

### Return Value {.unnumbered .unlisted}

### Example {.unnumbered .unlisted}

``` {.c .numberLines}
```

### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="8" id="float" d__=""><span class="header-section-number">8</span> <code>&lt;float.h&gt;</code> Floating Point Limits</h1>
<p></p>
<p> </p>
<table>
<colgroup>
<col style="width: 14%">
<col style="width: 28%">
<col style="width: 57%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Macro</th>
<th style="text-align: center;" d__="">Minimum Magnitude</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">FLT_ROUNDS</code></td>
<td style="text-align: center;"></td>
<td d__="">Current rounding mode</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">FLT_EVAL_METHOD</code></td>
<td style="text-align: center;"></td>
<td d__="">Types used for evaluation</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">FLT_HAS_SUBNORM</code></td>
<td style="text-align: center;"></td>
<td d__="">Subnormal support for <code s__="13">float</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">DBL_HAS_SUBNORM</code></td>
<td style="text-align: center;"></td>
<td d__="">Subnormal support for <code s__="13">double</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">LDBL_HAS_SUBNORM</code></td>
<td style="text-align: center;"></td>
<td d__="">Subnormal support for <code s__="13">long double</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">FLT_RADIX</code></td>
<td style="text-align: center;"><code s__="13" d__="">2</code></td>
<td d__="">Floating point radix (base)</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">FLT_MANT_DIG</code></td>
<td style="text-align: center;"></td>
<td d__="">Number of base <code s__="13">FLT_RADIX</code> digits in a <code s__="13">float</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">DBL_MANT_DIG</code></td>
<td style="text-align: center;"></td>
<td d__="">Number of base <code s__="13">FLT_RADIX</code> digits in a <code s__="13">double</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">LDBL_MANT_DIG</code></td>
<td style="text-align: center;"></td>
<td d__="">Number of base <code s__="13">FLT_RADIX</code> digits in a <code s__="13">long double</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">FLT_DECIMAL_DIG</code></td>
<td style="text-align: center;"><code s__="13" d__="">6</code></td>
<td d__="">Number of decimal digits required to encode a <code s__="13">float</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">DBL_DECIMAL_DIG</code></td>
<td style="text-align: center;"><code s__="13" d__="">10</code></td>
<td d__="">Number of decimal digits required to encode a <code s__="13">double</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">LDBL_DECIMAL_DIG</code></td>
<td style="text-align: center;"><code s__="13" d__="">10</code></td>
<td d__="">Number of decimal digits required to encode a <code s__="13">long double</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">DECIMAL_DIG</code></td>
<td style="text-align: center;"><code s__="13" d__="">10</code></td>
<td d__="">Number of decimal digits required to encode the the widest floating point number supported</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">FLT_DIG</code></td>
<td style="text-align: center;"><code s__="13" d__="">6</code></td>
<td d__="">Number of decimal digits that can be safely stored in a <code s__="13">float</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">DBL_DIG</code></td>
<td style="text-align: center;"><code s__="13" d__="">10</code></td>
<td d__="">Number of decimal digits that can be safely stored in a <code s__="13">double</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">LDBL_DIG</code></td>
<td style="text-align: center;"><code s__="13" d__="">10</code></td>
<td d__="">Number of decimal digits that can be safely stored in a <code s__="13">long double</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">FLT_MIN_EXP</code></td>
<td style="text-align: center;"></td>
<td d__=""><code s__="13">FLT_RADIX</code> to the <code s__="13">FLT_MIN_EXP-1</code> power is the smallest normalized <code s__="13">float</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">DBL_MIN_EXP</code></td>
<td style="text-align: center;"></td>
<td d__=""><code s__="13">FLT_RADIX</code> to the <code s__="13">DBL_MIN_EXP-1</code> power is the smallest normalized <code s__="13">double</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">LDBL_MIN_EXP</code></td>
<td style="text-align: center;"></td>
<td d__=""><code s__="13">FLT_RADIX</code> to the <code s__="13">LDBL_MIN_EXP-1</code> power is the smallest normalized <code s__="13">long double</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">FLT_MIN_10_EXP</code></td>
<td style="text-align: center;"><code s__="13" d__="">-37</code></td>
<td d__="">Minimum exponent such that <code s__="13">10</code> to this number is a normalized <code s__="13">float</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">DBL_MIN_10_EXP</code></td>
<td style="text-align: center;"><code s__="13" d__="">-37</code></td>
<td d__="">Minimum exponent such that <code s__="13">10</code> to this number is a normalized <code s__="13">double</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">LDBL_MIN_10_EXP</code></td>
<td style="text-align: center;"><code s__="13" d__="">-37</code></td>
<td d__="">Minimum exponent such that <code s__="13">10</code> to this number is a normalized <code s__="13">long_double</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">FLT_MAX_EXP</code></td>
<td style="text-align: center;"></td>
<td d__=""><code s__="13">FLT_RADIX</code> to the <code s__="13">FLT_MAX_EXP-1</code> power is the largest finite <code s__="13">float</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">DBL_MAX_EXP</code></td>
<td style="text-align: center;"></td>
<td d__=""><code s__="13">FLT_RADIX</code> to the <code s__="13">DBL_MAX_EXP-1</code> power is the largest finite <code s__="13">double</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">LDBL_MAX_EXP</code></td>
<td style="text-align: center;"></td>
<td d__=""><code s__="13">FLT_RADIX</code> to the <code s__="13">LDBL_MAX_EXP-1</code> power is the largest finite <code s__="13">long double</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">FLT_MAX_10_EXP</code></td>
<td style="text-align: center;"><code s__="13" d__="">-37</code></td>
<td d__="">Minimum exponent such that <code s__="13">10</code> to this number is a finite <code s__="13">float</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">DBL_MAX_10_EXP</code></td>
<td style="text-align: center;"><code s__="13" d__="">-37</code></td>
<td d__="">Minimum exponent such that <code s__="13">10</code> to this number is a finite <code s__="13">double</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">LDBL_MAX_10_EXP</code></td>
<td style="text-align: center;"><code s__="13" d__="">-37</code></td>
<td d__="">Minimum exponent such that <code s__="13">10</code> to this number is a finite <code s__="13">long_double</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">FLT_MAX</code></td>
<td style="text-align: center;"><code s__="13" d__="">1E+37</code></td>
<td d__="">Largest finite <code s__="13">float</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">DBL_MAX</code></td>
<td style="text-align: center;"><code s__="13" d__="">1E+37</code></td>
<td d__="">Largest finite <code s__="13">double</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">LDBL_MAX</code></td>
<td style="text-align: center;"><code s__="13" d__="">1E+37</code></td>
<td d__="">Largest finite <code s__="13">long double</code></td>
</tr>
</tbody>
</table>
<p> </p>
<table>
<colgroup>
<col style="width: 14%">
<col style="width: 28%">
<col style="width: 57%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Macro</th>
<th style="text-align: center;" d__="">Maximum Value</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">FLT_EPSILON</code></td>
<td style="text-align: center;"><code s__="13" d__="">1E-5</code></td>
<td d__="">Difference between 1 and the next biggest representable <code s__="13">float</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">DBL_EPSILON</code></td>
<td style="text-align: center;"><code s__="13" d__="">1E-9</code></td>
<td d__="">Difference between 1 and the next biggest representable <code s__="13">double</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">LDBL_EPSILON</code></td>
<td style="text-align: center;"><code s__="13" d__="">1E-9</code></td>
<td d__="">Difference between 1 and the next biggest representable <code s__="13">long double</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">FLT_MIN</code></td>
<td style="text-align: center;"><code s__="13" d__="">1E-37</code></td>
<td d__="">Minimum positive normalized <code s__="13">float</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">DBL_MIN</code></td>
<td style="text-align: center;"><code s__="13" d__="">1E-37</code></td>
<td d__="">Minimum positive normalized <code s__="13">double</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">LDBL_MIN</code></td>
<td style="text-align: center;"><code s__="13" d__="">1E-37</code></td>
<td d__="">Minimum positive normalized <code s__="13">long double</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">FLT_TRUE_MIN</code></td>
<td style="text-align: center;"><code s__="13" d__="">1E-37</code></td>
<td d__="">Minimum positive <code s__="13">float</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">DBL_TRUE_MIN</code></td>
<td style="text-align: center;"><code s__="13" d__="">1E-37</code></td>
<td d__="">Minimum positive <code s__="13">double</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">LDBL_TRUE_MIN</code></td>
<td style="text-align: center;"><code s__="13" d__="">1E-37</code></td>
<td d__="">Minimum positive <code s__="13">long double</code></td>
</tr>
</tbody>
</table>
<p d__="">The minimum and maximum values here are from the spec—they 
should what you can at least expect across all platforms. Your super 
dooper machine might do better, still!</p>
<h2 data-number="8.1" id="background-1" d__=""><span class="header-section-number">8.1</span> Background</h2>
<p d__="">The spec allows a lot of leeway when it comes to how C 
represents floating point numbers. This header file spells out the 
limits on those numbers.</p>
<p d__="">It gives a model that can describe any floating point number that I <em>know</em> you’re going to absolutely love. It looks like this:</p>
<p><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="29"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mstyle><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="4"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi><mjx-msup><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44F TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.413em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msup><mjx-munderover space="2"><mjx-over style="padding-bottom: 0.111em; padding-left: 0.544em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D45D TEX-I"></mjx-c></mjx-mi></mjx-over><mjx-box><mjx-munder><mjx-row><mjx-base><mjx-mo class="mjx-lop"><mjx-c class="mjx-c2211 TEX-S2"></mjx-c></mjx-mo></mjx-base></mjx-row><mjx-row><mjx-under style="padding-top: 0.167em; padding-left: 0.086em;"><mjx-texatom size="s" texclass="ORD" s__="13"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D458 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-texatom></mjx-under></mjx-row></mjx-munder></mjx-box></mjx-munderover><mjx-msub space="2"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D453 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: -0.15em; margin-left: -0.06em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D458 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-msup><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44F TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.413em;"><mjx-texatom size="s" texclass="ORD" s__="13"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D458 TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msup><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-msub space="2"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: -0.15em;"><mjx-texatom size="s" texclass="ORD" s__="13"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45A TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D456 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msub><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c2264"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="4"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c2264"></mjx-c></mjx-mo><mjx-msub space="4"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: -0.15em;"><mjx-texatom size="s" texclass="ORD" s__="13"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45A TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msub></mjx-mstyle></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true" scriptlevel="0"><mi d__="">x</mi><mo d__="">=</mo><mi d__="">s</mi><msup><mi d__="">b</mi><mi s__="13" d__="">e</mi></msup><munderover><mo data-mjx-texclass="OP" d__="">∑</mo><mrow data-mjx-texclass="ORD" s__="13"><mi d__="">k</mi><mo d__="">=</mo><mn d__="">1</mn></mrow><mi s__="13" d__="">p</mi></munderover><msub><mi d__="">f</mi><mi s__="13" d__="">k</mi></msub><msup><mi d__="">b</mi><mrow data-mjx-texclass="ORD" s__="13"><mo d__="">−</mo><mi d__="">k</mi></mrow></msup><mo d__="">,</mo><msub><mi d__="">e</mi><mrow data-mjx-texclass="ORD" s__="13"><mi d__="">m</mi><mi d__="">i</mi><mi d__="">n</mi></mrow></msub><mo d__="">≤</mo><mi d__="">e</mi><mo d__="">≤</mo><msub><mi d__="">e</mi><mrow data-mjx-texclass="ORD" s__="13"><mi d__="">m</mi><mi d__="">a</mi><mi d__="">x</mi></mrow></msub></mstyle></math></mjx-assistive-mml></mjx-container></span></p>
<p d__="">where:</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;" d__="">Variable</th>
<th d__="">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="30"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D460 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi d__="">s</mi></math></mjx-assistive-mml></mjx-container></span></td>
<td d__="">Sign, <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="31"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>−</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container></span> or <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="32"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></mjx-assistive-mml></mjx-container></span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="33"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44F TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi d__="">b</mi></math></mjx-assistive-mml></mjx-container></span></td>
<td d__="">Base (radix), probably <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="34"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math></mjx-assistive-mml></mjx-container></span> on your system</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="35"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi d__="">e</mi></math></mjx-assistive-mml></mjx-container></span></td>
<td d__="">Exponent</td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="36"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45D TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi d__="">p</mi></math></mjx-assistive-mml></mjx-container></span></td>
<td d__="">Precision: how many base-<span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="37"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44F TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>b</mi></math></mjx-assistive-mml></mjx-container></span> digits in the number</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="38"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msub><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D453 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: -0.15em; margin-left: -0.06em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D458 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi d__="">f</mi><mi s__="13" d__="">k</mi></msub></math></mjx-assistive-mml></mjx-container></span></td>
<td d__="">The individual digits of the number, the significand</td>
</tr>
</tbody>
</table>
<p d__="">But let’s blissfully ignore all that for a second.</p>
<p d__="">Let’s assume your computer uses base 2 for it’s floating point
 (it probably does). And that in the example below the 1s-and-0s numbers
 are in binary, and the rest are in decimal.</p>
<p d__="">The short of it is you could have floating point numbers like shown in this example:</p>
<p><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="39"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c30"></mjx-c><mjx-c class="mjx-c2E"></mjx-c><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c30"></mjx-c><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c30"></mjx-c><mjx-c class="mjx-c30"></mjx-c><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c30"></mjx-c><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-cD7"></mjx-c></mjx-mo><mjx-msup space="3"><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-script style="vertical-align: 0.363em;"><mjx-mn class="mjx-n" size="s" s__="13"><mjx-c class="mjx-c35"></mjx-c></mjx-mn></mjx-script></mjx-msup><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c30"></mjx-c><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c30"></mjx-c><mjx-c class="mjx-c30"></mjx-c><mjx-c class="mjx-c2E"></mjx-c><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c30"></mjx-c><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c><mjx-c class="mjx-c30"></mjx-c><mjx-c class="mjx-c2E"></mjx-c><mjx-c class="mjx-c36"></mjx-c><mjx-c class="mjx-c32"></mjx-c><mjx-c class="mjx-c35"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo d__="">−</mo><mn d__="">0.10100101</mn><mo d__="">×</mo><msup><mn d__="">2</mn><mn s__="13" d__="">5</mn></msup><mo d__="">=</mo><mo d__="">−</mo><mn d__="">10100.101</mn><mo d__="">=</mo><mo d__="">−</mo><mn d__="">20.625</mn></math></mjx-assistive-mml></mjx-container></span></p>
<p d__="">That’s your fractional part multiplied by the base to the 
exponent’s power. The exponent controls where the decimal point is. It 
“floats” around!</p>
<!--
Or, more specifically, that example uses:

$s=-1$ \
$b=2$ \
$e=5$ \
$p=8$ \
$f_n=10100101$ 
-->
<h2 data-number="8.2" id="flt_rounds-details" d__=""><span class="header-section-number">8.2</span> <code>FLT_ROUNDS</code> Details</h2>
<p></p>
<p d__="">This tells you the rounding mode. It can be changed with a call to <a href="#man-fegetround"><code s__="13" d__="">fesetround()</code></a>.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;" d__="">Mode</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">-1</code></td>
<td d__="">Indeterminable</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">0</code></td>
<td d__="">Toward zero</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">1</code></td>
<td d__="">To nearest</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">2</code></td>
<td d__="">Toward positive infinity</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">3</code></td>
<td d__="">Toward negative infinity… and beyond!</td>
</tr>
</tbody>
</table>
<p d__="">Unlike every other macro in this here header, <code s__="13">FLT_ROUNDS</code> might not be a constant expression.</p>
<h2 data-number="8.3" id="flt_eval_method-details" d__=""><span class="header-section-number">8.3</span> <code>FLT_EVAL_METHOD</code> Details</h2>
<p></p>
<p d__="">This basically tells you how floating point values are promoted to different types in expressions.</p>
<table>
<colgroup>
<col style="width: 14%">
<col style="width: 85%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;" d__="">Method</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">-1</code></td>
<td d__="">Indeterminable</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">0</code></td>
<td d__="">Evaluate all operations and constants to the precision of their respective types</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">1</code></td>
<td d__="">Evaluate <code s__="13">float</code> and <code s__="13">double</code> operations as <code s__="13">double</code> and <code s__="13">long double</code> ops as <code s__="13">long double</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">2</code></td>
<td d__="">Evaluate all operations and constants as <code s__="13">long double</code></td>
</tr>
</tbody>
</table>
<h2 data-number="8.4" id="subnormal-numbers" d__=""><span class="header-section-number">8.4</span> Subnormal Numbers</h2>
<p> </p>
<p d__="">The macros <code s__="13">FLT_HAS_SUBNORM</code>, <code s__="13">DBL_HAS_SUBNORM</code>, and <code s__="13">LDBL_HAS_SUBNORM</code> all let you know if those types support <a href="https://en.wikipedia.org/wiki/Subnormal_number" d__="">subnormal numbers</a><a href="#fn18" class="footnote-ref" id="fnref18" role="doc-noteref"><sup s__="13" d__="">18</sup></a>.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;" d__="">Value</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">-1</code></td>
<td d__="">Indeterminable</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">0</code></td>
<td d__="">Subnormals not supported for this type</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">1</code></td>
<td d__="">Subnormals supported for this type</td>
</tr>
</tbody>
</table>
<h2 data-number="8.5" id="how-many-decimal-places-can-i-use" d__=""><span class="header-section-number">8.5</span> How Many Decimal Places Can I Use?</h2>
<p d__="">It depends on what you want to do.</p>
<p> </p>
<p d__="">The safe thing is if you never use more than <code s__="13">FLT_DIG</code> base-10 digits in your <code s__="13">float</code>, you’re good. (Same for <code s__="13">DBL_DIG</code> and <code s__="13">LDBL_DIG</code> for their types.)</p>
<p d__="">And by “use” I mean print out, have in code, read from the keyboard, etc.</p>
<p d__="">You can print out that many decimal places with <code s__="13">printf()</code> and the <code s__="13">%g</code> format specifier:</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb211-1"><a href="#cb211-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb211-2"><a href="#cb211-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;float.h&gt;</span></span>
<span id="cb211-3"><a href="#cb211-3"></a></span>
<span id="cb211-4" d__=""><a href="#cb211-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb211-5"><a href="#cb211-5"></a><span class="op" d__="">{</span></span>
<span id="cb211-6" d__=""><a href="#cb211-6"></a>    <span class="dt" d__="">float</span> pi <span class="op" d__="">=</span> <span class="fl" d__="">3.1415926535897932384626433832795028841971</span><span class="op" d__="">;</span></span>
<span id="cb211-7"><a href="#cb211-7"></a></span>
<span id="cb211-8"><a href="#cb211-8"></a>    <span class="co" d__="">// With %g or %G, the precision refers to the number of significant</span></span>
<span id="cb211-9"><a href="#cb211-9"></a>    <span class="co" d__="">// digits:</span></span>
<span id="cb211-10"><a href="#cb211-10"></a></span>
<span id="cb211-11" d__=""><a href="#cb211-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%.*g\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> FLT_DIG<span class="op" d__="">,</span> pi<span class="op" d__="">);</span>  <span class="co" d__="">// For me: 3.14159</span></span>
<span id="cb211-12"><a href="#cb211-12"></a></span>
<span id="cb211-13"><a href="#cb211-13"></a>    <span class="co" d__="">// But %f prints too many, since the precision is the number of</span></span>
<span id="cb211-14"><a href="#cb211-14"></a>    <span class="co" d__="">// digits to the right of the decimal--it doesn't count the digits</span></span>
<span id="cb211-15"><a href="#cb211-15"></a>    <span class="co" d__="">// to the left of it:</span></span>
<span id="cb211-16"><a href="#cb211-16"></a></span>
<span id="cb211-17" d__=""><a href="#cb211-17"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%.*f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> FLT_DIG<span class="op" d__="">,</span> pi<span class="op" d__="">);</span>  <span class="co" d__="">// For me: 3.14159... 3 ???</span></span>
<span id="cb211-18"><a href="#cb211-18"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">That’s the end, but stay tuned for the exciting conclusion of “How Many Decimal Places Can I Use?”</p>
<p d__="">Because base 10 and base 2 (your typical <code s__="13">FLT_RADIX</code>) don’t mix very well, you can actually have more than <code s__="13">FLT_DIG</code> in your <code s__="13">float</code>; the bits of storage go out a little farther. But these might round in a way you don’t expect.</p>
<p> </p>
<p d__="">But if you want to convert a floating point number to base 10 
and then be able to convert it back again to the exact same floating 
point number, you’ll need <code s__="13">FLT_DECIMAL_DIG</code> digits from your <code s__="13">float</code> to make sure you get those extra bits of storage represented. (And <code s__="13">DBL_DECIMAL_DIG</code> and <code s__="13">LDBL_DECIMAL_DIG</code> for those corresponding types.)</p>
<p d__="">Here’s some example output that shows how the value stored might have some extra decimal places at the end.</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb212-1"><a href="#cb212-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb212-2"><a href="#cb212-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb212-3"><a href="#cb212-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;assert.h&gt;</span></span>
<span id="cb212-4"><a href="#cb212-4"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;float.h&gt;</span></span>
<span id="cb212-5"><a href="#cb212-5"></a></span>
<span id="cb212-6" d__=""><a href="#cb212-6"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb212-7"><a href="#cb212-7"></a><span class="op" d__="">{</span></span>
<span id="cb212-8" d__=""><a href="#cb212-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"FLT_DIG = </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> FLT_DIG<span class="op" d__="">);</span></span>
<span id="cb212-9" d__=""><a href="#cb212-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"FLT_DECIMAL_DIG = </span><span class="sc" d__="">%d\n\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> FLT_DECIMAL_DIG<span class="op" d__="">);</span></span>
<span id="cb212-10"><a href="#cb212-10"></a></span>
<span id="cb212-11" d__=""><a href="#cb212-11"></a>    assert<span class="op" d__="">(</span>FLT_DIG <span class="op" d__="">==</span> <span class="dv" d__="">6</span><span class="op" d__="">);</span>  <span class="co" d__="">// Code below assumes this</span></span>
<span id="cb212-12"><a href="#cb212-12"></a></span>
<span id="cb212-13" d__=""><a href="#cb212-13"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">float</span> x <span class="op" d__="">=</span> <span class="fl" d__="">0.123456</span><span class="op" d__="">;</span> x <span class="op" d__="">&lt;</span> <span class="fl" d__="">0.12346</span><span class="op" d__="">;</span> x <span class="op" d__="">+=</span> <span class="fl" d__="">0.000001</span><span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb212-14" d__=""><a href="#cb212-14"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"As written: </span><span class="sc" d__="">%.*g\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> FLT_DIG<span class="op" d__="">,</span> x<span class="op" d__="">);</span></span>
<span id="cb212-15" d__=""><a href="#cb212-15"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"As stored:  </span><span class="sc" d__="">%.*g\n\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> FLT_DECIMAL_DIG<span class="op" d__="">,</span> x<span class="op" d__="">);</span></span>
<span id="cb212-16"><a href="#cb212-16"></a>    <span class="op" d__="">}</span></span>
<span id="cb212-17"><a href="#cb212-17"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">And the output on my machine, starting at <code s__="13">0.123456</code> and incrementing by <code s__="13">0.000001</code> each time:</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb213-1" d__=""><a href="#cb213-1" aria-hidden="true" tabindex="-1"></a>FLT_DIG = 6</span>
<span id="cb213-2" d__=""><a href="#cb213-2" aria-hidden="true" tabindex="-1"></a>FLT_DECIMAL_DIG = 9</span>
<span id="cb213-3"><a href="#cb213-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb213-4" d__=""><a href="#cb213-4" aria-hidden="true" tabindex="-1"></a>As written: 0.123456</span>
<span id="cb213-5" d__=""><a href="#cb213-5" aria-hidden="true" tabindex="-1"></a>As stored:  0.123456001</span>
<span id="cb213-6"><a href="#cb213-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb213-7" d__=""><a href="#cb213-7" aria-hidden="true" tabindex="-1"></a>As written: 0.123457</span>
<span id="cb213-8" d__=""><a href="#cb213-8" aria-hidden="true" tabindex="-1"></a>As stored:  0.123457</span>
<span id="cb213-9"><a href="#cb213-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb213-10" d__=""><a href="#cb213-10" aria-hidden="true" tabindex="-1"></a>As written: 0.123458</span>
<span id="cb213-11" d__=""><a href="#cb213-11" aria-hidden="true" tabindex="-1"></a>As stored:  0.123457998</span>
<span id="cb213-12"><a href="#cb213-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb213-13" d__=""><a href="#cb213-13" aria-hidden="true" tabindex="-1"></a>As written: 0.123459</span>
<span id="cb213-14" d__=""><a href="#cb213-14" aria-hidden="true" tabindex="-1"></a>As stored:  0.123458996</span>
<span id="cb213-15"><a href="#cb213-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb213-16" d__=""><a href="#cb213-16" aria-hidden="true" tabindex="-1"></a>As written: 0.12346</span>
<span id="cb213-17" d__=""><a href="#cb213-17" aria-hidden="true" tabindex="-1"></a>As stored:  0.123459995</span></code></pre></div>
<p d__="">You can see that the value stored isn’t always the value we’re
 expecting since base-2 can’t represent all base-10 fractions exactly. 
The best it can do is store more places and then round.</p>
<p d__="">Also notice that even though we tried to stop the <code s__="13">for</code> loop <em>before</em> <code s__="13">0.123460</code>, it actually ran including that value since the stored version of that number was <code s__="13">0.123459995</code>, which is still less than <code s__="13">0.123460</code>.</p>
<p d__="">Aren’t floating point numbers fun?</p>
<h2 data-number="8.6" id="comprehensive-example" d__=""><span class="header-section-number">8.6</span> Comprehensive Example</h2>
<p d__="">Here’s a program that prints out the details for a particular machine:</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb214-1"><a href="#cb214-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb214-2"><a href="#cb214-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;float.h&gt;</span></span>
<span id="cb214-3"><a href="#cb214-3"></a></span>
<span id="cb214-4" d__=""><a href="#cb214-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb214-5"><a href="#cb214-5"></a><span class="op" d__="">{</span></span>
<span id="cb214-6" d__=""><a href="#cb214-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"FLT_RADIX: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> FLT_RADIX<span class="op" d__="">);</span></span>
<span id="cb214-7" d__=""><a href="#cb214-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"FLT_ROUNDS: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> FLT_ROUNDS<span class="op" d__="">);</span></span>
<span id="cb214-8" d__=""><a href="#cb214-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"FLT_EVAL_METHOD: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> FLT_EVAL_METHOD<span class="op" d__="">);</span></span>
<span id="cb214-9" d__=""><a href="#cb214-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"DECIMAL_DIG: </span><span class="sc" d__="">%d\n\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> DECIMAL_DIG<span class="op" d__="">);</span></span>
<span id="cb214-10"><a href="#cb214-10"></a></span>
<span id="cb214-11" d__=""><a href="#cb214-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"FLT_HAS_SUBNORM: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> FLT_HAS_SUBNORM<span class="op" d__="">);</span></span>
<span id="cb214-12" d__=""><a href="#cb214-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"FLT_MANT_DIG: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> FLT_MANT_DIG<span class="op" d__="">);</span></span>
<span id="cb214-13" d__=""><a href="#cb214-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"FLT_DECIMAL_DIG: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> FLT_DECIMAL_DIG<span class="op" d__="">);</span></span>
<span id="cb214-14" d__=""><a href="#cb214-14"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"FLT_DIG: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> FLT_DIG<span class="op" d__="">);</span></span>
<span id="cb214-15" d__=""><a href="#cb214-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"FLT_MIN_EXP: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> FLT_MIN_EXP<span class="op" d__="">);</span></span>
<span id="cb214-16" d__=""><a href="#cb214-16"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"FLT_MIN_10_EXP: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> FLT_MIN_10_EXP<span class="op" d__="">);</span></span>
<span id="cb214-17" d__=""><a href="#cb214-17"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"FLT_MAX_EXP: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> FLT_MAX_EXP<span class="op" d__="">);</span></span>
<span id="cb214-18" d__=""><a href="#cb214-18"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"FLT_MAX_10_EXP: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> FLT_MAX_10_EXP<span class="op" d__="">);</span></span>
<span id="cb214-19" d__=""><a href="#cb214-19"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"FLT_MIN: </span><span class="sc" d__="">%.*e\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> FLT_DECIMAL_DIG<span class="op" d__="">,</span> FLT_MIN<span class="op" d__="">);</span></span>
<span id="cb214-20" d__=""><a href="#cb214-20"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"FLT_MAX: </span><span class="sc" d__="">%.*e\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> FLT_DECIMAL_DIG<span class="op" d__="">,</span> FLT_MAX<span class="op" d__="">);</span></span>
<span id="cb214-21" d__=""><a href="#cb214-21"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"FLT_EPSILON: </span><span class="sc" d__="">%.*e\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> FLT_DECIMAL_DIG<span class="op" d__="">,</span> FLT_EPSILON<span class="op" d__="">);</span></span>
<span id="cb214-22" d__=""><a href="#cb214-22"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"FLT_TRUE_MIN: </span><span class="sc" d__="">%.*e\n\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> FLT_DECIMAL_DIG<span class="op" d__="">,</span> FLT_TRUE_MIN<span class="op" d__="">);</span></span>
<span id="cb214-23"><a href="#cb214-23"></a></span>
<span id="cb214-24" d__=""><a href="#cb214-24"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"DBL_HAS_SUBNORM: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> DBL_HAS_SUBNORM<span class="op" d__="">);</span></span>
<span id="cb214-25" d__=""><a href="#cb214-25"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"DBL_MANT_DIG: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> DBL_MANT_DIG<span class="op" d__="">);</span></span>
<span id="cb214-26" d__=""><a href="#cb214-26"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"DBL_DECIMAL_DIG: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> DBL_DECIMAL_DIG<span class="op" d__="">);</span></span>
<span id="cb214-27" d__=""><a href="#cb214-27"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"DBL_DIG: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> DBL_DIG<span class="op" d__="">);</span></span>
<span id="cb214-28" d__=""><a href="#cb214-28"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"DBL_MIN_EXP: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> DBL_MIN_EXP<span class="op" d__="">);</span></span>
<span id="cb214-29" d__=""><a href="#cb214-29"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"DBL_MIN_10_EXP: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> DBL_MIN_10_EXP<span class="op" d__="">);</span></span>
<span id="cb214-30" d__=""><a href="#cb214-30"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"DBL_MAX_EXP: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> DBL_MAX_EXP<span class="op" d__="">);</span></span>
<span id="cb214-31" d__=""><a href="#cb214-31"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"DBL_MAX_10_EXP: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> DBL_MAX_10_EXP<span class="op" d__="">);</span></span>
<span id="cb214-32" d__=""><a href="#cb214-32"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"DBL_MIN: </span><span class="sc" d__="">%.*e\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> DBL_DECIMAL_DIG<span class="op" d__="">,</span> DBL_MIN<span class="op" d__="">);</span></span>
<span id="cb214-33" d__=""><a href="#cb214-33"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"DBL_MAX: </span><span class="sc" d__="">%.*e\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> DBL_DECIMAL_DIG<span class="op" d__="">,</span> DBL_MAX<span class="op" d__="">);</span></span>
<span id="cb214-34" d__=""><a href="#cb214-34"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"DBL_EPSILON: </span><span class="sc" d__="">%.*e\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> DBL_DECIMAL_DIG<span class="op" d__="">,</span> DBL_EPSILON<span class="op" d__="">);</span></span>
<span id="cb214-35" d__=""><a href="#cb214-35"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"DBL_TRUE_MIN: </span><span class="sc" d__="">%.*e\n\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> DBL_DECIMAL_DIG<span class="op" d__="">,</span> DBL_TRUE_MIN<span class="op" d__="">);</span></span>
<span id="cb214-36"><a href="#cb214-36"></a></span>
<span id="cb214-37" d__=""><a href="#cb214-37"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"LDBL_HAS_SUBNORM: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> LDBL_HAS_SUBNORM<span class="op" d__="">);</span></span>
<span id="cb214-38" d__=""><a href="#cb214-38"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"LDBL_MANT_DIG: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> LDBL_MANT_DIG<span class="op" d__="">);</span></span>
<span id="cb214-39" d__=""><a href="#cb214-39"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"LDBL_DECIMAL_DIG: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> LDBL_DECIMAL_DIG<span class="op" d__="">);</span></span>
<span id="cb214-40" d__=""><a href="#cb214-40"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"LDBL_DIG: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> LDBL_DIG<span class="op" d__="">);</span></span>
<span id="cb214-41" d__=""><a href="#cb214-41"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"LDBL_MIN_EXP: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> LDBL_MIN_EXP<span class="op" d__="">);</span></span>
<span id="cb214-42" d__=""><a href="#cb214-42"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"LDBL_MIN_10_EXP: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> LDBL_MIN_10_EXP<span class="op" d__="">);</span></span>
<span id="cb214-43" d__=""><a href="#cb214-43"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"LDBL_MAX_EXP: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> LDBL_MAX_EXP<span class="op" d__="">);</span></span>
<span id="cb214-44" d__=""><a href="#cb214-44"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"LDBL_MAX_10_EXP: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> LDBL_MAX_10_EXP<span class="op" d__="">);</span></span>
<span id="cb214-45" d__=""><a href="#cb214-45"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"LDBL_MIN: </span><span class="sc" d__="">%.*Le\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> LDBL_DECIMAL_DIG<span class="op" d__="">,</span> LDBL_MIN<span class="op" d__="">);</span></span>
<span id="cb214-46" d__=""><a href="#cb214-46"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"LDBL_MAX: </span><span class="sc" d__="">%.*Le\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> LDBL_DECIMAL_DIG<span class="op" d__="">,</span> LDBL_MAX<span class="op" d__="">);</span></span>
<span id="cb214-47" d__=""><a href="#cb214-47"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"LDBL_EPSILON: </span><span class="sc" d__="">%.*Le\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> LDBL_DECIMAL_DIG<span class="op" d__="">,</span> LDBL_EPSILON<span class="op" d__="">);</span></span>
<span id="cb214-48" d__=""><a href="#cb214-48"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"LDBL_TRUE_MIN: </span><span class="sc" d__="">%.*Le\n\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> LDBL_DECIMAL_DIG<span class="op" d__="">,</span> LDBL_TRUE_MIN<span class="op" d__="">);</span></span>
<span id="cb214-49"><a href="#cb214-49"></a>    </span>
<span id="cb214-50" d__=""><a href="#cb214-50"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"sizeof(float): </span><span class="sc" d__="">%zu\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span><span class="op" d__="">(</span><span class="dt" d__="">float</span><span class="op" d__="">));</span></span>
<span id="cb214-51" d__=""><a href="#cb214-51"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"sizeof(double): </span><span class="sc" d__="">%zu\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span><span class="op" d__="">(</span><span class="dt" d__="">double</span><span class="op" d__="">));</span></span>
<span id="cb214-52" d__=""><a href="#cb214-52"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"sizeof(long double): </span><span class="sc" d__="">%zu\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span><span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span><span class="op" d__="">));</span></span>
<span id="cb214-53"><a href="#cb214-53"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">And here’s the output on my machine:</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb215-1" d__=""><a href="#cb215-1" aria-hidden="true" tabindex="-1"></a>FLT_RADIX: 2</span>
<span id="cb215-2" d__=""><a href="#cb215-2" aria-hidden="true" tabindex="-1"></a>FLT_ROUNDS: 1</span>
<span id="cb215-3" d__=""><a href="#cb215-3" aria-hidden="true" tabindex="-1"></a>FLT_EVAL_METHOD: 0</span>
<span id="cb215-4" d__=""><a href="#cb215-4" aria-hidden="true" tabindex="-1"></a>DECIMAL_DIG: 21</span>
<span id="cb215-5"><a href="#cb215-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb215-6" d__=""><a href="#cb215-6" aria-hidden="true" tabindex="-1"></a>FLT_HAS_SUBNORM: 1</span>
<span id="cb215-7" d__=""><a href="#cb215-7" aria-hidden="true" tabindex="-1"></a>FLT_MANT_DIG: 24</span>
<span id="cb215-8" d__=""><a href="#cb215-8" aria-hidden="true" tabindex="-1"></a>FLT_DECIMAL_DIG: 9</span>
<span id="cb215-9" d__=""><a href="#cb215-9" aria-hidden="true" tabindex="-1"></a>FLT_DIG: 6</span>
<span id="cb215-10" d__=""><a href="#cb215-10" aria-hidden="true" tabindex="-1"></a>FLT_MIN_EXP: -125</span>
<span id="cb215-11" d__=""><a href="#cb215-11" aria-hidden="true" tabindex="-1"></a>FLT_MIN_10_EXP: -37</span>
<span id="cb215-12" d__=""><a href="#cb215-12" aria-hidden="true" tabindex="-1"></a>FLT_MAX_EXP: 128</span>
<span id="cb215-13" d__=""><a href="#cb215-13" aria-hidden="true" tabindex="-1"></a>FLT_MAX_10_EXP: 38</span>
<span id="cb215-14" d__=""><a href="#cb215-14" aria-hidden="true" tabindex="-1"></a>FLT_MIN: 1.175494351e-38</span>
<span id="cb215-15" d__=""><a href="#cb215-15" aria-hidden="true" tabindex="-1"></a>FLT_MAX: 3.402823466e+38</span>
<span id="cb215-16" d__=""><a href="#cb215-16" aria-hidden="true" tabindex="-1"></a>FLT_EPSILON: 1.192092896e-07</span>
<span id="cb215-17" d__=""><a href="#cb215-17" aria-hidden="true" tabindex="-1"></a>FLT_TRUE_MIN: 1.401298464e-45</span>
<span id="cb215-18"><a href="#cb215-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb215-19" d__=""><a href="#cb215-19" aria-hidden="true" tabindex="-1"></a>DBL_HAS_SUBNORM: 1</span>
<span id="cb215-20" d__=""><a href="#cb215-20" aria-hidden="true" tabindex="-1"></a>DBL_MANT_DIG: 53</span>
<span id="cb215-21" d__=""><a href="#cb215-21" aria-hidden="true" tabindex="-1"></a>DBL_DECIMAL_DIG: 17</span>
<span id="cb215-22" d__=""><a href="#cb215-22" aria-hidden="true" tabindex="-1"></a>DBL_DIG: 15</span>
<span id="cb215-23" d__=""><a href="#cb215-23" aria-hidden="true" tabindex="-1"></a>DBL_MIN_EXP: -1021</span>
<span id="cb215-24" d__=""><a href="#cb215-24" aria-hidden="true" tabindex="-1"></a>DBL_MIN_10_EXP: -307</span>
<span id="cb215-25" d__=""><a href="#cb215-25" aria-hidden="true" tabindex="-1"></a>DBL_MAX_EXP: 1024</span>
<span id="cb215-26" d__=""><a href="#cb215-26" aria-hidden="true" tabindex="-1"></a>DBL_MAX_10_EXP: 308</span>
<span id="cb215-27" d__=""><a href="#cb215-27" aria-hidden="true" tabindex="-1"></a>DBL_MIN: 2.22507385850720138e-308</span>
<span id="cb215-28" d__=""><a href="#cb215-28" aria-hidden="true" tabindex="-1"></a>DBL_MAX: 1.79769313486231571e+308</span>
<span id="cb215-29" d__=""><a href="#cb215-29" aria-hidden="true" tabindex="-1"></a>DBL_EPSILON: 2.22044604925031308e-16</span>
<span id="cb215-30" d__=""><a href="#cb215-30" aria-hidden="true" tabindex="-1"></a>DBL_TRUE_MIN: 4.94065645841246544e-324</span>
<span id="cb215-31"><a href="#cb215-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb215-32" d__=""><a href="#cb215-32" aria-hidden="true" tabindex="-1"></a>LDBL_HAS_SUBNORM: 1</span>
<span id="cb215-33" d__=""><a href="#cb215-33" aria-hidden="true" tabindex="-1"></a>LDBL_MANT_DIG: 64</span>
<span id="cb215-34" d__=""><a href="#cb215-34" aria-hidden="true" tabindex="-1"></a>LDBL_DECIMAL_DIG: 21</span>
<span id="cb215-35" d__=""><a href="#cb215-35" aria-hidden="true" tabindex="-1"></a>LDBL_DIG: 18</span>
<span id="cb215-36" d__=""><a href="#cb215-36" aria-hidden="true" tabindex="-1"></a>LDBL_MIN_EXP: -16381</span>
<span id="cb215-37" d__=""><a href="#cb215-37" aria-hidden="true" tabindex="-1"></a>LDBL_MIN_10_EXP: -4931</span>
<span id="cb215-38" d__=""><a href="#cb215-38" aria-hidden="true" tabindex="-1"></a>LDBL_MAX_EXP: 16384</span>
<span id="cb215-39" d__=""><a href="#cb215-39" aria-hidden="true" tabindex="-1"></a>LDBL_MAX_10_EXP: 4932</span>
<span id="cb215-40" d__=""><a href="#cb215-40" aria-hidden="true" tabindex="-1"></a>LDBL_MIN: 3.362103143112093506263e-4932</span>
<span id="cb215-41" d__=""><a href="#cb215-41" aria-hidden="true" tabindex="-1"></a>LDBL_MAX: 1.189731495357231765021e+4932</span>
<span id="cb215-42" d__=""><a href="#cb215-42" aria-hidden="true" tabindex="-1"></a>LDBL_EPSILON: 1.084202172485504434007e-19</span>
<span id="cb215-43" d__=""><a href="#cb215-43" aria-hidden="true" tabindex="-1"></a>LDBL_TRUE_MIN: 3.645199531882474602528e-4951</span>
<span id="cb215-44"><a href="#cb215-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb215-45" d__=""><a href="#cb215-45" aria-hidden="true" tabindex="-1"></a>sizeof(float): 4</span>
<span id="cb215-46" d__=""><a href="#cb215-46" aria-hidden="true" tabindex="-1"></a>sizeof(double): 8</span>
<span id="cb215-47" d__=""><a href="#cb215-47" aria-hidden="true" tabindex="-1"></a>sizeof(long double): 16</span></code></pre></div>
<!--
***
## `example()` `example()` `example()` {#man-example}

### Synopsis {.unnumbered .unlisted}

``` {.c}
```

### Description {.unnumbered .unlisted}

### Return Value {.unnumbered .unlisted}

### Example {.unnumbered .unlisted}

``` {.c .numberLines}
```

### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="9" id="inttypes" d__=""><span class="header-section-number">9</span> <code>&lt;inttypes.h&gt;</code> More Integer Conversions</h1>
<p></p>
<table>
<colgroup>
<col style="width: 26%">
<col style="width: 73%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Function</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#man-imaxabs"><code s__="13" d__="">imaxabs()</code></a></td>
<td d__="">Compute the absolute value of an <code s__="13">intmax_t</code></td>
</tr>
<tr class="even">
<td><a href="#man-imaxdiv"><code s__="13" d__="">imaxdiv()</code></a></td>
<td d__="">Compute the quotient and remainder of <code s__="13">intmax_t</code>s</td>
</tr>
<tr class="odd">
<td><a href="#man-strtoimax"><code s__="13" d__="">strtoimax()</code></a></td>
<td d__="">Convert strings to type <code s__="13">intmax_t</code></td>
</tr>
<tr class="even">
<td><a href="#man-strtoimax"><code s__="13" d__="">strtoumax()</code></a></td>
<td d__="">Convert strings to type <code s__="13">uintmax_t</code></td>
</tr>
<tr class="odd">
<td><a href="#man-wcstoimax"><code s__="13" d__="">wcstoimax()</code></a></td>
<td d__="">Convert wide strings to type <code s__="13">intmax_t</code></td>
</tr>
<tr class="even">
<td><a href="#man-wcstoimax"><code s__="13" d__="">wcstoumax()</code></a></td>
<td d__="">Convert wide strings to type <code s__="13">uintmax_t</code></td>
</tr>
</tbody>
</table>
<p d__="">This header does conversions to maximum sized integers, 
division with maximum sized integers, and also provides format 
specifiers for <a href="#man-printf"><code s__="13" d__="">printf()</code></a> and <a href="#man-scanf"><code s__="13" d__="">scanf()</code></a> for a variety of types defined in <a href="#stdint"><code s__="13" d__="">&lt;stdint.h&gt;</code></a>.</p>
<p d__="">The header <a href="#stdint"><code s__="13" d__="">&lt;stdint.h&gt;</code></a> is included by this one.</p>
<h2 data-number="9.1" id="macros-1" d__=""><span class="header-section-number">9.1</span> Macros</h2>
<p d__="">These are to help with <a href="#man-printf"><code s__="13" d__="">printf()</code></a> and <a href="#man-scanf"><code s__="13" d__="">scanf()</code></a> when you use a type such as <code s__="13">int_least16_t</code>… what format specifiers do you use?</p>
<p d__="">Let’s start with <code s__="13">printf()</code>—all these macros start with <code s__="13">PRI</code> and then are followed by the format specifier you’d typically use for that type. Lastly, the number of bits is added on.</p>
<p d__="">For example, the format specifier for a 64-bit integer is <code s__="13">PRId64</code>—the <code s__="13">d</code> is because you usually print integers with <code s__="13">"%d"</code>.</p>
<p d__="">An unsigned 16-bit integer could be printed with <code s__="13">PRIu16</code>.</p>
<p d__="">These macros expand to string literals. We can take advantage 
of the fact that C automatically concatenates neighboring string 
literals and use these specifiers like this:</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb216-1"><a href="#cb216-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span><span class="pp">     </span><span class="co" d__="">// for printf()</span></span>
<span id="cb216-2"><a href="#cb216-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;inttypes.h&gt;</span></span>
<span id="cb216-3"><a href="#cb216-3"></a></span>
<span id="cb216-4" d__=""><a href="#cb216-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb216-5"><a href="#cb216-5"></a><span class="op" d__="">{</span></span>
<span id="cb216-6" d__=""><a href="#cb216-6"></a>    <span class="dt" d__="">int16_t</span> x <span class="op" d__="">=</span> <span class="dv" d__="">32</span><span class="op" d__="">;</span></span>
<span id="cb216-7"><a href="#cb216-7"></a></span>
<span id="cb216-8" d__=""><a href="#cb216-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"The value is %"</span> PRId16 <span class="st" d__="">"!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> x<span class="op" d__="">);</span></span>
<span id="cb216-9"><a href="#cb216-9"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">There’s nothing magical happening on line 8, above. Indeed, if I print out the value of the macro:</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb217-1" d__=""><a href="#cb217-1" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> PRId16<span class="op" d__="">);</span></span></code></pre></div>
<p d__="">we get this on my system:</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb218-1" d__=""><a href="#cb218-1" aria-hidden="true" tabindex="-1"></a>hd</span></code></pre></div>
<p d__="">which is a <code s__="13">printf()</code> format specifier meaning “short signed integer” .</p>
<p d__="">So back to line 8, after string literal concatenation, it’s just as if I’d typed:</p>
<div class="sourceCode" id="cb219" data-startfrom="8"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" style="counter-reset: source-line 7;" s__="13"><span id="cb219-8" d__=""><a href="#cb219-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"The value is </span><span class="sc" d__="">%hd</span><span class="st" d__="">!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> x<span class="op" d__="">);</span></span></code></pre></div>
<p d__="">Here’s a table of all the macros you can use for <code s__="13">printf()</code> format specifiers… substitute the number of bits for <em>N</em>, usually 8, 16, 32, or 64.</p>
<p> </p>
<table>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">PRId</code><em d__="">N</em></td>
<td><code s__="13" d__="">PRIdLEAST</code><em d__="">N</em></td>
<td><code s__="13" d__="">PRIdFAST</code><em d__="">N</em></td>
<td><code s__="13" d__="">PRIdMAX</code></td>
<td><code s__="13" d__="">PRIdPTR</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">PRIi</code><em d__="">N</em></td>
<td><code s__="13" d__="">PRIiLEAST</code><em d__="">N</em></td>
<td><code s__="13" d__="">PRIiFAST</code><em d__="">N</em></td>
<td><code s__="13" d__="">PRIiMAX</code></td>
<td><code s__="13" d__="">PRIiPTR</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">PRIo</code><em d__="">N</em></td>
<td><code s__="13" d__="">PRIoLEAST</code><em d__="">N</em></td>
<td><code s__="13" d__="">PRIoFAST</code><em d__="">N</em></td>
<td><code s__="13" d__="">PRIoMAX</code></td>
<td><code s__="13" d__="">PRIoPTR</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">PRIu</code><em d__="">N</em></td>
<td><code s__="13" d__="">PRIuLEAST</code><em d__="">N</em></td>
<td><code s__="13" d__="">PRIuFAST</code><em d__="">N</em></td>
<td><code s__="13" d__="">PRIuMAX</code></td>
<td><code s__="13" d__="">PRIuPTR</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">PRIx</code><em d__="">N</em></td>
<td><code s__="13" d__="">PRIxLEAST</code><em d__="">N</em></td>
<td><code s__="13" d__="">PRIxFAST</code><em d__="">N</em></td>
<td><code s__="13" d__="">PRIxMAX</code></td>
<td><code s__="13" d__="">PRIxPTR</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">PRIX</code><em d__="">N</em></td>
<td><code s__="13" d__="">PRIXLEAST</code><em d__="">N</em></td>
<td><code s__="13" d__="">PRIXFAST</code><em d__="">N</em></td>
<td><code s__="13" d__="">PRIXMAX</code></td>
<td><code s__="13" d__="">PRIXPTR</code></td>
</tr>
</tbody>
</table>
<p d__="">Note again how the lowercase center letter represents the usual format specifiers you’d pass to <code s__="13">printf()</code>: <code s__="13">d</code>, <code s__="13">i</code>, <code s__="13">o</code>, <code s__="13">u</code>, <code s__="13">x</code>, and <code s__="13">X</code>.</p>
<p d__="">And we have a similar set of macros for <code s__="13">scanf()</code> for reading in these various types:</p>
<p> </p>
<table>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">SCNd</code><em d__="">N</em></td>
<td><code s__="13" d__="">SCNdLEAST</code><em d__="">N</em></td>
<td><code s__="13" d__="">SCNdFAST</code><em d__="">N</em></td>
<td><code s__="13" d__="">SCNdMAX</code></td>
<td><code s__="13" d__="">SCNdPTR</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">SCNi</code><em d__="">N</em></td>
<td><code s__="13" d__="">SCNiLEAST</code><em d__="">N</em></td>
<td><code s__="13" d__="">SCNiFAST</code><em d__="">N</em></td>
<td><code s__="13" d__="">SCNiMAX</code></td>
<td><code s__="13" d__="">SCNiPTR</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">SCNo</code><em d__="">N</em></td>
<td><code s__="13" d__="">SCNoLEAST</code><em d__="">N</em></td>
<td><code s__="13" d__="">SCNoFAST</code><em d__="">N</em></td>
<td><code s__="13" d__="">SCNoMAX</code></td>
<td><code s__="13" d__="">SCNoPTR</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">SCNu</code><em d__="">N</em></td>
<td><code s__="13" d__="">SCNuLEAST</code><em d__="">N</em></td>
<td><code s__="13" d__="">SCNuFAST</code><em d__="">N</em></td>
<td><code s__="13" d__="">SCNuMAX</code></td>
<td><code s__="13" d__="">SCNuPTR</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">SCNx</code><em d__="">N</em></td>
<td><code s__="13" d__="">SCNxLEAST</code><em d__="">N</em></td>
<td><code s__="13" d__="">SCNxFAST</code><em d__="">N</em></td>
<td><code s__="13" d__="">SCNxMAX</code></td>
<td><code s__="13" d__="">SCNxPTR</code></td>
</tr>
</tbody>
</table>
<p d__="">The rule is that for each type defined in <code s__="13">&lt;stdint.h&gt;</code> there will be corresponding <code s__="13">printf()</code> and <code s__="13">scanf()</code> macros defined here.</p>
<hr>
<h2 data-number="9.2" id="man-imaxabs"><span class="header-section-number" d__="">9.2</span> <code d__="">imaxabs()</code></h2>
<p></p>
<p d__="">Compute the absolute value of an <code s__="13">intmax_t</code></p>
<h3 class="unnumbered unlisted" id="synopsis-48" d__="">Synopsis</h3>
<div class="sourceCode" id="cb220"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb220-1"><a href="#cb220-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;inttypes.h&gt;</span></span>
<span id="cb220-2"><a href="#cb220-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb220-3" d__=""><a href="#cb220-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">intmax_t</span> imaxabs<span class="op" d__="">(</span><span class="dt" d__="">intmax_t</span> j<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-48" d__="">Description</h3>
<p d__="">When you need the absolute value of the biggest integer type on the system, this is the function for you.</p>
<p d__="">The spec notes that if the absolute value of the number cannot
 be represented, the behavior is undefined. This would happen if you 
tried to take the absolute value of the smallest possible negative 
number in a two’s-complement system.</p>
<h3 class="unnumbered unlisted" id="return-value-47" d__="">Return Value</h3>
<p d__="">Returns the absolute value of the input, <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="40"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D457 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo data-mjx-texclass="ORD" stretchy="false">|</mo><mi>j</mi><mo data-mjx-texclass="ORD" stretchy="false">|</mo></math></mjx-assistive-mml></mjx-container></span>.</p>
<h3 class="unnumbered unlisted" id="example-48" d__="">Example</h3>
<div class="sourceCode" id="cb221"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb221-1"><a href="#cb221-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb221-2"><a href="#cb221-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;inttypes.h&gt;</span></span>
<span id="cb221-3"><a href="#cb221-3"></a></span>
<span id="cb221-4" d__=""><a href="#cb221-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb221-5"><a href="#cb221-5"></a><span class="op" d__="">{</span></span>
<span id="cb221-6" d__=""><a href="#cb221-6"></a>    <span class="dt" d__="">intmax_t</span> j <span class="op" d__="">=</span> <span class="op" d__="">-</span><span class="dv" d__="">3490</span><span class="op" d__="">;</span></span>
<span id="cb221-7"><a href="#cb221-7"></a></span>
<span id="cb221-8" d__=""><a href="#cb221-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%jd\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> imaxabs<span class="op" d__="">(</span>j<span class="op" d__="">));</span>    <span class="co" d__="">// 3490</span></span>
<span id="cb221-9"><a href="#cb221-9"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-44" d__="">See Also</h3>
<p><a href="#man-fabs"><code s__="13" d__="">fabs()</code></a></p>
<hr>
<h2 data-number="9.3" id="man-imaxdiv"><span class="header-section-number" d__="">9.3</span> <code d__="">imaxdiv()</code></h2>
<p></p>
<p d__="">Compute the quotient and remainder of <code s__="13">intmax_t</code>s</p>
<h3 class="unnumbered unlisted" id="synopsis-49" d__="">Synopsis</h3>
<div class="sourceCode" id="cb222"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb222-1"><a href="#cb222-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;inttypes.h&gt;</span></span>
<span id="cb222-2"><a href="#cb222-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb222-3" d__=""><a href="#cb222-3" aria-hidden="true" tabindex="-1"></a>imaxdiv_t imaxdiv<span class="op" d__="">(</span><span class="dt" d__="">intmax_t</span> numer<span class="op" d__="">,</span> <span class="dt" d__="">intmax_t</span> denom<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-49" d__="">Description</h3>
<p d__="">When you want to do integer division and remainder in a single operation, this function will do it for you.</p>
<p d__="">It computes <code s__="13">numer/denom</code> and <code s__="13">numer%denom</code> and returns the result in a structure of type <code s__="13">imaxdiv_t</code>.</p>
<p d__="">This structure has two <code s__="13">imaxdiv_t</code> fields, <code s__="13">quot</code> and <code s__="13">rem</code>, that you use to retrieve the sought-after values.</p>
<h3 class="unnumbered unlisted" id="return-value-48" d__="">Return Value</h3>
<p d__="">Returns an <code s__="13">imaxdiv_t</code> containing the quotient and remainder of the operation.</p>
<h3 class="unnumbered unlisted" id="example-49" d__="">Example</h3>
<div class="sourceCode" id="cb223"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb223-1"><a href="#cb223-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb223-2"><a href="#cb223-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;inttypes.h&gt;</span></span>
<span id="cb223-3"><a href="#cb223-3"></a></span>
<span id="cb223-4" d__=""><a href="#cb223-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb223-5"><a href="#cb223-5"></a><span class="op" d__="">{</span></span>
<span id="cb223-6" d__=""><a href="#cb223-6"></a>    <span class="dt" d__="">intmax_t</span> numer <span class="op" d__="">=</span> INTMAX_C<span class="op" d__="">(</span><span class="dv" d__="">3490</span><span class="op" d__="">);</span></span>
<span id="cb223-7" d__=""><a href="#cb223-7"></a>    <span class="dt" d__="">intmax_t</span> denom <span class="op" d__="">=</span> INTMAX_C<span class="op" d__="">(</span><span class="dv" d__="">17</span><span class="op" d__="">);</span></span>
<span id="cb223-8"><a href="#cb223-8"></a></span>
<span id="cb223-9" d__=""><a href="#cb223-9"></a>    imaxdiv_t r <span class="op" d__="">=</span> imaxdiv<span class="op" d__="">(</span>numer<span class="op" d__="">,</span> denom<span class="op" d__="">);</span></span>
<span id="cb223-10"><a href="#cb223-10"></a></span>
<span id="cb223-11" d__=""><a href="#cb223-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Quotient: </span><span class="sc" d__="">%jd</span><span class="st" d__="">, remainder: </span><span class="sc" d__="">%jd\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> r<span class="op" d__="">.</span>quot<span class="op" d__="">,</span> r<span class="op" d__="">.</span>rem<span class="op" d__="">);</span></span>
<span id="cb223-12"><a href="#cb223-12"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb224-1" d__=""><a href="#cb224-1" aria-hidden="true" tabindex="-1"></a>Quotient: 205, remainder: 5</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-45" d__="">See Also</h3>
<p><a href="#man-remquo"><code s__="13" d__="">remquo()</code></a></p>
<hr>
<h2 data-number="9.4" id="man-strtoimax"><span class="header-section-number" d__="">9.4</span> <code d__="">strtoimax()</code> <code d__="">strtoumax()</code></h2>
<p> </p>
<p d__="">Convert strings to types <code s__="13">intmax_t</code> and <code s__="13">uintmax_t</code></p>
<h3 class="unnumbered unlisted" id="synopsis-50" d__="">Synopsis</h3>
<div class="sourceCode" id="cb225"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb225-1"><a href="#cb225-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;inttypes.h&gt;</span></span>
<span id="cb225-2"><a href="#cb225-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb225-3" d__=""><a href="#cb225-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">intmax_t</span> strtoimax<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> nptr<span class="op" d__="">,</span> <span class="dt" d__="">char</span> <span class="op" d__="">**</span> <span class="dt" d__="">restrict</span> endptr<span class="op" d__="">,</span></span>
<span id="cb225-4" d__=""><a href="#cb225-4" aria-hidden="true" tabindex="-1"></a>                   <span class="dt" d__="">int</span> base<span class="op" d__="">);</span></span>
<span id="cb225-5"><a href="#cb225-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb225-6" d__=""><a href="#cb225-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">uintmax_t</span> strtoumax<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> nptr<span class="op" d__="">,</span> <span class="dt" d__="">char</span> <span class="op" d__="">**</span> <span class="dt" d__="">restrict</span> endptr<span class="op" d__="">,</span></span>
<span id="cb225-7" d__=""><a href="#cb225-7" aria-hidden="true" tabindex="-1"></a>                   <span class="dt" d__="">int</span> base<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-50" d__="">Description</h3>
<p d__="">These work just like the <a href="#man-strtol"><code s__="13" d__="">strtol()</code></a> family of functions, except they return an <code s__="13">intmax_t</code> or <code s__="13">uintmax_t</code>.</p>
<p d__="">See the <a href="#man-strtol"><code s__="13" d__="">strtol()</code></a> reference page for details.</p>
<h3 class="unnumbered unlisted" id="return-value-49" d__="">Return Value</h3>
<p d__="">Returns the converted string as an <code s__="13">intmax_t</code> or <code s__="13">uintmax_t</code>.</p>
<p d__="">If the result is out of range, the returned value will be <code s__="13">INTMAX_MAX</code>, <code s__="13">INTMAX_MIN</code>, or <code s__="13">UINTMAX_MAX</code>, as appropriate. And the <code s__="13">errno</code> variable will be set to <code s__="13">ERANGE</code>.</p>
<h3 class="unnumbered unlisted" id="example-50" d__="">Example</h3>
<p d__="">The following example converts a base-10 number to an <code s__="13">intmax_t</code>. Then it attempts to convert an invalid base-2 number, catching the error.</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb226-1"><a href="#cb226-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb226-2"><a href="#cb226-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;inttypes.h&gt;</span></span>
<span id="cb226-3"><a href="#cb226-3"></a></span>
<span id="cb226-4" d__=""><a href="#cb226-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb226-5"><a href="#cb226-5"></a><span class="op" d__="">{</span></span>
<span id="cb226-6" d__=""><a href="#cb226-6"></a>    <span class="dt" d__="">intmax_t</span> r<span class="op" d__="">;</span></span>
<span id="cb226-7" d__=""><a href="#cb226-7"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>endptr<span class="op" d__="">;</span></span>
<span id="cb226-8"><a href="#cb226-8"></a></span>
<span id="cb226-9"><a href="#cb226-9"></a>    <span class="co" d__="">// Valid base-10 number</span></span>
<span id="cb226-10" d__=""><a href="#cb226-10"></a>    r <span class="op" d__="">=</span> strtoimax<span class="op" d__="">(</span><span class="st" d__="">"123456789012345"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>endptr<span class="op" d__="">,</span> <span class="dv" d__="">10</span><span class="op" d__="">);</span></span>
<span id="cb226-11"><a href="#cb226-11"></a></span>
<span id="cb226-12" d__=""><a href="#cb226-12"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(*</span>endptr <span class="op" d__="">!=</span> <span class="ch" d__="">'</span><span class="sc" d__="">\0</span><span class="ch" d__="">'</span><span class="op" d__="">)</span></span>
<span id="cb226-13" d__=""><a href="#cb226-13"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"Invalid digit: </span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">*</span>endptr<span class="op" d__="">);</span></span>
<span id="cb226-14"><a href="#cb226-14"></a>    <span class="cf" d__="">else</span></span>
<span id="cb226-15" d__=""><a href="#cb226-15"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"Value is </span><span class="sc" d__="">%jd\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> r<span class="op" d__="">);</span></span>
<span id="cb226-16"><a href="#cb226-16"></a>    </span>
<span id="cb226-17"><a href="#cb226-17"></a>    <span class="co" d__="">// The following binary number contains an invalid digit</span></span>
<span id="cb226-18" d__=""><a href="#cb226-18"></a>    r <span class="op" d__="">=</span> strtoimax<span class="op" d__="">(</span><span class="st" d__="">"0100102010101101"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>endptr<span class="op" d__="">,</span> <span class="dv" d__="">2</span><span class="op" d__="">);</span></span>
<span id="cb226-19"><a href="#cb226-19"></a></span>
<span id="cb226-20" d__=""><a href="#cb226-20"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(*</span>endptr <span class="op" d__="">!=</span> <span class="ch" d__="">'</span><span class="sc" d__="">\0</span><span class="ch" d__="">'</span><span class="op" d__="">)</span></span>
<span id="cb226-21" d__=""><a href="#cb226-21"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"Invalid digit: </span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">*</span>endptr<span class="op" d__="">);</span></span>
<span id="cb226-22"><a href="#cb226-22"></a>    <span class="cf" d__="">else</span></span>
<span id="cb226-23" d__=""><a href="#cb226-23"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"Value is </span><span class="sc" d__="">%jd\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> r<span class="op" d__="">);</span></span>
<span id="cb226-24"><a href="#cb226-24"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb227-1" d__=""><a href="#cb227-1" aria-hidden="true" tabindex="-1"></a>Value is 123456789012345</span>
<span id="cb227-2" d__=""><a href="#cb227-2" aria-hidden="true" tabindex="-1"></a>Invalid digit: 2</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-46" d__="">See Also</h3>
<p d__=""><a href="#man-strtol"><code s__="13" d__="">strtol()</code></a>, <a href="#errno"><code s__="13" d__="">errno</code></a></p>
<hr>
<h2 data-number="9.5" id="man-wcstoimax"><span class="header-section-number" d__="">9.5</span> <code d__="">wcstoimax()</code> <code d__="">wcstoumax()</code></h2>
<p> </p>
<p d__="">Convert wide strings to types <code s__="13">intmax_t</code> and <code s__="13">uintmax_t</code></p>
<h3 class="unnumbered unlisted" id="synopsis-51" d__="">Synopsis</h3>
<div class="sourceCode" id="cb228"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb228-1"><a href="#cb228-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stddef.h&gt;</span><span class="pp"> </span><span class="co" d__="">// for wchar_t</span></span>
<span id="cb228-2"><a href="#cb228-2" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;inttypes.h&gt;</span></span>
<span id="cb228-3"><a href="#cb228-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb228-4" d__=""><a href="#cb228-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">intmax_t</span> wcstoimax<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> nptr<span class="op" d__="">,</span></span>
<span id="cb228-5" d__=""><a href="#cb228-5" aria-hidden="true" tabindex="-1"></a>                   <span class="dt" d__="">wchar_t</span> <span class="op" d__="">**</span> <span class="dt" d__="">restrict</span> endptr<span class="op" d__="">,</span> <span class="dt" d__="">int</span> base<span class="op" d__="">);</span></span>
<span id="cb228-6"><a href="#cb228-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb228-7" d__=""><a href="#cb228-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">uintmax_t</span> wcstoumax<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> nptr<span class="op" d__="">,</span></span>
<span id="cb228-8" d__=""><a href="#cb228-8" aria-hidden="true" tabindex="-1"></a>                    <span class="dt" d__="">wchar_t</span> <span class="op" d__="">**</span> <span class="dt" d__="">restrict</span> endptr<span class="op" d__="">,</span> <span class="dt" d__="">int</span> base<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-51" d__="">Description</h3>
<p d__="">These work just like the <a href="#man-wcstol"><code s__="13" d__="">wcstol()</code></a> family of functions, except they return an <code s__="13">intmax_t</code> or <code s__="13">uintmax_t</code>.</p>
<p d__="">See the <a href="#man-wcstol"><code s__="13" d__="">wcstol()</code></a> reference page for details.</p>
<h3 class="unnumbered unlisted" id="return-value-50" d__="">Return Value</h3>
<p d__="">Returns the converted wide string as an <code s__="13">intmax_t</code> or <code s__="13">uintmax_t</code>.</p>
<p d__="">If the result is out of range, the returned value will be <code s__="13">INTMAX_MAX</code>, <code s__="13">INTMAX_MIN</code>, or <code s__="13">UINTMAX_MAX</code>, as appropriate. And the <code s__="13">errno</code> variable will be set to <code s__="13">ERANGE</code>.</p>
<h3 class="unnumbered unlisted" id="example-51" d__="">Example</h3>
<p d__="">The following example converts a base-10 number to an <code s__="13">intmax_t</code>. Then it attempts to convert an invalid base-2 number, catching the error.</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb229-1"><a href="#cb229-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb229-2"><a href="#cb229-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;inttypes.h&gt;</span></span>
<span id="cb229-3"><a href="#cb229-3"></a></span>
<span id="cb229-4" d__=""><a href="#cb229-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb229-5"><a href="#cb229-5"></a><span class="op" d__="">{</span></span>
<span id="cb229-6" d__=""><a href="#cb229-6"></a>    <span class="dt" d__="">intmax_t</span> r<span class="op" d__="">;</span></span>
<span id="cb229-7" d__=""><a href="#cb229-7"></a>    <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>endptr<span class="op" d__="">;</span></span>
<span id="cb229-8"><a href="#cb229-8"></a></span>
<span id="cb229-9"><a href="#cb229-9"></a>    <span class="co" d__="">// Valid base-10 number</span></span>
<span id="cb229-10" d__=""><a href="#cb229-10"></a>    r <span class="op" d__="">=</span> wcstoimax<span class="op" d__="">(</span><span class="st" d__="">L"123456789012345"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>endptr<span class="op" d__="">,</span> <span class="dv" d__="">10</span><span class="op" d__="">);</span></span>
<span id="cb229-11"><a href="#cb229-11"></a></span>
<span id="cb229-12" d__=""><a href="#cb229-12"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(*</span>endptr <span class="op" d__="">!=</span> <span class="ch" d__="">'</span><span class="sc" d__="">\0</span><span class="ch" d__="">'</span><span class="op" d__="">)</span></span>
<span id="cb229-13" d__=""><a href="#cb229-13"></a>        wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Invalid digit: </span><span class="sc" d__="">%lc\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">*</span>endptr<span class="op" d__="">);</span></span>
<span id="cb229-14"><a href="#cb229-14"></a>    <span class="cf" d__="">else</span></span>
<span id="cb229-15" d__=""><a href="#cb229-15"></a>        wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Value is </span><span class="sc" d__="">%jd\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> r<span class="op" d__="">);</span></span>
<span id="cb229-16"><a href="#cb229-16"></a>    </span>
<span id="cb229-17"><a href="#cb229-17"></a>    <span class="co" d__="">// The following binary number contains an invalid digit</span></span>
<span id="cb229-18" d__=""><a href="#cb229-18"></a>    r <span class="op" d__="">=</span> wcstoimax<span class="op" d__="">(</span><span class="st" d__="">L"0100102010101101"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>endptr<span class="op" d__="">,</span> <span class="dv" d__="">2</span><span class="op" d__="">);</span></span>
<span id="cb229-19"><a href="#cb229-19"></a></span>
<span id="cb229-20" d__=""><a href="#cb229-20"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(*</span>endptr <span class="op" d__="">!=</span> <span class="ch" d__="">'</span><span class="sc" d__="">\0</span><span class="ch" d__="">'</span><span class="op" d__="">)</span></span>
<span id="cb229-21" d__=""><a href="#cb229-21"></a>        wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Invalid digit: </span><span class="sc" d__="">%lc\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">*</span>endptr<span class="op" d__="">);</span></span>
<span id="cb229-22"><a href="#cb229-22"></a>    <span class="cf" d__="">else</span></span>
<span id="cb229-23" d__=""><a href="#cb229-23"></a>        wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Value is </span><span class="sc" d__="">%jd\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> r<span class="op" d__="">);</span></span>
<span id="cb229-24"><a href="#cb229-24"></a><span class="op" d__="">}</span></span></code></pre></div>
<div class="sourceCode" id="cb230"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb230-1" d__=""><a href="#cb230-1" aria-hidden="true" tabindex="-1"></a>Value is 123456789012345</span>
<span id="cb230-2" d__=""><a href="#cb230-2" aria-hidden="true" tabindex="-1"></a>Invalid digit: 2</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-47" d__="">See Also</h3>
<p d__=""><a href="#man-wcstol"><code s__="13" d__="">wcstol()</code></a>, <a href="#errno"><code s__="13" d__="">errno</code></a></p>
<!--
***
## `example()` `example()` `example()` {#man-example}

### Synopsis {.unnumbered .unlisted}

``` {.c}
```

### Description {.unnumbered .unlisted}

### Return Value {.unnumbered .unlisted}

### Example {.unnumbered .unlisted}

``` {.c .numberLines}
```

### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="10" id="iso646" d__=""><span class="header-section-number">10</span> <code>&lt;iso646.h&gt;</code> Alternative Operator Spellings</h1>
<p></p>
<p d__="">ISO-646 is a character encoding standard that’s very similar to ASCII. But it’s missing a few notable characters, like <code s__="13">|</code>, <code s__="13">^</code>, and <code s__="13">~</code>.</p>
<p d__="">Since these are operators or parts of operators in C, this 
header file defines a number of macros you can use in case those 
characters aren’t found on your keyboard. (And also C++ can use these 
same alternate spellings.)</p>
<p> </p>
<table>
<thead>
<tr class="header">
<th d__="">Operator</th>
<th d__=""><code s__="13">&lt;iso646.h&gt;</code> equivalent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">&amp;&amp;</code></td>
<td><code s__="13" d__="">and</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">&amp;=</code></td>
<td><code s__="13" d__="">and_eq</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">&amp;</code></td>
<td><code s__="13" d__="">bitand</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">|</code></td>
<td><code s__="13" d__="">bitor</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">~</code></td>
<td><code s__="13" d__="">compl</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">!</code></td>
<td><code s__="13" d__="">not</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">!=</code></td>
<td><code s__="13" d__="">not_eq</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">||</code></td>
<td><code s__="13" d__="">or</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">|=</code></td>
<td><code s__="13" d__="">or_eq</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">^</code></td>
<td><code s__="13" d__="">xor</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">^=</code></td>
<td><code s__="13" d__="">xor_eq</code></td>
</tr>
</tbody>
</table>
<p d__="">Interestingly, there is no <code s__="13">eq</code> for <code s__="13">==</code>, and <code s__="13">&amp;</code> and <code s__="13">!</code> are included despite being in ISO-646.</p>
<p d__="">Example usage:</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb231-1"><a href="#cb231-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb231-2"><a href="#cb231-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;iso646.h&gt;</span></span>
<span id="cb231-3"><a href="#cb231-3"></a></span>
<span id="cb231-4" d__=""><a href="#cb231-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb231-5"><a href="#cb231-5"></a><span class="op" d__="">{</span></span>
<span id="cb231-6" d__=""><a href="#cb231-6"></a>    <span class="dt" d__="">int</span> x <span class="op" d__="">=</span> <span class="dv" d__="">12</span><span class="op" d__="">;</span></span>
<span id="cb231-7" d__=""><a href="#cb231-7"></a>    <span class="dt" d__="">int</span> y <span class="op" d__="">=</span> <span class="dv" d__="">30</span><span class="op" d__="">;</span></span>
<span id="cb231-8"><a href="#cb231-8"></a></span>
<span id="cb231-9" d__=""><a href="#cb231-9"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>x <span class="op" d__="">==</span> <span class="dv" d__="">12</span> and y not_eq <span class="dv" d__="">40</span><span class="op" d__="">)</span></span>
<span id="cb231-10" d__=""><a href="#cb231-10"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"Now we know.</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb231-11"><a href="#cb231-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">I’ve personally never seen this file included, but I’m sure it gets used from time to time.</p>
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="11" id="limits" d__=""><span class="header-section-number">11</span> <code>&lt;limits.h&gt;</code> Numeric Limits</h1>
<p></p>
<p d__="">Important note: the “minimum magnitude” in the table below is 
the minimum allowed by the spec. It’s very likely that the values on 
your bad-ass system exceed those, below.</p>
<p> </p>
<table>
<colgroup>
<col style="width: 13%">
<col style="width: 26%">
<col style="width: 60%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Macro</th>
<th d__="">Minimum Magnitude</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">CHAR_BIT</code></td>
<td><code s__="13" d__="">8</code></td>
<td d__="">Number of bits in a byte</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">SCHAR_MIN</code></td>
<td><code s__="13" d__="">-127</code></td>
<td d__="">Minimum value of a <code s__="13">signed char</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">SCHAR_MAX</code></td>
<td><code s__="13" d__="">127</code></td>
<td d__="">Maximum value of a <code s__="13">signed char</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">UCHAR_MAX</code></td>
<td><code s__="13" d__="">255</code></td>
<td d__="">Maximum value of an <code s__="13">unsigned char</code><a href="#fn19" class="footnote-ref" id="fnref19" role="doc-noteref"><sup s__="13" d__="">19</sup></a></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">CHAR_MIN</code></td>
<td d__=""><code s__="13">0</code> or <code s__="13">SCHAR_MIN</code></td>
<td d__="">More detail below</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">CHAR_MAX</code></td>
<td d__=""><code s__="13">SCHAR_MAX</code> or <code s__="13">UCHAR_MAX</code></td>
<td d__="">More detail below</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">MB_LEN_MAX</code></td>
<td><code s__="13" d__="">1</code></td>
<td d__="">Maximum number of bytes in a multibyte character on any locale</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">SHRT_MIN</code></td>
<td><code s__="13" d__="">-32767</code></td>
<td d__="">Minimum value of a <code s__="13">short</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">SHRT_MAX</code></td>
<td><code s__="13" d__="">32767</code></td>
<td d__="">Maximum value of a <code s__="13">short</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">USHRT_MAX</code></td>
<td><code s__="13" d__="">65535</code></td>
<td d__="">Maximum value of an <code s__="13">unsigned short</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">INT_MIN</code></td>
<td><code s__="13" d__="">-32767</code></td>
<td d__="">Minimum vale of an <code s__="13">int</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">INT_MAX</code></td>
<td><code s__="13" d__="">32767</code></td>
<td d__="">Maximum value of an <code s__="13">int</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">UINT_MAX</code></td>
<td><code s__="13" d__="">65535</code></td>
<td d__="">Maximum value of an <code s__="13">unsigned int</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">LONG_MIN</code></td>
<td><code s__="13" d__="">-2147483647</code></td>
<td d__="">Minimum value of a <code s__="13">long</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">LONG_MAX</code></td>
<td><code s__="13" d__="">2147483647</code></td>
<td d__="">Maximum value of a <code s__="13">long</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">ULONG_MAX</code></td>
<td><code s__="13" d__="">4294967295</code></td>
<td d__="">Maximum value of an <code s__="13">unsigned long</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">LLONG_MIN</code></td>
<td><code s__="13" d__="">-9223372036854775807</code></td>
<td d__="">Minimum value of a <code s__="13">long long</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">LLONG_MAX</code></td>
<td><code s__="13" d__="">9223372036854775807</code></td>
<td d__="">Maximum value of a <code s__="13">long long</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">ULLONG_MAX</code></td>
<td><code s__="13" d__="">18446744073709551615</code></td>
<td d__="">Maximum value of an <code s__="13">unsigned long long</code></td>
</tr>
</tbody>
</table>
<h2 data-number="11.1" id="char_min-and-char_max" d__=""><span class="header-section-number">11.1</span> <code>CHAR_MIN</code> and <code>CHAR_MAX</code></h2>
<p d__="">When it comes to the <code s__="13">CHAR_MIN</code> and <code s__="13">CHAR_MAX</code> macros, it all depends on if your <code s__="13">char</code> type is signed or unsigned by default. Remember that C leaves that up to the implementation? No? Well, it does.</p>
<p d__="">So if it’s signed, the values of <code s__="13">CHAR_MIN</code> and <code s__="13">CHAR_MAX</code> are the same as <code s__="13">SCHAR_MIN</code> and <code s__="13">SCHAR_MAX</code>.</p>
<p d__="">And if it’s unsigned, the values of <code s__="13">CHAR_MIN</code> and <code s__="13">CHAR_MAX</code> are the same as <code s__="13">0</code> and <code s__="13">UCHAR_MAX</code>.</p>
<p d__="">Side benefit: you can tell at runtime if the system has signed or unsigned chars by checking to see if <code s__="13">CHAR_MIN</code> is <code s__="13">0</code>.</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb232-1"><a href="#cb232-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb232-2"><a href="#cb232-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;limits.h&gt;</span></span>
<span id="cb232-3"><a href="#cb232-3"></a></span>
<span id="cb232-4" d__=""><a href="#cb232-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb232-5"><a href="#cb232-5"></a><span class="op" d__="">{</span></span>
<span id="cb232-6" d__=""><a href="#cb232-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"chars are </span><span class="sc" d__="">%s</span><span class="st" d__="">signed</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> CHAR_MIN <span class="op" d__="">==</span> <span class="dv" d__="">0</span><span class="op" d__="">?</span> <span class="st" d__="">"un"</span><span class="op" d__="">:</span> <span class="st" d__="">""</span><span class="op" d__="">);</span></span>
<span id="cb232-7"><a href="#cb232-7"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">On my system, <code s__="13">char</code>s are signed.</p>
<h2 data-number="11.2" id="choosing-the-correct-type" d__=""><span class="header-section-number">11.2</span> Choosing the Correct Type</h2>
<p d__="">If you want to be super portable, choose a type you know will be at least as big as you need by the table, above.</p>
<p d__="">That said, a lot of code, for better or (likely) worse, assumes <code s__="13">int</code>s are 32-bits, when in actuality it’s only guaranteed to be 16.</p>
<p d__="">If you need a guaranteed bit size, check out the <code s__="13">int_leastN_t</code> types in <a href="#stdint"><code s__="13" d__="">&lt;stdint.h&gt;</code></a>.</p>
<h2 data-number="11.3" id="whither-twos-complement" d__=""><span class="header-section-number">11.3</span> Whither Two’s Complement?</h2>
<p d__="">If you were looking closely and have <em>a priori</em> knowledge of the matter, you might have thought I erred in the minimum values of the macros, above.</p>
<p d__="">“<code s__="13">short</code> goes from <code s__="13">32767</code> to <code s__="13">-32767</code>? Shouldn’t it go to <code s__="13">-32768?</code>”</p>
<p d__="">No, I have it right. The spec list the minimum magnitudes for 
those macros, and some old-timey systems might have used a different 
encoding for their signed values that could only go that far.</p>
<p d__="">Virtually every modern system uses <a href="https://en.wikipedia.org/wiki/Two%27s_complement" d__="">Two’s Complement</a><a href="#fn20" class="footnote-ref" id="fnref20" role="doc-noteref"><sup s__="13" d__="">20</sup></a> for signed numbers, and those would go from <code s__="13">32767</code> to <code s__="13">-32768</code> for a <code s__="13">short</code>. Your system probably does, too.</p>
<h2 data-number="11.4" id="demo-program" d__=""><span class="header-section-number">11.4</span> Demo Program</h2>
<p d__="">Here’s a program to print out the values of the macros:</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb233-1"><a href="#cb233-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb233-2"><a href="#cb233-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;limits.h&gt;</span></span>
<span id="cb233-3"><a href="#cb233-3"></a></span>
<span id="cb233-4" d__=""><a href="#cb233-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb233-5"><a href="#cb233-5"></a><span class="op" d__="">{</span></span>
<span id="cb233-6" d__=""><a href="#cb233-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"CHAR_BIT = </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> CHAR_BIT<span class="op" d__="">);</span></span>
<span id="cb233-7" d__=""><a href="#cb233-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"SCHAR_MIN = </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> SCHAR_MIN<span class="op" d__="">);</span></span>
<span id="cb233-8" d__=""><a href="#cb233-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"SCHAR_MAX = </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> SCHAR_MAX<span class="op" d__="">);</span></span>
<span id="cb233-9" d__=""><a href="#cb233-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"UCHAR_MAX = </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> UCHAR_MAX<span class="op" d__="">);</span></span>
<span id="cb233-10" d__=""><a href="#cb233-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"CHAR_MIN = </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> CHAR_MIN<span class="op" d__="">);</span></span>
<span id="cb233-11" d__=""><a href="#cb233-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"CHAR_MAX = </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> CHAR_MAX<span class="op" d__="">);</span></span>
<span id="cb233-12" d__=""><a href="#cb233-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"MB_LEN_MAX = </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> MB_LEN_MAX<span class="op" d__="">);</span></span>
<span id="cb233-13" d__=""><a href="#cb233-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"SHRT_MIN = </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> SHRT_MIN<span class="op" d__="">);</span></span>
<span id="cb233-14" d__=""><a href="#cb233-14"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"SHRT_MAX = </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> SHRT_MAX<span class="op" d__="">);</span></span>
<span id="cb233-15" d__=""><a href="#cb233-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"USHRT_MAX = </span><span class="sc" d__="">%u\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> USHRT_MAX<span class="op" d__="">);</span></span>
<span id="cb233-16" d__=""><a href="#cb233-16"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"INT_MIN = </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> INT_MIN<span class="op" d__="">);</span></span>
<span id="cb233-17" d__=""><a href="#cb233-17"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"INT_MAX = </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> INT_MAX<span class="op" d__="">);</span></span>
<span id="cb233-18" d__=""><a href="#cb233-18"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"UINT_MAX = </span><span class="sc" d__="">%u\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> UINT_MAX<span class="op" d__="">);</span></span>
<span id="cb233-19" d__=""><a href="#cb233-19"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"LONG_MIN = </span><span class="sc" d__="">%ld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> LONG_MIN<span class="op" d__="">);</span></span>
<span id="cb233-20" d__=""><a href="#cb233-20"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"LONG_MAX = </span><span class="sc" d__="">%ld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> LONG_MAX<span class="op" d__="">);</span></span>
<span id="cb233-21" d__=""><a href="#cb233-21"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"ULONG_MAX = </span><span class="sc" d__="">%lu\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ULONG_MAX<span class="op" d__="">);</span></span>
<span id="cb233-22" d__=""><a href="#cb233-22"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"LLONG_MIN = </span><span class="sc" d__="">%lld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> LLONG_MIN<span class="op" d__="">);</span></span>
<span id="cb233-23" d__=""><a href="#cb233-23"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"LLONG_MAX = </span><span class="sc" d__="">%lld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> LLONG_MAX<span class="op" d__="">);</span></span>
<span id="cb233-24" d__=""><a href="#cb233-24"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"ULLONG_MAX = </span><span class="sc" d__="">%llu\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ULLONG_MAX<span class="op" d__="">);</span></span>
<span id="cb233-25"><a href="#cb233-25"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">On my 64-bit Intel system with clang, this outputs:</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb234-1" d__=""><a href="#cb234-1" aria-hidden="true" tabindex="-1"></a>CHAR_BIT = 8</span>
<span id="cb234-2" d__=""><a href="#cb234-2" aria-hidden="true" tabindex="-1"></a>SCHAR_MIN = -128</span>
<span id="cb234-3" d__=""><a href="#cb234-3" aria-hidden="true" tabindex="-1"></a>SCHAR_MAX = 127</span>
<span id="cb234-4" d__=""><a href="#cb234-4" aria-hidden="true" tabindex="-1"></a>UCHAR_MAX = 255</span>
<span id="cb234-5" d__=""><a href="#cb234-5" aria-hidden="true" tabindex="-1"></a>CHAR_MIN = -128</span>
<span id="cb234-6" d__=""><a href="#cb234-6" aria-hidden="true" tabindex="-1"></a>CHAR_MAX = 127</span>
<span id="cb234-7" d__=""><a href="#cb234-7" aria-hidden="true" tabindex="-1"></a>MB_LEN_MAX = 6</span>
<span id="cb234-8" d__=""><a href="#cb234-8" aria-hidden="true" tabindex="-1"></a>SHRT_MIN = -32768</span>
<span id="cb234-9" d__=""><a href="#cb234-9" aria-hidden="true" tabindex="-1"></a>SHRT_MAX = 32767</span>
<span id="cb234-10" d__=""><a href="#cb234-10" aria-hidden="true" tabindex="-1"></a>USHRT_MAX = 65535</span>
<span id="cb234-11" d__=""><a href="#cb234-11" aria-hidden="true" tabindex="-1"></a>INT_MIN = -2147483648</span>
<span id="cb234-12" d__=""><a href="#cb234-12" aria-hidden="true" tabindex="-1"></a>INT_MAX = 2147483647</span>
<span id="cb234-13" d__=""><a href="#cb234-13" aria-hidden="true" tabindex="-1"></a>UINT_MAX = 4294967295</span>
<span id="cb234-14" d__=""><a href="#cb234-14" aria-hidden="true" tabindex="-1"></a>LONG_MIN = -9223372036854775808</span>
<span id="cb234-15" d__=""><a href="#cb234-15" aria-hidden="true" tabindex="-1"></a>LONG_MAX = 9223372036854775807</span>
<span id="cb234-16" d__=""><a href="#cb234-16" aria-hidden="true" tabindex="-1"></a>ULONG_MAX = 18446744073709551615</span>
<span id="cb234-17" d__=""><a href="#cb234-17" aria-hidden="true" tabindex="-1"></a>LLONG_MIN = -9223372036854775808</span>
<span id="cb234-18" d__=""><a href="#cb234-18" aria-hidden="true" tabindex="-1"></a>LLONG_MAX = 9223372036854775807</span>
<span id="cb234-19" d__=""><a href="#cb234-19" aria-hidden="true" tabindex="-1"></a>ULLONG_MAX = 18446744073709551615</span></code></pre></div>
<p d__="">Looks like my system probably uses two’s-complement encoding for signed numbers, my <code s__="13">char</code>s are signed, and my <code s__="13">int</code>s are 32-bit.</p>
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="12" id="locale" d__=""><span class="header-section-number">12</span> <code>&lt;locale.h&gt;</code> locale handling</h1>
<p></p>
<table>
<colgroup>
<col style="width: 26%">
<col style="width: 73%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Function</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#man-setlocale"><code s__="13" d__="">setlocale()</code></a></td>
<td d__="">Set the locale</td>
</tr>
<tr class="even">
<td><a href="#man-localeconv"><code s__="13" d__="">localeconv()</code></a></td>
<td d__="">Get information about the current locale</td>
</tr>
</tbody>
</table>
<p d__="">The “locale” is the details of how the program should run given its physical location on the planet.</p>
<p d__="">For example, in one locale, a unit of money might be printed as <code s__="13">$123</code>, and in another <code s__="13">€123</code>.</p>
<p d__="">Or one locale might use ASCII encoding and another UTF-8 encoding.</p>
<p d__="">By default, the program runs in the “C” locale. It has a basic
 set of characters with a single-byte encoding. If you try to print 
UTF-8 characters in the C locale, nothing will print. You have to switch
 to a proper locale.</p>
<hr>
<h2 data-number="12.1" id="man-setlocale"><span class="header-section-number" d__="">12.1</span> <code d__="">setlocale()</code></h2>
<p></p>
<p d__="">Set the locale</p>
<h3 class="unnumbered unlisted" id="synopsis-52" d__="">Synopsis</h3>
<div class="sourceCode" id="cb235"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb235-1"><a href="#cb235-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;locale.h&gt;</span></span>
<span id="cb235-2"><a href="#cb235-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb235-3" d__=""><a href="#cb235-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> <span class="op" d__="">*</span>setlocale<span class="op" d__="">(</span><span class="dt" d__="">int</span> category<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>locale<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-52" d__="">Description</h3>
<p d__="">Sets the <code s__="13">locale</code> for the given <code s__="13">category</code>.</p>
<p d__="">Category is one of the following:</p>
<table>
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Category</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">LC_ALL</code></td>
<td d__="">All of the following categories</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">LC_COLLATE</code></td>
<td d__="">Affects the <a href="#man-strcoll"><code s__="13" d__="">strcoll()</code></a> and <a href="#man-strxfrm"><code s__="13" d__="">strxfrm()</code></a> functions</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">LC_CTYPE</code></td>
<td d__="">Affects the functions in <a href="#ctype"><code s__="13" d__="">&lt;ctype.h&gt;</code></a></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">LC_MONETARY</code></td>
<td d__="">Affects the monetary information returned from <a href="#man-localeconv"><code s__="13" d__="">localeconv()</code></a></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">LC_NUMERIC</code></td>
<td d__="">Affects the decimal point for formatted I/O and formatted string functions, and the monetary information returned from <a href="#man-localeconv"><code s__="13" d__="">localeconv()</code></a></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">LC_TIME</code></td>
<td d__="">Affects the <a href="#man-strftime"><code s__="13" d__="">strftime()</code></a> and <a href="#man-wcsftime"><code s__="13" d__="">wcsftime()</code></a> functions</td>
</tr>
</tbody>
</table>
<p d__="">And there are three portable things you can pass in for <code s__="13">locale</code>; any other string passed in is implementation-defined and non-portable.</p>
<table>
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Locale</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">"C"</code></td>
<td d__="">Set the program to the C locale</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">""</code></td>
<td d__="">(Empty string) Set the program to the native locale of this system</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">NULL</code></td>
<td d__="">Change nothing; just return the current locale</td>
</tr>
<tr class="even">
<td d__="">Other</td>
<td d__="">Set the program to an implementation-defined locale</td>
</tr>
</tbody>
</table>
<p d__="">The most common call, I’d wager, is this:</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb236-1"><a href="#cb236-1" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">// Set all locale settings to the local, native locale</span></span>
<span id="cb236-2"><a href="#cb236-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb236-3" d__=""><a href="#cb236-3" aria-hidden="true" tabindex="-1"></a>setlocale<span class="op" d__="">(</span>LC_ALL<span class="op" d__="">,</span> <span class="st" d__="">""</span><span class="op" d__="">);</span></span></code></pre></div>
<p d__="">Handily, <code s__="13">setlocale()</code> returns the locale that was just set, so you could see what the actual locale is on your system.</p>
<h3 class="unnumbered unlisted" id="return-value-51" d__="">Return Value</h3>
<p d__="">On success, returns a pointer to the string representing the 
current locale. You may not modify this string, and it might be changed 
by subsequent calls to <code s__="13">setlocale()</code>.</p>
<p d__="">On failure, returns <code s__="13">NULL</code>.</p>
<h3 class="unnumbered unlisted" id="example-52" d__="">Example</h3>
<p d__="">Here we get the current locale. Then we set it to the native locale, and print out what that is.</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb237-1"><a href="#cb237-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb237-2"><a href="#cb237-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;locale.h&gt;</span></span>
<span id="cb237-3"><a href="#cb237-3"></a></span>
<span id="cb237-4" d__=""><a href="#cb237-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb237-5"><a href="#cb237-5"></a><span class="op" d__="">{</span></span>
<span id="cb237-6" d__=""><a href="#cb237-6"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>loc<span class="op" d__="">;</span></span>
<span id="cb237-7"><a href="#cb237-7"></a></span>
<span id="cb237-8"><a href="#cb237-8"></a>    <span class="co" d__="">// Get the current locale</span></span>
<span id="cb237-9" d__=""><a href="#cb237-9"></a>    loc <span class="op" d__="">=</span> setlocale<span class="op" d__="">(</span>LC_ALL<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb237-10"><a href="#cb237-10"></a></span>
<span id="cb237-11" d__=""><a href="#cb237-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Starting locale: </span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> loc<span class="op" d__="">);</span></span>
<span id="cb237-12"><a href="#cb237-12"></a></span>
<span id="cb237-13"><a href="#cb237-13"></a>    <span class="co" d__="">// Set (and get) the locale to native locale</span></span>
<span id="cb237-14" d__=""><a href="#cb237-14"></a>    loc <span class="op" d__="">=</span> setlocale<span class="op" d__="">(</span>LC_ALL<span class="op" d__="">,</span> <span class="st" d__="">""</span><span class="op" d__="">);</span></span>
<span id="cb237-15"><a href="#cb237-15"></a>    </span>
<span id="cb237-16" d__=""><a href="#cb237-16"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Native locale: </span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> loc<span class="op" d__="">);</span></span>
<span id="cb237-17"><a href="#cb237-17"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output on my system:</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb238-1" d__=""><a href="#cb238-1" aria-hidden="true" tabindex="-1"></a>Starting locale: C</span>
<span id="cb238-2" d__=""><a href="#cb238-2" aria-hidden="true" tabindex="-1"></a>Native locale: en_US.UTF-8</span></code></pre></div>
<p d__="">Note that my native locale (on a Linux box) might be different from what you see.</p>
<p d__="">Nevertheless, I can explicitly set it on my system without a problem, or to any other locale I have installed:</p>
<div class="sourceCode" id="cb239" data-startfrom="13"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" style="counter-reset: source-line 12;" s__="13"><span id="cb239-13" d__=""><a href="#cb239-13"></a>    loc <span class="op" d__="">=</span> setlocale<span class="op" d__="">(</span>LC_ALL<span class="op" d__="">,</span> <span class="st" d__="">"en_US.UTF-8"</span><span class="op" d__="">);</span>   <span class="co" d__="">// Non-portable</span></span></code></pre></div>
<p d__="">But again, your system might have different locales defined.</p>
<h3 class="unnumbered unlisted" id="see-also-48" d__="">See Also</h3>
<p d__=""><a href="#man-localeconv"><code s__="13" d__="">localeconv()</code></a>, <a href="#man-strcoll"><code s__="13" d__="">strcoll()</code></a>, <a href="#man-strxfrm"><code s__="13" d__="">strxfrm()</code></a>, <a href="#man-strftime"><code s__="13" d__="">strftime()</code></a>, <a href="#man-wcsftime"><code s__="13" d__="">wcsftime()</code></a>, <a href="#man-printf"><code s__="13" d__="">printf()</code></a>, <a href="#man-scanf"><code s__="13" d__="">scanf()</code></a>, <a href="#ctype"><code s__="13" d__="">&lt;ctype.h&gt;</code></a></p>
<hr>
<h2 data-number="12.2" id="man-localeconv"><span class="header-section-number" d__="">12.2</span> <code d__="">localeconv()</code></h2>
<p></p>
<p d__="">Get information about the current locale</p>
<h3 class="unnumbered unlisted" id="synopsis-53" d__="">Synopsis</h3>
<div class="sourceCode" id="cb240"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb240-1"><a href="#cb240-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;locale.h&gt;</span></span>
<span id="cb240-2"><a href="#cb240-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb240-3" d__=""><a href="#cb240-3" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">struct</span> lconv <span class="op" d__="">*</span>localeconv<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-53" d__="">Description</h3>
<p d__="">This function just returns a pointer to a <code s__="13">struct lconv</code>, but is still a bit of a powerhouse.</p>
<p d__="">The returned structure contains <em>tons</em> of information about the locale. Here are the fields of <code s__="13">struct lconv</code> and their meanings.</p>
<p d__="">First, some conventions. In the field names, below, a <code s__="13">_p_</code> means “positive”, and <code s__="13">_n_</code> means “negative”, and <code s__="13">int_</code> means “international”. Though a lot of these are type <code s__="13">char</code> or <code s__="13">char*</code>, most (or the strings they point to) are actually treated as integers<a href="#fn21" class="footnote-ref" id="fnref21" role="doc-noteref"><sup s__="13" d__="">21</sup></a>.</p>
<p d__="">Before we go further, know that <code s__="13">CHAR_MAX</code> (from <code s__="13">&lt;limits.h&gt;</code>) is the maximum value that can be held in a <code s__="13">char</code>. And that many of the following <code s__="13">char</code> values use that to indicate the value isn’t available in the given locale.</p>
<table>
<colgroup>
<col style="width: 31%">
<col style="width: 68%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Field</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">char *mon_decimal_point</code></td>
<td d__="">Decimal pointer character for money, e.g.&nbsp;<code s__="13">"."</code>.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">char *mon_thousands_sep</code></td>
<td d__="">Thousands separator character for money, e.g.&nbsp;<code s__="13">","</code>.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">char *mon_grouping</code></td>
<td d__="">Grouping description for money (see below).</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">char *positive_sign</code></td>
<td d__="">Positive sign for money, e.g.&nbsp;<code s__="13">"+"</code> or <code s__="13">""</code>.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">char *negative_sign</code></td>
<td d__="">Negative sign for money, e.g.&nbsp;<code s__="13">"-"</code>.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">char *currency_symbol</code></td>
<td d__="">Currency symbol, e.g.&nbsp;<code s__="13">"$"</code>.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">char frac_digits</code></td>
<td d__="">When printing monetary amounts, how many digits to print past the decimal point, e.g.&nbsp;<code s__="13">2</code>.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">char p_cs_precedes</code></td>
<td d__=""><code s__="13">1</code> if the <code s__="13">currency_symbol</code> comes before the value for a non-negative monetary amount, <code s__="13">0</code> if after.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">char n_cs_precedes</code></td>
<td d__=""><code s__="13">1</code> if the <code s__="13">currency_symbol</code> comes before the value for a negative monetary amount, <code s__="13">0</code> if after.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">char p_sep_by_space</code></td>
<td d__="">Determines the separation of the <code s__="13">currency symbol</code> from the value for non-negative amounts (see below).</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">char n_sep_by_space</code></td>
<td d__="">Determines the separation of the <code s__="13">currency symbol</code> from the value for negative amounts (see below).</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">char p_sign_posn</code></td>
<td d__="">Determines the <code s__="13">positive_sign</code> position for non-negative values.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">char p_sign_posn</code></td>
<td d__="">Determines the <code s__="13">positive_sign</code> position for negative values.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">char *int_curr_symbol</code></td>
<td d__="">International currency symbol, e.g.&nbsp;<code s__="13">"USD "</code>.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">char int_frac_digits</code></td>
<td d__="">International value for <code s__="13">frac_digits</code>.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">char int_p_cs_precedes</code></td>
<td d__="">International value for <code s__="13">p_cs_precedes</code>.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">char int_n_cs_precedes</code></td>
<td d__="">International value for <code s__="13">n_cs_precedes</code>.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">char int_p_sep_by_space</code></td>
<td d__="">International value for <code s__="13">p_sep_by_space</code>.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">char int_n_sep_by_space</code></td>
<td d__="">International value for <code s__="13">n_sep_by_space</code>.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">char int_p_sign_posn</code></td>
<td d__="">International value for <code s__="13">p_sign_posn</code>.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">char int_n_sign_posn</code></td>
<td d__="">International value for <code s__="13">n_sign_posn</code>.</td>
</tr>
</tbody>
</table>
<p d__="">Even though many of these have <code s__="13">char</code> type, the value stored within is meant to be accessed as an integer.</p>
<p d__="">All the <code s__="13">sep_by_space</code> variants deal with spacing around the currency sign. Valid values are:</p>
<table>
<colgroup>
<col style="width: 25%">
<col style="width: 75%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;" d__="">Value</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">0</code></td>
<td d__="">No space between currency symbol and value.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">1</code></td>
<td d__="">Separate the currency symbol (and sign, if any) from the value with a space.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">2</code></td>
<td d__="">Separate the sign symbol from the currency symbol (if 
adjacent) with a space, otherwise separate the sign symbol from the 
value with a space.</td>
</tr>
</tbody>
</table>
<p d__="">The <code s__="13">sign_posn</code> variants are determined by the following values:</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;" d__="">Value</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">0</code></td>
<td d__="">Put parens around the value and the currency symbol.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">1</code></td>
<td d__="">Put the sign string in front of the currency symbol and value.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">2</code></td>
<td d__="">Put the sign string after the currency symbol and value.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">3</code></td>
<td d__="">Put the sign string directly in front of the currency symbol.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">4</code></td>
<td d__="">Put the sign string directly behind the currency symbol.</td>
</tr>
</tbody>
</table>
<h3 class="unnumbered unlisted" id="return-value-52" d__="">Return Value</h3>
<p d__="">Returns a pointer to the structure containing the locale information.</p>
<p d__="">The program may not modify this structure.</p>
<p d__="">Subsequent calls to <code s__="13">localeconv()</code> may overwrite this structure, as might calls to <code s__="13">setlocale()</code> with <code s__="13">LC_ALL</code>, <code s__="13">LC_MONETARY</code>, or <code s__="13">LC_NUMERIC</code>.</p>
<h3 class="unnumbered unlisted" id="example-53" d__="">Example</h3>
<p d__="">Here’s a program to print the locale information for the native locale.</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb241-1"><a href="#cb241-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb241-2"><a href="#cb241-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;locale.h&gt;</span></span>
<span id="cb241-3"><a href="#cb241-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;limits.h&gt;</span><span class="pp">  </span><span class="co" d__="">// for CHAR_MAX</span></span>
<span id="cb241-4"><a href="#cb241-4"></a></span>
<span id="cb241-5" d__=""><a href="#cb241-5"></a><span class="dt" d__="">void</span> print_grouping<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span>mg<span class="op" d__="">)</span></span>
<span id="cb241-6"><a href="#cb241-6"></a><span class="op" d__="">{</span></span>
<span id="cb241-7" d__=""><a href="#cb241-7"></a>    <span class="dt" d__="">int</span> done <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb241-8"><a href="#cb241-8"></a></span>
<span id="cb241-9" d__=""><a href="#cb241-9"></a>    <span class="cf" d__="">while</span> <span class="op" d__="">(!</span>done<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb241-10" d__=""><a href="#cb241-10"></a>        <span class="cf" d__="">if</span> <span class="op" d__="">(*</span>mg <span class="op" d__="">==</span> CHAR_MAX<span class="op" d__="">)</span></span>
<span id="cb241-11" d__=""><a href="#cb241-11"></a>            printf<span class="op" d__="">(</span><span class="st" d__="">"CHAR_MAX "</span><span class="op" d__="">);</span></span>
<span id="cb241-12"><a href="#cb241-12"></a>        <span class="cf" d__="">else</span></span>
<span id="cb241-13" d__=""><a href="#cb241-13"></a>            printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%c</span><span class="st" d__=""> "</span><span class="op" d__="">,</span> <span class="op" d__="">*</span>mg <span class="op" d__="">+</span> <span class="ch" d__="">'0'</span><span class="op" d__="">);</span></span>
<span id="cb241-14" d__=""><a href="#cb241-14"></a>        done <span class="op" d__="">=</span> <span class="op" d__="">*</span>mg <span class="op" d__="">==</span> CHAR_MAX <span class="op" d__="">||</span> <span class="op" d__="">*</span>mg <span class="op" d__="">==</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb241-15" d__=""><a href="#cb241-15"></a>        mg<span class="op" d__="">++;</span></span>
<span id="cb241-16"><a href="#cb241-16"></a>    <span class="op" d__="">}</span></span>
<span id="cb241-17"><a href="#cb241-17"></a><span class="op" d__="">}</span></span>
<span id="cb241-18"><a href="#cb241-18"></a></span>
<span id="cb241-19" d__=""><a href="#cb241-19"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb241-20"><a href="#cb241-20"></a><span class="op" d__="">{</span></span>
<span id="cb241-21" d__=""><a href="#cb241-21"></a>    setlocale<span class="op" d__="">(</span>LC_ALL<span class="op" d__="">,</span> <span class="st" d__="">""</span><span class="op" d__="">);</span></span>
<span id="cb241-22"><a href="#cb241-22"></a></span>
<span id="cb241-23" d__=""><a href="#cb241-23"></a>    <span class="kw" d__="">struct</span> lconv <span class="op" d__="">*</span>lc <span class="op" d__="">=</span> localeconv<span class="op" d__="">();</span></span>
<span id="cb241-24"><a href="#cb241-24"></a></span>
<span id="cb241-25" d__=""><a href="#cb241-25"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"mon_decimal_point : </span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lc<span class="op" d__="">-&gt;</span>mon_decimal_point<span class="op" d__="">);</span></span>
<span id="cb241-26" d__=""><a href="#cb241-26"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"mon_thousands_sep : </span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lc<span class="op" d__="">-&gt;</span>mon_thousands_sep<span class="op" d__="">);</span></span>
<span id="cb241-27" d__=""><a href="#cb241-27"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"mon_grouping      : "</span><span class="op" d__="">);</span></span>
<span id="cb241-28" d__=""><a href="#cb241-28"></a>    print_grouping<span class="op" d__="">(</span>lc<span class="op" d__="">-&gt;</span>mon_grouping<span class="op" d__="">);</span></span>
<span id="cb241-29" d__=""><a href="#cb241-29"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb241-30" d__=""><a href="#cb241-30"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"positive_sign     : </span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lc<span class="op" d__="">-&gt;</span>positive_sign<span class="op" d__="">);</span></span>
<span id="cb241-31" d__=""><a href="#cb241-31"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"negative_sign     : </span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lc<span class="op" d__="">-&gt;</span>negative_sign<span class="op" d__="">);</span></span>
<span id="cb241-32" d__=""><a href="#cb241-32"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"currency_symbol   : </span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lc<span class="op" d__="">-&gt;</span>currency_symbol<span class="op" d__="">);</span></span>
<span id="cb241-33" d__=""><a href="#cb241-33"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"frac_digits       : </span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lc<span class="op" d__="">-&gt;</span>frac_digits<span class="op" d__="">);</span></span>
<span id="cb241-34" d__=""><a href="#cb241-34"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"p_cs_precedes     : </span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lc<span class="op" d__="">-&gt;</span>p_cs_precedes<span class="op" d__="">);</span></span>
<span id="cb241-35" d__=""><a href="#cb241-35"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"n_cs_precedes     : </span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lc<span class="op" d__="">-&gt;</span>n_cs_precedes<span class="op" d__="">);</span></span>
<span id="cb241-36" d__=""><a href="#cb241-36"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"p_sep_by_space    : </span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lc<span class="op" d__="">-&gt;</span>p_sep_by_space<span class="op" d__="">);</span></span>
<span id="cb241-37" d__=""><a href="#cb241-37"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"n_sep_by_space    : </span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lc<span class="op" d__="">-&gt;</span>n_sep_by_space<span class="op" d__="">);</span></span>
<span id="cb241-38" d__=""><a href="#cb241-38"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"p_sign_posn       : </span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lc<span class="op" d__="">-&gt;</span>p_sign_posn<span class="op" d__="">);</span></span>
<span id="cb241-39" d__=""><a href="#cb241-39"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"p_sign_posn       : </span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lc<span class="op" d__="">-&gt;</span>p_sign_posn<span class="op" d__="">);</span></span>
<span id="cb241-40" d__=""><a href="#cb241-40"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"int_curr_symbol   : </span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lc<span class="op" d__="">-&gt;</span>int_curr_symbol<span class="op" d__="">);</span></span>
<span id="cb241-41" d__=""><a href="#cb241-41"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"int_frac_digits   : </span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lc<span class="op" d__="">-&gt;</span>int_frac_digits<span class="op" d__="">);</span></span>
<span id="cb241-42" d__=""><a href="#cb241-42"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"int_p_cs_precedes : </span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lc<span class="op" d__="">-&gt;</span>int_p_cs_precedes<span class="op" d__="">);</span></span>
<span id="cb241-43" d__=""><a href="#cb241-43"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"int_n_cs_precedes : </span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lc<span class="op" d__="">-&gt;</span>int_n_cs_precedes<span class="op" d__="">);</span></span>
<span id="cb241-44" d__=""><a href="#cb241-44"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"int_p_sep_by_space: </span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lc<span class="op" d__="">-&gt;</span>int_p_sep_by_space<span class="op" d__="">);</span></span>
<span id="cb241-45" d__=""><a href="#cb241-45"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"int_n_sep_by_space: </span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lc<span class="op" d__="">-&gt;</span>int_n_sep_by_space<span class="op" d__="">);</span></span>
<span id="cb241-46" d__=""><a href="#cb241-46"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"int_p_sign_posn   : </span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lc<span class="op" d__="">-&gt;</span>int_p_sign_posn<span class="op" d__="">);</span></span>
<span id="cb241-47" d__=""><a href="#cb241-47"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"int_n_sign_posn   : </span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lc<span class="op" d__="">-&gt;</span>int_n_sign_posn<span class="op" d__="">);</span></span>
<span id="cb241-48"><a href="#cb241-48"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output on my system:</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb242-1" d__=""><a href="#cb242-1" aria-hidden="true" tabindex="-1"></a>mon_decimal_point : .</span>
<span id="cb242-2" d__=""><a href="#cb242-2" aria-hidden="true" tabindex="-1"></a>mon_thousands_sep : ,</span>
<span id="cb242-3" d__=""><a href="#cb242-3" aria-hidden="true" tabindex="-1"></a>mon_grouping      : 3 3 0 </span>
<span id="cb242-4" d__=""><a href="#cb242-4" aria-hidden="true" tabindex="-1"></a>positive_sign     : </span>
<span id="cb242-5" d__=""><a href="#cb242-5" aria-hidden="true" tabindex="-1"></a>negative_sign     : -</span>
<span id="cb242-6" d__=""><a href="#cb242-6" aria-hidden="true" tabindex="-1"></a>currency_symbol   : $</span>
<span id="cb242-7" d__=""><a href="#cb242-7" aria-hidden="true" tabindex="-1"></a>frac_digits       : 2</span>
<span id="cb242-8" d__=""><a href="#cb242-8" aria-hidden="true" tabindex="-1"></a>p_cs_precedes     : 1</span>
<span id="cb242-9" d__=""><a href="#cb242-9" aria-hidden="true" tabindex="-1"></a>n_cs_precedes     : 1</span>
<span id="cb242-10" d__=""><a href="#cb242-10" aria-hidden="true" tabindex="-1"></a>p_sep_by_space    : 0</span>
<span id="cb242-11" d__=""><a href="#cb242-11" aria-hidden="true" tabindex="-1"></a>n_sep_by_space    : 0</span>
<span id="cb242-12" d__=""><a href="#cb242-12" aria-hidden="true" tabindex="-1"></a>p_sign_posn       : 1</span>
<span id="cb242-13" d__=""><a href="#cb242-13" aria-hidden="true" tabindex="-1"></a>p_sign_posn       : 1</span>
<span id="cb242-14" d__=""><a href="#cb242-14" aria-hidden="true" tabindex="-1"></a>int_curr_symbol   : USD </span>
<span id="cb242-15" d__=""><a href="#cb242-15" aria-hidden="true" tabindex="-1"></a>int_frac_digits   : 2</span>
<span id="cb242-16" d__=""><a href="#cb242-16" aria-hidden="true" tabindex="-1"></a>int_p_cs_precedes : 1</span>
<span id="cb242-17" d__=""><a href="#cb242-17" aria-hidden="true" tabindex="-1"></a>int_n_cs_precedes : 1</span>
<span id="cb242-18" d__=""><a href="#cb242-18" aria-hidden="true" tabindex="-1"></a>int_p_sep_by_space: 1</span>
<span id="cb242-19" d__=""><a href="#cb242-19" aria-hidden="true" tabindex="-1"></a>int_n_sep_by_space: 1</span>
<span id="cb242-20" d__=""><a href="#cb242-20" aria-hidden="true" tabindex="-1"></a>int_p_sign_posn   : 1</span>
<span id="cb242-21" d__=""><a href="#cb242-21" aria-hidden="true" tabindex="-1"></a>int_n_sign_posn   : 1</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-49" d__="">See Also</h3>
<p><a href="#man-setlocale"><code s__="13" d__="">setlocale()</code></a></p>
<!--
***
## `example()` {#man-example}

### Synopsis {.unnumbered .unlisted}

``` {.c}
```

### Description {.unnumbered .unlisted}

### Return Value {.unnumbered .unlisted}

### Example {.unnumbered .unlisted}

``` {.c .numberLines}
```

### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="13" id="math" d__=""><span class="header-section-number">13</span> <code>&lt;math.h&gt;</code> Mathematics</h1>
<p></p>
<p d__="">Many of the following functions have <code s__="13">float</code> and <code s__="13">long double</code> variants as described <a href="#func-idioms" d__="">below</a> (e.g.&nbsp;<code s__="13">pow()</code>, <code s__="13">powf()</code>, <code s__="13">powl()</code>). The <code s__="13">float</code> and <code s__="13">long double</code> variants are omitted from the following table to keep your eyeballs from melting out.</p>
<table>
<colgroup>
<col style="width: 26%">
<col style="width: 73%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Function</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#man-acos"><code s__="13" d__="">acos()</code></a></td>
<td d__="">Calculate the arc cosine of a number.</td>
</tr>
<tr class="even">
<td><a href="#man-acosh"><code s__="13" d__="">acosh()</code></a></td>
<td d__="">Compute arc hyperbolic cosine.</td>
</tr>
<tr class="odd">
<td><a href="#man-asin"><code s__="13" d__="">asin()</code></a></td>
<td d__="">Calculate the arc sine of a number.</td>
</tr>
<tr class="even">
<td><a href="#man-asinh"><code s__="13" d__="">asinh()</code></a></td>
<td d__="">Compute arc hyperbolic sine.</td>
</tr>
<tr class="odd">
<td d__=""><a href="#man-atan"><code s__="13" d__="">atan()</code></a>, <a href="#man-atan"><code s__="13" d__="">atan2()</code></a></td>
<td d__="">Calculate the arc tangent of a number.</td>
</tr>
<tr class="even">
<td><a href="#man-atanh"><code s__="13" d__="">atanh()</code></a></td>
<td d__="">Compute the arc hyperbolic tangent.</td>
</tr>
<tr class="odd">
<td><a href="#man-cbrt"><code s__="13" d__="">cbrt()</code></a></td>
<td d__="">Compute the cube root.</td>
</tr>
<tr class="even">
<td><a href="#man-ceil"><code s__="13" d__="">ceil()</code></a></td>
<td d__="">Ceiling—return the next whole number not smaller than the given number.</td>
</tr>
<tr class="odd">
<td><a href="#man-copysign"><code s__="13" d__="">copysign()</code></a></td>
<td d__="">Copy the sign of one value into another.</td>
</tr>
<tr class="even">
<td><a href="#man-cos"><code s__="13" d__="">cos()</code></a></td>
<td d__="">Calculate the cosine of a number.</td>
</tr>
<tr class="odd">
<td><a href="#man-cosh"><code s__="13" d__="">cosh()</code></a></td>
<td d__="">Compute the hyperbolic cosine.</td>
</tr>
<tr class="even">
<td><a href="#man-erf"><code s__="13" d__="">erf()</code></a></td>
<td d__="">Compute the error function of the given value.</td>
</tr>
<tr class="odd">
<td><a href="#man-erfc"><code s__="13" d__="">erfc()</code></a></td>
<td d__="">Compute the complementary error function of a value.</td>
</tr>
<tr class="even">
<td><a href="#man-exp"><code s__="13" d__="">exp()</code></a></td>
<td d__="">Compute <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="41"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi></math></mjx-assistive-mml></mjx-container></span> raised to a power.</td>
</tr>
<tr class="odd">
<td><a href="#man-exp2"><code s__="13" d__="">exp2()</code></a></td>
<td d__="">Compute 2 to a power.</td>
</tr>
<tr class="even">
<td><a href="#man-expm1"><code s__="13" d__="">expm1()</code></a></td>
<td d__="">Compute <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="42"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msup><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.363em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msup><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="3"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>e</mi><mi s__="13">x</mi></msup><mo>−</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container></span>.</td>
</tr>
<tr class="odd">
<td><a href="#man-fabs"><code s__="13" d__="">fabs()</code></a></td>
<td d__="">Compute the absolute value.</td>
</tr>
<tr class="even">
<td><a href="#man-fdim"><code s__="13" d__="">fdim()</code></a></td>
<td d__="">Return the positive difference between two numbers clamped at 0.</td>
</tr>
<tr class="odd">
<td><a href="#man-floor"><code s__="13" d__="">floor()</code></a></td>
<td d__="">Compute the largest whole number not larger than the given value.</td>
</tr>
<tr class="even">
<td><a href="#man-fma"><code s__="13" d__="">fma()</code></a></td>
<td d__="">Floating (AKA “Fast”) multiply and add.</td>
</tr>
<tr class="odd">
<td d__=""><a href="#man-fmax"><code s__="13" d__="">fmax()</code></a>, <a href="#man-fmax"><code s__="13" d__="">fmin()</code></a></td>
<td d__="">Return the maximum or minimum of two numbers.</td>
</tr>
<tr class="even">
<td><a href="#man-fmod"><code s__="13" d__="">fmod()</code></a></td>
<td d__="">Compute the floating point remainder.</td>
</tr>
<tr class="odd">
<td><a href="#man-fpclassify"><code s__="13" d__="">fpclassify()</code></a></td>
<td d__="">Return the classification of a given floating point number.</td>
</tr>
<tr class="even">
<td><a href="#man-frexp"><code s__="13" d__="">frexp()</code></a></td>
<td d__="">Break a number into its fraction part and exponent (as a power of 2).</td>
</tr>
<tr class="odd">
<td><a href="#man-hypot"><code s__="13" d__="">hypot()</code></a></td>
<td d__="">Compute the length of the hypotenuse of a triangle.</td>
</tr>
<tr class="even">
<td><a href="#man-ilogb"><code s__="13" d__="">ilogb()</code></a></td>
<td d__="">Return the exponent of a floating point number.</td>
</tr>
<tr class="odd">
<td><a href="#man-isnan"><code s__="13" d__="">isfinite()</code></a></td>
<td d__="">True if the number is not infinite or NaN.</td>
</tr>
<tr class="even">
<td><a href="#man-isgreater"><code s__="13" d__="">isgreater()</code></a></td>
<td d__="">True if one argument is greater than another.</td>
</tr>
<tr class="odd">
<td><a href="#man-isgreater"><code s__="13" d__="">isgreatereequal()</code></a></td>
<td d__="">True if one argument is greater than or equal to another.</td>
</tr>
<tr class="even">
<td><a href="#man-isnan"><code s__="13" d__="">isinf()</code></a></td>
<td d__="">True if the number is infinite.</td>
</tr>
<tr class="odd">
<td><a href="#man-isgreater"><code s__="13" d__="">isless()</code></a></td>
<td d__="">True if one argument is less than another.</td>
</tr>
<tr class="even">
<td><a href="#man-isgreater"><code s__="13" d__="">islesseequal()</code></a></td>
<td d__="">True if one argument is less than or equal to another.</td>
</tr>
<tr class="odd">
<td><a href="#man-islessgreater"><code s__="13" d__="">islessgreater()</code></a></td>
<td d__="">Test if a floating point number is less than or greater than another.</td>
</tr>
<tr class="even">
<td><a href="#man-isnan"><code s__="13" d__="">isnan()</code></a></td>
<td d__="">True if the number is Not-a-Number.</td>
</tr>
<tr class="odd">
<td><a href="#man-isnan"><code s__="13" d__="">isnormal()</code></a></td>
<td d__="">True if the number is normal.</td>
</tr>
<tr class="even">
<td><a href="#man-isunordered"><code s__="13" d__="">isunordered()</code></a></td>
<td d__="">Macro returns true if either floating point argument is NaN.</td>
</tr>
<tr class="odd">
<td><a href="#man-ldexp"><code s__="13" d__="">ldexp()</code></a></td>
<td d__="">Multiply a number by an integral power of 2.</td>
</tr>
<tr class="even">
<td><a href="#man-lgamma"><code s__="13" d__="">lgamma()</code></a></td>
<td d__="">Compute the natural logarithm of the absolute value of <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="43"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-n"><mjx-c class="mjx-c393"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi mathvariant="normal">Γ</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container></span>.</td>
</tr>
<tr class="odd">
<td><a href="#man-log"><code s__="13" d__="">log()</code></a></td>
<td d__="">Compute the natural logarithm.</td>
</tr>
<tr class="even">
<td><a href="#man-log10"><code s__="13" d__="">log10()</code></a></td>
<td d__="">Compute the log-base-10 of a number.</td>
</tr>
<tr class="odd">
<td><a href="#man-log2"><code s__="13" d__="">log2()</code></a></td>
<td d__="">Compute the base-2 logarithm of a number.</td>
</tr>
<tr class="even">
<td><a href="#man-logb"><code s__="13" d__="">logb()</code></a></td>
<td d__="">Extract the exponent of a number given <code s__="13">FLT_RADIX</code>.</td>
</tr>
<tr class="odd">
<td><a href="#man-log1p"><code s__="13" d__="">log1p()</code></a></td>
<td d__="">Compute the natural logarithm of a number plus 1.</td>
</tr>
<tr class="even">
<td><a href="#man-lrint"><code s__="13" d__="">lrint()</code></a></td>
<td d__="">Returns <code s__="13">x</code> rounded in the current rounding direction as an integer.</td>
</tr>
<tr class="odd">
<td d__=""><a href="#man-lround"><code s__="13" d__="">lround()</code></a>, <a href="#man-lround"><code s__="13" d__="">llround()</code></a></td>
<td d__="">Round a number in the good old-fashioned way, returning an integer.</td>
</tr>
<tr class="even">
<td><a href="#man-modf"><code s__="13" d__="">modf()</code></a></td>
<td d__="">Extract the integral and fractional parts of a number.</td>
</tr>
<tr class="odd">
<td><a href="#man-nan"><code s__="13" d__="">nan()</code></a></td>
<td d__="">Return <code s__="13">NAN</code>.</td>
</tr>
<tr class="even">
<td><a href="#man-nearbyint"><code s__="13" d__="">nearbyint()</code></a></td>
<td d__="">Rounds a value in the current rounding direction.</td>
</tr>
<tr class="odd">
<td><a href="#man-nextafter"><code s__="13" d__="">nextafter()</code></a></td>
<td d__="">Get the next (or previous) representable floating point value.</td>
</tr>
<tr class="even">
<td><a href="#man-nexttoward"><code s__="13" d__="">nexttoward()</code></a></td>
<td d__="">Get the next (or previous) representable floating point value.</td>
</tr>
<tr class="odd">
<td><a href="#man-pow"><code s__="13" d__="">pow()</code></a></td>
<td d__="">Compute a value raised to a power.</td>
</tr>
<tr class="even">
<td><a href="#man-remainder"><code s__="13" d__="">remainder()</code></a></td>
<td d__="">Compute the remainder IEC 60559-style.</td>
</tr>
<tr class="odd">
<td><a href="#man-remquo"><code s__="13" d__="">remquo()</code></a></td>
<td d__="">Compute the remainder and (some of the) quotient.</td>
</tr>
<tr class="even">
<td><a href="#man-rint"><code s__="13" d__="">rint()</code></a></td>
<td d__="">Rounds a value in the current rounding direction.</td>
</tr>
<tr class="odd">
<td><a href="#man-round"><code s__="13" d__="">round()</code></a></td>
<td d__="">Round a number in the good old-fashioned way.</td>
</tr>
<tr class="even">
<td d__=""><a href="#man-scalb"><code s__="13" d__="">scalbn()</code></a>, <a href="#man-scalb"><code s__="13" d__="">scalbln()</code></a></td>
<td d__="">Efficiently compute <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="44"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-cD7"></mjx-c></mjx-mo><mjx-msup space="3"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45F TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.363em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>×</mo><msup><mi>r</mi><mi s__="13">n</mi></msup></math></mjx-assistive-mml></mjx-container></span>, where <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="45"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45F TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi></math></mjx-assistive-mml></mjx-container></span> is <code s__="13">FLT_RADIX</code>.</td>
</tr>
<tr class="odd">
<td><a href="#man-signbit"><code s__="13" d__="">signbit()</code></a></td>
<td d__="">Return the sign of a number.</td>
</tr>
<tr class="even">
<td><a href="#man-sin"><code s__="13" d__="">sin()</code></a></td>
<td d__="">Calculate the sine of a number.</td>
</tr>
<tr class="odd">
<td><a href="#man-sqrt"><code s__="13" d__="">sqrt()</code></a></td>
<td d__="">Calculate the square root of a number.</td>
</tr>
<tr class="even">
<td><a href="#man-tan"><code s__="13" d__="">tan()</code></a></td>
<td d__="">Calculate the tangent of a number.</td>
</tr>
<tr class="odd">
<td><a href="#man-tanh"><code s__="13" d__="">tanh()</code></a></td>
<td d__="">Compute the hyperbolic tangent.</td>
</tr>
<tr class="even">
<td><a href="#man-tgamma"><code s__="13" d__="">tgamma()</code></a></td>
<td d__="">Compute the gamma function, <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="46"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-n"><mjx-c class="mjx-c393"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi mathvariant="normal">Γ</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container></span>.</td>
</tr>
<tr class="odd">
<td><a href="#man-trunc"><code s__="13" d__="">trunc()</code></a></td>
<td d__="">Truncate the fractional part off a floating point value.</td>
</tr>
</tbody>
</table>
<p d__="">It’s your favorite subject: Mathematics! Hello, I’m Doctor Math, and I’ll be making math FUN and EASY!</p>
<p><em d__="">[vomiting sounds]</em></p>
<p d__="">Ok, I know math isn’t the grandest thing for some of you out 
there, but these are merely functions that quickly and easily do math 
you either know, want, or just don’t care about. That pretty much covers
 it.</p>
<h2 data-number="13.1" id="func-idioms" d__=""><span class="header-section-number">13.1</span> Math Function Idioms</h2>
<p d__="">Many of these math functions exist in three forms, each corresponding to the argument and/or return types the function uses, <code s__="13">float</code>, <code s__="13">double</code>, or <code s__="13">long double</code>.</p>
<p d__="">The alternate form for <code s__="13">float</code> is made by appending <code s__="13">f</code> to the end of the function name.</p>
<p d__="">The alternate form for <code s__="13">long double</code> is made by appending <code s__="13">l</code> to the end of the function name.</p>
<p d__="">For example, the <code s__="13">pow()</code> function, which computes <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="47"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msup><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.363em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>x</mi><mi s__="13">y</mi></msup></math></mjx-assistive-mml></mjx-container></span>, exists in these forms:</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb243-1" d__=""><a href="#cb243-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span>      pow<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">double</span> y<span class="op" d__="">);</span>             <span class="co" d__="">// double</span></span>
<span id="cb243-2" d__=""><a href="#cb243-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span>       powf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">,</span> <span class="dt" d__="">float</span> y<span class="op" d__="">);</span>              <span class="co" d__="">// float</span></span>
<span id="cb243-3" d__=""><a href="#cb243-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> powl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> y<span class="op" d__="">);</span>  <span class="co" d__="">// long double</span></span></code></pre></div>
<p d__="">Remember that parameters are given values as if you assigned into them. So if you pass a <code s__="13">double</code> to <code s__="13">powf()</code>, it’ll choose the closest <code s__="13">float</code> it can to hold the double. If the <code s__="13">double</code> doesn’t fit, undefined behavior happens.</p>
<h2 data-number="13.2" id="math-types" d__=""><span class="header-section-number">13.2</span> Math Types</h2>
<p d__="">We have two exciting new types in <code s__="13">&lt;math.h&gt;</code>:</p>
<ul>
<li> <code s__="13" d__="">float_t</code></li>
<li> <code s__="13" d__="">double_t</code></li>
</ul>
<p d__="">The <code s__="13">float_t</code> type is at least as accurate as a <code s__="13">float</code>, and the <code s__="13">double_t</code> type is at least as accurate as a <code s__="13">double</code>.</p>
<p d__="">The idea with these types is they can represent the most efficient way of storing numbers for maximum speed.</p>
<p d__="">Their actual types vary by implementation, but can be determined by the value of the <code s__="13">FLT_EVAL_METHOD</code> macro.</p>
<table>
<thead>
<tr class="header">
<th><code s__="13" d__="">FLT_EVAL_METHOD</code></th>
<th d__=""><code s__="13">float_t</code> type</th>
<th d__=""><code s__="13">double_t</code> type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">0</code></td>
<td><code s__="13" d__="">float</code></td>
<td><code s__="13" d__="">double</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">1</code></td>
<td><code s__="13" d__="">double</code></td>
<td><code s__="13" d__="">double</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">2</code></td>
<td><code s__="13" d__="">long double</code></td>
<td><code s__="13" d__="">long double</code></td>
</tr>
<tr class="even">
<td d__="">Other</td>
<td d__="">Implementation-defined</td>
<td d__="">Implementation-defined</td>
</tr>
</tbody>
</table>
<p d__="">For all defined values of <code s__="13">FLT_EVAL_METHOD</code>, <code s__="13">float_t</code> is the least-precise type used for all floating calculations.</p>
<h2 data-number="13.3" id="math-macros" d__=""><span class="header-section-number">13.3</span> Math Macros</h2>
<p d__="">There are actually a number of these defined, but we’ll cover most of them in their relevant reference sections, below.</p>
<p d__="">But here are a couple:</p>
<p></p>
<p d__=""><code s__="13">NAN</code> represents Not-A-Number.</p>
<p d__="">Defined in <code s__="13">&lt;float.h&gt;</code> is <code s__="13">FLT_RADIX</code>: the number base used by floating point numbers. This is commonly <code s__="13">2</code>, but could be anything.</p>
<h2 data-number="13.4" id="math-errors" d__=""><span class="header-section-number">13.4</span> Math Errors</h2>
<p d__="">As we know, nothing can ever go wrong with math… except <em>everything</em>!</p>
<p d__="">So there are just a couple errors that might occur when using some of these functions.</p>
<ul>
<li><p d__=""><strong>Range errors</strong> mean that some result is beyond what can be stored in the result type.</p></li>
<li><p d__=""><strong>Domain errors</strong> mean that you’ve passed in an argument that doesn’t have a defined result for this function.</p></li>
<li><p d__=""><strong>Pole errors</strong> mean that the limit of the function as <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="48"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></mjx-assistive-mml></mjx-container></span> approaches the given argument is infinite.</p></li>
<li><p d__=""><strong>Overflow errors</strong> are when the result is really large, but can’t be stored without incurring large roundoff error.</p></li>
<li><p d__=""><strong>Underflow errors</strong> are like overflow errors, except with very small numbers.</p></li>
</ul>
<p d__="">Now, the C math library can do a couple things when these errors occur:</p>
<ul>
<li d__="">Set <code s__="13">errno</code> to some value, or…</li>
<li d__="">Raise a floating point exception.</li>
</ul>
<p d__="">Your system might vary on what happens. You can check it by looking at the value of the variable <code s__="13">math_errhandling</code>. It will be equivalent to one of the following<a href="#fn22" class="footnote-ref" id="fnref22" role="doc-noteref"><sup s__="13" d__="">22</sup></a>:</p>
<p> </p>
<table>
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th><code s__="13" d__="">math_errhandling</code></th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">MATH_ERRNO</code></td>
<td d__="">The system uses <code s__="13">errno</code> for math errors.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">MATH_ERREXCEPT</code></td>
<td d__="">The system uses exceptions for math errors.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">MATH_ERRNO | MATH_ERREXCEPT</code></td>
<td d__="">The system does both! (That’s a bitwise-OR!)</td>
</tr>
</tbody>
</table>
<p d__="">You are not allowed to change <code s__="13">math_errhandling</code>.</p>
<p d__="">For a fuller description on how exceptions work and their meanings, see the <a href="#fenv"><code s__="13" d__="">&lt;fenv.h&gt;</code></a> section.</p>
<h2 data-number="13.5" id="math-pragmas" d__=""><span class="header-section-number">13.5</span> Math Pragmas</h2>
<p d__="">In a nutshell, pragmas offer various ways to control the 
compiler’s behavior. In this case, we’re talking about controlling how 
C’s math library works.</p>
<p d__="">In specific, we have a pragma <code s__="13">FP_CONTRACT</code> that can be turned off and on.</p>
<p d__="">What does it mean?</p>
<p d__="">First of all, keep in mind that any operation in an expression
 can cause rounding error. So each step of the expression can introduce 
more rounding error.</p>
<p d__="">But what if the compiler knows a <em>double secret</em> way of
 taking the expression you wrote and converting it to a single 
instruction that reduced the number of steps such that the intermediate 
rounding error didn’t occur?</p>
<p d__="">Could it use it? I mean, the results would be different than if you let the rounding error settle each step of the way…</p>
<p d__="">Because the results would be different, you can tell the compiler if you want to allow it to do this or not.</p>
<p d__="">If you want to allow it:</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb244-1"><a href="#cb244-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#pragma STDC FP_CONTRACT ON</span></span></code></pre></div>
<p d__="">and to disallow it:</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb245-1"><a href="#cb245-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#pragma STDC FP_CONTRACT OFF</span></span></code></pre></div>
<p d__="">If you do this at global scope, it stays at whatever state you set it to until you change it.</p>
<p d__="">If you do it at block scope, it reverts to the value outside the block when the block ends.</p>
<p d__="">The initial value of the <code s__="13">FP_CONTRACT</code> pragma varies from system to system.</p>
<hr>
<h2 data-number="13.6" id="man-fpclassify"><span class="header-section-number" d__="">13.6</span> <code d__="">fpclassify()</code></h2>
<p></p>
<p d__="">Return the classification of a given floating point number.</p>
<h3 class="unnumbered unlisted" id="synopsis-54" d__="">Synopsis</h3>
<div class="sourceCode" id="cb246"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb246-1"><a href="#cb246-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb246-2"><a href="#cb246-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb246-3" d__=""><a href="#cb246-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> fpclassify<span class="op" d__="">(</span>any_floating_type x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-54" d__="">Description</h3>
<p d__="">What kind of entity does this floating point number represent? What are the options?</p>
<p d__="">We’re used to floating point numbers being regular old things like <code s__="13">3.14</code> or <code s__="13">3490.0001</code>.</p>
<p d__="">But floating point numbers can also represent things like 
infinity. Or Not-A-Number (NAN). This function will let you know which 
type of floating point number the argument is.</p>
<p d__="">This is a macro, so you can use it with <code s__="13">float</code>, <code s__="13">double</code>, <code s__="13">long double</code> or anything similar.</p>
<h3 class="unnumbered unlisted" id="return-value-53" d__="">Return Value</h3>
<p d__="">Returns one of these macros depending on the argument’s classification:</p>
<table>
<thead>
<tr class="header">
<th d__="">Classification</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">FP_INFINITE</code></td>
<td d__="">Number is infinite.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">FP_NAN</code></td>
<td d__="">Number is Not-A-Number (NAN).</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">FP_NORMAL</code></td>
<td d__="">Just a regular number.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">FP_SUBNORMAL</code></td>
<td d__="">Number is a sub-normal number.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">FP_ZERO</code></td>
<td d__="">Number is zero.</td>
</tr>
</tbody>
</table>
<p d__="">A discussion of subnormal numbers is beyond the scope of the 
guide, and is something that most devs go their whole lives without 
dealing with. In a nutshell, it’s a way to represent really small 
numbers that might normally round down to zero. If you want to know 
more, see the Wikipedia page on <a href="https://en.wikipedia.org/wiki/Denormal_number" d__="">denormal numbers</a><a href="#fn23" class="footnote-ref" id="fnref23" role="doc-noteref"><sup s__="13" d__="">23</sup></a>.</p>
<h3 class="unnumbered unlisted" id="example-54" d__="">Example</h3>
<p d__="">Print various number classifications.</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb247-1"><a href="#cb247-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb247-2"><a href="#cb247-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb247-3"><a href="#cb247-3"></a></span>
<span id="cb247-4" d__=""><a href="#cb247-4"></a><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>get_classification<span class="op" d__="">(</span><span class="dt" d__="">double</span> n<span class="op" d__="">)</span></span>
<span id="cb247-5"><a href="#cb247-5"></a><span class="op" d__="">{</span></span>
<span id="cb247-6" d__=""><a href="#cb247-6"></a>    <span class="cf" d__="">switch</span> <span class="op" d__="">(</span>fpclassify<span class="op" d__="">(</span>n<span class="op" d__="">))</span> <span class="op" d__="">{</span></span>
<span id="cb247-7" d__=""><a href="#cb247-7"></a>        <span class="cf" d__="">case</span> FP_INFINITE<span class="op" d__="">:</span> <span class="cf" d__="">return</span> <span class="st" d__="">"infinity"</span><span class="op" d__="">;</span></span>
<span id="cb247-8" d__=""><a href="#cb247-8"></a>        <span class="cf" d__="">case</span> FP_NAN<span class="op" d__="">:</span> <span class="cf" d__="">return</span> <span class="st" d__="">"not a number"</span><span class="op" d__="">;</span></span>
<span id="cb247-9" d__=""><a href="#cb247-9"></a>        <span class="cf" d__="">case</span> FP_NORMAL<span class="op" d__="">:</span> <span class="cf" d__="">return</span> <span class="st" d__="">"normal"</span><span class="op" d__="">;</span></span>
<span id="cb247-10" d__=""><a href="#cb247-10"></a>        <span class="cf" d__="">case</span> FP_SUBNORMAL<span class="op" d__="">:</span> <span class="cf" d__="">return</span> <span class="st" d__="">"subnormal"</span><span class="op" d__="">;</span></span>
<span id="cb247-11" d__=""><a href="#cb247-11"></a>        <span class="cf" d__="">case</span> FP_ZERO<span class="op" d__="">:</span> <span class="cf" d__="">return</span> <span class="st" d__="">"zero"</span><span class="op" d__="">;</span></span>
<span id="cb247-12"><a href="#cb247-12"></a>    <span class="op" d__="">}</span></span>
<span id="cb247-13"><a href="#cb247-13"></a></span>
<span id="cb247-14"><a href="#cb247-14"></a>    <span class="cf" d__="">return</span> <span class="st" d__="">"unknown"</span><span class="op" d__="">;</span></span>
<span id="cb247-15"><a href="#cb247-15"></a><span class="op" d__="">}</span></span>
<span id="cb247-16"><a href="#cb247-16"></a> </span>
<span id="cb247-17" d__=""><a href="#cb247-17"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb247-18"><a href="#cb247-18"></a><span class="op" d__="">{</span></span>
<span id="cb247-19" d__=""><a href="#cb247-19"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"    1.23: </span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> get_classification<span class="op" d__="">(</span><span class="fl" d__="">1.23</span><span class="op" d__="">));</span></span>
<span id="cb247-20" d__=""><a href="#cb247-20"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"     0.0: </span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> get_classification<span class="op" d__="">(</span><span class="fl" d__="">0.0</span><span class="op" d__="">));</span></span>
<span id="cb247-21" d__=""><a href="#cb247-21"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"sqrt(-1): </span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> get_classification<span class="op" d__="">(</span>sqrt<span class="op" d__="">(-</span><span class="dv" d__="">1</span><span class="op" d__="">)));</span></span>
<span id="cb247-22" d__=""><a href="#cb247-22"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"1/tan(0): </span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> get_classification<span class="op" d__="">(</span><span class="dv" d__="">1</span><span class="op" d__="">/</span>tan<span class="op" d__="">(</span><span class="dv" d__="">0</span><span class="op" d__="">)));</span></span>
<span id="cb247-23" d__=""><a href="#cb247-23"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"  1e-310: </span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> get_classification<span class="op" d__="">(</span><span class="fl" d__="">1e-310</span><span class="op" d__="">));</span>  <span class="co" d__="">// very small!</span></span>
<span id="cb247-24"><a href="#cb247-24"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output<a href="#fn24" class="footnote-ref" id="fnref24" role="doc-noteref"><sup s__="13" d__="">24</sup></a>:</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb248-1" d__=""><a href="#cb248-1" aria-hidden="true" tabindex="-1"></a>    1.23: normal</span>
<span id="cb248-2" d__=""><a href="#cb248-2" aria-hidden="true" tabindex="-1"></a>     0.0: zero</span>
<span id="cb248-3" d__=""><a href="#cb248-3" aria-hidden="true" tabindex="-1"></a>sqrt(-1): not a number</span>
<span id="cb248-4" d__=""><a href="#cb248-4" aria-hidden="true" tabindex="-1"></a>1/tan(0): infinity</span>
<span id="cb248-5" d__=""><a href="#cb248-5" aria-hidden="true" tabindex="-1"></a>  1e-310: subnormal</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-50" d__="">See Also</h3>
<p d__=""><a href="#man-isnan"><code s__="13" d__="">isfinite()</code></a>, <a href="#man-isnan"><code s__="13" d__="">isinf()</code></a>, <a href="#man-isnan"><code s__="13" d__="">isnan()</code></a>, <a href="#man-isnan"><code s__="13" d__="">isnormal()</code></a>, <a href="#man-signbit"><code s__="13" d__="">signbit()</code></a></p>
<hr>
<h2 data-number="13.7" id="man-isnan" d__=""><span class="header-section-number">13.7</span> <code>isfinite()</code>, <code>isinf()</code>, <code>isnan()</code>, <code>isnormal()</code></h2>
<p> </p>
<p d__="">Return true if a number matches a classification.</p>
<h3 class="unnumbered unlisted" id="synopsis-55" d__="">Synopsis</h3>
<div class="sourceCode" id="cb249"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb249-1"><a href="#cb249-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb249-2"><a href="#cb249-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb249-3" d__=""><a href="#cb249-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> isfinite<span class="op" d__="">(</span>any_floating_type x<span class="op" d__="">);</span></span>
<span id="cb249-4"><a href="#cb249-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb249-5" d__=""><a href="#cb249-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> isinf<span class="op" d__="">(</span>any_floating_type x<span class="op" d__="">);</span></span>
<span id="cb249-6"><a href="#cb249-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb249-7" d__=""><a href="#cb249-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> isnan<span class="op" d__="">(</span>any_floating_type x<span class="op" d__="">);</span></span>
<span id="cb249-8"><a href="#cb249-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb249-9" d__=""><a href="#cb249-9" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> isnormal<span class="op" d__="">(</span>any_floating_type x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-55" d__="">Description</h3>
<p d__="">These are helper macros to <code s__="13">fpclassify()</code>. Bring macros, they work on any floating point type.</p>
<table>
<thead>
<tr class="header">
<th d__="">Macro</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">isfinite()</code></td>
<td d__="">True if the number is not infinite or NaN.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">isinf()</code></td>
<td d__="">True if the number is infinite.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">isnan()</code></td>
<td d__="">True if the number is Not-a-Number.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">isnormal()</code></td>
<td d__="">True if the number is normal.</td>
</tr>
</tbody>
</table>
<p d__="">For more superficial discussion on normal and subnormal numbers, see <a href="#man-fpclassify"><code s__="13" d__="">fpclassify()</code></a>.</p>
<h3 class="unnumbered unlisted" id="return-value-54" d__="">Return Value</h3>
<p d__="">Returns non-zero for true, and zero for false.</p>
<h3 class="unnumbered unlisted" id="example-55" d__="">Example</h3>
<div class="sourceCode" id="cb250"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb250-1"><a href="#cb250-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb250-2"><a href="#cb250-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb250-3"><a href="#cb250-3"></a></span>
<span id="cb250-4" d__=""><a href="#cb250-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb250-5"><a href="#cb250-5"></a><span class="op" d__="">{</span></span>
<span id="cb250-6" d__=""><a href="#cb250-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"  isfinite(1.23): </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isfinite<span class="op" d__="">(</span><span class="fl" d__="">1.23</span><span class="op" d__="">));</span>    <span class="co" d__="">// 1</span></span>
<span id="cb250-7" d__=""><a href="#cb250-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">" isinf(1/tan(0)): </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isinf<span class="op" d__="">(</span><span class="dv" d__="">1</span><span class="op" d__="">/</span>tan<span class="op" d__="">(</span><span class="dv" d__="">0</span><span class="op" d__="">)));</span>   <span class="co" d__="">// 1</span></span>
<span id="cb250-8" d__=""><a href="#cb250-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">" isnan(sqrt(-1)): </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isnan<span class="op" d__="">(</span>sqrt<span class="op" d__="">(-</span><span class="dv" d__="">1</span><span class="op" d__="">)));</span>   <span class="co" d__="">// 1</span></span>
<span id="cb250-9" d__=""><a href="#cb250-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"isnormal(1e-310): </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isnormal<span class="op" d__="">(</span><span class="fl" d__="">1e-310</span><span class="op" d__="">));</span>  <span class="co" d__="">// 0</span></span>
<span id="cb250-10"><a href="#cb250-10"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-51" d__="">See Also</h3>
<p d__=""><a href="#man-fpclassify"><code s__="13" d__="">fpclassify()</code></a>, <a href="#man-signbit"><code s__="13" d__="">signbit()</code></a>,</p>
<hr>
<h2 data-number="13.8" id="man-signbit"><span class="header-section-number" d__="">13.8</span> <code d__="">signbit()</code></h2>
<p></p>
<p d__="">Return the sign of a number.</p>
<h3 class="unnumbered unlisted" id="synopsis-56" d__="">Synopsis</h3>
<div class="sourceCode" id="cb251"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb251-1"><a href="#cb251-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb251-2"><a href="#cb251-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-3" d__=""><a href="#cb251-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> signbit<span class="op" d__="">(</span>any_floating_type x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-56" d__="">Description</h3>
<p d__="">This macro takes any floating point number and returns a value indicating the sign of the number, positive or negative.</p>
<h3 class="unnumbered unlisted" id="return-value-55" d__="">Return Value</h3>
<p d__="">Returns <code s__="13">1</code> if the sign is negative, otherwise <code s__="13">0</code>.</p>
<h3 class="unnumbered unlisted" id="example-56" d__="">Example</h3>
<div class="sourceCode" id="cb252"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb252-1"><a href="#cb252-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb252-2"><a href="#cb252-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb252-3"><a href="#cb252-3"></a></span>
<span id="cb252-4" d__=""><a href="#cb252-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb252-5"><a href="#cb252-5"></a><span class="op" d__="">{</span></span>
<span id="cb252-6" d__=""><a href="#cb252-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> signbit<span class="op" d__="">(</span><span class="fl" d__="">3490.0</span><span class="op" d__="">));</span>  <span class="co" d__="">// 0</span></span>
<span id="cb252-7" d__=""><a href="#cb252-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> signbit<span class="op" d__="">(-</span><span class="fl" d__="">37.0</span><span class="op" d__="">));</span>   <span class="co" d__="">// 1</span></span>
<span id="cb252-8"><a href="#cb252-8"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-52" d__="">See Also</h3>
<p d__=""><a href="#man-fpclassify"><code s__="13" d__="">fpclassify()</code></a>, <a href="#man-isnan"><code s__="13" d__="">isfinite()</code></a>, <a href="#man-isnan"><code s__="13" d__="">isinf()</code></a>, <a href="#man-isnan"><code s__="13" d__="">isnan()</code></a>, <a href="#man-isnan"><code s__="13" d__="">isnormal()</code></a>, <a href="#man-copysign"><code s__="13" d__="">copysign()</code></a></p>
<hr>
<h2 data-number="13.9" id="man-acos" d__=""><span class="header-section-number">13.9</span> <code>acos()</code>, <code>acosf()</code>, <code>acosl()</code></h2>
<p> </p>
<p d__="">Calculate the arc cosine of a number.</p>
<h3 class="unnumbered unlisted" id="synopsis-57" d__="">Synopsis</h3>
<div class="sourceCode" id="cb253"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb253-1"><a href="#cb253-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb253-2"><a href="#cb253-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb253-3" d__=""><a href="#cb253-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> acos<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb253-4" d__=""><a href="#cb253-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> acosf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb253-5" d__=""><a href="#cb253-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> acosl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-57" d__="">Description</h3>
<p d__="">Calculates the arc cosine of a number in radians. (That is, the value whose cosine is <code s__="13">x</code>.) The number must be in the range -1.0 to 1.0.</p>
<p d__="">For those of you who don’t remember, radians are another way 
of measuring an angle, just like degrees. To convert from degrees to 
radians or the other way around, use the following code:</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb254-1" d__=""><a href="#cb254-1" aria-hidden="true" tabindex="-1"></a>pi <span class="op" d__="">=</span> <span class="fl" d__="">3.14159265358979</span><span class="op" d__="">;</span></span>
<span id="cb254-2" d__=""><a href="#cb254-2" aria-hidden="true" tabindex="-1"></a>degrees <span class="op" d__="">=</span> radians <span class="op" d__="">*</span> <span class="dv" d__="">180</span> <span class="op" d__="">/</span> pi<span class="op" d__="">;</span></span>
<span id="cb254-3" d__=""><a href="#cb254-3" aria-hidden="true" tabindex="-1"></a>radians <span class="op" d__="">=</span> degrees <span class="op" d__="">*</span> pi <span class="op" d__="">/</span> <span class="dv" d__="">180</span><span class="op" d__="">;</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="return-value-56" d__="">Return Value</h3>
<p d__="">Returns the arc cosine of <code s__="13">x</code>, unless <code s__="13">x</code> is out of range. In that case, <code s__="13">errno</code> will be set to EDOM and the return value will be NaN. The variants return different types.</p>
<h3 class="unnumbered unlisted" id="example-57" d__="">Example</h3>
<div class="sourceCode" id="cb255"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb255-1"><a href="#cb255-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb255-2"><a href="#cb255-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb255-3"><a href="#cb255-3"></a></span>
<span id="cb255-4" d__=""><a href="#cb255-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb255-5"><a href="#cb255-5"></a><span class="op" d__="">{</span></span>
<span id="cb255-6" d__=""><a href="#cb255-6"></a>    <span class="dt" d__="">double</span> acosx<span class="op" d__="">;</span></span>
<span id="cb255-7" d__=""><a href="#cb255-7"></a>    <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> ldacosx<span class="op" d__="">;</span></span>
<span id="cb255-8"><a href="#cb255-8"></a></span>
<span id="cb255-9" d__=""><a href="#cb255-9"></a>    acosx <span class="op" d__="">=</span> acos<span class="op" d__="">(</span><span class="fl" d__="">0.2</span><span class="op" d__="">);</span></span>
<span id="cb255-10" d__=""><a href="#cb255-10"></a>    ldacosx <span class="op" d__="">=</span> acosl<span class="op" d__="">(</span><span class="fl" d__="">0.3</span><span class="bu" d__="">L</span><span class="op" d__="">);</span></span>
<span id="cb255-11"><a href="#cb255-11"></a></span>
<span id="cb255-12" d__=""><a href="#cb255-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> acosx<span class="op" d__="">);</span></span>
<span id="cb255-13" d__=""><a href="#cb255-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%Lf\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ldacosx<span class="op" d__="">);</span></span>
<span id="cb255-14"><a href="#cb255-14"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-53" d__="">See Also</h3>
<p d__=""><a href="#man-asin"><code s__="13" d__="">asin()</code></a>, <a href="#man-atan"><code s__="13" d__="">atan()</code></a>, <a href="#man-atan"><code s__="13" d__="">atan2()</code></a>, <a href="#man-cos"><code s__="13" d__="">cos()</code></a></p>
<hr>
<h2 data-number="13.10" id="man-asin" d__=""><span class="header-section-number">13.10</span> <code>asin()</code>, <code>asinf()</code>, <code>asinl()</code></h2>
<p> </p>
<p d__="">Calculate the arc sine of a number.</p>
<h3 class="unnumbered unlisted" id="synopsis-58" d__="">Synopsis</h3>
<div class="sourceCode" id="cb256"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb256-1"><a href="#cb256-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb256-2"><a href="#cb256-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb256-3" d__=""><a href="#cb256-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> asin<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb256-4" d__=""><a href="#cb256-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> asinf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb256-5" d__=""><a href="#cb256-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> asinl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-58" d__="">Description</h3>
<p d__="">Calculates the arc sine of a number in radians. (That is, the value whose sine is <code s__="13">x</code>.) The number must be in the range -1.0 to 1.0.</p>
<p d__="">For those of you who don’t remember, radians are another way 
of measuring an angle, just like degrees. To convert from degrees to 
radians or the other way around, use the following code:</p>
<div class="sourceCode" id="cb257"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb257-1" d__=""><a href="#cb257-1" aria-hidden="true" tabindex="-1"></a>pi <span class="op" d__="">=</span> <span class="fl" d__="">3.14159265358979</span><span class="op" d__="">;</span></span>
<span id="cb257-2" d__=""><a href="#cb257-2" aria-hidden="true" tabindex="-1"></a>degrees <span class="op" d__="">=</span> radians <span class="op" d__="">*</span> <span class="dv" d__="">180</span> <span class="op" d__="">/</span> pi<span class="op" d__="">;</span></span>
<span id="cb257-3" d__=""><a href="#cb257-3" aria-hidden="true" tabindex="-1"></a>radians <span class="op" d__="">=</span> degrees <span class="op" d__="">*</span> pi <span class="op" d__="">/</span> <span class="dv" d__="">180</span><span class="op" d__="">;</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="return-value-57" d__="">Return Value</h3>
<p d__="">Returns the arc sine of <code s__="13">x</code>, unless <code s__="13">x</code> is out of range. In that case, <code s__="13">errno</code> will be set to EDOM and the return value will be NaN. The variants return different types.</p>
<h3 class="unnumbered unlisted" id="example-58" d__="">Example</h3>
<div class="sourceCode" id="cb258"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb258-1"><a href="#cb258-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb258-2"><a href="#cb258-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb258-3"><a href="#cb258-3"></a></span>
<span id="cb258-4" d__=""><a href="#cb258-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb258-5"><a href="#cb258-5"></a><span class="op" d__="">{</span></span>
<span id="cb258-6" d__=""><a href="#cb258-6"></a>    <span class="dt" d__="">double</span> asinx<span class="op" d__="">;</span></span>
<span id="cb258-7" d__=""><a href="#cb258-7"></a>    <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> ldasinx<span class="op" d__="">;</span></span>
<span id="cb258-8"><a href="#cb258-8"></a></span>
<span id="cb258-9" d__=""><a href="#cb258-9"></a>    asinx <span class="op" d__="">=</span> asin<span class="op" d__="">(</span><span class="fl" d__="">0.2</span><span class="op" d__="">);</span></span>
<span id="cb258-10" d__=""><a href="#cb258-10"></a>    ldasinx <span class="op" d__="">=</span> asinl<span class="op" d__="">(</span><span class="fl" d__="">0.3</span><span class="bu" d__="">L</span><span class="op" d__="">);</span></span>
<span id="cb258-11"><a href="#cb258-11"></a></span>
<span id="cb258-12" d__=""><a href="#cb258-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> asinx<span class="op" d__="">);</span></span>
<span id="cb258-13" d__=""><a href="#cb258-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%Lf\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ldasinx<span class="op" d__="">);</span></span>
<span id="cb258-14"><a href="#cb258-14"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-54" d__="">See Also</h3>
<p d__=""><a href="#man-acos"><code s__="13" d__="">acos()</code></a>, <a href="#man-atan"><code s__="13" d__="">atan()</code></a>, <a href="#man-atan"><code s__="13" d__="">atan2()</code></a>, <a href="#man-sin"><code s__="13" d__="">sin()</code></a></p>
<hr>
<h2 data-number="13.11" id="man-atan" d__=""><span class="header-section-number">13.11</span> <code>atan()</code>, <code>atanf()</code>, <code>atanl()</code>, <code>atan2()</code>, <code>atan2f()</code>, <code>atan2l()</code></h2>
<p> </p>
<p d__="">Calculate the arc tangent of a number.</p>
<h3 class="unnumbered unlisted" id="synopsis-59" d__="">Synopsis</h3>
<div class="sourceCode" id="cb259"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb259-1"><a href="#cb259-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb259-2"><a href="#cb259-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb259-3" d__=""><a href="#cb259-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> atan<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb259-4" d__=""><a href="#cb259-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> atanf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb259-5" d__=""><a href="#cb259-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> atanl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb259-6"><a href="#cb259-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb259-7" d__=""><a href="#cb259-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> atan2<span class="op" d__="">(</span><span class="dt" d__="">double</span> y<span class="op" d__="">,</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb259-8" d__=""><a href="#cb259-8" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> atan2f<span class="op" d__="">(</span><span class="dt" d__="">float</span> y<span class="op" d__="">,</span> <span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb259-9" d__=""><a href="#cb259-9" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> atan2l<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> y<span class="op" d__="">,</span> <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-59" d__="">Description</h3>
<p d__="">Calculates the arc tangent of a number in radians. (That is, the value whose tangent is <code s__="13">x</code>.)</p>
<p d__="">The <code s__="13">atan2()</code> variants are pretty much the same as using <code s__="13">atan()</code> with <code s__="13">y</code>/<code s__="13">x</code> as the argument…except that <code s__="13">atan2()</code> will use those values to determine the correct quadrant of the result.</p>
<p d__="">For those of you who don’t remember, radians are another way 
of measuring an angle, just like degrees. To convert from degrees to 
radians or the other way around, use the following code:</p>
<div class="sourceCode" id="cb260"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb260-1" d__=""><a href="#cb260-1" aria-hidden="true" tabindex="-1"></a>pi <span class="op" d__="">=</span> <span class="fl" d__="">3.14159265358979</span><span class="op" d__="">;</span></span>
<span id="cb260-2" d__=""><a href="#cb260-2" aria-hidden="true" tabindex="-1"></a>degrees <span class="op" d__="">=</span> radians <span class="op" d__="">*</span> <span class="dv" d__="">180</span> <span class="op" d__="">/</span> pi<span class="op" d__="">;</span></span>
<span id="cb260-3" d__=""><a href="#cb260-3" aria-hidden="true" tabindex="-1"></a>radians <span class="op" d__="">=</span> degrees <span class="op" d__="">*</span> pi <span class="op" d__="">/</span> <span class="dv" d__="">180</span><span class="op" d__="">;</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="return-value-58" d__="">Return Value</h3>
<p d__="">The <code s__="13">atan()</code> functions return the arc tangent of <code s__="13">x</code>, which will be between PI/2 and -PI/2. The <code s__="13">atan2()</code> functions return an angle between PI and -PI.</p>
<h3 class="unnumbered unlisted" id="example-59" d__="">Example</h3>
<div class="sourceCode" id="cb261"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb261-1"><a href="#cb261-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb261-2"><a href="#cb261-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb261-3"><a href="#cb261-3"></a></span>
<span id="cb261-4" d__=""><a href="#cb261-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb261-5"><a href="#cb261-5"></a><span class="op" d__="">{</span></span>
<span id="cb261-6" d__=""><a href="#cb261-6"></a>    <span class="dt" d__="">double</span> atanx<span class="op" d__="">;</span></span>
<span id="cb261-7" d__=""><a href="#cb261-7"></a>    <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> ldatanx<span class="op" d__="">;</span></span>
<span id="cb261-8"><a href="#cb261-8"></a></span>
<span id="cb261-9" d__=""><a href="#cb261-9"></a>    atanx <span class="op" d__="">=</span> atan<span class="op" d__="">(</span><span class="fl" d__="">0.7</span><span class="op" d__="">);</span></span>
<span id="cb261-10" d__=""><a href="#cb261-10"></a>    ldatanx <span class="op" d__="">=</span> atanl<span class="op" d__="">(</span><span class="fl" d__="">0.3</span><span class="bu" d__="">L</span><span class="op" d__="">);</span></span>
<span id="cb261-11"><a href="#cb261-11"></a></span>
<span id="cb261-12" d__=""><a href="#cb261-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> atanx<span class="op" d__="">);</span></span>
<span id="cb261-13" d__=""><a href="#cb261-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%Lf\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ldatanx<span class="op" d__="">);</span></span>
<span id="cb261-14"><a href="#cb261-14"></a></span>
<span id="cb261-15" d__=""><a href="#cb261-15"></a>    atanx <span class="op" d__="">=</span> atan2<span class="op" d__="">(</span><span class="dv" d__="">7</span><span class="op" d__="">,</span> <span class="dv" d__="">10</span><span class="op" d__="">);</span></span>
<span id="cb261-16" d__=""><a href="#cb261-16"></a>    ldatanx <span class="op" d__="">=</span> atan2l<span class="op" d__="">(</span><span class="dv" d__="">3</span><span class="bu" d__="">L</span><span class="op" d__="">,</span> <span class="dv" d__="">10</span><span class="bu" d__="">L</span><span class="op" d__="">);</span></span>
<span id="cb261-17"><a href="#cb261-17"></a></span>
<span id="cb261-18" d__=""><a href="#cb261-18"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> atanx<span class="op" d__="">);</span></span>
<span id="cb261-19" d__=""><a href="#cb261-19"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%Lf\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ldatanx<span class="op" d__="">);</span></span>
<span id="cb261-20"><a href="#cb261-20"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-55" d__="">See Also</h3>
<p d__=""><a href="#man-tan"><code s__="13" d__="">tan()</code></a>, <a href="#man-asin"><code s__="13" d__="">asin()</code></a>, <a href="#man-acos"><code s__="13" d__="">atan()</code></a></p>
<hr>
<h2 data-number="13.12" id="man-cos" d__=""><span class="header-section-number">13.12</span> <code>cos()</code>, <code>cosf()</code>, <code>cosl()</code></h2>
<p> </p>
<p d__="">Calculate the cosine of a number.</p>
<h3 class="unnumbered unlisted" id="synopsis-60" d__="">Synopsis</h3>
<div class="sourceCode" id="cb262"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb262-1"><a href="#cb262-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb262-2"><a href="#cb262-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb262-3" d__=""><a href="#cb262-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> cos<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">)</span></span>
<span id="cb262-4" d__=""><a href="#cb262-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> cosf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">)</span></span>
<span id="cb262-5" d__=""><a href="#cb262-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> cosl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">)</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-60" d__="">Description</h3>
<p d__="">Calculates the cosine of the value <code s__="13">x</code>, where <code s__="13">x</code> is in radians.</p>
<p d__="">For those of you who don’t remember, radians are another way 
of measuring an angle, just like degrees. To convert from degrees to 
radians or the other way around, use the following code:</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb263-1" d__=""><a href="#cb263-1" aria-hidden="true" tabindex="-1"></a>pi <span class="op" d__="">=</span> <span class="fl" d__="">3.14159265358979</span><span class="op" d__="">;</span></span>
<span id="cb263-2" d__=""><a href="#cb263-2" aria-hidden="true" tabindex="-1"></a>degrees <span class="op" d__="">=</span> radians <span class="op" d__="">*</span> <span class="dv" d__="">180</span> <span class="op" d__="">/</span> pi<span class="op" d__="">;</span></span>
<span id="cb263-3" d__=""><a href="#cb263-3" aria-hidden="true" tabindex="-1"></a>radians <span class="op" d__="">=</span> degrees <span class="op" d__="">*</span> pi <span class="op" d__="">/</span> <span class="dv" d__="">180</span><span class="op" d__="">;</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="return-value-59" d__="">Return Value</h3>
<p d__="">Returns the cosine of <code s__="13">x</code>. The variants return different types.</p>
<h3 class="unnumbered unlisted" id="example-60" d__="">Example</h3>
<div class="sourceCode" id="cb264"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb264-1"><a href="#cb264-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb264-2"><a href="#cb264-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb264-3"><a href="#cb264-3"></a></span>
<span id="cb264-4" d__=""><a href="#cb264-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb264-5"><a href="#cb264-5"></a><span class="op" d__="">{</span></span>
<span id="cb264-6" d__=""><a href="#cb264-6"></a>    <span class="dt" d__="">double</span> cosx<span class="op" d__="">;</span></span>
<span id="cb264-7" d__=""><a href="#cb264-7"></a>    <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> ldcosx<span class="op" d__="">;</span></span>
<span id="cb264-8"><a href="#cb264-8"></a></span>
<span id="cb264-9" d__=""><a href="#cb264-9"></a>    cosx <span class="op" d__="">=</span> cos<span class="op" d__="">(</span><span class="fl" d__="">3490.0</span><span class="op" d__="">);</span> <span class="co" d__="">// round and round we go!</span></span>
<span id="cb264-10" d__=""><a href="#cb264-10"></a>    ldcosx <span class="op" d__="">=</span> cosl<span class="op" d__="">(</span><span class="fl" d__="">3.490</span><span class="bu" d__="">L</span><span class="op" d__="">);</span></span>
<span id="cb264-11"><a href="#cb264-11"></a></span>
<span id="cb264-12" d__=""><a href="#cb264-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> cosx<span class="op" d__="">);</span></span>
<span id="cb264-13" d__=""><a href="#cb264-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%Lf\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ldcosx<span class="op" d__="">);</span></span>
<span id="cb264-14"><a href="#cb264-14"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-56" d__="">See Also</h3>
<p d__=""><a href="#man-sin"><code s__="13" d__="">sin()</code></a>, <a href="#man-tan"><code s__="13" d__="">tan()</code></a>, <a href="#man-acos"><code s__="13" d__="">acos()</code></a></p>
<hr>
<h2 data-number="13.13" id="man-sin" d__=""><span class="header-section-number">13.13</span> <code>sin()</code>, <code>sinf()</code>, <code>sinl()</code></h2>
<p> </p>
<p d__="">Calculate the sine of a number.</p>
<h3 class="unnumbered unlisted" id="synopsis-61" d__="">Synopsis</h3>
<div class="sourceCode" id="cb265"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb265-1"><a href="#cb265-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb265-2"><a href="#cb265-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb265-3" d__=""><a href="#cb265-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> sin<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb265-4" d__=""><a href="#cb265-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> sinf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb265-5" d__=""><a href="#cb265-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> sinl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-61" d__="">Description</h3>
<p d__="">Calculates the sine of the value <code s__="13">x</code>, where <code s__="13">x</code> is in radians.</p>
<p d__="">For those of you who don’t remember, radians are another way 
of measuring an angle, just like degrees. To convert from degrees to 
radians or the other way around, use the following code:</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb266-1" d__=""><a href="#cb266-1" aria-hidden="true" tabindex="-1"></a>pi <span class="op" d__="">=</span> <span class="fl" d__="">3.14159265358979</span><span class="op" d__="">;</span></span>
<span id="cb266-2" d__=""><a href="#cb266-2" aria-hidden="true" tabindex="-1"></a>degrees <span class="op" d__="">=</span> radians <span class="op" d__="">*</span> <span class="dv" d__="">180</span> <span class="op" d__="">/</span> pi<span class="op" d__="">;</span></span>
<span id="cb266-3" d__=""><a href="#cb266-3" aria-hidden="true" tabindex="-1"></a>radians <span class="op" d__="">=</span> degrees <span class="op" d__="">*</span> pi <span class="op" d__="">/</span> <span class="dv" d__="">180</span><span class="op" d__="">;</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="return-value-60" d__="">Return Value</h3>
<p d__="">Returns the sine of <code s__="13">x</code>. The variants return different types.</p>
<h3 class="unnumbered unlisted" id="example-61" d__="">Example</h3>
<div class="sourceCode" id="cb267"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb267-1"><a href="#cb267-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb267-2"><a href="#cb267-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb267-3"><a href="#cb267-3"></a></span>
<span id="cb267-4" d__=""><a href="#cb267-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb267-5"><a href="#cb267-5"></a><span class="op" d__="">{</span></span>
<span id="cb267-6" d__=""><a href="#cb267-6"></a>    <span class="dt" d__="">double</span> sinx<span class="op" d__="">;</span></span>
<span id="cb267-7" d__=""><a href="#cb267-7"></a>    <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> ldsinx<span class="op" d__="">;</span></span>
<span id="cb267-8"><a href="#cb267-8"></a></span>
<span id="cb267-9" d__=""><a href="#cb267-9"></a>    sinx <span class="op" d__="">=</span> sin<span class="op" d__="">(</span><span class="fl" d__="">3490.0</span><span class="op" d__="">);</span> <span class="co" d__="">// round and round we go!</span></span>
<span id="cb267-10" d__=""><a href="#cb267-10"></a>    ldsinx <span class="op" d__="">=</span> sinl<span class="op" d__="">(</span><span class="fl" d__="">3.490</span><span class="bu" d__="">L</span><span class="op" d__="">);</span></span>
<span id="cb267-11"><a href="#cb267-11"></a></span>
<span id="cb267-12" d__=""><a href="#cb267-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> sinx<span class="op" d__="">);</span></span>
<span id="cb267-13" d__=""><a href="#cb267-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%Lf\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ldsinx<span class="op" d__="">);</span></span>
<span id="cb267-14"><a href="#cb267-14"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-57" d__="">See Also</h3>
<p d__=""><a href="#man-cos"><code s__="13" d__="">cos()</code></a>, <a href="#man-tan"><code s__="13" d__="">tan()</code></a>, <a href="#man-asin"><code s__="13" d__="">asin()</code></a></p>
<hr>
<h2 data-number="13.14" id="man-tan" d__=""><span class="header-section-number">13.14</span> <code>tan()</code>, <code>tanf()</code>, <code>tanl()</code></h2>
<p> </p>
<p d__="">Calculate the tangent of a number.</p>
<h3 class="unnumbered unlisted" id="synopsis-62" d__="">Synopsis</h3>
<div class="sourceCode" id="cb268"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb268-1"><a href="#cb268-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb268-2"><a href="#cb268-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb268-3" d__=""><a href="#cb268-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> tan<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">)</span></span>
<span id="cb268-4" d__=""><a href="#cb268-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> tanf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">)</span></span>
<span id="cb268-5" d__=""><a href="#cb268-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> tanl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">)</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-62" d__="">Description</h3>
<p d__="">Calculates the tangent of the value <code s__="13">x</code>, where <code s__="13">x</code> is in radians.</p>
<p d__="">For those of you who don’t remember, radians are another way 
of measuring an angle, just like degrees. To convert from degrees to 
radians or the other way around, use the following code:</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb269-1" d__=""><a href="#cb269-1" aria-hidden="true" tabindex="-1"></a>pi <span class="op" d__="">=</span> <span class="fl" d__="">3.14159265358979</span><span class="op" d__="">;</span></span>
<span id="cb269-2" d__=""><a href="#cb269-2" aria-hidden="true" tabindex="-1"></a>degrees <span class="op" d__="">=</span> radians <span class="op" d__="">*</span> <span class="dv" d__="">180</span> <span class="op" d__="">/</span> pi<span class="op" d__="">;</span></span>
<span id="cb269-3" d__=""><a href="#cb269-3" aria-hidden="true" tabindex="-1"></a>radians <span class="op" d__="">=</span> degrees <span class="op" d__="">*</span> pi <span class="op" d__="">/</span> <span class="dv" d__="">180</span><span class="op" d__="">;</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="return-value-61" d__="">Return Value</h3>
<p d__="">Returns the tangent of <code s__="13">x</code>. The variants return different types.</p>
<h3 class="unnumbered unlisted" id="example-62" d__="">Example</h3>
<div class="sourceCode" id="cb270"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb270-1"><a href="#cb270-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb270-2"><a href="#cb270-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb270-3"><a href="#cb270-3"></a></span>
<span id="cb270-4" d__=""><a href="#cb270-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb270-5"><a href="#cb270-5"></a><span class="op" d__="">{</span></span>
<span id="cb270-6" d__=""><a href="#cb270-6"></a>    <span class="dt" d__="">double</span> tanx<span class="op" d__="">;</span></span>
<span id="cb270-7" d__=""><a href="#cb270-7"></a>    <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> ldtanx<span class="op" d__="">;</span></span>
<span id="cb270-8"><a href="#cb270-8"></a></span>
<span id="cb270-9" d__=""><a href="#cb270-9"></a>    tanx <span class="op" d__="">=</span> tan<span class="op" d__="">(</span><span class="fl" d__="">3490.0</span><span class="op" d__="">);</span> <span class="co" d__="">// round and round we go!</span></span>
<span id="cb270-10" d__=""><a href="#cb270-10"></a>    ldtanx <span class="op" d__="">=</span> tanl<span class="op" d__="">(</span><span class="fl" d__="">3.490</span><span class="bu" d__="">L</span><span class="op" d__="">);</span></span>
<span id="cb270-11"><a href="#cb270-11"></a></span>
<span id="cb270-12" d__=""><a href="#cb270-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> tanx<span class="op" d__="">);</span></span>
<span id="cb270-13" d__=""><a href="#cb270-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%Lf\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ldtanx<span class="op" d__="">);</span></span>
<span id="cb270-14"><a href="#cb270-14"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-58" d__="">See Also</h3>
<p d__=""><a href="#man-sin"><code s__="13" d__="">sin()</code></a>, <a href="#man-cos"><code s__="13" d__="">cos()</code></a>, <a href="#man-atan"><code s__="13" d__="">atan()</code></a>, <a href="#man-atan"><code s__="13" d__="">atan2()</code></a></p>
<hr>
<h2 data-number="13.15" id="man-acosh" d__=""><span class="header-section-number">13.15</span> <code>acosh()</code>, <code>acoshf()</code>, <code>acoshl()</code></h2>
<p> </p>
<p d__="">Compute arc hyperbolic cosine.</p>
<h3 class="unnumbered unlisted" id="synopsis-63" d__="">Synopsis</h3>
<div class="sourceCode" id="cb271"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb271-1"><a href="#cb271-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb271-2"><a href="#cb271-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb271-3" d__=""><a href="#cb271-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> acosh<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb271-4"><a href="#cb271-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb271-5" d__=""><a href="#cb271-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> acoshf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb271-6"><a href="#cb271-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb271-7" d__=""><a href="#cb271-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> acoshl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-63" d__="">Description</h3>
<p d__="">Trig lovers can rejoice! C has arc hyperbolic cosine!</p>
<p d__="">These functions return the nonnegative acosh of <code s__="13">x</code>, which must be greater than or equal to <code s__="13">1</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-62" d__="">Return Value</h3>
<p d__="">Returns the arc hyperbolic cosince in the range <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="49"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c5B"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c30"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-n"><mjx-c class="mjx-c221E"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c5D"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mn>0</mn><mo>,</mo><mo>+</mo><mi mathvariant="normal">∞</mi><mo stretchy="false">]</mo></math></mjx-assistive-mml></mjx-container></span>.</p>
<h3 class="unnumbered unlisted" id="example-63" d__="">Example</h3>
<div class="sourceCode" id="cb272"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb272-1"><a href="#cb272-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb272-2"><a href="#cb272-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb272-3"><a href="#cb272-3"></a></span>
<span id="cb272-4" d__=""><a href="#cb272-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb272-5"><a href="#cb272-5"></a><span class="op" d__="">{</span></span>
<span id="cb272-6" d__=""><a href="#cb272-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"acosh 1.8 = </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> acosh<span class="op" d__="">(</span><span class="fl" d__="">1.8</span><span class="op" d__="">));</span>  <span class="co" d__="">// 1.192911</span></span>
<span id="cb272-7"><a href="#cb272-7"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-59" d__="">See Also</h3>
<p><a href="#man-asinh"><code s__="13" d__="">asinh()</code></a></p>
<hr>
<h2 data-number="13.16" id="man-asinh" d__=""><span class="header-section-number">13.16</span> <code>asinh()</code>, <code>asinhf()</code>, <code>asinhl()</code></h2>
<p> </p>
<p d__="">Compute arc hyperbolic sine.</p>
<h3 class="unnumbered unlisted" id="synopsis-64" d__="">Synopsis</h3>
<div class="sourceCode" id="cb273"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb273-1"><a href="#cb273-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb273-2"><a href="#cb273-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb273-3" d__=""><a href="#cb273-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> asinh<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb273-4"><a href="#cb273-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb273-5" d__=""><a href="#cb273-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> asinhf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb273-6"><a href="#cb273-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb273-7" d__=""><a href="#cb273-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> asinhl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-64" d__="">Description</h3>
<p d__="">Trig lovers can rejoice! C has arc hyperbolic sine!</p>
<p d__="">These functions return the asinh of <code s__="13">x</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-63" d__="">Return Value</h3>
<p d__="">Returns the arc hyperbolic sine.</p>
<h3 class="unnumbered unlisted" id="example-64" d__="">Example</h3>
<div class="sourceCode" id="cb274"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb274-1"><a href="#cb274-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb274-2"><a href="#cb274-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb274-3"><a href="#cb274-3"></a></span>
<span id="cb274-4" d__=""><a href="#cb274-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb274-5"><a href="#cb274-5"></a><span class="op" d__="">{</span></span>
<span id="cb274-6" d__=""><a href="#cb274-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"asinh 1.8 = </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> asinh<span class="op" d__="">(</span><span class="fl" d__="">1.8</span><span class="op" d__="">));</span>  <span class="co" d__="">// 1.350441</span></span>
<span id="cb274-7"><a href="#cb274-7"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-60" d__="">See Also</h3>
<p><a href="#man-acosh"><code s__="13" d__="">acosh()</code></a></p>
<hr>
<h2 data-number="13.17" id="man-atanh" d__=""><span class="header-section-number">13.17</span> <code>atanh()</code>, <code>atanhf()</code>, <code>atanhl()</code></h2>
<p> </p>
<p d__="">Compute the arc hyperbolic tangent.</p>
<h3 class="unnumbered unlisted" id="synopsis-65" d__="">Synopsis</h3>
<div class="sourceCode" id="cb275"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb275-1"><a href="#cb275-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb275-2"><a href="#cb275-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb275-3" d__=""><a href="#cb275-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> atanh<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb275-4"><a href="#cb275-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb275-5" d__=""><a href="#cb275-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> atanhf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb275-6"><a href="#cb275-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb275-7" d__=""><a href="#cb275-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> atanhl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-65" d__="">Description</h3>
<p d__="">These functions compute the arc hyperbolic tangent of <code s__="13">x</code>, which must be in the range <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="50"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c5B"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c2C"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c5D"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">[</mo><mo>−</mo><mn>1</mn><mo>,</mo><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo></math></mjx-assistive-mml></mjx-container></span>. Passing exactly <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="51"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>−</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container></span> or <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="52"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>+</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container></span> might result in a pole error.</p>
<h3 class="unnumbered unlisted" id="return-value-64" d__="">Return Value</h3>
<p d__="">Returns the arc hyperbolic tangent of <code s__="13">x</code>.</p>
<h3 class="unnumbered unlisted" id="example-65" d__="">Example</h3>
<div class="sourceCode" id="cb276"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb276-1"><a href="#cb276-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb276-2"><a href="#cb276-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb276-3"><a href="#cb276-3"></a></span>
<span id="cb276-4" d__=""><a href="#cb276-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb276-5"><a href="#cb276-5"></a><span class="op" d__="">{</span></span>
<span id="cb276-6" d__=""><a href="#cb276-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"atanh 0.5 = </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> atanh<span class="op" d__="">(</span><span class="fl" d__="">0.5</span><span class="op" d__="">));</span>  <span class="co" d__="">// 0.549306</span></span>
<span id="cb276-7"><a href="#cb276-7"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-61" d__="">See Also</h3>
<p d__=""><a href="#man-acosh"><code s__="13" d__="">acosh()</code></a>, <a href="#man-asinh"><code s__="13" d__="">asinh()</code></a></p>
<hr>
<h2 data-number="13.18" id="man-cosh" d__=""><span class="header-section-number">13.18</span> <code>cosh()</code>, <code>coshf()</code>, <code>coshl()</code></h2>
<p> </p>
<p d__="">Compute the hyperbolic cosine.</p>
<h3 class="unnumbered unlisted" id="synopsis-66" d__="">Synopsis</h3>
<div class="sourceCode" id="cb277"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb277-1"><a href="#cb277-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb277-2"><a href="#cb277-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb277-3" d__=""><a href="#cb277-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> cosh<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb277-4"><a href="#cb277-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb277-5" d__=""><a href="#cb277-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> coshf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb277-6"><a href="#cb277-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb277-7" d__=""><a href="#cb277-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> coshl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-66" d__="">Description</h3>
<p d__="">These functions predictably compute the hyperbolic cosine of <code s__="13">x</code>. A range error might occur if <code s__="13">x</code> is too large.</p>
<h3 class="unnumbered unlisted" id="return-value-65" d__="">Return Value</h3>
<p d__="">Returns the hyperbolic cosine of <code s__="13">x</code>.</p>
<h3 class="unnumbered unlisted" id="example-66" d__="">Example</h3>
<div class="sourceCode" id="cb278"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb278-1"><a href="#cb278-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb278-2"><a href="#cb278-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb278-3"><a href="#cb278-3"></a></span>
<span id="cb278-4" d__=""><a href="#cb278-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb278-5"><a href="#cb278-5"></a><span class="op" d__="">{</span></span>
<span id="cb278-6" d__=""><a href="#cb278-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"cosh 0.5 = </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> cosh<span class="op" d__="">(</span><span class="fl" d__="">0.5</span><span class="op" d__="">));</span>  <span class="co" d__="">// 1.127626</span></span>
<span id="cb278-7"><a href="#cb278-7"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-62" d__="">See Also</h3>
<p d__=""><a href="#man-sinh"><code s__="13" d__="">sinh()</code></a>, <a href="#man-tanh"><code s__="13" d__="">tanh()</code></a></p>
<hr>
<h2 data-number="13.19" id="man-sinh" d__=""><span class="header-section-number">13.19</span> <code>sinh()</code>, <code>sinhf()</code>, <code>sinhl()</code></h2>
<p> </p>
<p d__="">Compute the hyperbolic sine.</p>
<h3 class="unnumbered unlisted" id="synopsis-67" d__="">Synopsis</h3>
<div class="sourceCode" id="cb279"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb279-1"><a href="#cb279-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb279-2"><a href="#cb279-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb279-3" d__=""><a href="#cb279-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> sinh<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb279-4"><a href="#cb279-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb279-5" d__=""><a href="#cb279-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> sinhf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb279-6"><a href="#cb279-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb279-7" d__=""><a href="#cb279-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> sinhl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-67" d__="">Description</h3>
<p d__="">These functions predictably compute the hyperbolic sine of <code s__="13">x</code>. A range error might occur if <code s__="13">x</code> is too large.</p>
<h3 class="unnumbered unlisted" id="return-value-66" d__="">Return Value</h3>
<p d__="">Returns the hyperbolic sine of <code s__="13">x</code>.</p>
<h3 class="unnumbered unlisted" id="example-67" d__="">Example</h3>
<div class="sourceCode" id="cb280"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb280-1"><a href="#cb280-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb280-2"><a href="#cb280-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb280-3"><a href="#cb280-3"></a></span>
<span id="cb280-4" d__=""><a href="#cb280-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb280-5"><a href="#cb280-5"></a><span class="op" d__="">{</span></span>
<span id="cb280-6" d__=""><a href="#cb280-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"sinh 0.5 = </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> sinh<span class="op" d__="">(</span><span class="fl" d__="">0.5</span><span class="op" d__="">));</span>  <span class="co" d__="">// 0.521095</span></span>
<span id="cb280-7"><a href="#cb280-7"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-63" d__="">See Also</h3>
<p d__=""><a href="#man-cosh"><code s__="13" d__="">sinh()</code></a>, <a href="#man-tanh"><code s__="13" d__="">tanh()</code></a></p>
<hr>
<h2 data-number="13.20" id="man-tanh" d__=""><span class="header-section-number">13.20</span> <code>tanh()</code>, <code>tanhf()</code>, <code>tanhl()</code></h2>
<p> </p>
<p d__="">Compute the hyperbolic tangent.</p>
<h3 class="unnumbered unlisted" id="synopsis-68" d__="">Synopsis</h3>
<div class="sourceCode" id="cb281"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb281-1"><a href="#cb281-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb281-2"><a href="#cb281-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb281-3" d__=""><a href="#cb281-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> tanh<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb281-4"><a href="#cb281-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb281-5" d__=""><a href="#cb281-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> tanhf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb281-6"><a href="#cb281-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb281-7" d__=""><a href="#cb281-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> tanhl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-68" d__="">Description</h3>
<p d__="">These functions predictably compute the hyperbolic tangent of <code s__="13">x</code>.</p>
<p d__="">Mercifully, this is the last trig-related man page I’m going to write.</p>
<h3 class="unnumbered unlisted" id="return-value-67" d__="">Return Value</h3>
<p d__="">Returns the hyperbolic tangent of <code s__="13">x</code>.</p>
<h3 class="unnumbered unlisted" id="example-68" d__="">Example</h3>
<div class="sourceCode" id="cb282"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb282-1"><a href="#cb282-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb282-2"><a href="#cb282-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb282-3"><a href="#cb282-3"></a></span>
<span id="cb282-4" d__=""><a href="#cb282-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb282-5"><a href="#cb282-5"></a><span class="op" d__="">{</span></span>
<span id="cb282-6" d__=""><a href="#cb282-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"tanh 0.5 = </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> tanh<span class="op" d__="">(</span><span class="fl" d__="">0.5</span><span class="op" d__="">));</span>  <span class="co" d__="">// 0.462117</span></span>
<span id="cb282-7"><a href="#cb282-7"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-64" d__="">See Also</h3>
<p d__=""><a href="#man-cosh"><code s__="13" d__="">cosh()</code></a>, <a href="#man-sinh"><code s__="13" d__="">sinh()</code></a></p>
<hr>
<h2 data-number="13.21" id="man-exp" d__=""><span class="header-section-number">13.21</span> <code>exp()</code>, <code>expf()</code>, <code>expl()</code></h2>
<p> </p>
<p d__="">Compute <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="53"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi></math></mjx-assistive-mml></mjx-container></span> raised to a power.</p>
<h3 class="unnumbered unlisted" id="synopsis-69" d__="">Synopsis</h3>
<div class="sourceCode" id="cb283"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb283-1"><a href="#cb283-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb283-2"><a href="#cb283-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb283-3" d__=""><a href="#cb283-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> exp<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb283-4"><a href="#cb283-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb283-5" d__=""><a href="#cb283-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> expf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb283-6"><a href="#cb283-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb283-7" d__=""><a href="#cb283-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> expl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-69" d__="">Description</h3>
<p d__="">Compute <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="54"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msup><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.363em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>e</mi><mi s__="13">x</mi></msup></math></mjx-assistive-mml></mjx-container></span> where <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="55"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi></math></mjx-assistive-mml></mjx-container></span> is <a href="https://en.wikipedia.org/wiki/E_(mathematical_constant)" d__="">Euler’s number</a><a href="#fn25" class="footnote-ref" id="fnref25" role="doc-noteref"><sup s__="13" d__="">25</sup></a>.</p>
<p d__="">The number <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="56"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi></math></mjx-assistive-mml></mjx-container></span>
 is named after Leonard Euler, born April 15, 1707, who is responsible, 
among other things, for making this reference page longer than it needed
 to be.</p>
<h3 class="unnumbered unlisted" id="return-value-68" d__="">Return Value</h3>
<p d__="">Returns <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="57"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msup><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.363em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>e</mi><mi s__="13">x</mi></msup></math></mjx-assistive-mml></mjx-container></span>.</p>
<h3 class="unnumbered unlisted" id="example-69" d__="">Example</h3>
<div class="sourceCode" id="cb284"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb284-1"><a href="#cb284-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb284-2"><a href="#cb284-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb284-3"><a href="#cb284-3"></a></span>
<span id="cb284-4" d__=""><a href="#cb284-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb284-5"><a href="#cb284-5"></a><span class="op" d__="">{</span></span>
<span id="cb284-6" d__=""><a href="#cb284-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"exp(1) = </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> exp<span class="op" d__="">(</span><span class="dv" d__="">1</span><span class="op" d__="">));</span>  <span class="co" d__="">// 2.718282</span></span>
<span id="cb284-7" d__=""><a href="#cb284-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"exp(2) = </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> exp<span class="op" d__="">(</span><span class="dv" d__="">2</span><span class="op" d__="">));</span>  <span class="co" d__="">// 7.389056</span></span>
<span id="cb284-8"><a href="#cb284-8"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-65" d__="">See Also</h3>
<p d__=""><a href="#man-exp2"><code s__="13" d__="">exp2()</code></a>, <a href="#man-expm1"><code s__="13" d__="">expm1()</code></a>, <a href="#man-pow"><code s__="13" d__="">pow()</code></a>, <a href="#man-log"><code s__="13" d__="">log()</code></a></p>
<hr>
<h2 data-number="13.22" id="man-exp2" d__=""><span class="header-section-number">13.22</span> <code>exp2()</code>, <code>exp2f()</code>, <code>exp2l()</code></h2>
<p> </p>
<p d__="">Compute 2 to a power.</p>
<h3 class="unnumbered unlisted" id="synopsis-70" d__="">Synopsis</h3>
<div class="sourceCode" id="cb285"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb285-1"><a href="#cb285-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb285-2"><a href="#cb285-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb285-3" d__=""><a href="#cb285-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> exp2<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb285-4"><a href="#cb285-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb285-5" d__=""><a href="#cb285-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> exp2f<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb285-6"><a href="#cb285-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb285-7" d__=""><a href="#cb285-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> exp2l<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-70" d__="">Description</h3>
<p d__="">These functions raise 2 to a power. Very exciting, since computers are all about twos-to-powers!</p>
<p d__="">These are likely to be faster than using <code s__="13">pow()</code> to do the same thing.</p>
<p d__="">They support fractional exponents, as well.</p>
<p d__="">A range error occurs if <code s__="13">x</code> is too large.</p>
<h3 class="unnumbered unlisted" id="return-value-69" d__="">Return Value</h3>
<p d__=""><code s__="13">exp2()</code> returns <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="58"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msup><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-script style="vertical-align: 0.363em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mi s__="13">x</mi></msup></math></mjx-assistive-mml></mjx-container></span>.</p>
<h3 class="unnumbered unlisted" id="example-70" d__="">Example</h3>
<div class="sourceCode" id="cb286"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb286-1"><a href="#cb286-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb286-2"><a href="#cb286-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb286-3"><a href="#cb286-3"></a></span>
<span id="cb286-4" d__=""><a href="#cb286-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb286-5"><a href="#cb286-5"></a><span class="op" d__="">{</span></span>
<span id="cb286-6" d__=""><a href="#cb286-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"2^3 = </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> exp2<span class="op" d__="">(</span><span class="dv" d__="">3</span><span class="op" d__="">));</span>      <span class="co" d__="">// 2^3 = 8.000000</span></span>
<span id="cb286-7" d__=""><a href="#cb286-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"2^8 = </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> exp2<span class="op" d__="">(</span><span class="dv" d__="">8</span><span class="op" d__="">));</span>      <span class="co" d__="">// 2^8 = 256.000000</span></span>
<span id="cb286-8" d__=""><a href="#cb286-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"2^0.5 = </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> exp2<span class="op" d__="">(</span><span class="fl" d__="">0.5</span><span class="op" d__="">));</span>  <span class="co" d__="">// 2^0.5 = 1.414214    </span></span>
<span id="cb286-9"><a href="#cb286-9"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-66" d__="">See Also</h3>
<p d__=""><a href="#man-exp"><code s__="13" d__="">exp()</code></a>, <a href="#man-pow"><code s__="13" d__="">pow()</code></a></p>
<hr>
<h2 data-number="13.23" id="man-expm1" d__=""><span class="header-section-number">13.23</span> <code>expm1()</code>, <code>expm1f()</code>, <code>expm1l()</code></h2>
<p> </p>
<p d__="">Compute <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="59"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msup><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.363em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msup><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="3"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>e</mi><mi s__="13">x</mi></msup><mo>−</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container></span>.</p>
<h3 class="unnumbered unlisted" id="synopsis-71" d__="">Synopsis</h3>
<div class="sourceCode" id="cb287"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb287-1"><a href="#cb287-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb287-2"><a href="#cb287-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb287-3" d__=""><a href="#cb287-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> expm1<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb287-4"><a href="#cb287-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb287-5" d__=""><a href="#cb287-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> expm1f<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb287-6"><a href="#cb287-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb287-7" d__=""><a href="#cb287-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> expm1l<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-71" d__="">Description</h3>
<p d__="">This is just like <code s__="13">exp()</code> except—<em>plot twist!</em>–it computes that result minus one.</p>
<p d__="">For more discussion about what <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="60"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi></math></mjx-assistive-mml></mjx-container></span> is, see <a href="#man-exp" d__="">the <code s__="13">exp()</code> man page</a>.</p>
<p d__="">If <code s__="13">x</code> is giant, a range error might occur.</p>
<p d__="">For small values of <code s__="13">x</code> near zero, <code s__="13">expm1(x)</code> might be more accurate than computing <code s__="13">exp(x)-1</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-70" d__="">Return Value</h3>
<p d__="">Returns <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="61"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msup><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.363em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msup><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="3"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>e</mi><mi s__="13">x</mi></msup><mo>−</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container></span>.</p>
<h3 class="unnumbered unlisted" id="example-71" d__="">Example</h3>
<div class="sourceCode" id="cb288"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb288-1"><a href="#cb288-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb288-2"><a href="#cb288-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb288-3"><a href="#cb288-3"></a></span>
<span id="cb288-4" d__=""><a href="#cb288-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb288-5"><a href="#cb288-5"></a><span class="op" d__="">{</span></span>
<span id="cb288-6" d__=""><a href="#cb288-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> expm1<span class="op" d__="">(</span><span class="fl" d__="">2.34</span><span class="op" d__="">));</span>  <span class="co" d__="">// 9.381237</span></span>
<span id="cb288-7"><a href="#cb288-7"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-67" d__="">See Also</h3>
<p><a href="#man-exp"><code s__="13" d__="">exp()</code></a></p>
<hr>
<h2 data-number="13.24" id="man-frexp" d__=""><span class="header-section-number">13.24</span> <code>frexp()</code>, <code>frexpf()</code>, <code>frexpl()</code></h2>
<p> </p>
<p d__="">Break a number into its fraction part and exponent (as a power of 2).</p>
<h3 class="unnumbered unlisted" id="synopsis-72" d__="">Synopsis</h3>
<div class="sourceCode" id="cb289"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb289-1"><a href="#cb289-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb289-2"><a href="#cb289-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb289-3" d__=""><a href="#cb289-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> frexp<span class="op" d__="">(</span><span class="dt" d__="">double</span> value<span class="op" d__="">,</span> <span class="dt" d__="">int</span> <span class="op" d__="">*</span>exp<span class="op" d__="">);</span></span>
<span id="cb289-4"><a href="#cb289-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb289-5" d__=""><a href="#cb289-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> frexpf<span class="op" d__="">(</span><span class="dt" d__="">float</span> value<span class="op" d__="">,</span> <span class="dt" d__="">int</span> <span class="op" d__="">*</span>exp<span class="op" d__="">);</span></span>
<span id="cb289-6"><a href="#cb289-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb289-7" d__=""><a href="#cb289-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> frexpl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> value<span class="op" d__="">,</span> <span class="dt" d__="">int</span> <span class="op" d__="">*</span>exp<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-72" d__="">Description</h3>
<p d__="">If you have a floating point number, you can break it into its fractional part and exponent part (as a power of 2).</p>
<p d__="">For example, if you have the number <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="62"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c32"></mjx-c><mjx-c class="mjx-c33"></mjx-c><mjx-c class="mjx-c34"></mjx-c><mjx-c class="mjx-c2E"></mjx-c><mjx-c class="mjx-c35"></mjx-c><mjx-c class="mjx-c36"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1234.56</mn></math></mjx-assistive-mml></mjx-container></span>, this can be represented as a multiple of a power of 2 like so:</p>
<p><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="63"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c32"></mjx-c><mjx-c class="mjx-c33"></mjx-c><mjx-c class="mjx-c34"></mjx-c><mjx-c class="mjx-c2E"></mjx-c><mjx-c class="mjx-c35"></mjx-c><mjx-c class="mjx-c36"></mjx-c></mjx-mn><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="4"><mjx-c class="mjx-c30"></mjx-c><mjx-c class="mjx-c2E"></mjx-c><mjx-c class="mjx-c36"></mjx-c><mjx-c class="mjx-c30"></mjx-c><mjx-c class="mjx-c32"></mjx-c><mjx-c class="mjx-c38"></mjx-c><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c32"></mjx-c><mjx-c class="mjx-c35"></mjx-c></mjx-mn><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-cD7"></mjx-c></mjx-mo><mjx-msup space="3"><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-script style="vertical-align: 0.363em;"><mjx-texatom size="s" texclass="ORD" s__="13"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-texatom></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn d__="">1234.56</mn><mo d__="">=</mo><mn d__="">0.6028125</mn><mo d__="">×</mo><msup><mn d__="">2</mn><mrow data-mjx-texclass="ORD" s__="13"><mn d__="">11</mn></mrow></msup></math></mjx-assistive-mml></mjx-container></span></p>
<p d__="">And you can use this function to get the <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="64"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mn class="mjx-n"><mjx-c class="mjx-c30"></mjx-c><mjx-c class="mjx-c2E"></mjx-c><mjx-c class="mjx-c36"></mjx-c><mjx-c class="mjx-c30"></mjx-c><mjx-c class="mjx-c32"></mjx-c><mjx-c class="mjx-c38"></mjx-c><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c32"></mjx-c><mjx-c class="mjx-c35"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0.6028125</mn></math></mjx-assistive-mml></mjx-container></span> and <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="65"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>11</mn></math></mjx-assistive-mml></mjx-container></span> parts of that equation.</p>
<p d__="">As for why, I have a simple answer: I don’t know. I can’t find a use. K&amp;R2 and everyone else I can find just says <em>how</em> to use it, but not <em>why</em> you might want to.</p>
<p d__="">The C99 Rationale document says:</p>
<blockquote>
<p d__="">The functions <code s__="13">frexp</code>, <code s__="13">ldexp</code>, and <code s__="13">modf</code> are primitives used by the remainder of the library.</p>
<p d__="">There was some sentiment for dropping them for the same reasons that <code s__="13">ecvt</code>, <code s__="13">fcvt</code>, and <code s__="13">gcvt</code>
 were dropped, but their adherents rescued them for general use. Their 
use is problematic: on non-binary architectures, ldexp may lose 
precision and frexp may be inefficient.</p>
</blockquote>
<p d__="">So there you have it. If you need it.</p>
<h3 class="unnumbered unlisted" id="return-value-71" d__="">Return Value</h3>
<p d__=""><code s__="13">frexp()</code> returns the fractional part of <code s__="13">value</code> in the range 0.5 (inclusive) to 1 (exclusive), or 0. And it stores the exponent power-of-2 in the variable pointed to by <code s__="13">exp</code>.</p>
<p d__="">If you pass in zero, the return value and the variable <code s__="13">exp</code> points to are both zero.</p>
<h3 class="unnumbered unlisted" id="example-72" d__="">Example</h3>
<div class="sourceCode" id="cb290"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb290-1"><a href="#cb290-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb290-2"><a href="#cb290-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb290-3"><a href="#cb290-3"></a></span>
<span id="cb290-4" d__=""><a href="#cb290-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb290-5"><a href="#cb290-5"></a><span class="op" d__="">{</span></span>
<span id="cb290-6" d__=""><a href="#cb290-6"></a>    <span class="dt" d__="">double</span> frac<span class="op" d__="">;</span></span>
<span id="cb290-7" d__=""><a href="#cb290-7"></a>    <span class="dt" d__="">int</span> expt<span class="op" d__="">;</span></span>
<span id="cb290-8"><a href="#cb290-8"></a></span>
<span id="cb290-9" d__=""><a href="#cb290-9"></a>    frac <span class="op" d__="">=</span> frexp<span class="op" d__="">(</span><span class="fl" d__="">1234.56</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>expt<span class="op" d__="">);</span></span>
<span id="cb290-10" d__=""><a href="#cb290-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"1234.56 = </span><span class="sc" d__="">%.7f</span><span class="st" d__=""> x 2^</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> frac<span class="op" d__="">,</span> expt<span class="op" d__="">);</span>  </span>
<span id="cb290-11"><a href="#cb290-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb291"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb291-1" d__=""><a href="#cb291-1" aria-hidden="true" tabindex="-1"></a>1234.56 = 0.6028125 x 2^11</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-68" d__="">See Also</h3>
<p d__=""><a href="#man-ldexp"><code s__="13" d__="">ldexp()</code></a>, <a href="#man-ldexp"><code s__="13" d__="">ilogb()</code></a>, <a href="#man-modf"><code s__="13" d__="">modf()</code></a></p>
<hr>
<h2 data-number="13.25" id="man-ilogb" d__=""><span class="header-section-number">13.25</span> <code>ilogb()</code>, <code>ilogbf()</code>, <code>ilogbl()</code></h2>
<p> </p>
<p d__="">Return the exponent of a floating point number.</p>
<h3 class="unnumbered unlisted" id="synopsis-73" d__="">Synopsis</h3>
<div class="sourceCode" id="cb292"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb292-1"><a href="#cb292-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb292-2"><a href="#cb292-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb292-3" d__=""><a href="#cb292-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> ilogb<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb292-4"><a href="#cb292-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb292-5" d__=""><a href="#cb292-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> ilogbf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb292-6"><a href="#cb292-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb292-7" d__=""><a href="#cb292-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> ilogbl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-73" d__="">Description</h3>
<p d__="">This gives you the exponent of the given number… it’s a little weird, because the exponent depends on the value of <code s__="13">FLT_RADIX</code>. Now, this is very often <code s__="13">2</code>—but no guarantees!</p>
<p d__="">It actually returns <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="66"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msub><mjx-mi class="mjx-n"><mjx-c class="mjx-c6C"></mjx-c><mjx-c class="mjx-c6F"></mjx-c><mjx-c class="mjx-c67"></mjx-c></mjx-mi><mjx-script style="vertical-align: -0.241em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D45F TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class="mjx-n"><mjx-c class="mjx-c2061"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>log</mi><mi s__="13">r</mi></msub><mo data-mjx-texclass="NONE">⁡</mo><mo data-mjx-texclass="ORD" stretchy="false">|</mo><mi>x</mi><mo data-mjx-texclass="ORD" stretchy="false">|</mo></math></mjx-assistive-mml></mjx-container></span> where <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="67"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45F TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi></math></mjx-assistive-mml></mjx-container></span> is <code s__="13">FLT_RADIX</code>.</p>
<p d__="">Domain or range errors might occur for invalid values of <code s__="13">x</code>, or for return values that are outside the range of the return type.</p>
<h3 class="unnumbered unlisted" id="return-value-72" d__="">Return Value</h3>
<p d__="">The exponent of the absolute value of the given number, depending on <code s__="13">FLT_RADIX</code>.</p>
<p d__="">Specifically <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="68"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msub><mjx-mi class="mjx-n"><mjx-c class="mjx-c6C"></mjx-c><mjx-c class="mjx-c6F"></mjx-c><mjx-c class="mjx-c67"></mjx-c></mjx-mi><mjx-script style="vertical-align: -0.241em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D45F TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class="mjx-n"><mjx-c class="mjx-c2061"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>log</mi><mi s__="13">r</mi></msub><mo data-mjx-texclass="NONE">⁡</mo><mo data-mjx-texclass="ORD" stretchy="false">|</mo><mi>x</mi><mo data-mjx-texclass="ORD" stretchy="false">|</mo></math></mjx-assistive-mml></mjx-container></span> where <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="69"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45F TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi></math></mjx-assistive-mml></mjx-container></span> is <code s__="13">FLT_RADIX</code>.</p>
<p d__="">If you pass in <code s__="13">0</code>, it’ll return <code s__="13">FP_ILOGB0</code>.</p>
<p d__="">If you pass in infinity, it’ll return <code s__="13">INT_MAX</code>.</p>
<p d__="">If you pass in NaN, it’ll return <code s__="13">FP_ILOGBNAN</code>.</p>
<p d__="">The spec goes on to say that the value of <code s__="13">FP_ILOGB0</code> will be either <code s__="13">INT_MIN</code> or <code s__="13">-INT_MAX</code>. And the value of <code s__="13">FP_ILOGBNAN</code> shall be either <code s__="13">INT_MAX</code> or <code s__="13">INT_MIN</code>, if that’s useful in any way.</p>
<h3 class="unnumbered unlisted" id="example-73" d__="">Example</h3>
<div class="sourceCode" id="cb293"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb293-1"><a href="#cb293-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb293-2"><a href="#cb293-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb293-3"><a href="#cb293-3"></a></span>
<span id="cb293-4" d__=""><a href="#cb293-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb293-5"><a href="#cb293-5"></a><span class="op" d__="">{</span></span>
<span id="cb293-6" d__=""><a href="#cb293-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ilogb<span class="op" d__="">(</span><span class="dv" d__="">257</span><span class="op" d__="">));</span>  <span class="co" d__="">// 8</span></span>
<span id="cb293-7" d__=""><a href="#cb293-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ilogb<span class="op" d__="">(</span><span class="dv" d__="">256</span><span class="op" d__="">));</span>  <span class="co" d__="">// 8</span></span>
<span id="cb293-8" d__=""><a href="#cb293-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ilogb<span class="op" d__="">(</span><span class="dv" d__="">255</span><span class="op" d__="">));</span>  <span class="co" d__="">// 7</span></span>
<span id="cb293-9"><a href="#cb293-9"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-69" d__="">See Also</h3>
<p d__=""><a href="#man-frexp"><code s__="13" d__="">frexp()</code></a>, <a href="#man-logb"><code s__="13" d__="">logb()</code></a></p>
<hr>
<h2 data-number="13.26" id="man-ldexp" d__=""><span class="header-section-number">13.26</span> <code>ldexp()</code>, <code>ldexpf()</code>, <code>ldexpl()</code></h2>
<p> </p>
<p d__="">Multiply a number by an integral power of 2.</p>
<h3 class="unnumbered unlisted" id="synopsis-74" d__="">Synopsis</h3>
<div class="sourceCode" id="cb294"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb294-1"><a href="#cb294-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb294-2"><a href="#cb294-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb294-3" d__=""><a href="#cb294-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> ldexp<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">int</span> exp<span class="op" d__="">);</span></span>
<span id="cb294-4"><a href="#cb294-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb294-5" d__=""><a href="#cb294-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> ldexpf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">,</span> <span class="dt" d__="">int</span> exp<span class="op" d__="">);</span></span>
<span id="cb294-6"><a href="#cb294-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb294-7" d__=""><a href="#cb294-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> ldexpl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">int</span> exp<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-74" d__="">Description</h3>
<p d__="">These functions multiply the given number <code s__="13">x</code> by 2 raised to the <code s__="13">exp</code> power.</p>
<h3 class="unnumbered unlisted" id="return-value-73" d__="">Return Value</h3>
<p d__="">Returns <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="70"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-cD7"></mjx-c></mjx-mo><mjx-msup space="3"><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-script style="vertical-align: 0.363em;"><mjx-texatom size="s" texclass="ORD" s__="13"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45D TEX-I"></mjx-c></mjx-mi></mjx-texatom></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>×</mo><msup><mn>2</mn><mrow data-mjx-texclass="ORD" s__="13"><mi>e</mi><mi>x</mi><mi>p</mi></mrow></msup></math></mjx-assistive-mml></mjx-container></span>.</p>
<h3 class="unnumbered unlisted" id="example-74" d__="">Example</h3>
<div class="sourceCode" id="cb295"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb295-1"><a href="#cb295-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb295-2"><a href="#cb295-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb295-3"><a href="#cb295-3"></a></span>
<span id="cb295-4" d__=""><a href="#cb295-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb295-5"><a href="#cb295-5"></a><span class="op" d__="">{</span></span>
<span id="cb295-6" d__=""><a href="#cb295-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"1 x 2^10 = </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ldexp<span class="op" d__="">(</span><span class="dv" d__="">1</span><span class="op" d__="">,</span> <span class="dv" d__="">10</span><span class="op" d__="">));</span></span>
<span id="cb295-7" d__=""><a href="#cb295-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"5.67 x 2^7 = </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ldexp<span class="op" d__="">(</span><span class="fl" d__="">5.67</span><span class="op" d__="">,</span> <span class="dv" d__="">7</span><span class="op" d__="">));</span></span>
<span id="cb295-8"><a href="#cb295-8"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb296-1" d__=""><a href="#cb296-1" aria-hidden="true" tabindex="-1"></a>1 x 2^10 = 1024.000000</span>
<span id="cb296-2" d__=""><a href="#cb296-2" aria-hidden="true" tabindex="-1"></a>5.67 x 2^7 = 725.760000</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-70" d__="">See Also</h3>
<p><a href="#man-exp"><code s__="13" d__="">exp()</code></a></p>
<hr>
<h2 data-number="13.27" id="man-log" d__=""><span class="header-section-number">13.27</span> <code>log()</code>, <code>logf()</code>, <code>logl()</code></h2>
<p> </p>
<p d__="">Compute the natural logarithm.</p>
<h3 class="unnumbered unlisted" id="synopsis-75" d__="">Synopsis</h3>
<div class="sourceCode" id="cb297"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb297-1"><a href="#cb297-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb297-2"><a href="#cb297-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb297-3" d__=""><a href="#cb297-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> log<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb297-4"><a href="#cb297-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb297-5" d__=""><a href="#cb297-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> logf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb297-6"><a href="#cb297-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb297-7" d__=""><a href="#cb297-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> logl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-75" d__="">Description</h3>
<p d__="">Natural logarithms! And there was much rejoycing.</p>
<p d__="">These compute the base-<span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="71"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi></math></mjx-assistive-mml></mjx-container></span> logarithm of a number, <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="72"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msub><mjx-mi class="mjx-n"><mjx-c class="mjx-c6C"></mjx-c><mjx-c class="mjx-c6F"></mjx-c><mjx-c class="mjx-c67"></mjx-c></mjx-mi><mjx-script style="vertical-align: -0.241em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class="mjx-n"><mjx-c class="mjx-c2061"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="2"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>log</mi><mi s__="13">e</mi></msub><mo data-mjx-texclass="NONE">⁡</mo><mi>x</mi></math></mjx-assistive-mml></mjx-container></span>, <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="73"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-n"><mjx-c class="mjx-c6C"></mjx-c><mjx-c class="mjx-c6E"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c2061"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="2"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ln</mi><mo data-mjx-texclass="NONE">⁡</mo><mi>x</mi></math></mjx-assistive-mml></mjx-container></span>.</p>
<p d__="">In other words, for a given <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="74"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></mjx-assistive-mml></mjx-container></span>, solves <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="75"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-msup space="4"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.363em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><msup><mi>e</mi><mi s__="13">y</mi></msup></math></mjx-assistive-mml></mjx-container></span> for <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="76"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></mjx-assistive-mml></mjx-container></span>.</p>
<h3 class="unnumbered unlisted" id="return-value-74" d__="">Return Value</h3>
<p d__="">The base-<span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="77"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>e</mi></math></mjx-assistive-mml></mjx-container></span> logarithm of the given value, <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="78"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msub><mjx-mi class="mjx-n"><mjx-c class="mjx-c6C"></mjx-c><mjx-c class="mjx-c6F"></mjx-c><mjx-c class="mjx-c67"></mjx-c></mjx-mi><mjx-script style="vertical-align: -0.241em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class="mjx-n"><mjx-c class="mjx-c2061"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="2"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>log</mi><mi s__="13">e</mi></msub><mo data-mjx-texclass="NONE">⁡</mo><mi>x</mi></math></mjx-assistive-mml></mjx-container></span>, <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="79"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-n"><mjx-c class="mjx-c6C"></mjx-c><mjx-c class="mjx-c6E"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c2061"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="2"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ln</mi><mo data-mjx-texclass="NONE">⁡</mo><mi>x</mi></math></mjx-assistive-mml></mjx-container></span>.</p>
<h3 class="unnumbered unlisted" id="example-75" d__="">Example</h3>
<div class="sourceCode" id="cb298"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb298-1"><a href="#cb298-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb298-2"><a href="#cb298-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb298-3"><a href="#cb298-3"></a></span>
<span id="cb298-4" d__=""><a href="#cb298-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb298-5"><a href="#cb298-5"></a><span class="op" d__="">{</span></span>
<span id="cb298-6" d__=""><a href="#cb298-6"></a>    <span class="dt" d__="">const</span> <span class="dt" d__="">double</span> e <span class="op" d__="">=</span> <span class="fl" d__="">2.718281828459045</span><span class="op" d__="">;</span></span>
<span id="cb298-7"><a href="#cb298-7"></a></span>
<span id="cb298-8" d__=""><a href="#cb298-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> log<span class="op" d__="">(</span><span class="fl" d__="">3490.2</span><span class="op" d__="">));</span>  <span class="co" d__="">// 8.157714</span></span>
<span id="cb298-9" d__=""><a href="#cb298-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> log<span class="op" d__="">(</span>e<span class="op" d__="">));</span>       <span class="co" d__="">// 1.000000</span></span>
<span id="cb298-10"><a href="#cb298-10"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-71" d__="">See Also</h3>
<p d__=""><a href="#man-exp"><code s__="13" d__="">exp()</code></a>, <a href="#man-log10"><code s__="13" d__="">log10()</code></a>, <a href="#man-log10"><code s__="13" d__="">log1p()</code></a></p>
<hr>
<h2 data-number="13.28" id="man-log10" d__=""><span class="header-section-number">13.28</span> <code>log10()</code>, <code>log10f()</code>, <code>log10l()</code></h2>
<p> </p>
<p d__="">Compute the log-base-10 of a number.</p>
<h3 class="unnumbered unlisted" id="synopsis-76" d__="">Synopsis</h3>
<div class="sourceCode" id="cb299"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb299-1"><a href="#cb299-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb299-2"><a href="#cb299-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb299-3" d__=""><a href="#cb299-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> log10<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb299-4"><a href="#cb299-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb299-5" d__=""><a href="#cb299-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> log10f<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb299-6"><a href="#cb299-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb299-7" d__=""><a href="#cb299-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> log10l<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-76" d__="">Description</h3>
<p d__="">Just when you thought you might have to use Laws of Logarithms
 to compute this, here’s a function coming out of the blue to save you.</p>
<p d__="">These compute the base-<span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="80"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c30"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>10</mn></math></mjx-assistive-mml></mjx-container></span> logarithm of a number, <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="81"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msub><mjx-mi class="mjx-n"><mjx-c class="mjx-c6C"></mjx-c><mjx-c class="mjx-c6F"></mjx-c><mjx-c class="mjx-c67"></mjx-c></mjx-mi><mjx-script style="vertical-align: -0.241em;"><mjx-texatom size="s" texclass="ORD" s__="13"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c30"></mjx-c></mjx-mn></mjx-texatom></mjx-script></mjx-msub><mjx-mo class="mjx-n"><mjx-c class="mjx-c2061"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="2"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>log</mi><mrow data-mjx-texclass="ORD" s__="13"><mn>10</mn></mrow></msub><mo data-mjx-texclass="NONE">⁡</mo><mi>x</mi></math></mjx-assistive-mml></mjx-container></span>.</p>
<p d__="">In other words, for a given <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="82"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></mjx-assistive-mml></mjx-container></span>, solves <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="83"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-msup space="4"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c30"></mjx-c></mjx-mn><mjx-script style="vertical-align: 0.393em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><msup><mn>10</mn><mi s__="13">y</mi></msup></math></mjx-assistive-mml></mjx-container></span> for <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="84"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></mjx-assistive-mml></mjx-container></span>.</p>
<h3 class="unnumbered unlisted" id="return-value-75" d__="">Return Value</h3>
<p d__="">Returns the log base-10 of <code s__="13">x</code>, <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="85"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msub><mjx-mi class="mjx-n"><mjx-c class="mjx-c6C"></mjx-c><mjx-c class="mjx-c6F"></mjx-c><mjx-c class="mjx-c67"></mjx-c></mjx-mi><mjx-script style="vertical-align: -0.241em;"><mjx-texatom size="s" texclass="ORD" s__="13"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c30"></mjx-c></mjx-mn></mjx-texatom></mjx-script></mjx-msub><mjx-mo class="mjx-n"><mjx-c class="mjx-c2061"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="2"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>log</mi><mrow data-mjx-texclass="ORD" s__="13"><mn>10</mn></mrow></msub><mo data-mjx-texclass="NONE">⁡</mo><mi>x</mi></math></mjx-assistive-mml></mjx-container></span>.</p>
<h3 class="unnumbered unlisted" id="example-76" d__="">Example</h3>
<div class="sourceCode" id="cb300"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb300-1"><a href="#cb300-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb300-2"><a href="#cb300-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb300-3"><a href="#cb300-3"></a></span>
<span id="cb300-4" d__=""><a href="#cb300-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb300-5"><a href="#cb300-5"></a><span class="op" d__="">{</span></span>
<span id="cb300-6" d__=""><a href="#cb300-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> log10<span class="op" d__="">(</span><span class="fl" d__="">3490.2</span><span class="op" d__="">));</span>   <span class="co" d__="">// 3.542850</span></span>
<span id="cb300-7" d__=""><a href="#cb300-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> log10<span class="op" d__="">(</span><span class="dv" d__="">10</span><span class="op" d__="">));</span>       <span class="co" d__="">// 1.000000</span></span>
<span id="cb300-8"><a href="#cb300-8"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-72" d__="">See Also</h3>
<p d__=""><a href="#man-pow"><code s__="13" d__="">pow()</code></a>, <a href="#man-log"><code s__="13" d__="">log()</code></a></p>
<hr>
<h2 data-number="13.29" id="man-log1p" d__=""><span class="header-section-number">13.29</span> <code>log1p()</code>, <code>log1pf()</code>, <code>log1pl()</code></h2>
<p> </p>
<p d__="">Compute the natural logarithm of a number plus 1.</p>
<h3 class="unnumbered unlisted" id="synopsis-77" d__="">Synopsis</h3>
<div class="sourceCode" id="cb301"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb301-1"><a href="#cb301-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb301-2"><a href="#cb301-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb301-3" d__=""><a href="#cb301-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> log1p<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb301-4"><a href="#cb301-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb301-5" d__=""><a href="#cb301-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> log1pf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb301-6"><a href="#cb301-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb301-7" d__=""><a href="#cb301-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> log1pl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-77" d__="">Description</h3>
<p d__="">This computes <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="86"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msub><mjx-mi class="mjx-n"><mjx-c class="mjx-c6C"></mjx-c><mjx-c class="mjx-c6F"></mjx-c><mjx-c class="mjx-c67"></mjx-c></mjx-mi><mjx-script style="vertical-align: -0.241em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class="mjx-n"><mjx-c class="mjx-c2061"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>log</mi><mi s__="13">e</mi></msub><mo data-mjx-texclass="NONE">⁡</mo><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mi>x</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container></span>, <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="87"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-n"><mjx-c class="mjx-c6C"></mjx-c><mjx-c class="mjx-c6E"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c2061"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ln</mi><mo data-mjx-texclass="NONE">⁡</mo><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mi>x</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container></span>.</p>
<p d__="">This works just like calling:</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb302-1" d__=""><a href="#cb302-1" aria-hidden="true" tabindex="-1"></a>log<span class="op" d__="">(</span><span class="dv" d__="">1</span> <span class="op" d__="">+</span> x<span class="op" d__="">)</span></span></code></pre></div>
<p d__="">except it could be more accurate for small values of <code s__="13">x</code>.</p>
<p d__="">So if your <code s__="13">x</code> is small magnitude, use this.</p>
<h3 class="unnumbered unlisted" id="return-value-76" d__="">Return Value</h3>
<p d__="">Returns <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="88"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msub><mjx-mi class="mjx-n"><mjx-c class="mjx-c6C"></mjx-c><mjx-c class="mjx-c6F"></mjx-c><mjx-c class="mjx-c67"></mjx-c></mjx-mi><mjx-script style="vertical-align: -0.241em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class="mjx-n"><mjx-c class="mjx-c2061"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>log</mi><mi s__="13">e</mi></msub><mo data-mjx-texclass="NONE">⁡</mo><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mi>x</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container></span>, <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="89"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-n"><mjx-c class="mjx-c6C"></mjx-c><mjx-c class="mjx-c6E"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c2061"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ln</mi><mo data-mjx-texclass="NONE">⁡</mo><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mi>x</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container></span>.</p>
<h3 class="unnumbered unlisted" id="example-77" d__="">Example</h3>
<p d__="">Compute some big and small logarithm values to see the difference between <code s__="13">log1p()</code> and <code s__="13">log()</code>:</p>
<div class="sourceCode" id="cb303"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb303-1"><a href="#cb303-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb303-2"><a href="#cb303-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;float.h&gt;</span><span class="pp"> </span><span class="co" d__="">// for LDBL_DECIMAL_DIG</span></span>
<span id="cb303-3"><a href="#cb303-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb303-4"><a href="#cb303-4"></a></span>
<span id="cb303-5" d__=""><a href="#cb303-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb303-6"><a href="#cb303-6"></a><span class="op" d__="">{</span></span>
<span id="cb303-7" d__=""><a href="#cb303-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Big log1p()  : </span><span class="sc" d__="">%.*Lf\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> LDBL_DECIMAL_DIG<span class="op" d__="">-</span><span class="dv" d__="">1</span><span class="op" d__="">,</span> log1pl<span class="op" d__="">(</span><span class="dv" d__="">9</span><span class="op" d__="">));</span></span>
<span id="cb303-8" d__=""><a href="#cb303-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Big log()    : </span><span class="sc" d__="">%.*Lf\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> LDBL_DECIMAL_DIG<span class="op" d__="">-</span><span class="dv" d__="">1</span><span class="op" d__="">,</span> logl<span class="op" d__="">(</span><span class="dv" d__="">1</span> <span class="op" d__="">+</span> <span class="dv" d__="">9</span><span class="op" d__="">));</span></span>
<span id="cb303-9"><a href="#cb303-9"></a></span>
<span id="cb303-10" d__=""><a href="#cb303-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Small log1p(): </span><span class="sc" d__="">%.*Lf\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> LDBL_DECIMAL_DIG<span class="op" d__="">-</span><span class="dv" d__="">1</span><span class="op" d__="">,</span> log1pl<span class="op" d__="">(</span><span class="fl" d__="">0.01</span><span class="op" d__="">));</span></span>
<span id="cb303-11" d__=""><a href="#cb303-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Small log()  : </span><span class="sc" d__="">%.*Lf\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> LDBL_DECIMAL_DIG<span class="op" d__="">-</span><span class="dv" d__="">1</span><span class="op" d__="">,</span> logl<span class="op" d__="">(</span><span class="dv" d__="">1</span> <span class="op" d__="">+</span> <span class="fl" d__="">0.01</span><span class="op" d__="">));</span></span>
<span id="cb303-12"><a href="#cb303-12"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output on my system:</p>
<div class="sourceCode" id="cb304"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb304-1" d__=""><a href="#cb304-1" aria-hidden="true" tabindex="-1"></a>Big log1p()  : 2.30258509299404568403</span>
<span id="cb304-2" d__=""><a href="#cb304-2" aria-hidden="true" tabindex="-1"></a>Big log()    : 2.30258509299404568403</span>
<span id="cb304-3" d__=""><a href="#cb304-3" aria-hidden="true" tabindex="-1"></a>Small log1p(): 0.00995033085316808305</span>
<span id="cb304-4" d__=""><a href="#cb304-4" aria-hidden="true" tabindex="-1"></a>Small log()  : 0.00995033085316809164</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-73" d__="">See Also</h3>
<p><a href="#man-log"><code s__="13" d__="">log()</code></a></p>
<hr>
<h2 data-number="13.30" id="man-log2" d__=""><span class="header-section-number">13.30</span> <code>log2()</code>, <code>log2f()</code>, <code>log2l()</code></h2>
<p> </p>
<p d__="">Compute the base-2 logarithm of a number.</p>
<h3 class="unnumbered unlisted" id="synopsis-78" d__="">Synopsis</h3>
<div class="sourceCode" id="cb305"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb305-1"><a href="#cb305-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb305-2"><a href="#cb305-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb305-3" d__=""><a href="#cb305-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> log2<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb305-4"><a href="#cb305-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb305-5" d__=""><a href="#cb305-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> log2f<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb305-6"><a href="#cb305-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb305-7" d__=""><a href="#cb305-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> log2l<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-78" d__="">Description</h3>
<p d__="">Wow! Were you thinking we were done with the logarithm functions? We’re only getting started!</p>
<p d__="">This one computes <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="90"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msub><mjx-mi class="mjx-n"><mjx-c class="mjx-c6C"></mjx-c><mjx-c class="mjx-c6F"></mjx-c><mjx-c class="mjx-c67"></mjx-c></mjx-mi><mjx-script style="vertical-align: -0.241em;"><mjx-mn class="mjx-n" size="s" s__="13"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-script></mjx-msub><mjx-mo class="mjx-n"><mjx-c class="mjx-c2061"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="2"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>log</mi><mn s__="13">2</mn></msub><mo data-mjx-texclass="NONE">⁡</mo><mi>x</mi></math></mjx-assistive-mml></mjx-container></span>. That is, computes <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="91"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></mjx-assistive-mml></mjx-container></span> that satisfies <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="92"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-msup space="4"><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-script style="vertical-align: 0.363em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><msup><mn>2</mn><mi s__="13">y</mi></msup></math></mjx-assistive-mml></mjx-container></span>.</p>
<p d__="">Love me those powers of 2!</p>
<h3 class="unnumbered unlisted" id="return-value-77" d__="">Return Value</h3>
<p d__="">Returns the base-2 logarithm of the given value, <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="93"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msub><mjx-mi class="mjx-n"><mjx-c class="mjx-c6C"></mjx-c><mjx-c class="mjx-c6F"></mjx-c><mjx-c class="mjx-c67"></mjx-c></mjx-mi><mjx-script style="vertical-align: -0.241em;"><mjx-mn class="mjx-n" size="s" s__="13"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-script></mjx-msub><mjx-mo class="mjx-n"><mjx-c class="mjx-c2061"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="2"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>log</mi><mn s__="13">2</mn></msub><mo data-mjx-texclass="NONE">⁡</mo><mi>x</mi></math></mjx-assistive-mml></mjx-container></span>.</p>
<h3 class="unnumbered unlisted" id="example-78" d__="">Example</h3>
<div class="sourceCode" id="cb306"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb306-1"><a href="#cb306-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb306-2"><a href="#cb306-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb306-3"><a href="#cb306-3"></a></span>
<span id="cb306-4" d__=""><a href="#cb306-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb306-5"><a href="#cb306-5"></a><span class="op" d__="">{</span></span>
<span id="cb306-6" d__=""><a href="#cb306-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> log2<span class="op" d__="">(</span><span class="fl" d__="">3490.2</span><span class="op" d__="">));</span>  <span class="co" d__="">// 11.769094</span></span>
<span id="cb306-7" d__=""><a href="#cb306-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> log2<span class="op" d__="">(</span><span class="dv" d__="">256</span><span class="op" d__="">));</span>     <span class="co" d__="">// 8.000000</span></span>
<span id="cb306-8"><a href="#cb306-8"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-74" d__="">See Also</h3>
<p><a href="#man-log"><code s__="13" d__="">log()</code></a></p>
<hr>
<h2 data-number="13.31" id="man-logb" d__=""><span class="header-section-number">13.31</span> <code>logb()</code>, <code>logbf()</code>, <code>logbl()</code></h2>
<p> </p>
<p d__="">Extract the exponent of a number given <code s__="13">FLT_RADIX</code>.</p>
<h3 class="unnumbered unlisted" id="synopsis-79" d__="">Synopsis</h3>
<div class="sourceCode" id="cb307"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb307-1"><a href="#cb307-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb307-2"><a href="#cb307-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb307-3" d__=""><a href="#cb307-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> logb<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb307-4"><a href="#cb307-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb307-5" d__=""><a href="#cb307-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> logbf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb307-6"><a href="#cb307-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb307-7" d__=""><a href="#cb307-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> logbl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-79" d__="">Description</h3>
<p d__="">This function returns the whole number portion of the exponent of the number with radix <code s__="13">FLT_RADIX</code>, namely the whole number portion <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="94"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msub><mjx-mi class="mjx-n"><mjx-c class="mjx-c6C"></mjx-c><mjx-c class="mjx-c6F"></mjx-c><mjx-c class="mjx-c67"></mjx-c></mjx-mi><mjx-script style="vertical-align: -0.241em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D45F TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class="mjx-n"><mjx-c class="mjx-c2061"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>log</mi><mi s__="13">r</mi></msub><mo data-mjx-texclass="NONE">⁡</mo><mo data-mjx-texclass="ORD" stretchy="false">|</mo><mi>x</mi><mo data-mjx-texclass="ORD" stretchy="false">|</mo></math></mjx-assistive-mml></mjx-container></span> where <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="95"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45F TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi></math></mjx-assistive-mml></mjx-container></span> is <code s__="13">FLT_RADIX</code>. Fractional numbers are truncated.</p>
<p d__="">If the number is <a href="https://en.wikipedia.org/wiki/Denormal_number" d__="">subnormal</a><a href="#fn26" class="footnote-ref" id="fnref26" role="doc-noteref"><sup s__="13" d__="">26</sup></a>, <code s__="13">logb()</code> treats it as if it were normalized.</p>
<p d__="">If <code s__="13">x</code> is <code s__="13">0</code>, there could be a domain error or pole error.</p>
<h3 class="unnumbered unlisted" id="return-value-78" d__="">Return Value</h3>
<p d__="">This function returns the whole number portion of <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="96"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msub><mjx-mi class="mjx-n"><mjx-c class="mjx-c6C"></mjx-c><mjx-c class="mjx-c6F"></mjx-c><mjx-c class="mjx-c67"></mjx-c></mjx-mi><mjx-script style="vertical-align: -0.241em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D45F TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class="mjx-n"><mjx-c class="mjx-c2061"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>log</mi><mi s__="13">r</mi></msub><mo data-mjx-texclass="NONE">⁡</mo><mo data-mjx-texclass="ORD" stretchy="false">|</mo><mi>x</mi><mo data-mjx-texclass="ORD" stretchy="false">|</mo></math></mjx-assistive-mml></mjx-container></span> where <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="97"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45F TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi></math></mjx-assistive-mml></mjx-container></span> is <code s__="13">FLT_RADIX</code>.</p>
<h3 class="unnumbered unlisted" id="example-79" d__="">Example</h3>
<div class="sourceCode" id="cb308"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb308-1"><a href="#cb308-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb308-2"><a href="#cb308-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;float.h&gt;</span><span class="pp">  </span><span class="co" d__="">// For FLT_RADIX</span></span>
<span id="cb308-3"><a href="#cb308-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb308-4"><a href="#cb308-4"></a></span>
<span id="cb308-5" d__=""><a href="#cb308-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb308-6"><a href="#cb308-6"></a><span class="op" d__="">{</span></span>
<span id="cb308-7" d__=""><a href="#cb308-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"FLT_RADIX = </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> FLT_RADIX<span class="op" d__="">);</span></span>
<span id="cb308-8" d__=""><a href="#cb308-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> logb<span class="op" d__="">(</span><span class="fl" d__="">3490.2</span><span class="op" d__="">));</span></span>
<span id="cb308-9" d__=""><a href="#cb308-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> logb<span class="op" d__="">(</span><span class="dv" d__="">256</span><span class="op" d__="">));</span></span>
<span id="cb308-10"><a href="#cb308-10"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb309"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb309-1" d__=""><a href="#cb309-1" aria-hidden="true" tabindex="-1"></a>FLT_RADIX = 2</span>
<span id="cb309-2" d__=""><a href="#cb309-2" aria-hidden="true" tabindex="-1"></a>11.000000</span>
<span id="cb309-3" d__=""><a href="#cb309-3" aria-hidden="true" tabindex="-1"></a>8.000000</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-75" d__="">See Also</h3>
<p><a href="#man-ilogb"><code s__="13" d__="">ilogb()</code></a></p>
<hr>
<h2 data-number="13.32" id="man-modf" d__=""><span class="header-section-number">13.32</span> <code>modf()</code>, <code>modff()</code>, <code>modfl()</code></h2>
<p> </p>
<p d__="">Extract the integral and fractional parts of a number.</p>
<h3 class="unnumbered unlisted" id="synopsis-80" d__="">Synopsis</h3>
<div class="sourceCode" id="cb310"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb310-1"><a href="#cb310-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb310-2"><a href="#cb310-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb310-3" d__=""><a href="#cb310-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> modf<span class="op" d__="">(</span><span class="dt" d__="">double</span> value<span class="op" d__="">,</span> <span class="dt" d__="">double</span> <span class="op" d__="">*</span>iptr<span class="op" d__="">);</span></span>
<span id="cb310-4"><a href="#cb310-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb310-5" d__=""><a href="#cb310-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> modff<span class="op" d__="">(</span><span class="dt" d__="">float</span> value<span class="op" d__="">,</span> <span class="dt" d__="">float</span> <span class="op" d__="">*</span>iptr<span class="op" d__="">);</span></span>
<span id="cb310-6"><a href="#cb310-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb310-7" d__=""><a href="#cb310-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> modfl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> value<span class="op" d__="">,</span> <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> <span class="op" d__="">*</span>iptr<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-80" d__="">Description</h3>
<p d__="">If you have a floating point number, like <code s__="13">123.456</code>, this function will extract the integral part (<code s__="13">123.0</code>) and the fractional part (<code s__="13">0.456</code>). It’s total coincidence that this is exactly the plot for the latest Jason Statham action spectacular.</p>
<p d__="">Both the integral part and fractional parts keep the sign of the passed in <code s__="13">value</code>.</p>
<p d__="">The integral part is stored in the address pointed to by <code s__="13">iptr</code>.</p>
<p d__="">See the note in <a href="#man-frexp"><code s__="13" d__="">frexp()</code></a> regarding why this is in the library.</p>
<h3 class="unnumbered unlisted" id="return-value-79" d__="">Return Value</h3>
<p d__="">These functions return the fractional part of the number. The integral part is stored in the address pointed to by <code s__="13">iptr</code>. Both the integral and fractional parts preserve the sign of the passed-in <code s__="13">value</code>.</p>
<h3 class="unnumbered unlisted" id="example-80" d__="">Example</h3>
<div class="sourceCode" id="cb311"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb311-1"><a href="#cb311-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb311-2"><a href="#cb311-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb311-3"><a href="#cb311-3"></a></span>
<span id="cb311-4" d__=""><a href="#cb311-4"></a><span class="dt" d__="">void</span> print_parts<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">)</span></span>
<span id="cb311-5"><a href="#cb311-5"></a><span class="op" d__="">{</span></span>
<span id="cb311-6" d__=""><a href="#cb311-6"></a>    <span class="dt" d__="">double</span> i<span class="op" d__="">,</span> f<span class="op" d__="">;</span></span>
<span id="cb311-7"><a href="#cb311-7"></a></span>
<span id="cb311-8" d__=""><a href="#cb311-8"></a>    f <span class="op" d__="">=</span> modf<span class="op" d__="">(</span>x<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>i<span class="op" d__="">);</span></span>
<span id="cb311-9"><a href="#cb311-9"></a></span>
<span id="cb311-10" d__=""><a href="#cb311-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Entire number  : </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> x<span class="op" d__="">);</span></span>
<span id="cb311-11" d__=""><a href="#cb311-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Integral part  : </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> i<span class="op" d__="">);</span></span>
<span id="cb311-12" d__=""><a href="#cb311-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Fractional part: </span><span class="sc" d__="">%f\n\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> f<span class="op" d__="">);</span></span>
<span id="cb311-13"><a href="#cb311-13"></a><span class="op" d__="">}</span></span>
<span id="cb311-14"><a href="#cb311-14"></a></span>
<span id="cb311-15" d__=""><a href="#cb311-15"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb311-16"><a href="#cb311-16"></a><span class="op" d__="">{</span></span>
<span id="cb311-17" d__=""><a href="#cb311-17"></a>    print_parts<span class="op" d__="">(</span><span class="fl" d__="">123.456</span><span class="op" d__="">);</span></span>
<span id="cb311-18" d__=""><a href="#cb311-18"></a>    print_parts<span class="op" d__="">(-</span><span class="fl" d__="">123.456</span><span class="op" d__="">);</span></span>
<span id="cb311-19"><a href="#cb311-19"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb312"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb312-1" d__=""><a href="#cb312-1" aria-hidden="true" tabindex="-1"></a>Entire number  : 123.456000</span>
<span id="cb312-2" d__=""><a href="#cb312-2" aria-hidden="true" tabindex="-1"></a>Integral part  : 123.000000</span>
<span id="cb312-3" d__=""><a href="#cb312-3" aria-hidden="true" tabindex="-1"></a>Fractional part: 0.456000</span>
<span id="cb312-4"><a href="#cb312-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb312-5" d__=""><a href="#cb312-5" aria-hidden="true" tabindex="-1"></a>Entire number  : -123.456000</span>
<span id="cb312-6" d__=""><a href="#cb312-6" aria-hidden="true" tabindex="-1"></a>Integral part  : -123.000000</span>
<span id="cb312-7" d__=""><a href="#cb312-7" aria-hidden="true" tabindex="-1"></a>Fractional part: -0.456000</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-76" d__="">See Also</h3>
<p><a href="#man-frexp"><code s__="13" d__="">frexp()</code></a></p>
<hr>
<h2 data-number="13.33" id="man-scalb" d__=""><span class="header-section-number">13.33</span> <code>scalbn()</code>, <code>scalbnf()</code>, <code>scalbnl()</code> <code>scalbln()</code>, <code>scalblnf()</code>, <code>scalblnl()</code></h2>
<p> </p>
<p d__="">Efficiently compute <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="98"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-cD7"></mjx-c></mjx-mo><mjx-msup space="3"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45F TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.363em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>×</mo><msup><mi>r</mi><mi s__="13">n</mi></msup></math></mjx-assistive-mml></mjx-container></span>, where <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="99"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45F TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi></math></mjx-assistive-mml></mjx-container></span> is <code s__="13">FLT_RADIX</code>.</p>
<h3 class="unnumbered unlisted" id="synopsis-81" d__="">Synopsis</h3>
<div class="sourceCode" id="cb313"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb313-1"><a href="#cb313-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb313-2"><a href="#cb313-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb313-3" d__=""><a href="#cb313-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> scalbn<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">int</span> n<span class="op" d__="">);</span></span>
<span id="cb313-4"><a href="#cb313-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb313-5" d__=""><a href="#cb313-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> scalbnf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">,</span> <span class="dt" d__="">int</span> n<span class="op" d__="">);</span></span>
<span id="cb313-6"><a href="#cb313-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb313-7" d__=""><a href="#cb313-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> scalbnl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">int</span> n<span class="op" d__="">);</span></span>
<span id="cb313-8"><a href="#cb313-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb313-9" d__=""><a href="#cb313-9" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> scalbln<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> n<span class="op" d__="">);</span></span>
<span id="cb313-10"><a href="#cb313-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb313-11" d__=""><a href="#cb313-11" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> scalblnf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">,</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> n<span class="op" d__="">);</span></span>
<span id="cb313-12"><a href="#cb313-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb313-13" d__=""><a href="#cb313-13" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> scalblnl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> n<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-81" d__="">Description</h3>
<p d__="">These functions efficiently compute <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="100"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-cD7"></mjx-c></mjx-mo><mjx-msup space="3"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45F TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.363em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>×</mo><msup><mi>r</mi><mi s__="13">n</mi></msup></math></mjx-assistive-mml></mjx-container></span>, where <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="101"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45F TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi></math></mjx-assistive-mml></mjx-container></span> is <code s__="13">FLT_RADIX</code>.</p>
<p d__="">If <code s__="13">FLT_RADIX</code> happens to be <code s__="13">2</code> (no guarantees!), then this works like <a href="#man-exp2"><code s__="13" d__="">exp2()</code></a>.</p>
<p d__="">The name of this function should have an obvious meaning to you. Clearly they all start with the prefix “scalb” which means…</p>
<p d__="">…OK, I confess! I have no idea what it means. My searches are futile!</p>
<p d__="">But let’s look at the suffixes:</p>
<table>
<thead>
<tr class="header">
<th d__="">Suffix</th>
<th d__="">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">n</code></td>
<td d__=""><code s__="13">scalbn()</code>—exponent <code s__="13">n</code> is an <code s__="13">int</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">nf</code></td>
<td d__=""><code s__="13">scalbnf()</code>—<code s__="13">float</code> version of <code s__="13">scalbn()</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">nl</code></td>
<td d__=""><code s__="13">scalbnl()</code>—<code s__="13">long double</code> version of <code s__="13">scalbn()</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">ln</code></td>
<td d__=""><code s__="13">scalbln()</code>—exponent <code s__="13">n</code> is a <code s__="13">long int</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">lnf</code></td>
<td d__=""><code s__="13">scalblnf()</code>—<code s__="13">float</code> version of <code s__="13">scalbln()</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">lnl</code></td>
<td d__=""><code s__="13">scalblnl()</code>—<code s__="13">long double</code> version of <code s__="13">scalbln()</code></td>
</tr>
</tbody>
</table>
<p d__="">So while I’m still in the dark about “scalb”, at least I have that part down.</p>
<p d__="">A range error might occur for large values.</p>
<h3 class="unnumbered unlisted" id="return-value-80" d__="">Return Value</h3>
<p d__="">Returns <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="102"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-cD7"></mjx-c></mjx-mo><mjx-msup space="3"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45F TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.363em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>×</mo><msup><mi>r</mi><mi s__="13">n</mi></msup></math></mjx-assistive-mml></mjx-container></span>, where <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="103"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45F TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi></math></mjx-assistive-mml></mjx-container></span> is <code s__="13">FLT_RADIX</code>.</p>
<h3 class="unnumbered unlisted" id="example-81" d__="">Example</h3>
<div class="sourceCode" id="cb314"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb314-1"><a href="#cb314-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb314-2"><a href="#cb314-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb314-3"><a href="#cb314-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;float.h&gt;</span></span>
<span id="cb314-4"><a href="#cb314-4"></a></span>
<span id="cb314-5" d__=""><a href="#cb314-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb314-6"><a href="#cb314-6"></a><span class="op" d__="">{</span></span>
<span id="cb314-7" d__=""><a href="#cb314-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"FLT_RADIX = </span><span class="sc" d__="">%d\n\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> FLT_RADIX<span class="op" d__="">);</span></span>
<span id="cb314-8" d__=""><a href="#cb314-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"scalbn(3, 8)      = </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> scalbn<span class="op" d__="">(</span><span class="dv" d__="">2</span><span class="op" d__="">,</span> <span class="dv" d__="">8</span><span class="op" d__="">));</span></span>
<span id="cb314-9" d__=""><a href="#cb314-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"scalbnf(10.2, 20) = </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> scalbnf<span class="op" d__="">(</span><span class="fl" d__="">10.2</span><span class="op" d__="">,</span> <span class="dv" d__="">20</span><span class="op" d__="">));</span></span>
<span id="cb314-10"><a href="#cb314-10"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output on my system:</p>
<div class="sourceCode" id="cb315"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb315-1" d__=""><a href="#cb315-1" aria-hidden="true" tabindex="-1"></a>FLT_RADIX = 2</span>
<span id="cb315-2"><a href="#cb315-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb315-3" d__=""><a href="#cb315-3" aria-hidden="true" tabindex="-1"></a>scalbn(3, 8)       = 512.000000</span>
<span id="cb315-4" d__=""><a href="#cb315-4" aria-hidden="true" tabindex="-1"></a>scalbn(10.2, 20.7) = 10695475.200000</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-77" d__="">See Also</h3>
<p d__=""><a href="#man-exp2"><code s__="13" d__="">exp2()</code></a>, <a href="#man-pow"><code s__="13" d__="">pow()</code></a></p>
<hr>
<h2 data-number="13.34" id="man-cbrt" d__=""><span class="header-section-number">13.34</span> <code>cbrt()</code>, <code>cbrtf()</code>, <code>cbrtl()</code></h2>
<p> </p>
<p d__="">Compute the cube root.</p>
<h3 class="unnumbered unlisted" id="synopsis-82" d__="">Synopsis</h3>
<div class="sourceCode" id="cb316"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb316-1"><a href="#cb316-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb316-2"><a href="#cb316-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb316-3" d__=""><a href="#cb316-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> cbrt<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb316-4"><a href="#cb316-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb316-5" d__=""><a href="#cb316-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> cbrtf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb316-6"><a href="#cb316-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb316-7" d__=""><a href="#cb316-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> cbrtl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-82" d__="">Description</h3>
<p d__="">Computes the cube root of <code s__="13">x</code>, <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="104"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msup><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.363em;"><mjx-texatom size="s" texclass="ORD" s__="13"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c33"></mjx-c></mjx-mn></mjx-texatom></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>x</mi><mrow data-mjx-texclass="ORD" s__="13"><mn>1</mn><mrow data-mjx-texclass="ORD"><mo>/</mo></mrow><mn>3</mn></mrow></msup></math></mjx-assistive-mml></mjx-container></span>, <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="105"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mroot><mjx-root style="vertical-align: 0.344em; width: 0px;"><mjx-mn class="mjx-n" size="ss" style="padding-left: 0.524em;" s__="9"><mjx-c class="mjx-c33" s__="11"></mjx-c></mjx-mn></mjx-root><mjx-sqrt><mjx-surd><mjx-mo class="mjx-n"><mjx-c class="mjx-c221A"></mjx-c></mjx-mo></mjx-surd><mjx-box style="padding-top: 0.281em;"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-box></mjx-sqrt></mjx-mroot></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mroot><mi>x</mi><mn s__="11">3</mn></mroot></math></mjx-assistive-mml></mjx-container></span>.</p>
<h3 class="unnumbered unlisted" id="return-value-81" d__="">Return Value</h3>
<p d__="">Returns the cube root of <code s__="13">x</code>, <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="106"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msup><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.363em;"><mjx-texatom size="s" texclass="ORD" s__="13"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c33"></mjx-c></mjx-mn></mjx-texatom></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>x</mi><mrow data-mjx-texclass="ORD" s__="13"><mn>1</mn><mrow data-mjx-texclass="ORD"><mo>/</mo></mrow><mn>3</mn></mrow></msup></math></mjx-assistive-mml></mjx-container></span>, <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="107"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mroot><mjx-root style="vertical-align: 0.344em; width: 0px;"><mjx-mn class="mjx-n" size="ss" style="padding-left: 0.524em;" s__="9"><mjx-c class="mjx-c33" s__="11"></mjx-c></mjx-mn></mjx-root><mjx-sqrt><mjx-surd><mjx-mo class="mjx-n"><mjx-c class="mjx-c221A"></mjx-c></mjx-mo></mjx-surd><mjx-box style="padding-top: 0.281em;"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-box></mjx-sqrt></mjx-mroot></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mroot><mi>x</mi><mn s__="11">3</mn></mroot></math></mjx-assistive-mml></mjx-container></span>.</p>
<h3 class="unnumbered unlisted" id="example-82" d__="">Example</h3>
<div class="sourceCode" id="cb317"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb317-1"><a href="#cb317-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb317-2"><a href="#cb317-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb317-3"><a href="#cb317-3"></a></span>
<span id="cb317-4" d__=""><a href="#cb317-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb317-5"><a href="#cb317-5"></a><span class="op" d__="">{</span></span>
<span id="cb317-6" d__=""><a href="#cb317-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"cbrt(1729.03) = </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> cbrt<span class="op" d__="">(</span><span class="fl" d__="">1729.03</span><span class="op" d__="">));</span></span>
<span id="cb317-7"><a href="#cb317-7"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb318"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb318-1" d__=""><a href="#cb318-1" aria-hidden="true" tabindex="-1"></a>cbrt(1729.03) = 12.002384</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-78" d__="">See Also</h3>
<p d__=""><a href="#man-sqrt"><code s__="13" d__="">sqrt()</code></a>, <a href="#man-pow"><code s__="13" d__="">pow()</code></a></p>
<hr>
<h2 data-number="13.35" id="man-fabs" d__=""><span class="header-section-number">13.35</span> <code>fabs()</code>, <code>fabsf()</code>, <code>fabsl()</code></h2>
<p> </p>
<p d__="">Compute the absolute value.</p>
<h3 class="unnumbered unlisted" id="synopsis-83" d__="">Synopsis</h3>
<div class="sourceCode" id="cb319"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb319-1"><a href="#cb319-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb319-2"><a href="#cb319-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb319-3" d__=""><a href="#cb319-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> fabs<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb319-4"><a href="#cb319-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb319-5" d__=""><a href="#cb319-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> fabsf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb319-6"><a href="#cb319-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb319-7" d__=""><a href="#cb319-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> fabsl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-83" d__="">Description</h3>
<p d__="">These functions straightforwardly return the absolute value of <code s__="13">x</code>, that is <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="108"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo data-mjx-texclass="ORD" stretchy="false">|</mo><mi>x</mi><mo data-mjx-texclass="ORD" stretchy="false">|</mo></math></mjx-assistive-mml></mjx-container></span>.</p>
<p d__="">If you’re rusty on your absolute values, all it means is that the result will be positive, even if <code s__="13">x</code> is negative. It’s just strips negative signs off.</p>
<h3 class="unnumbered unlisted" id="return-value-82" d__="">Return Value</h3>
<p d__="">Returns the absolute value of <code s__="13">x</code>, <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="109"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo data-mjx-texclass="ORD" stretchy="false">|</mo><mi>x</mi><mo data-mjx-texclass="ORD" stretchy="false">|</mo></math></mjx-assistive-mml></mjx-container></span>.</p>
<h3 class="unnumbered unlisted" id="example-83" d__="">Example</h3>
<div class="sourceCode" id="cb320"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb320-1"><a href="#cb320-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb320-2"><a href="#cb320-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb320-3"><a href="#cb320-3"></a></span>
<span id="cb320-4" d__=""><a href="#cb320-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb320-5"><a href="#cb320-5"></a><span class="op" d__="">{</span></span>
<span id="cb320-6" d__=""><a href="#cb320-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"fabs(3490.0)  = </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> fabs<span class="op" d__="">(</span><span class="fl" d__="">3490.0</span><span class="op" d__="">));</span>  <span class="co" d__="">// 3490.000000</span></span>
<span id="cb320-7" d__=""><a href="#cb320-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"fabs(-3490.0) = </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> fabs<span class="op" d__="">(</span><span class="fl" d__="">3490.0</span><span class="op" d__="">));</span>  <span class="co" d__="">// 3490.000000</span></span>
<span id="cb320-8"><a href="#cb320-8"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-79" d__="">See Also</h3>
<p d__=""><a href="#man-abs"><code s__="13" d__="">abs()</code></a>, <a href="#man-copysign"><code s__="13" d__="">copysign()</code></a>, <a href="#man-imaxabs"><code s__="13" d__="">imaxabs()</code></a></p>
<hr>
<h2 data-number="13.36" id="man-hypot" d__=""><span class="header-section-number">13.36</span> <code>hypot()</code>, <code>hypotf()</code>, <code>hypotl()</code></h2>
<p> </p>
<p d__="">Compute the length of the hypotenuse of a triangle.</p>
<h3 class="unnumbered unlisted" id="synopsis-84" d__="">Synopsis</h3>
<div class="sourceCode" id="cb321"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb321-1"><a href="#cb321-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb321-2"><a href="#cb321-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb321-3" d__=""><a href="#cb321-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> hypot<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">double</span> y<span class="op" d__="">);</span></span>
<span id="cb321-4"><a href="#cb321-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb321-5" d__=""><a href="#cb321-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> hypotf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">,</span> <span class="dt" d__="">float</span> y<span class="op" d__="">);</span></span>
<span id="cb321-6"><a href="#cb321-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb321-7" d__=""><a href="#cb321-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> hypotl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> y<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-84" d__="">Description</h3>
<p d__=""><a href="https://en.wikipedia.org/wiki/Pythagorean_theorem" d__="">Pythagorean Theorem</a><a href="#fn27" class="footnote-ref" id="fnref27" role="doc-noteref"><sup s__="13" d__="">27</sup></a> fans rejoice! This is the function you’ve been waiting for!</p>
<p d__="">If you know the lengths of the two sides of a right triangle, <code s__="13">x</code> and <code s__="13">y</code>, you can compute the length of the hypotenuse (the longest, diagonal side) with this function.</p>
<p d__="">In particular, it computes the square root of the sum of the squares of the sides: <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="110"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msqrt><mjx-sqrt><mjx-surd><mjx-mo class="mjx-sop"><mjx-c class="mjx-c221A TEX-S1"></mjx-c></mjx-mo></mjx-surd><mjx-box style="padding-top: 0.125em;"><mjx-msup><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.289em;"><mjx-mn class="mjx-n" size="s" s__="13"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-script></mjx-msup><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-msup space="3"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.289em;"><mjx-mn class="mjx-n" size="s" s__="13"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-script></mjx-msup></mjx-box></mjx-sqrt></mjx-msqrt></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msqrt><msup><mi>x</mi><mn s__="13">2</mn></msup><mo>+</mo><msup><mi>y</mi><mn s__="13">2</mn></msup></msqrt></math></mjx-assistive-mml></mjx-container></span>.</p>
<h3 class="unnumbered unlisted" id="return-value-83" d__="">Return Value</h3>
<p d__="">Returns the lenght of the hypotenuse of a right triangle with side lengths <code s__="13">x</code> and <code s__="13">y</code>: <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="111"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msqrt><mjx-sqrt><mjx-surd><mjx-mo class="mjx-sop"><mjx-c class="mjx-c221A TEX-S1"></mjx-c></mjx-mo></mjx-surd><mjx-box style="padding-top: 0.125em;"><mjx-msup><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.289em;"><mjx-mn class="mjx-n" size="s" s__="13"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-script></mjx-msup><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-msup space="3"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.289em;"><mjx-mn class="mjx-n" size="s" s__="13"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-script></mjx-msup></mjx-box></mjx-sqrt></mjx-msqrt></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msqrt><msup><mi>x</mi><mn s__="13">2</mn></msup><mo>+</mo><msup><mi>y</mi><mn s__="13">2</mn></msup></msqrt></math></mjx-assistive-mml></mjx-container></span>.</p>
<h3 class="unnumbered unlisted" id="example-84" d__="">Example</h3>
<div class="sourceCode" id="cb322"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb322-1" d__=""><a href="#cb322-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> hypot<span class="op" d__="">(</span><span class="dv" d__="">3</span><span class="op" d__="">,</span> <span class="dv" d__="">4</span><span class="op" d__="">));</span>  <span class="co" d__="">// 5.000000</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-80" d__="">See Also</h3>
<p><a href="#man-sqrt"><code s__="13" d__="">sqrt()</code></a></p>
<hr>
<h2 data-number="13.37" id="man-pow" d__=""><span class="header-section-number">13.37</span> <code>pow()</code>, <code>powf()</code>, <code>powl()</code></h2>
<p> </p>
<p d__="">Compute a value raised to a power.</p>
<h3 class="unnumbered unlisted" id="synopsis-85" d__="">Synopsis</h3>
<div class="sourceCode" id="cb323"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb323-1"><a href="#cb323-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb323-2"><a href="#cb323-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb323-3" d__=""><a href="#cb323-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> pow<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">double</span> y<span class="op" d__="">);</span></span>
<span id="cb323-4"><a href="#cb323-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb323-5" d__=""><a href="#cb323-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> powf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">,</span> <span class="dt" d__="">float</span> y<span class="op" d__="">);</span></span>
<span id="cb323-6"><a href="#cb323-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb323-7" d__=""><a href="#cb323-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> powl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> y<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-85" d__="">Description</h3>
<p d__="">Computes <code s__="13">x</code> raised to the <code s__="13">y</code>th power: <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="112"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msup><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.363em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>x</mi><mi s__="13">y</mi></msup></math></mjx-assistive-mml></mjx-container></span>.</p>
<p d__="">These arguments can be fractional.</p>
<h3 class="unnumbered unlisted" id="return-value-84" d__="">Return Value</h3>
<p d__="">Returns <code s__="13">x</code> raised to the <code s__="13">y</code>th power: <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="113"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msup><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.363em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>x</mi><mi s__="13">y</mi></msup></math></mjx-assistive-mml></mjx-container></span>.</p>
<p d__="">A domain error can occur if:</p>
<ul>
<li d__=""><code s__="13">x</code> is a finite negative number and <code s__="13">y</code> is a finite non-integer</li>
<li d__=""><code s__="13">x</code> is zero and <code s__="13">y</code> is zero.</li>
</ul>
<p d__="">A domain error or pole error can occur if <code s__="13">x</code> is zero and <code s__="13">y</code> is negative.</p>
<p d__="">A range error can occur for large values.</p>
<h3 class="unnumbered unlisted" id="example-85" d__="">Example</h3>
<div class="sourceCode" id="cb324"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb324-1" d__=""><a href="#cb324-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> pow<span class="op" d__="">(</span><span class="dv" d__="">3</span><span class="op" d__="">,</span> <span class="dv" d__="">4</span><span class="op" d__="">));</span>    <span class="co" d__="">// 3^4    = 81.000000</span></span>
<span id="cb324-2" d__=""><a href="#cb324-2"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> pow<span class="op" d__="">(</span><span class="dv" d__="">2</span><span class="op" d__="">,</span> <span class="fl" d__="">0.5</span><span class="op" d__="">));</span>  <span class="co" d__="">// sqrt 2 = 1.414214</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-81" d__="">See Also</h3>
<p d__=""><a href="#man-exp"><code s__="13" d__="">exp()</code></a>, <a href="#man-exp2"><code s__="13" d__="">exp2()</code></a>, <a href="#man-sqrt"><code s__="13" d__="">sqrt()</code></a>, <a href="#man-cbrt"><code s__="13" d__="">cbrt()</code></a></p>
<hr>
<h2 data-number="13.38" id="man-sqrt"><span class="header-section-number" d__="">13.38</span> <code d__="">sqrt()</code></h2>
<p> </p>
<p d__="">Calculate the square root of a number.</p>
<h3 class="unnumbered unlisted" id="synopsis-86" d__="">Synopsis</h3>
<div class="sourceCode" id="cb325"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb325-1"><a href="#cb325-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb325-2"><a href="#cb325-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb325-3" d__=""><a href="#cb325-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> sqrt<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb325-4"><a href="#cb325-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb325-5" d__=""><a href="#cb325-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> sqrtf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb325-6"><a href="#cb325-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb325-7" d__=""><a href="#cb325-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> sqrtl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-86" d__="">Description</h3>
<p d__="">Computes the square root of a number: <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="114"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msqrt><mjx-sqrt><mjx-surd><mjx-mo class="mjx-n"><mjx-c class="mjx-c221A"></mjx-c></mjx-mo></mjx-surd><mjx-box style="padding-top: 0.281em;"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-box></mjx-sqrt></mjx-msqrt></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msqrt><mi>x</mi></msqrt></math></mjx-assistive-mml></mjx-container></span>.
 To those of you who don’t know what a square root is, I’m not going to 
explain. Suffice it to say, the square root of a number delivers a value
 that when squared (multiplied by itself) results in the original 
number.</p>
<p d__="">Ok, fine—I did explain it after all, but only because I wanted
 to show off. It’s not like I’m giving you examples or anything, such as
 the square root of nine is three, because when you multiply three by 
three you get nine, or anything like that. No examples. I hate examples!</p>
<p d__="">And I suppose you wanted some actual practical information 
here as well. You can see the usual trio of functions here—they all 
compute square root, but they take different types as arguments. Pretty 
straightforward, really.</p>
<p d__="">A domain error occurs if <code s__="13">x</code> is negative.</p>
<h3 class="unnumbered unlisted" id="return-value-85" d__="">Return Value</h3>
<p d__="">Returns (and I know this must be something of a surprise to you) the square root of <code s__="13">x</code>: <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="115"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msqrt><mjx-sqrt><mjx-surd><mjx-mo class="mjx-n"><mjx-c class="mjx-c221A"></mjx-c></mjx-mo></mjx-surd><mjx-box style="padding-top: 0.281em;"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-box></mjx-sqrt></mjx-msqrt></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msqrt><mi>x</mi></msqrt></math></mjx-assistive-mml></mjx-container></span>.</p>
<h3 class="unnumbered unlisted" id="example-86" d__="">Example</h3>
<div class="sourceCode" id="cb326"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb326-1"><a href="#cb326-1"></a><span class="co" d__="">// example usage of sqrt()</span></span>
<span id="cb326-2"><a href="#cb326-2"></a></span>
<span id="cb326-3" d__=""><a href="#cb326-3"></a><span class="dt" d__="">float</span> something <span class="op" d__="">=</span> <span class="dv" d__="">10</span><span class="op" d__="">;</span></span>
<span id="cb326-4"><a href="#cb326-4"></a></span>
<span id="cb326-5" d__=""><a href="#cb326-5"></a><span class="dt" d__="">double</span> x1 <span class="op" d__="">=</span> <span class="fl" d__="">8.2</span><span class="op" d__="">,</span> y1 <span class="op" d__="">=</span> <span class="op" d__="">-</span><span class="fl" d__="">5.4</span><span class="op" d__="">;</span></span>
<span id="cb326-6" d__=""><a href="#cb326-6"></a><span class="dt" d__="">double</span> x2 <span class="op" d__="">=</span> <span class="fl" d__="">3.8</span><span class="op" d__="">,</span> y2 <span class="op" d__="">=</span> <span class="fl" d__="">34.9</span><span class="op" d__="">;</span></span>
<span id="cb326-7" d__=""><a href="#cb326-7"></a><span class="dt" d__="">double</span> dx<span class="op" d__="">,</span> dy<span class="op" d__="">;</span></span>
<span id="cb326-8"><a href="#cb326-8"></a></span>
<span id="cb326-9" d__=""><a href="#cb326-9"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"square root of 10 is </span><span class="sc" d__="">%.2f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> sqrtf<span class="op" d__="">(</span>something<span class="op" d__="">));</span></span>
<span id="cb326-10"><a href="#cb326-10"></a></span>
<span id="cb326-11" d__=""><a href="#cb326-11"></a>dx <span class="op" d__="">=</span> x2 <span class="op" d__="">-</span> x1<span class="op" d__="">;</span></span>
<span id="cb326-12" d__=""><a href="#cb326-12"></a>dy <span class="op" d__="">=</span> y2 <span class="op" d__="">-</span> y1<span class="op" d__="">;</span></span>
<span id="cb326-13" d__=""><a href="#cb326-13"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"distance between points (x1, y1) and (x2, y2): </span><span class="sc" d__="">%.2f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span></span>
<span id="cb326-14" d__=""><a href="#cb326-14"></a>    sqrt<span class="op" d__="">(</span>dx<span class="op" d__="">*</span>dx <span class="op" d__="">+</span> dy<span class="op" d__="">*</span>dy<span class="op" d__="">));</span></span></code></pre></div>
<p d__="">And the output is:</p>
<div class="sourceCode" id="cb327"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb327-1" d__=""><a href="#cb327-1" aria-hidden="true" tabindex="-1"></a>square root of 10 is 3.16</span>
<span id="cb327-2" d__=""><a href="#cb327-2" aria-hidden="true" tabindex="-1"></a>distance between points (x1, y1) and (x2, y2): 40.54</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-82" d__="">See Also</h3>
<p d__=""><a href="#man-hypot"><code s__="13" d__="">hypot()</code></a>, <a href="#man-pow"><code s__="13" d__="">pow()</code></a></p>
<hr>
<h2 data-number="13.39" id="man-erf" d__=""><span class="header-section-number">13.39</span> <code>erf()</code>, <code>erff()</code>, <code>erfl()</code></h2>
<p> </p>
<p d__="">Compute the error function of the given value.</p>
<h3 class="unnumbered unlisted" id="synopsis-87" d__="">Synopsis</h3>
<div class="sourceCode" id="cb328"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb328-1"><a href="#cb328-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb328-2"><a href="#cb328-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb328-3" d__=""><a href="#cb328-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> erfc<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb328-4"><a href="#cb328-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb328-5" d__=""><a href="#cb328-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> erfcf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb328-6"><a href="#cb328-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb328-7" d__=""><a href="#cb328-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> erfcl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-87" d__="">Description</h3>
<p d__="">These functions compute the <a href="https://en.wikipedia.org/wiki/Error_function" d__="">error function</a><a href="#fn28" class="footnote-ref" id="fnref28" role="doc-noteref"><sup s__="13" d__="">28</sup></a> of a value.</p>
<h3 class="unnumbered unlisted" id="return-value-86" d__="">Return Value</h3>
<p d__="">Returns the error function of <code s__="13">x</code>:</p>
<p><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="116"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-texatom texclass="ORD"><mjx-mstyle><mjx-mfrac><mjx-frac type="d"><mjx-num><mjx-nstrut type="d"></mjx-nstrut><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-num><mjx-dbox s__="0"><mjx-dtable s__="0"><mjx-line type="d"></mjx-line><mjx-row><mjx-den><mjx-dstrut type="d"></mjx-dstrut><mjx-msqrt><mjx-sqrt><mjx-surd><mjx-mo class="mjx-n"><mjx-c class="mjx-c221A"></mjx-c></mjx-mo></mjx-surd><mjx-box style="padding-top: 0.286em;"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D70B TEX-I"></mjx-c></mjx-mi></mjx-box></mjx-sqrt></mjx-msqrt></mjx-den></mjx-row></mjx-dtable></mjx-dbox></mjx-frac></mjx-mfrac><mjx-msubsup space="2"><mjx-mo class="mjx-lop"><mjx-c class="mjx-c222B TEX-S2"></mjx-c></mjx-mo><mjx-script style="vertical-align: -0.896em; margin-left: -0.388em;"><mjx-mi class="mjx-i" size="s" style="margin-left: 0.647em;" s__="13"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-spacer style="margin-top: 1.506em;"></mjx-spacer><mjx-mn class="mjx-n" size="s" s__="13"><mjx-c class="mjx-c30"></mjx-c></mjx-mn></mjx-script></mjx-msubsup><mjx-msup space="2"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.413em;"><mjx-texatom size="s" texclass="ORD" s__="13"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-msup><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.363em;"><mjx-mn class="mjx-n" size="s" s__="11"><mjx-c class="mjx-c32" s__="13"></mjx-c></mjx-mn></mjx-script></mjx-msup></mjx-texatom></mjx-script></mjx-msup><mjx-mstyle><mjx-mspace style="width: 0.167em;"></mjx-mspace></mjx-mstyle><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D451 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi></mjx-mstyle></mjx-texatom></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mstyle displaystyle="true" scriptlevel="0"><mfrac><mn d__="">2</mn><msqrt><mi d__="">π</mi></msqrt></mfrac><msubsup><mo data-mjx-texclass="OP" d__="">∫</mo><mn s__="13" d__="">0</mn><mi s__="13" d__="">x</mi></msubsup><msup><mi d__="">e</mi><mrow data-mjx-texclass="ORD" s__="13"><mo d__="">−</mo><msup><mi d__="">t</mi><mn s__="12" d__="">2</mn></msup></mrow></msup><mstyle scriptlevel="0"><mspace width="0.167em"></mspace></mstyle><mi d__="">d</mi><mi d__="">t</mi></mstyle></mrow></math></mjx-assistive-mml></mjx-container></span></p>
<h3 class="unnumbered unlisted" id="example-87" d__="">Example</h3>
<div class="sourceCode" id="cb329"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb329-1" d__=""><a href="#cb329-1"></a><span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">float</span> i <span class="op" d__="">=</span> <span class="op" d__="">-</span><span class="dv" d__="">2</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;=</span> <span class="dv" d__="">2</span><span class="op" d__="">;</span> i <span class="op" d__="">+=</span> <span class="fl" d__="">0.5</span><span class="op" d__="">)</span></span>
<span id="cb329-2" d__=""><a href="#cb329-2"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">% .1f</span><span class="st" d__="">: </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> i<span class="op" d__="">,</span> erf<span class="op" d__="">(</span>i<span class="op" d__="">));</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb330"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb330-1" d__=""><a href="#cb330-1" aria-hidden="true" tabindex="-1"></a>-2.0: -0.995322</span>
<span id="cb330-2" d__=""><a href="#cb330-2" aria-hidden="true" tabindex="-1"></a>-1.5: -0.966105</span>
<span id="cb330-3" d__=""><a href="#cb330-3" aria-hidden="true" tabindex="-1"></a>-1.0: -0.842701</span>
<span id="cb330-4" d__=""><a href="#cb330-4" aria-hidden="true" tabindex="-1"></a>-0.5: -0.520500</span>
<span id="cb330-5" d__=""><a href="#cb330-5" aria-hidden="true" tabindex="-1"></a> 0.0: 0.000000</span>
<span id="cb330-6" d__=""><a href="#cb330-6" aria-hidden="true" tabindex="-1"></a> 0.5: 0.520500</span>
<span id="cb330-7" d__=""><a href="#cb330-7" aria-hidden="true" tabindex="-1"></a> 1.0: 0.842701</span>
<span id="cb330-8" d__=""><a href="#cb330-8" aria-hidden="true" tabindex="-1"></a> 1.5: 0.966105</span>
<span id="cb330-9" d__=""><a href="#cb330-9" aria-hidden="true" tabindex="-1"></a> 2.0: 0.995322</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-83" d__="">See Also</h3>
<p><a href="#man-erfc"><code s__="13" d__="">erfc()</code></a></p>
<hr>
<h2 data-number="13.40" id="man-erfc" d__=""><span class="header-section-number">13.40</span> <code>erfc()</code>, <code>erfcf()</code>, <code>erfcl()</code></h2>
<p> </p>
<p d__="">Compute the complementary error function of a value.</p>
<h3 class="unnumbered unlisted" id="synopsis-88" d__="">Synopsis</h3>
<div class="sourceCode" id="cb331"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb331-1"><a href="#cb331-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb331-2"><a href="#cb331-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb331-3" d__=""><a href="#cb331-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> erfc<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb331-4"><a href="#cb331-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb331-5" d__=""><a href="#cb331-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> erfcf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb331-6"><a href="#cb331-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb331-7" d__=""><a href="#cb331-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> erfcl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-88" d__="">Description</h3>
<p d__="">These functions compute the <a href="https://en.wikipedia.org/wiki/Error_function" d__="">complementary error function</a><a href="#fn29" class="footnote-ref" id="fnref29" role="doc-noteref"><sup s__="13" d__="">29</sup></a> of a value.</p>
<p d__="">This is the same as:</p>
<div class="sourceCode" id="cb332"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb332-1" d__=""><a href="#cb332-1" aria-hidden="true" tabindex="-1"></a><span class="dv" d__="">1</span> <span class="op" d__="">-</span> erf<span class="op" d__="">(</span>x<span class="op" d__="">)</span></span></code></pre></div>
<p d__="">A range error can occur if <code s__="13">x</code> is too large.</p>
<h3 class="unnumbered unlisted" id="return-value-87" d__="">Return Value</h3>
<p d__="">Returns <code s__="13">1 - erf(x)</code>, namely:</p>
<p><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="117"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-texatom texclass="ORD"><mjx-mstyle><mjx-mfrac><mjx-frac type="d"><mjx-num><mjx-nstrut type="d"></mjx-nstrut><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-num><mjx-dbox s__="0"><mjx-dtable s__="0"><mjx-line type="d"></mjx-line><mjx-row><mjx-den><mjx-dstrut type="d"></mjx-dstrut><mjx-msqrt><mjx-sqrt><mjx-surd><mjx-mo class="mjx-n"><mjx-c class="mjx-c221A"></mjx-c></mjx-mo></mjx-surd><mjx-box style="padding-top: 0.286em;"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D70B TEX-I"></mjx-c></mjx-mi></mjx-box></mjx-sqrt></mjx-msqrt></mjx-den></mjx-row></mjx-dtable></mjx-dbox></mjx-frac></mjx-mfrac><mjx-msubsup space="2"><mjx-mo class="mjx-lop"><mjx-c class="mjx-c222B TEX-S2"></mjx-c></mjx-mo><mjx-script style="vertical-align: -0.896em; margin-left: -0.388em;"><mjx-texatom size="s" texclass="ORD" style="margin-left: 0.647em;" s__="13"><mjx-mi class="mjx-n"><mjx-c class="mjx-c221E"></mjx-c></mjx-mi></mjx-texatom><mjx-spacer style="margin-top: 1.664em;"></mjx-spacer><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msubsup><mjx-msup space="2"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.413em;"><mjx-texatom size="s" texclass="ORD" s__="13"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-msup><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi><mjx-script style="vertical-align: 0.363em;"><mjx-mn class="mjx-n" size="s" s__="11"><mjx-c class="mjx-c32" s__="13"></mjx-c></mjx-mn></mjx-script></mjx-msup></mjx-texatom></mjx-script></mjx-msup><mjx-mstyle><mjx-mspace style="width: 0.167em;"></mjx-mspace></mjx-mstyle><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D451 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D461 TEX-I"></mjx-c></mjx-mi></mjx-mstyle></mjx-texatom></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow data-mjx-texclass="ORD"><mstyle displaystyle="true" scriptlevel="0"><mfrac><mn d__="">2</mn><msqrt><mi d__="">π</mi></msqrt></mfrac><msubsup><mo data-mjx-texclass="OP" d__="">∫</mo><mi s__="13" d__="">x</mi><mrow data-mjx-texclass="ORD" s__="13"><mi mathvariant="normal" d__="">∞</mi></mrow></msubsup><msup><mi d__="">e</mi><mrow data-mjx-texclass="ORD" s__="13"><mo d__="">−</mo><msup><mi d__="">t</mi><mn s__="12" d__="">2</mn></msup></mrow></msup><mstyle scriptlevel="0"><mspace width="0.167em"></mspace></mstyle><mi d__="">d</mi><mi d__="">t</mi></mstyle></mrow></math></mjx-assistive-mml></mjx-container></span></p>
<h3 class="unnumbered unlisted" id="example-88" d__="">Example</h3>
<div class="sourceCode" id="cb333"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb333-1" d__=""><a href="#cb333-1"></a><span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">float</span> i <span class="op" d__="">=</span> <span class="op" d__="">-</span><span class="dv" d__="">2</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;=</span> <span class="dv" d__="">2</span><span class="op" d__="">;</span> i <span class="op" d__="">+=</span> <span class="fl" d__="">0.5</span><span class="op" d__="">)</span></span>
<span id="cb333-2" d__=""><a href="#cb333-2"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">% .1f</span><span class="st" d__="">: </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> i<span class="op" d__="">,</span> erfc<span class="op" d__="">(</span>i<span class="op" d__="">));</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb334"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb334-1" d__=""><a href="#cb334-1" aria-hidden="true" tabindex="-1"></a>-2.0: 1.995322</span>
<span id="cb334-2" d__=""><a href="#cb334-2" aria-hidden="true" tabindex="-1"></a>-1.5: 1.966105</span>
<span id="cb334-3" d__=""><a href="#cb334-3" aria-hidden="true" tabindex="-1"></a>-1.0: 1.842701</span>
<span id="cb334-4" d__=""><a href="#cb334-4" aria-hidden="true" tabindex="-1"></a>-0.5: 1.520500</span>
<span id="cb334-5" d__=""><a href="#cb334-5" aria-hidden="true" tabindex="-1"></a> 0.0: 1.000000</span>
<span id="cb334-6" d__=""><a href="#cb334-6" aria-hidden="true" tabindex="-1"></a> 0.5: 0.479500</span>
<span id="cb334-7" d__=""><a href="#cb334-7" aria-hidden="true" tabindex="-1"></a> 1.0: 0.157299</span>
<span id="cb334-8" d__=""><a href="#cb334-8" aria-hidden="true" tabindex="-1"></a> 1.5: 0.033895</span>
<span id="cb334-9" d__=""><a href="#cb334-9" aria-hidden="true" tabindex="-1"></a> 2.0: 0.004678</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-84" d__="">See Also</h3>
<p><a href="#man-erf"><code s__="13" d__="">erf()</code></a></p>
<hr>
<h2 data-number="13.41" id="man-lgamma" d__=""><span class="header-section-number">13.41</span> <code>lgamma()</code>, <code>lgammaf()</code>, <code>lgammal()</code></h2>
<p> </p>
<p d__="">Compute the natural logarithm of the absolute value of <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="118"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-n"><mjx-c class="mjx-c393"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi mathvariant="normal">Γ</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container></span>.</p>
<h3 class="unnumbered unlisted" id="synopsis-89" d__="">Synopsis</h3>
<div class="sourceCode" id="cb335"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb335-1"><a href="#cb335-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb335-2"><a href="#cb335-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb335-3" d__=""><a href="#cb335-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> lgamma<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb335-4"><a href="#cb335-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb335-5" d__=""><a href="#cb335-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> lgammaf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb335-6"><a href="#cb335-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb335-7" d__=""><a href="#cb335-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> lgammal<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-89" d__="">Description</h3>
<p d__="">Compute the natural log of the absolute value of <a href="https://en.wikipedia.org/wiki/Gamma_function" d__="">gamma</a><a href="#fn30" class="footnote-ref" id="fnref30" role="doc-noteref"><sup s__="13" d__="">30</sup></a> <code s__="13">x</code>, <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="119"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msub><mjx-mi class="mjx-n"><mjx-c class="mjx-c6C"></mjx-c><mjx-c class="mjx-c6F"></mjx-c><mjx-c class="mjx-c67"></mjx-c></mjx-mi><mjx-script style="vertical-align: -0.241em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class="mjx-n"><mjx-c class="mjx-c2061"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo><mjx-mi class="mjx-n"><mjx-c class="mjx-c393"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>log</mi><mi s__="13">e</mi></msub><mo data-mjx-texclass="NONE">⁡</mo><mo data-mjx-texclass="ORD" stretchy="false">|</mo><mi mathvariant="normal">Γ</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo data-mjx-texclass="ORD" stretchy="false">|</mo></math></mjx-assistive-mml></mjx-container></span>.</p>
<p d__="">A range error can occur if <code s__="13">x</code> is too large.</p>
<p d__="">A pole error can occur is <code s__="13">x</code> is non-positive.</p>
<h3 class="unnumbered unlisted" id="return-value-88" d__="">Return Value</h3>
<p d__="">Returns <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="120"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msub><mjx-mi class="mjx-n"><mjx-c class="mjx-c6C"></mjx-c><mjx-c class="mjx-c6F"></mjx-c><mjx-c class="mjx-c67"></mjx-c></mjx-mi><mjx-script style="vertical-align: -0.241em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D452 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class="mjx-n"><mjx-c class="mjx-c2061"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo><mjx-mi class="mjx-n"><mjx-c class="mjx-c393"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>log</mi><mi s__="13">e</mi></msub><mo data-mjx-texclass="NONE">⁡</mo><mo data-mjx-texclass="ORD" stretchy="false">|</mo><mi mathvariant="normal">Γ</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo data-mjx-texclass="ORD" stretchy="false">|</mo></math></mjx-assistive-mml></mjx-container></span>.</p>
<h3 class="unnumbered unlisted" id="example-89" d__="">Example</h3>
<div class="sourceCode" id="cb336"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb336-1" d__=""><a href="#cb336-1"></a><span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">float</span> i <span class="op" d__="">=</span> <span class="fl" d__="">0.5</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;=</span> <span class="dv" d__="">4</span><span class="op" d__="">;</span> i <span class="op" d__="">+=</span> <span class="fl" d__="">0.5</span><span class="op" d__="">)</span></span>
<span id="cb336-2" d__=""><a href="#cb336-2"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%.1f</span><span class="st" d__="">: </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> i<span class="op" d__="">,</span> lgamma<span class="op" d__="">(</span>i<span class="op" d__="">));</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb337"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb337-1" d__=""><a href="#cb337-1" aria-hidden="true" tabindex="-1"></a>0.5: 0.572365</span>
<span id="cb337-2" d__=""><a href="#cb337-2" aria-hidden="true" tabindex="-1"></a>1.0: 0.000000</span>
<span id="cb337-3" d__=""><a href="#cb337-3" aria-hidden="true" tabindex="-1"></a>1.5: -0.120782</span>
<span id="cb337-4" d__=""><a href="#cb337-4" aria-hidden="true" tabindex="-1"></a>2.0: 0.000000</span>
<span id="cb337-5" d__=""><a href="#cb337-5" aria-hidden="true" tabindex="-1"></a>2.5: 0.284683</span>
<span id="cb337-6" d__=""><a href="#cb337-6" aria-hidden="true" tabindex="-1"></a>3.0: 0.693147</span>
<span id="cb337-7" d__=""><a href="#cb337-7" aria-hidden="true" tabindex="-1"></a>3.5: 1.200974</span>
<span id="cb337-8" d__=""><a href="#cb337-8" aria-hidden="true" tabindex="-1"></a>4.0: 1.791759</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-85" d__="">See Also</h3>
<p><a href="#man-tgamma"><code s__="13" d__="">tgamma()</code></a></p>
<hr>
<h2 data-number="13.42" id="man-tgamma" d__=""><span class="header-section-number">13.42</span> <code>tgamma()</code>, <code>tgammaf()</code>, <code>tgammal()</code></h2>
<p> </p>
<p d__="">Compute the gamma function, <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="121"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-n"><mjx-c class="mjx-c393"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi mathvariant="normal">Γ</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container></span>.</p>
<h3 class="unnumbered unlisted" id="synopsis-90" d__="">Synopsis</h3>
<div class="sourceCode" id="cb338"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb338-1"><a href="#cb338-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb338-2"><a href="#cb338-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb338-3" d__=""><a href="#cb338-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> tgamma<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb338-4"><a href="#cb338-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb338-5" d__=""><a href="#cb338-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> tgammaf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb338-6"><a href="#cb338-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb338-7" d__=""><a href="#cb338-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> tgammal<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-90" d__="">Description</h3>
<p d__="">Computes the <a href="https://en.wikipedia.org/wiki/Gamma_function" d__="">gamma function</a><a href="#fn31" class="footnote-ref" id="fnref31" role="doc-noteref"><sup s__="13" d__="">31</sup></a> of <code s__="13">x</code>, <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="122"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-n"><mjx-c class="mjx-c393"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi mathvariant="normal">Γ</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container></span>.</p>
<p d__="">A domain or pole error might occur if <code s__="13">x</code> is non-positive.</p>
<p d__="">A range error might occur if <code s__="13">x</code> is too large or too small.</p>
<h3 class="unnumbered unlisted" id="return-value-89" d__="">Return Value</h3>
<p d__="">Returns the gamma function of <code s__="13">x</code>, <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="123"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-n"><mjx-c class="mjx-c393"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi mathvariant="normal">Γ</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container></span>.</p>
<h3 class="unnumbered unlisted" id="example-90" d__="">Example</h3>
<div class="sourceCode" id="cb339"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb339-1" d__=""><a href="#cb339-1"></a><span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">float</span> i <span class="op" d__="">=</span> <span class="fl" d__="">0.5</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;=</span> <span class="dv" d__="">4</span><span class="op" d__="">;</span> i <span class="op" d__="">+=</span> <span class="fl" d__="">0.5</span><span class="op" d__="">)</span></span>
<span id="cb339-2" d__=""><a href="#cb339-2"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%.1f</span><span class="st" d__="">: </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> i<span class="op" d__="">,</span> tgamma<span class="op" d__="">(</span>i<span class="op" d__="">));</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb340"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb340-1" d__=""><a href="#cb340-1" aria-hidden="true" tabindex="-1"></a>0.5: 1.772454</span>
<span id="cb340-2" d__=""><a href="#cb340-2" aria-hidden="true" tabindex="-1"></a>1.0: 1.000000</span>
<span id="cb340-3" d__=""><a href="#cb340-3" aria-hidden="true" tabindex="-1"></a>1.5: 0.886227</span>
<span id="cb340-4" d__=""><a href="#cb340-4" aria-hidden="true" tabindex="-1"></a>2.0: 1.000000</span>
<span id="cb340-5" d__=""><a href="#cb340-5" aria-hidden="true" tabindex="-1"></a>2.5: 1.329340</span>
<span id="cb340-6" d__=""><a href="#cb340-6" aria-hidden="true" tabindex="-1"></a>3.0: 2.000000</span>
<span id="cb340-7" d__=""><a href="#cb340-7" aria-hidden="true" tabindex="-1"></a>3.5: 3.323351</span>
<span id="cb340-8" d__=""><a href="#cb340-8" aria-hidden="true" tabindex="-1"></a>4.0: 6.000000</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-86" d__="">See Also</h3>
<p><a href="#man-lgamma"><code s__="13" d__="">lgamma()</code></a></p>
<hr>
<h2 data-number="13.43" id="man-ceil" d__=""><span class="header-section-number">13.43</span> <code>ceil()</code>, <code>ceilf()</code>, <code>ceill()</code></h2>
<p> </p>
<p d__="">Ceiling—return the next whole number not smaller than the given number.</p>
<h3 class="unnumbered unlisted" id="synopsis-91" d__="">Synopsis</h3>
<div class="sourceCode" id="cb341"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb341-1"><a href="#cb341-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb341-2"><a href="#cb341-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb341-3" d__=""><a href="#cb341-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> ceil<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb341-4"><a href="#cb341-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb341-5" d__=""><a href="#cb341-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> ceilf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb341-6"><a href="#cb341-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb341-7" d__=""><a href="#cb341-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> ceill<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-91" d__="">Description</h3>
<p d__="">Returns the ceiling of the <code s__="13">x</code>: <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="124"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2308"></mjx-c></mjx-mo><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c2309"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo fence="false" stretchy="false">⌈</mo><mrow data-mjx-texclass="ORD"><mi>x</mi></mrow><mo fence="false" stretchy="false">⌉</mo></math></mjx-assistive-mml></mjx-container></span>.</p>
<p d__="">This is the next whole number not smaller than <code s__="13">x</code>.</p>
<p d__="">Beware this minor dragon: it’s not just “rounding up”. Well, 
it is for positive numbers, but negative numbers effectively round 
toward zero. (Because the ceiling function is headed for the next 
largest whole number and <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="125"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c34"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>−</mo><mn>4</mn></math></mjx-assistive-mml></mjx-container></span> is larger than <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="126"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c35"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>−</mo><mn>5</mn></math></mjx-assistive-mml></mjx-container></span>.)</p>
<h3 class="unnumbered unlisted" id="return-value-90" d__="">Return Value</h3>
<p d__="">Returns the next largest whole number larger than <code s__="13">x</code>.</p>
<h3 class="unnumbered unlisted" id="example-91" d__="">Example</h3>
<p d__="">Notice for the negative numbers it heads toward zero, 
i.e.&nbsp;toward the next largest whole number—just like the positives 
head toward the next largest whole number.</p>
<div class="sourceCode" id="cb342"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb342-1" d__=""><a href="#cb342-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ceil<span class="op" d__="">(</span><span class="fl" d__="">4.0</span><span class="op" d__="">));</span>   <span class="co" d__="">//  4.000000</span></span>
<span id="cb342-2" d__=""><a href="#cb342-2"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ceil<span class="op" d__="">(</span><span class="fl" d__="">4.1</span><span class="op" d__="">));</span>   <span class="co" d__="">//  5.000000</span></span>
<span id="cb342-3" d__=""><a href="#cb342-3"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ceil<span class="op" d__="">(-</span><span class="fl" d__="">2.0</span><span class="op" d__="">));</span>  <span class="co" d__="">// -2.000000</span></span>
<span id="cb342-4" d__=""><a href="#cb342-4"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ceil<span class="op" d__="">(-</span><span class="fl" d__="">2.1</span><span class="op" d__="">));</span>  <span class="co" d__="">// -2.000000</span></span>
<span id="cb342-5" d__=""><a href="#cb342-5"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ceil<span class="op" d__="">(-</span><span class="fl" d__="">3.1</span><span class="op" d__="">));</span>  <span class="co" d__="">// -3.000000</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-87" d__="">See Also</h3>
<p d__=""><a href="#man-floor"><code s__="13" d__="">floor()</code></a>, <a href="#man-round"><code s__="13" d__="">round()</code></a></p>
<hr>
<h2 data-number="13.44" id="man-floor" d__=""><span class="header-section-number">13.44</span> <code>floor()</code>, <code>floorf()</code>, <code>floorl()</code></h2>
<p> </p>
<p d__="">Compute the largest whole number not larger than the given value.</p>
<h3 class="unnumbered unlisted" id="synopsis-92" d__="">Synopsis</h3>
<div class="sourceCode" id="cb343"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb343-1"><a href="#cb343-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb343-2" d__=""><a href="#cb343-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> floor<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb343-3" d__=""><a href="#cb343-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> floorf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb343-4" d__=""><a href="#cb343-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> floorl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-92" d__="">Description</h3>
<p d__="">Returns the floor of the value: <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="127"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c230A"></mjx-c></mjx-mo><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c230B"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo fence="false" stretchy="false">⌊</mo><mrow data-mjx-texclass="ORD"><mi>x</mi></mrow><mo fence="false" stretchy="false">⌋</mo></math></mjx-assistive-mml></mjx-container></span>. This is the opposite of <code s__="13">ceil()</code>.</p>
<p d__="">This is the largest whole number that is not greater than <code s__="13">x</code>.</p>
<p d__="">For positive numbers, this is like rounding down: <code s__="13">4.5</code> becomes <code s__="13">4.0</code>.</p>
<p d__="">For negative numbers, it’s like rounding up: <code s__="13">-3.6</code> becomes <code s__="13">-4.0</code>.</p>
<p d__="">In both cases, those results are the largest whole number not bigger than the given number.</p>
<h3 class="unnumbered unlisted" id="return-value-91" d__="">Return Value</h3>
<p d__="">Returns the largest whole number not greater than <code s__="13">x</code>: <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="128"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c230A"></mjx-c></mjx-mo><mjx-texatom texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c230B"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo fence="false" stretchy="false">⌊</mo><mrow data-mjx-texclass="ORD"><mi>x</mi></mrow><mo fence="false" stretchy="false">⌋</mo></math></mjx-assistive-mml></mjx-container></span>.</p>
<h3 class="unnumbered unlisted" id="example-92" d__="">Example</h3>
<p d__="">Note how the negative numbers effectively round away from zero, unlike the positives.</p>
<div class="sourceCode" id="cb344"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb344-1" d__=""><a href="#cb344-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> floor<span class="op" d__="">(</span><span class="fl" d__="">4.0</span><span class="op" d__="">));</span>   <span class="co" d__="">//  4.000000</span></span>
<span id="cb344-2" d__=""><a href="#cb344-2"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> floor<span class="op" d__="">(</span><span class="fl" d__="">4.1</span><span class="op" d__="">));</span>   <span class="co" d__="">//  4.000000</span></span>
<span id="cb344-3" d__=""><a href="#cb344-3"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> floor<span class="op" d__="">(-</span><span class="fl" d__="">2.0</span><span class="op" d__="">));</span>  <span class="co" d__="">// -2.000000</span></span>
<span id="cb344-4" d__=""><a href="#cb344-4"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> floor<span class="op" d__="">(-</span><span class="fl" d__="">2.1</span><span class="op" d__="">));</span>  <span class="co" d__="">// -3.000000</span></span>
<span id="cb344-5" d__=""><a href="#cb344-5"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> floor<span class="op" d__="">(-</span><span class="fl" d__="">3.1</span><span class="op" d__="">));</span>  <span class="co" d__="">// -4.000000</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-88" d__="">See Also</h3>
<p d__=""><a href="#man-ceil"><code s__="13" d__="">ceil()</code></a>, <a href="#man-round"><code s__="13" d__="">round()</code></a></p>
<hr>
<h2 data-number="13.45" id="man-nearbyint" d__=""><span class="header-section-number">13.45</span> <code>nearbyint()</code>, <code>nearbyintf()</code>, <code>nearbyintl()</code></h2>
<p> </p>
<p d__="">Rounds a value in the current rounding direction.</p>
<h3 class="unnumbered unlisted" id="synopsis-93" d__="">Synopsis</h3>
<div class="sourceCode" id="cb345"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb345-1"><a href="#cb345-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb345-2"><a href="#cb345-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb345-3" d__=""><a href="#cb345-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> nearbyint<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb345-4"><a href="#cb345-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb345-5" d__=""><a href="#cb345-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> nearbyintf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb345-6"><a href="#cb345-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb345-7" d__=""><a href="#cb345-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> nearbyintl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-93" d__="">Description</h3>
<p d__="">This function rounds <code s__="13">x</code> to the nearest integer in the current rounding direction.</p>
<p d__="">The rounding direction can be set with <a href="#man-fegetround"><code s__="13" d__="">fesetround()</code></a> in <code s__="13">&lt;fenv.h&gt;</code>.</p>
<p d__=""><code s__="13">nearbyint()</code> won’t raise the “inexact” floating point exception.</p>
<h3 class="unnumbered unlisted" id="return-value-92" d__="">Return Value</h3>
<p d__="">Returns <code s__="13">x</code> rounded in the current rounding direction.</p>
<h3 class="unnumbered unlisted" id="example-93" d__="">Example</h3>
<div class="sourceCode" id="cb346"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb346-1"><a href="#cb346-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb346-2"><a href="#cb346-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb346-3"><a href="#cb346-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;fenv.h&gt;</span></span>
<span id="cb346-4"><a href="#cb346-4"></a></span>
<span id="cb346-5" d__=""><a href="#cb346-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb346-6"><a href="#cb346-6"></a><span class="op" d__="">{</span></span>
<span id="cb346-7"><a href="#cb346-7"></a>    <span class="pp" d__="">#pragma STDC FENV_ACCESS ON        </span><span class="co" d__="">// If supported</span></span>
<span id="cb346-8"><a href="#cb346-8"></a></span>
<span id="cb346-9" d__=""><a href="#cb346-9"></a>    fesetround<span class="op" d__="">(</span>FE_TONEAREST<span class="op" d__="">);</span>          <span class="co" d__="">// round to nearest</span></span>
<span id="cb346-10"><a href="#cb346-10"></a></span>
<span id="cb346-11" d__=""><a href="#cb346-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> nearbyint<span class="op" d__="">(</span><span class="fl" d__="">3.14</span><span class="op" d__="">));</span>   <span class="co" d__="">// 3.000000</span></span>
<span id="cb346-12" d__=""><a href="#cb346-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> nearbyint<span class="op" d__="">(</span><span class="fl" d__="">3.74</span><span class="op" d__="">));</span>   <span class="co" d__="">// 4.000000</span></span>
<span id="cb346-13"><a href="#cb346-13"></a></span>
<span id="cb346-14" d__=""><a href="#cb346-14"></a>    fesetround<span class="op" d__="">(</span>FE_TOWARDZERO<span class="op" d__="">);</span>         <span class="co" d__="">// round toward zero</span></span>
<span id="cb346-15"><a href="#cb346-15"></a></span>
<span id="cb346-16" d__=""><a href="#cb346-16"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> nearbyint<span class="op" d__="">(</span><span class="fl" d__="">1.99</span><span class="op" d__="">));</span>   <span class="co" d__="">// 1.000000</span></span>
<span id="cb346-17" d__=""><a href="#cb346-17"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> nearbyint<span class="op" d__="">(-</span><span class="fl" d__="">1.99</span><span class="op" d__="">));</span>  <span class="co" d__="">// -1.000000</span></span>
<span id="cb346-18"><a href="#cb346-18"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-89" d__="">See Also</h3>
<p d__=""><a href="#man-rint"><code s__="13" d__="">rint()</code></a>, <a href="#man-lrint"><code s__="13" d__="">lrint()</code></a>, <a href="#man-round"><code s__="13" d__="">round()</code></a>, <a href="#man-fegetround"><code s__="13" d__="">fesetround()</code></a>, <a href="#man-fegetround"><code s__="13" d__="">fegetround()</code></a></p>
<hr>
<h2 data-number="13.46" id="man-rint" d__=""><span class="header-section-number">13.46</span> <code>rint()</code>, <code>rintf()</code>, <code>rintl()</code></h2>
<p> </p>
<p d__="">Rounds a value in the current rounding direction.</p>
<h3 class="unnumbered unlisted" id="synopsis-94" d__="">Synopsis</h3>
<div class="sourceCode" id="cb347"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb347-1"><a href="#cb347-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb347-2"><a href="#cb347-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb347-3" d__=""><a href="#cb347-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> rint<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb347-4"><a href="#cb347-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb347-5" d__=""><a href="#cb347-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> rintf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb347-6"><a href="#cb347-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb347-7" d__=""><a href="#cb347-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> rintl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-94" d__="">Description</h3>
<p d__="">This works just like <a href="#man-nearbyint"><code s__="13" d__="">nearbyint()</code></a> except that is can raise the “inexact” floating point exception.</p>
<h3 class="unnumbered unlisted" id="return-value-93" d__="">Return Value</h3>
<p d__="">Returns <code s__="13">x</code> rounded in the current rounding direction.</p>
<h3 class="unnumbered unlisted" id="example-94" d__="">Example</h3>
<div class="sourceCode" id="cb348"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb348-1"><a href="#cb348-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb348-2"><a href="#cb348-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb348-3"><a href="#cb348-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;fenv.h&gt;</span></span>
<span id="cb348-4"><a href="#cb348-4"></a></span>
<span id="cb348-5" d__=""><a href="#cb348-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb348-6"><a href="#cb348-6"></a><span class="op" d__="">{</span></span>
<span id="cb348-7"><a href="#cb348-7"></a>    <span class="pp" d__="">#pragma STDC FENV_ACCESS ON</span></span>
<span id="cb348-8"><a href="#cb348-8"></a></span>
<span id="cb348-9" d__=""><a href="#cb348-9"></a>    fesetround<span class="op" d__="">(</span>FE_TONEAREST<span class="op" d__="">);</span></span>
<span id="cb348-10"><a href="#cb348-10"></a></span>
<span id="cb348-11" d__=""><a href="#cb348-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> rint<span class="op" d__="">(</span><span class="fl" d__="">3.14</span><span class="op" d__="">));</span>   <span class="co" d__="">// 3.000000</span></span>
<span id="cb348-12" d__=""><a href="#cb348-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> rint<span class="op" d__="">(</span><span class="fl" d__="">3.74</span><span class="op" d__="">));</span>   <span class="co" d__="">// 4.000000</span></span>
<span id="cb348-13"><a href="#cb348-13"></a></span>
<span id="cb348-14" d__=""><a href="#cb348-14"></a>    fesetround<span class="op" d__="">(</span>FE_TOWARDZERO<span class="op" d__="">);</span></span>
<span id="cb348-15"><a href="#cb348-15"></a></span>
<span id="cb348-16" d__=""><a href="#cb348-16"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> rint<span class="op" d__="">(</span><span class="fl" d__="">1.99</span><span class="op" d__="">));</span>   <span class="co" d__="">// 1.000000</span></span>
<span id="cb348-17" d__=""><a href="#cb348-17"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> rint<span class="op" d__="">(-</span><span class="fl" d__="">1.99</span><span class="op" d__="">));</span>  <span class="co" d__="">// -1.000000</span></span>
<span id="cb348-18"><a href="#cb348-18"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-90" d__="">See Also</h3>
<p d__=""><a href="#man-nearbyint"><code s__="13" d__="">nearbyint()</code></a>, <a href="#man-lrint"><code s__="13" d__="">lrint()</code></a>, <a href="#man-round"><code s__="13" d__="">round()</code></a>, <a href="#man-fegetround"><code s__="13" d__="">fesetround()</code></a>, <a href="#man-fegetround"><code s__="13" d__="">fegetround()</code></a></p>
<hr>
<h2 data-number="13.47" id="man-lrint" d__=""><span class="header-section-number">13.47</span> <code>lrint()</code>, <code>lrintf()</code>, <code>lrintl()</code>, <code>llrint()</code>, <code>llrintf()</code>, <code>llrintl()</code></h2>
<p> </p>
<p d__="">Returns <code s__="13">x</code> rounded in the current rounding direction as an integer.</p>
<h3 class="unnumbered unlisted" id="synopsis-95" d__="">Synopsis</h3>
<div class="sourceCode" id="cb349"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb349-1"><a href="#cb349-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb349-2"><a href="#cb349-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb349-3" d__=""><a href="#cb349-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">int</span> lrint<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb349-4" d__=""><a href="#cb349-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">int</span> lrintf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb349-5" d__=""><a href="#cb349-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">int</span> lrintl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb349-6"><a href="#cb349-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb349-7" d__=""><a href="#cb349-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> llrint<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb349-8" d__=""><a href="#cb349-8" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> llrintf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb349-9" d__=""><a href="#cb349-9" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> llrintl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-95" d__="">Description</h3>
<p d__="">Round a floating point number in the current rounding 
direction, but this time return an integer intead of a float. You know, 
just to mix it up.</p>
<p d__="">These come in two variants:</p>
<ul>
<li d__=""><code s__="13">lrint()</code>—returns <code s__="13">long int</code></li>
<li d__=""><code s__="13">llrint()</code>—returns <code s__="13">long long int</code></li>
</ul>
<p d__="">If the result doesn’t fit in the return type, a domain or range error might occur.</p>
<h3 class="unnumbered unlisted" id="return-value-94" d__="">Return Value</h3>
<p d__="">The value of <code s__="13">x</code> rounded to an integer in the current rounding direction.</p>
<h3 class="unnumbered unlisted" id="example-95" d__="">Example</h3>
<div class="sourceCode" id="cb350"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb350-1"><a href="#cb350-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb350-2"><a href="#cb350-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb350-3"><a href="#cb350-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;fenv.h&gt;</span></span>
<span id="cb350-4"><a href="#cb350-4"></a></span>
<span id="cb350-5" d__=""><a href="#cb350-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb350-6"><a href="#cb350-6"></a><span class="op" d__="">{</span></span>
<span id="cb350-7"><a href="#cb350-7"></a>    <span class="pp" d__="">#pragma STDC FENV_ACCESS ON</span></span>
<span id="cb350-8"><a href="#cb350-8"></a></span>
<span id="cb350-9" d__=""><a href="#cb350-9"></a>    fesetround<span class="op" d__="">(</span>FE_TONEAREST<span class="op" d__="">);</span></span>
<span id="cb350-10"><a href="#cb350-10"></a></span>
<span id="cb350-11" d__=""><a href="#cb350-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%ld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lrint<span class="op" d__="">(</span><span class="fl" d__="">3.14</span><span class="op" d__="">));</span>   <span class="co" d__="">// 3</span></span>
<span id="cb350-12" d__=""><a href="#cb350-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%ld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lrint<span class="op" d__="">(</span><span class="fl" d__="">3.74</span><span class="op" d__="">));</span>   <span class="co" d__="">// 4</span></span>
<span id="cb350-13"><a href="#cb350-13"></a></span>
<span id="cb350-14" d__=""><a href="#cb350-14"></a>    fesetround<span class="op" d__="">(</span>FE_TOWARDZERO<span class="op" d__="">);</span></span>
<span id="cb350-15"><a href="#cb350-15"></a></span>
<span id="cb350-16" d__=""><a href="#cb350-16"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%ld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lrint<span class="op" d__="">(</span><span class="fl" d__="">1.99</span><span class="op" d__="">));</span>   <span class="co" d__="">// 1</span></span>
<span id="cb350-17" d__=""><a href="#cb350-17"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%ld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lrint<span class="op" d__="">(-</span><span class="fl" d__="">1.99</span><span class="op" d__="">));</span>  <span class="co" d__="">// -1</span></span>
<span id="cb350-18"><a href="#cb350-18"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-91" d__="">See Also</h3>
<p d__=""><a href="#man-nearbyint"><code s__="13" d__="">nearbyint()</code></a>, <a href="#man-lrint"><code s__="13" d__="">rint()</code></a>, <a href="#man-round"><code s__="13" d__="">round()</code></a>, <a href="#man-fegetround"><code s__="13" d__="">fesetround()</code></a>, <a href="#man-fegetround"><code s__="13" d__="">fegetround()</code></a></p>
<hr>
<h2 data-number="13.48" id="man-round" d__=""><span class="header-section-number">13.48</span> <code>round()</code>, <code>roundf()</code>, <code>roundl()</code></h2>
<p> </p>
<p d__="">Round a number in the good old-fashioned way.</p>
<h3 class="unnumbered unlisted" id="synopsis-96" d__="">Synopsis</h3>
<div class="sourceCode" id="cb351"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb351-1"><a href="#cb351-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb351-2"><a href="#cb351-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb351-3" d__=""><a href="#cb351-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> round<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb351-4"><a href="#cb351-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb351-5" d__=""><a href="#cb351-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> roundf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb351-6"><a href="#cb351-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb351-7" d__=""><a href="#cb351-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> roundl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-96" d__="">Description</h3>
<p d__="">Rounds a number to the nearest whole value.</p>
<p d__="">In case of halfsies, rounds away from zero (i.e.&nbsp;“round up” in magnitude).</p>
<p d__="">The current rounding direction’s Jedi mind tricks don’t work on this function.</p>
<h3 class="unnumbered unlisted" id="return-value-95" d__="">Return Value</h3>
<p d__="">The rounded value of <code s__="13">x</code>.</p>
<h3 class="unnumbered unlisted" id="example-96" d__="">Example</h3>
<div class="sourceCode" id="cb352"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb352-1"><a href="#cb352-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb352-2"><a href="#cb352-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb352-3"><a href="#cb352-3"></a></span>
<span id="cb352-4" d__=""><a href="#cb352-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb352-5"><a href="#cb352-5"></a><span class="op" d__="">{</span></span>
<span id="cb352-6" d__=""><a href="#cb352-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> round<span class="op" d__="">(</span><span class="fl" d__="">3.14</span><span class="op" d__="">));</span>   <span class="co" d__="">// 3.000000</span></span>
<span id="cb352-7" d__=""><a href="#cb352-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> round<span class="op" d__="">(</span><span class="fl" d__="">3.5</span><span class="op" d__="">));</span>    <span class="co" d__="">// 4.000000</span></span>
<span id="cb352-8"><a href="#cb352-8"></a></span>
<span id="cb352-9" d__=""><a href="#cb352-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> round<span class="op" d__="">(-</span><span class="fl" d__="">1.5</span><span class="op" d__="">));</span>   <span class="co" d__="">// -2.000000</span></span>
<span id="cb352-10" d__=""><a href="#cb352-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> round<span class="op" d__="">(-</span><span class="fl" d__="">1.14</span><span class="op" d__="">));</span>  <span class="co" d__="">// -1.000000</span></span>
<span id="cb352-11"><a href="#cb352-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-92" d__="">See Also</h3>
<p d__=""><a href="#man-lround"><code s__="13" d__="">lround()</code></a>, <a href="#man-nearbyint"><code s__="13" d__="">nearbyint()</code></a>, <a href="#man-lrint"><code s__="13" d__="">rint()</code></a>, <a href="#man-lrint"><code s__="13" d__="">lrint()</code></a>, <a href="#man-trunc"><code s__="13" d__="">trunc()</code></a></p>
<hr>
<h2 data-number="13.49" id="man-lround" d__=""><span class="header-section-number">13.49</span> <code>lround()</code>, <code>lroundf()</code>, <code>lroundl()</code> <code>llround()</code>, <code>llroundf()</code>, <code>llroundl()</code></h2>
<p> </p>
<p d__="">Round a number in the good old-fashioned way, returning an integer.</p>
<h3 class="unnumbered unlisted" id="synopsis-97" d__="">Synopsis</h3>
<div class="sourceCode" id="cb353"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb353-1"><a href="#cb353-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb353-2"><a href="#cb353-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb353-3" d__=""><a href="#cb353-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">int</span> lround<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb353-4" d__=""><a href="#cb353-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">int</span> lroundf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb353-5" d__=""><a href="#cb353-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">int</span> lroundl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb353-6"><a href="#cb353-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb353-7" d__=""><a href="#cb353-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> llround<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb353-8" d__=""><a href="#cb353-8" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> llroundf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb353-9" d__=""><a href="#cb353-9" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> llroundl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-97" d__="">Description</h3>
<p d__="">These are just like <a href="#man-round"><code s__="13" d__="">round()</code></a> except they return integers.</p>
<p d__="">Halfway values round away from zero, e.g.&nbsp;<span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="129"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c2E"></mjx-c><mjx-c class="mjx-c35"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1.5</mn></math></mjx-assistive-mml></mjx-container></span> rounds to <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="130"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>2</mn></math></mjx-assistive-mml></mjx-container></span> and <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="131"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c2E"></mjx-c><mjx-c class="mjx-c35"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>−</mo><mn>1.5</mn></math></mjx-assistive-mml></mjx-container></span> rounds to <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="132"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>−</mo><mn>2</mn></math></mjx-assistive-mml></mjx-container></span>.</p>
<p d__="">The functions are grouped by return type:</p>
<ul>
<li d__=""><code s__="13">lround()</code>—returns a <code s__="13">long int</code></li>
<li d__=""><code s__="13">llround()</code>—returns a <code s__="13">long long int</code></li>
</ul>
<p d__="">If the rounded value can’t fit in the return type, a domain or range error can occur.</p>
<h3 class="unnumbered unlisted" id="return-value-96" d__="">Return Value</h3>
<p d__="">Returns the rounded value of <code s__="13">x</code> as an integer.</p>
<h3 class="unnumbered unlisted" id="example-97" d__="">Example</h3>
<div class="sourceCode" id="cb354"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb354-1"><a href="#cb354-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb354-2"><a href="#cb354-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb354-3"><a href="#cb354-3"></a></span>
<span id="cb354-4" d__=""><a href="#cb354-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb354-5"><a href="#cb354-5"></a><span class="op" d__="">{</span></span>
<span id="cb354-6" d__=""><a href="#cb354-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%ld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lround<span class="op" d__="">(</span><span class="fl" d__="">3.14</span><span class="op" d__="">));</span>   <span class="co" d__="">// 3</span></span>
<span id="cb354-7" d__=""><a href="#cb354-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%ld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lround<span class="op" d__="">(</span><span class="fl" d__="">3.5</span><span class="op" d__="">));</span>    <span class="co" d__="">// 4</span></span>
<span id="cb354-8"><a href="#cb354-8"></a></span>
<span id="cb354-9" d__=""><a href="#cb354-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%ld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lround<span class="op" d__="">(-</span><span class="fl" d__="">1.5</span><span class="op" d__="">));</span>   <span class="co" d__="">// -2</span></span>
<span id="cb354-10" d__=""><a href="#cb354-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%ld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> lround<span class="op" d__="">(-</span><span class="fl" d__="">1.14</span><span class="op" d__="">));</span>  <span class="co" d__="">// -1</span></span>
<span id="cb354-11"><a href="#cb354-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-93" d__="">See Also</h3>
<p d__=""><a href="#man-lround"><code s__="13" d__="">round()</code></a>, <a href="#man-nearbyint"><code s__="13" d__="">nearbyint()</code></a>, <a href="#man-lrint"><code s__="13" d__="">rint()</code></a>, <a href="#man-lrint"><code s__="13" d__="">lrint()</code></a>, <a href="#man-trunc"><code s__="13" d__="">trunc()</code></a></p>
<hr>
<h2 data-number="13.50" id="man-trunc" d__=""><span class="header-section-number">13.50</span> <code>trunc()</code>, <code>truncf()</code>, <code>truncl()</code></h2>
<p> </p>
<p d__="">Truncate the fractional part off a floating point value.</p>
<h3 class="unnumbered unlisted" id="synopsis-98" d__="">Synopsis</h3>
<div class="sourceCode" id="cb355"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb355-1"><a href="#cb355-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb355-2"><a href="#cb355-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb355-3" d__=""><a href="#cb355-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> trunc<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span>
<span id="cb355-4"><a href="#cb355-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb355-5" d__=""><a href="#cb355-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> truncf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">);</span></span>
<span id="cb355-6"><a href="#cb355-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb355-7" d__=""><a href="#cb355-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> truncl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-98" d__="">Description</h3>
<p d__="">These functions just drop the fractional part of a floating point number. Boom.</p>
<p d__="">In other words, they always round toward zero.</p>
<h3 class="unnumbered unlisted" id="return-value-97" d__="">Return Value</h3>
<p d__="">Returns the truncated floating point number.</p>
<h3 class="unnumbered unlisted" id="example-98" d__="">Example</h3>
<div class="sourceCode" id="cb356"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb356-1"><a href="#cb356-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb356-2"><a href="#cb356-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb356-3"><a href="#cb356-3"></a></span>
<span id="cb356-4" d__=""><a href="#cb356-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb356-5"><a href="#cb356-5"></a><span class="op" d__="">{</span></span>
<span id="cb356-6" d__=""><a href="#cb356-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> trunc<span class="op" d__="">(</span><span class="fl" d__="">3.14</span><span class="op" d__="">));</span>   <span class="co" d__="">// 3.000000</span></span>
<span id="cb356-7" d__=""><a href="#cb356-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> trunc<span class="op" d__="">(</span><span class="fl" d__="">3.8</span><span class="op" d__="">));</span>    <span class="co" d__="">// 3.000000</span></span>
<span id="cb356-8"><a href="#cb356-8"></a></span>
<span id="cb356-9" d__=""><a href="#cb356-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> trunc<span class="op" d__="">(-</span><span class="fl" d__="">1.5</span><span class="op" d__="">));</span>   <span class="co" d__="">// -1.000000</span></span>
<span id="cb356-10" d__=""><a href="#cb356-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> trunc<span class="op" d__="">(-</span><span class="fl" d__="">1.14</span><span class="op" d__="">));</span>  <span class="co" d__="">// -1.000000</span></span>
<span id="cb356-11"><a href="#cb356-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-94" d__="">See Also</h3>
<p d__=""><a href="#man-lround"><code s__="13" d__="">round()</code></a>, <a href="#man-lround"><code s__="13" d__="">lround()</code></a>, <a href="#man-nearbyint"><code s__="13" d__="">nearbyint()</code></a>, <a href="#man-lrint"><code s__="13" d__="">rint()</code></a>, <a href="#man-lrint"><code s__="13" d__="">lrint()</code></a></p>
<hr>
<h2 data-number="13.51" id="man-fmod" d__=""><span class="header-section-number">13.51</span> <code>fmod()</code>, <code>fmodf()</code>, <code>fmodl()</code></h2>
<p> </p>
<p d__="">Compute the floating point remainder.</p>
<h3 class="unnumbered unlisted" id="synopsis-99" d__="">Synopsis</h3>
<div class="sourceCode" id="cb357"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb357-1"><a href="#cb357-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb357-2"><a href="#cb357-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb357-3" d__=""><a href="#cb357-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> fmod<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">double</span> y<span class="op" d__="">);</span></span>
<span id="cb357-4"><a href="#cb357-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb357-5" d__=""><a href="#cb357-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> fmodf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">,</span> <span class="dt" d__="">float</span> y<span class="op" d__="">);</span></span>
<span id="cb357-6"><a href="#cb357-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb357-7" d__=""><a href="#cb357-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> fmodl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> y<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-99" d__="">Description</h3>
<p d__="">Returns the remainder of <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="133"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mfrac><mjx-frac><mjx-num><mjx-nstrut></mjx-nstrut><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-num><mjx-dbox s__="0"><mjx-dtable s__="0"><mjx-line></mjx-line><mjx-row><mjx-den><mjx-dstrut></mjx-dstrut><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi></mjx-den></mjx-row></mjx-dtable></mjx-dbox></mjx-frac></mjx-mfrac></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mi s__="13">x</mi><mi s__="13">y</mi></mfrac></math></mjx-assistive-mml></mjx-container></span>. The result will have the same sign as <code s__="13">x</code>.</p>
<p d__="">Under the hood, the computation performed is:</p>
<div class="sourceCode" id="cb358"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb358-1" d__=""><a href="#cb358-1" aria-hidden="true" tabindex="-1"></a>x <span class="op" d__="">-</span> trunc<span class="op" d__="">(</span>x <span class="op" d__="">/</span> y<span class="op" d__="">)</span> <span class="op" d__="">*</span> y</span></code></pre></div>
<p d__="">But it might be easier just to think of the remainder.</p>
<h3 class="unnumbered unlisted" id="return-value-98" d__="">Return Value</h3>
<p d__="">Returns the remainder of <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="134"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mfrac><mjx-frac><mjx-num><mjx-nstrut></mjx-nstrut><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-num><mjx-dbox s__="0"><mjx-dtable s__="0"><mjx-line></mjx-line><mjx-row><mjx-den><mjx-dstrut></mjx-dstrut><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi></mjx-den></mjx-row></mjx-dtable></mjx-dbox></mjx-frac></mjx-mfrac></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mfrac><mi s__="13">x</mi><mi s__="13">y</mi></mfrac></math></mjx-assistive-mml></mjx-container></span> with the same sign as <code s__="13">x</code>.</p>
<h3 class="unnumbered unlisted" id="example-99" d__="">Example</h3>
<div class="sourceCode" id="cb359"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb359-1"><a href="#cb359-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb359-2"><a href="#cb359-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb359-3"><a href="#cb359-3"></a></span>
<span id="cb359-4" d__=""><a href="#cb359-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb359-5"><a href="#cb359-5"></a><span class="op" d__="">{</span></span>
<span id="cb359-6" d__=""><a href="#cb359-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> fmod<span class="op" d__="">(-</span><span class="fl" d__="">9.2</span><span class="op" d__="">,</span> <span class="fl" d__="">5.1</span><span class="op" d__="">));</span>  <span class="co" d__="">// -4.100000</span></span>
<span id="cb359-7" d__=""><a href="#cb359-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> fmod<span class="op" d__="">(</span><span class="fl" d__="">9.2</span><span class="op" d__="">,</span> <span class="fl" d__="">5.1</span><span class="op" d__="">));</span>   <span class="co" d__="">//  4.100000</span></span>
<span id="cb359-8"><a href="#cb359-8"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-95" d__="">See Also</h3>
<p><a href="#man-remainder"><code s__="13" d__="">remainder()</code></a></p>
<hr>
<h2 data-number="13.52" id="man-remainder" d__=""><span class="header-section-number">13.52</span> <code>remainder()</code>, <code>remainderf()</code>, <code>remainderl()</code></h2>
<p> </p>
<p d__="">Compute the remainder IEC 60559-style.</p>
<h3 class="unnumbered unlisted" id="synopsis-100" d__="">Synopsis</h3>
<div class="sourceCode" id="cb360"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb360-1"><a href="#cb360-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb360-2"><a href="#cb360-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb360-3" d__=""><a href="#cb360-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> remainder<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">double</span> y<span class="op" d__="">);</span></span>
<span id="cb360-4"><a href="#cb360-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb360-5" d__=""><a href="#cb360-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> remainderf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">,</span> <span class="dt" d__="">float</span> y<span class="op" d__="">);</span></span>
<span id="cb360-6"><a href="#cb360-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb360-7" d__=""><a href="#cb360-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> remainderl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> y<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-100" d__="">Description</h3>
<p d__="">This is similar to <code s__="13">fmod()</code>, but not quite the same. <code s__="13">fmod()</code> is probably what you’re after if you’re expecting remainders to wrap around like an odometer.</p>
<p d__="">The C spec quotes IEC 60559 on how this works:</p>
<blockquote>
<p d__="">When <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="135"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c2260"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="4"><mjx-c class="mjx-c30"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi><mo>≠</mo><mn>0</mn></math></mjx-assistive-mml></mjx-container></span>, the remainder <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="136"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45F TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="4"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi><mo>=</mo><mi>x</mi></math></mjx-assistive-mml></mjx-container></span> REM <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="137"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></mjx-assistive-mml></mjx-container></span> is defined regardless of the rounding mode by the mathematical relation <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="138"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45F TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="4"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi><mo>=</mo><mi>x</mi><mo>−</mo><mi>n</mi><mi>y</mi></math></mjx-assistive-mml></mjx-container></span>, where <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="139"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math></mjx-assistive-mml></mjx-container></span> is the integer nearest the exact value of <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="140"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mrow data-mjx-texclass="ORD"><mo>/</mo></mrow><mi>y</mi></math></mjx-assistive-mml></mjx-container></span>; whenever <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="141"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="4"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-texatom texclass="ORD"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2F"></mjx-c></mjx-mo></mjx-texatom><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo data-mjx-texclass="ORD" stretchy="false">|</mo><mi>n</mi><mo>−</mo><mi>x</mi><mrow data-mjx-texclass="ORD"><mo>/</mo></mrow><mi>y</mi><mo data-mjx-texclass="ORD" stretchy="false">|</mo><mo>=</mo><mn>1</mn><mrow data-mjx-texclass="ORD"><mo>/</mo></mrow><mn>2</mn></math></mjx-assistive-mml></mjx-container></span>, then <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="142"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math></mjx-assistive-mml></mjx-container></span> is even. If <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="143"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45F TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="4"><mjx-c class="mjx-c30"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi><mo>=</mo><mn>0</mn></math></mjx-assistive-mml></mjx-container></span>, its sign shall be that of <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="144"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></mjx-assistive-mml></mjx-container></span>.</p>
</blockquote>
<p d__="">Hope that clears it up!</p>
<p d__="">OK, maybe not. Here’s the upshot:</p>
<p d__="">You know how if you <code s__="13">fmod()</code> something by, say <code s__="13">2.0</code> you get a result that is somewhere between <code s__="13">0.0</code> and <code s__="13">2.0</code>? And how if you just increase the number that you’re modding by <code s__="13">2.0</code>, you can see the result climb up to <code s__="13">2.0</code> and then wrap around to <code s__="13">0.0</code> like your car’s odometer?</p>
<p d__=""><code s__="13">remainder()</code> works just like that, except if <code s__="13">y</code> is <code s__="13">2.0</code>, it wraps from <code s__="13">-1.0</code> to <code s__="13">1.0</code> instead of from <code s__="13">0.0</code> to <code s__="13">2.0</code>.</p>
<p d__="">In other words, the range of the function runs from <code s__="13">-y/2</code> to <code s__="13">y/2</code>. Contrasted to <code s__="13">fmod()</code> that runs from <code s__="13">0.0</code> to <code s__="13">y</code>, <code s__="13">remainder()</code>’s output is just shifted down half a <code s__="13">y</code>.</p>
<p d__="">And zero-remainder-anything is <code s__="13">0</code>.</p>
<p d__="">Except if <code s__="13">y</code> is zero, the function might return zero or a domain error might occur.</p>
<h3 class="unnumbered unlisted" id="return-value-99" d__="">Return Value</h3>
<p d__="">The IEC 60559 result of <code s__="13">x</code>-remainder-<code s__="13">y</code>.</p>
<h3 class="unnumbered unlisted" id="example-100" d__="">Example</h3>
<div class="sourceCode" id="cb361"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb361-1"><a href="#cb361-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb361-2"><a href="#cb361-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb361-3"><a href="#cb361-3"></a></span>
<span id="cb361-4" d__=""><a href="#cb361-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb361-5"><a href="#cb361-5"></a><span class="op" d__="">{</span></span>
<span id="cb361-6" d__=""><a href="#cb361-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> remainder<span class="op" d__="">(</span><span class="fl" d__="">3.7</span><span class="op" d__="">,</span> <span class="dv" d__="">4</span><span class="op" d__="">));</span>  <span class="co" d__="">// -0.300000</span></span>
<span id="cb361-7" d__=""><a href="#cb361-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> remainder<span class="op" d__="">(</span><span class="fl" d__="">4.3</span><span class="op" d__="">,</span> <span class="dv" d__="">4</span><span class="op" d__="">));</span>  <span class="co" d__="">//  0.300000</span></span>
<span id="cb361-8"><a href="#cb361-8"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-96" d__="">See Also</h3>
<p d__=""><a href="#man-fmod"><code s__="13" d__="">fmod()</code></a>, <a href="#man-remquo"><code s__="13" d__="">remquo()</code></a></p>
<hr>
<h2 data-number="13.53" id="man-remquo" d__=""><span class="header-section-number">13.53</span> <code>remquo()</code>, <code>remquof()</code>, <code>remquol()</code></h2>
<p> </p>
<p d__="">Compute the remainder and (some of the) quotient.</p>
<h3 class="unnumbered unlisted" id="synopsis-101" d__="">Synopsis</h3>
<div class="sourceCode" id="cb362"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb362-1"><a href="#cb362-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb362-2"><a href="#cb362-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb362-3" d__=""><a href="#cb362-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> remquo<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">double</span> y<span class="op" d__="">,</span> <span class="dt" d__="">int</span> <span class="op" d__="">*</span>quo<span class="op" d__="">);</span></span>
<span id="cb362-4"><a href="#cb362-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb362-5" d__=""><a href="#cb362-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> remquof<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">,</span> <span class="dt" d__="">float</span> y<span class="op" d__="">,</span> <span class="dt" d__="">int</span> <span class="op" d__="">*</span>quo<span class="op" d__="">);</span></span>
<span id="cb362-6"><a href="#cb362-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb362-7" d__=""><a href="#cb362-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> remquol<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> y<span class="op" d__="">,</span> <span class="dt" d__="">int</span> <span class="op" d__="">*</span>quo<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-101" d__="">Description</h3>
<p d__="">This is a funky little thing.</p>
<p d__="">First of all, the return value is the remainder, the same as the <a href="#man-remainder"><code s__="13" d__="">remainder()</code></a> function, so check that out.</p>
<p d__="">And the quotient comes back in the <code s__="13">quo</code> pointer.</p>
<p d__="">Or at least <em>some of it</em> does. You’ll get at least 3 bits worth of the quotient.</p>
<p d__="">But <em>why</em>?</p>
<p d__="">So a couple things.</p>
<p d__="">One is that the quotient of some very large floating point numbers can easily be far too gigantic to fit in even a <code s__="13">long long unsigned int</code>. So some of it might very well need to be lopped off, anyway.</p>
<p d__="">But at 3 bits? How’s that even useful? That only gets you from 0 to 7!</p>
<p d__="">The C99 Rationale document states:</p>
<blockquote>
<p d__="">The <code s__="13">remquo</code> functions are intended for implementing argument reductions which can exploit a few low-order bits of the quotient. Note that <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="145"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></mjx-assistive-mml></mjx-container></span> may be so large in magnitude relative to <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="146"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></mjx-assistive-mml></mjx-container></span> that an exact representation of the quotient is not practical.</p>
</blockquote>
<p d__="">So… implementing argument reductions… which can exploit a few low-order bits… Ooookay.</p>
<p d__=""><a href="https://en.cppreference.com/w/c/numeric/math/remquo" d__="">CPPReference has this to say</a><a href="#fn32" class="footnote-ref" id="fnref32" role="doc-noteref"><sup s__="13" d__="">32</sup></a> on the matter, which is spoken so well, I will quote wholesale:</p>
<blockquote>
<p d__="">This function is useful when implementing periodic functions 
with the period exactly representable as a floating-point value: when 
calculating <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="147"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-n"><mjx-c class="mjx-c73"></mjx-c><mjx-c class="mjx-c69"></mjx-c><mjx-c class="mjx-c6E"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c2061"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D70B TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>sin</mi><mo data-mjx-texclass="NONE">⁡</mo><mo stretchy="false">(</mo><mi>π</mi><mi>x</mi><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container></span> for a very large <code s__="13">x</code>, calling <code s__="13">sin</code> directly may result in a large error, but if the function argument is first reduced with <code s__="13">remquo</code>,
 the low-order bits of the quotient may be used to determine the sign 
and the octant of the result within the period, while the remainder may 
be used to calculate the value with high precision.</p>
</blockquote>
<p d__="">And there you have it. If you have another example that works for you… congratulations! :)</p>
<h3 class="unnumbered unlisted" id="return-value-100" d__="">Return Value</h3>
<p d__="">Returns the same as <a href="#man-remainder"><code s__="13" d__="">remainder</code></a>: The IEC 60559 result of <code s__="13">x</code>-remainder-<code s__="13">y</code>.</p>
<p d__="">In addition, at least the lowest 3 bits of the quotient will be stored in <code s__="13">quo</code> with the same sign as <code s__="13">x/y</code>.</p>
<h3 class="unnumbered unlisted" id="example-101" d__="">Example</h3>
<p d__="">There’s a <a href="https://en.cppreference.com/w/c/numeric/math/remquo" d__="">great <code s__="13">cos()</code> example at CPPReference</a><a href="#fn33" class="footnote-ref" id="fnref33" role="doc-noteref"><sup s__="13" d__="">33</sup></a> that covers a genuine use case.</p>
<p d__="">But instead of stealing it, I’ll just post a simple example here and you can visit their site for a real one.</p>
<div class="sourceCode" id="cb363"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb363-1"><a href="#cb363-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb363-2"><a href="#cb363-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb363-3"><a href="#cb363-3"></a></span>
<span id="cb363-4" d__=""><a href="#cb363-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb363-5"><a href="#cb363-5"></a><span class="op" d__="">{</span></span>
<span id="cb363-6" d__=""><a href="#cb363-6"></a>    <span class="dt" d__="">int</span> quo<span class="op" d__="">;</span></span>
<span id="cb363-7" d__=""><a href="#cb363-7"></a>    <span class="dt" d__="">double</span> rem<span class="op" d__="">;</span></span>
<span id="cb363-8"><a href="#cb363-8"></a></span>
<span id="cb363-9" d__=""><a href="#cb363-9"></a>    rem <span class="op" d__="">=</span> remquo<span class="op" d__="">(</span><span class="fl" d__="">12.75</span><span class="op" d__="">,</span> <span class="fl" d__="">2.25</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>quo<span class="op" d__="">);</span></span>
<span id="cb363-10"><a href="#cb363-10"></a></span>
<span id="cb363-11" d__=""><a href="#cb363-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d</span><span class="st" d__=""> remainder </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> quo<span class="op" d__="">,</span> rem<span class="op" d__="">);</span>  <span class="co" d__="">// 6 remainder -0.750000</span></span>
<span id="cb363-12"><a href="#cb363-12"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-97" d__="">See Also</h3>
<p d__=""><a href="#man-remainder"><code s__="13" d__="">remainder()</code></a>, <a href="#man-imaxdiv"><code s__="13" d__="">imaxdiv()</code></a></p>
<hr>
<h2 data-number="13.54" id="man-copysign" d__=""><span class="header-section-number">13.54</span> <code>copysign()</code>, <code>copysignf()</code>, <code>copysignl()</code></h2>
<p> </p>
<p d__="">Copy the sign of one value into another.</p>
<h3 class="unnumbered unlisted" id="synopsis-102" d__="">Synopsis</h3>
<div class="sourceCode" id="cb364"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb364-1"><a href="#cb364-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb364-2"><a href="#cb364-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb364-3" d__=""><a href="#cb364-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> copysign<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">double</span> y<span class="op" d__="">);</span></span>
<span id="cb364-4"><a href="#cb364-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb364-5" d__=""><a href="#cb364-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> copysignf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">,</span> <span class="dt" d__="">float</span> y<span class="op" d__="">);</span></span>
<span id="cb364-6"><a href="#cb364-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb364-7" d__=""><a href="#cb364-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> copysignl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> y<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-102" d__="">Description</h3>
<p d__="">These functions return a number that has the magnitude of <code s__="13">x</code> and the sign of <code s__="13">y</code>. You can use them to coerce the sign to that of another value.</p>
<p d__="">Neither <code s__="13">x</code> nor <code s__="13">y</code> are modified, of course. The return value holds the result.</p>
<h3 class="unnumbered unlisted" id="return-value-101" d__="">Return Value</h3>
<p d__="">Returns a value with the magnitude of <code s__="13">x</code> and the sign of <code s__="13">y</code>.</p>
<h3 class="unnumbered unlisted" id="example-102" d__="">Example</h3>
<div class="sourceCode" id="cb365"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb365-1"><a href="#cb365-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb365-2"><a href="#cb365-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb365-3"><a href="#cb365-3"></a></span>
<span id="cb365-4" d__=""><a href="#cb365-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb365-5"><a href="#cb365-5"></a><span class="op" d__="">{</span></span>
<span id="cb365-6" d__=""><a href="#cb365-6"></a>    <span class="dt" d__="">double</span> x <span class="op" d__="">=</span> <span class="fl" d__="">34.9</span><span class="op" d__="">;</span></span>
<span id="cb365-7" d__=""><a href="#cb365-7"></a>    <span class="dt" d__="">double</span> y <span class="op" d__="">=</span> <span class="op" d__="">-</span><span class="fl" d__="">999.9</span><span class="op" d__="">;</span></span>
<span id="cb365-8" d__=""><a href="#cb365-8"></a>    <span class="dt" d__="">double</span> z <span class="op" d__="">=</span> <span class="fl" d__="">123.4</span><span class="op" d__="">;</span></span>
<span id="cb365-9"><a href="#cb365-9"></a></span>
<span id="cb365-10" d__=""><a href="#cb365-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> copysign<span class="op" d__="">(</span>x<span class="op" d__="">,</span> y<span class="op" d__="">));</span> <span class="co" d__="">// -34.900000</span></span>
<span id="cb365-11" d__=""><a href="#cb365-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> copysign<span class="op" d__="">(</span>x<span class="op" d__="">,</span> z<span class="op" d__="">));</span> <span class="co" d__="">//  34.900000</span></span>
<span id="cb365-12"><a href="#cb365-12"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-98" d__="">See Also</h3>
<p><a href="#man-signbit"><code s__="13" d__="">signbit()</code></a></p>
<hr>
<h2 data-number="13.55" id="man-nan" d__=""><span class="header-section-number">13.55</span> <code>nan()</code>, <code>nanf()</code>, <code>nanl()</code></h2>
<p> </p>
<p d__="">Return <code s__="13">NAN</code>.</p>
<h3 class="unnumbered unlisted" id="synopsis-103" d__="">Synopsis</h3>
<div class="sourceCode" id="cb366"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb366-1"><a href="#cb366-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb366-2"><a href="#cb366-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb366-3" d__=""><a href="#cb366-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> nan<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>tagp<span class="op" d__="">);</span></span>
<span id="cb366-4"><a href="#cb366-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb366-5" d__=""><a href="#cb366-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> nanf<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>tagp<span class="op" d__="">);</span></span>
<span id="cb366-6"><a href="#cb366-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb366-7" d__=""><a href="#cb366-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> nanl<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>tagp<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-103" d__="">Description</h3>
<p d__="">These functions return a quiet NaN<a href="#fn34" class="footnote-ref" id="fnref34" role="doc-noteref"><sup s__="13" d__="">34</sup></a>. It is produced as if calling <a href="#man-strtod"><code s__="13" d__="">strtod()</code></a> with <code s__="13">"NAN"</code> (or a variant thereof) as an argument.</p>
<p d__=""><code s__="13">tagp</code> points to a string which could be 
several things, including empty. The contents of the string determine 
which variant of NaN might get returned depending on the implementation.</p>
<p d__="">Which <em>version</em> of NaN? Did you even know it was possible to get this far into the weeds with something that wasn’t a number?</p>
<p d__="">Case 1 in which you pass in an empty string, in which case these are the same:</p>
<div class="sourceCode" id="cb367"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb367-1" d__=""><a href="#cb367-1" aria-hidden="true" tabindex="-1"></a>nan<span class="op" d__="">(</span><span class="st" d__="">""</span><span class="op" d__="">);</span></span>
<span id="cb367-2"><a href="#cb367-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb367-3" d__=""><a href="#cb367-3" aria-hidden="true" tabindex="-1"></a>strtod<span class="op" d__="">(</span><span class="st" d__="">"NAN()"</span><span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span></code></pre></div>
<p d__="">Case 2 in which the string contains only digits 0-9, letters a-z, letters A-Z, and/or underscore:</p>
<div class="sourceCode" id="cb368"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb368-1" d__=""><a href="#cb368-1" aria-hidden="true" tabindex="-1"></a>nan<span class="op" d__="">(</span><span class="st" d__="">"goats"</span><span class="op" d__="">);</span></span>
<span id="cb368-2"><a href="#cb368-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb368-3" d__=""><a href="#cb368-3" aria-hidden="true" tabindex="-1"></a>strtod<span class="op" d__="">(</span><span class="st" d__="">"NAN(goats)"</span><span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span></code></pre></div>
<p d__="">And Case 3, in which the string contains anything else and is ignored:</p>
<div class="sourceCode" id="cb369"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb369-1" d__=""><a href="#cb369-1" aria-hidden="true" tabindex="-1"></a>nan<span class="op" d__="">(</span><span class="st" d__="">"!"</span><span class="op" d__="">);</span></span>
<span id="cb369-2"><a href="#cb369-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb369-3" d__=""><a href="#cb369-3" aria-hidden="true" tabindex="-1"></a>strtod<span class="op" d__="">(</span><span class="st" d__="">"NAN"</span><span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span></code></pre></div>
<p d__="">As for what <code s__="13">strtod()</code> does with those values in parens, see the [<code s__="13">strtod()</code>] reference page. Spoiler: it’s implementation-defined.</p>
<h3 class="unnumbered unlisted" id="return-value-102" d__="">Return Value</h3>
<p d__="">Returns the requested quiet NaN, or 0 if such things aren’t supported by your system.</p>
<h3 class="unnumbered unlisted" id="example-103" d__="">Example</h3>
<div class="sourceCode" id="cb370"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb370-1"><a href="#cb370-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb370-2"><a href="#cb370-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb370-3"><a href="#cb370-3"></a></span>
<span id="cb370-4" d__=""><a href="#cb370-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb370-5"><a href="#cb370-5"></a><span class="op" d__="">{</span></span>
<span id="cb370-6" d__=""><a href="#cb370-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> nan<span class="op" d__="">(</span><span class="st" d__="">""</span><span class="op" d__="">));</span>       <span class="co" d__="">// nan</span></span>
<span id="cb370-7" d__=""><a href="#cb370-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> nan<span class="op" d__="">(</span><span class="st" d__="">"goats"</span><span class="op" d__="">));</span>  <span class="co" d__="">// nan</span></span>
<span id="cb370-8" d__=""><a href="#cb370-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> nan<span class="op" d__="">(</span><span class="st" d__="">"!"</span><span class="op" d__="">));</span>      <span class="co" d__="">// nan</span></span>
<span id="cb370-9"><a href="#cb370-9"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-99" d__="">See Also</h3>
<p><a href="#man-strtod"><code s__="13" d__="">strtod()</code></a></p>
<hr>
<h2 data-number="13.56" id="man-nextafter" d__=""><span class="header-section-number">13.56</span> <code>nextafter()</code>, <code>nextafterf()</code>, <code>nextafterl()</code></h2>
<p> </p>
<p d__="">Get the next (or previous) representable floating point value.</p>
<h3 class="unnumbered unlisted" id="synopsis-104" d__="">Synopsis</h3>
<div class="sourceCode" id="cb371"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb371-1"><a href="#cb371-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb371-2"><a href="#cb371-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb371-3" d__=""><a href="#cb371-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> nextafter<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">double</span> y<span class="op" d__="">);</span></span>
<span id="cb371-4"><a href="#cb371-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb371-5" d__=""><a href="#cb371-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> nextafterf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">,</span> <span class="dt" d__="">float</span> y<span class="op" d__="">);</span></span>
<span id="cb371-6"><a href="#cb371-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb371-7" d__=""><a href="#cb371-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> nextafterl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> y<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-104" d__="">Description</h3>
<p d__="">As you probably know, floating point numbers can’t represent <em>every</em> possible real number. There are limits.</p>
<p d__="">And, as such, there exists a “next” and “previous” number after or before any floating point number.</p>
<p d__="">These functions return the next (or previous) representable 
number. That is, no floating point numbers exist between the given 
number and the next one.</p>
<p d__="">The way it figures it out is it works from <code s__="13">x</code> in the direction of <code s__="13">y</code>, answering the question of “what is the next representable number from <code s__="13">x</code> as we head toward <code s__="13">y</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-103" d__="">Return Value</h3>
<p d__="">Returns the next representable floating point value from <code s__="13">x</code> in the direction of <code s__="13">y</code>.</p>
<p d__="">If <code s__="13">x</code> equals <code s__="13">y</code>, returns <code s__="13">y</code>. And also <code s__="13">x</code>, I suppose.</p>
<h3 class="unnumbered unlisted" id="example-104" d__="">Example</h3>
<div class="sourceCode" id="cb372"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb372-1"><a href="#cb372-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb372-2"><a href="#cb372-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb372-3"><a href="#cb372-3"></a></span>
<span id="cb372-4" d__=""><a href="#cb372-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb372-5"><a href="#cb372-5"></a><span class="op" d__="">{</span></span>
<span id="cb372-6" d__=""><a href="#cb372-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%.*f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> DBL_DECIMAL_DIG<span class="op" d__="">,</span> nextafter<span class="op" d__="">(</span><span class="fl" d__="">0.5</span><span class="op" d__="">,</span> <span class="fl" d__="">1.0</span><span class="op" d__="">));</span></span>
<span id="cb372-7" d__=""><a href="#cb372-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%.*f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> DBL_DECIMAL_DIG<span class="op" d__="">,</span> nextafter<span class="op" d__="">(</span><span class="fl" d__="">0.349</span><span class="op" d__="">,</span> <span class="fl" d__="">0.0</span><span class="op" d__="">));</span></span>
<span id="cb372-8"><a href="#cb372-8"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output on my system:</p>
<div class="sourceCode" id="cb373"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb373-1" d__=""><a href="#cb373-1" aria-hidden="true" tabindex="-1"></a>0.50000000000000011</span>
<span id="cb373-2" d__=""><a href="#cb373-2" aria-hidden="true" tabindex="-1"></a>0.34899999999999992</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-100" d__="">See Also</h3>
<p><a href="#man-nexttoward"><code s__="13" d__="">nexttoward()</code></a></p>
<hr>
<h2 data-number="13.57" id="man-nexttoward" d__=""><span class="header-section-number">13.57</span> <code>nexttoward()</code>, <code>nexttowardf()</code>, <code>nexttowardl()</code></h2>
<p> </p>
<p d__="">Get the next (or previous) representable floating point value.</p>
<h3 class="unnumbered unlisted" id="synopsis-105" d__="">Synopsis</h3>
<div class="sourceCode" id="cb374"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb374-1" d__=""><a href="#cb374-1" aria-hidden="true" tabindex="-1"></a>include <span class="op" d__="">&lt;</span>math<span class="op" d__="">.</span>h<span class="op" d__="">&gt;</span></span>
<span id="cb374-2"><a href="#cb374-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb374-3" d__=""><a href="#cb374-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> nexttoward<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> y<span class="op" d__="">);</span></span>
<span id="cb374-4"><a href="#cb374-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb374-5" d__=""><a href="#cb374-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> nexttowardf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">,</span> <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> y<span class="op" d__="">);</span></span>
<span id="cb374-6"><a href="#cb374-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb374-7" d__=""><a href="#cb374-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> nexttowardl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> y<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-105" d__="">Description</h3>
<p d__="">These functions are the same as <a href="#man-nextafter"><code s__="13" d__="">nextafter()</code></a> except the second parameter is always <code s__="13">long double</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-104" d__="">Return Value</h3>
<p d__="">Returns the same as <a href="#man-nextafter"><code s__="13" d__="">nextafter()</code></a> except if <code s__="13">x</code> equals <code s__="13">y</code>, returns <code s__="13">y</code> cast to the function’s return type.</p>
<h3 class="unnumbered unlisted" id="example-105" d__="">Example</h3>
<div class="sourceCode" id="cb375"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb375-1"><a href="#cb375-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb375-2"><a href="#cb375-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;float.h&gt;</span></span>
<span id="cb375-3"><a href="#cb375-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb375-4"><a href="#cb375-4"></a></span>
<span id="cb375-5" d__=""><a href="#cb375-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb375-6"><a href="#cb375-6"></a><span class="op" d__="">{</span></span>
<span id="cb375-7" d__=""><a href="#cb375-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%.*f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> DBL_DECIMAL_DIG<span class="op" d__="">,</span> nexttoward<span class="op" d__="">(</span><span class="fl" d__="">0.5</span><span class="op" d__="">,</span> <span class="fl" d__="">1.0</span><span class="op" d__="">));</span></span>
<span id="cb375-8" d__=""><a href="#cb375-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%.*f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> DBL_DECIMAL_DIG<span class="op" d__="">,</span> nexttoward<span class="op" d__="">(</span><span class="fl" d__="">0.349</span><span class="op" d__="">,</span> <span class="fl" d__="">0.0</span><span class="op" d__="">));</span></span>
<span id="cb375-9"><a href="#cb375-9"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output on my system:</p>
<div class="sourceCode" id="cb376"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb376-1" d__=""><a href="#cb376-1" aria-hidden="true" tabindex="-1"></a>0.50000000000000011</span>
<span id="cb376-2" d__=""><a href="#cb376-2" aria-hidden="true" tabindex="-1"></a>0.34899999999999992</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-101" d__="">See Also</h3>
<p><a href="#man-nextafter"><code s__="13" d__="">nextafter()</code></a></p>
<hr>
<h2 data-number="13.58" id="man-fdim" d__=""><span class="header-section-number">13.58</span> <code>fdim()</code>, <code>fdimf()</code>, <code>fdiml()</code></h2>
<p> </p>
<p d__="">Return the positive difference between two numbers clamped at 0.</p>
<h3 class="unnumbered unlisted" id="synopsis-106" d__="">Synopsis</h3>
<div class="sourceCode" id="cb377"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb377-1"><a href="#cb377-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb377-2"><a href="#cb377-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb377-3" d__=""><a href="#cb377-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> fdim<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">double</span> y<span class="op" d__="">);</span></span>
<span id="cb377-4"><a href="#cb377-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb377-5" d__=""><a href="#cb377-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> fdimf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">,</span> <span class="dt" d__="">float</span> y<span class="op" d__="">);</span></span>
<span id="cb377-6"><a href="#cb377-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb377-7" d__=""><a href="#cb377-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> fdiml<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> y<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-106" d__="">Description</h3>
<p d__="">The positive difference between <code s__="13">x</code> and <code s__="13">y</code> is the difference… except if the difference is less than <code s__="13">0</code>, it’s clamped to <code s__="13">0</code>.</p>
<p d__="">These functions might throw a range error.</p>
<h3 class="unnumbered unlisted" id="return-value-105" d__="">Return Value</h3>
<p d__="">Returns the difference of <code s__="13">x-y</code> if the difference is greater than <code s__="13">0</code>. Otherwise it returns <code s__="13">0</code>.</p>
<h3 class="unnumbered unlisted" id="example-106" d__="">Example</h3>
<div class="sourceCode" id="cb378"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb378-1"><a href="#cb378-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb378-2"><a href="#cb378-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb378-3"><a href="#cb378-3"></a></span>
<span id="cb378-4" d__=""><a href="#cb378-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb378-5"><a href="#cb378-5"></a><span class="op" d__="">{</span></span>
<span id="cb378-6" d__=""><a href="#cb378-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> fdim<span class="op" d__="">(</span><span class="fl" d__="">10.0</span><span class="op" d__="">,</span> <span class="fl" d__="">3.0</span><span class="op" d__="">));</span>   <span class="co" d__="">// 7.000000</span></span>
<span id="cb378-7" d__=""><a href="#cb378-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> fdim<span class="op" d__="">(</span><span class="fl" d__="">3.0</span><span class="op" d__="">,</span> <span class="fl" d__="">10.0</span><span class="op" d__="">));</span>   <span class="co" d__="">// 0.000000, clamped</span></span>
<span id="cb378-8"><a href="#cb378-8"></a><span class="op" d__="">}</span></span></code></pre></div>
<!--
### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<hr>
<h2 data-number="13.59" id="man-fmax" d__=""><span class="header-section-number">13.59</span> <code>fmax()</code>, <code>fmaxf()</code>, <code>fmaxl()</code>, <code>fmin()</code>, <code>fminf()</code>, <code>fminl()</code></h2>
<p> </p>
<p d__="">Return the maximum or minimum of two numbers.</p>
<h3 class="unnumbered unlisted" id="synopsis-107" d__="">Synopsis</h3>
<div class="sourceCode" id="cb379"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb379-1"><a href="#cb379-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb379-2"><a href="#cb379-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb379-3" d__=""><a href="#cb379-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> fmax<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">double</span> y<span class="op" d__="">);</span></span>
<span id="cb379-4"><a href="#cb379-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb379-5" d__=""><a href="#cb379-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> fmaxf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">,</span> <span class="dt" d__="">float</span> y<span class="op" d__="">);</span></span>
<span id="cb379-6"><a href="#cb379-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb379-7" d__=""><a href="#cb379-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> fmaxl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> y<span class="op" d__="">);</span></span>
<span id="cb379-8"><a href="#cb379-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb379-9" d__=""><a href="#cb379-9" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> fmin<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">double</span> y<span class="op" d__="">);</span></span>
<span id="cb379-10"><a href="#cb379-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb379-11" d__=""><a href="#cb379-11" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> fminf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">,</span> <span class="dt" d__="">float</span> y<span class="op" d__="">);</span></span>
<span id="cb379-12"><a href="#cb379-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb379-13" d__=""><a href="#cb379-13" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> fminl<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> y<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-107" d__="">Description</h3>
<p d__="">Straightforwardly, these functions return the minimum or maximum of two given numbers.</p>
<p d__="">If one of the numbers is NaN, the functions return the non-NaN number. If both arguments are NaN, the functions return NaN.</p>
<h3 class="unnumbered unlisted" id="return-value-106" d__="">Return Value</h3>
<p d__="">Returns the minimum or maximum values, with NaN handled as mentioned above.</p>
<h3 class="unnumbered unlisted" id="example-107" d__="">Example</h3>
<div class="sourceCode" id="cb380"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb380-1"><a href="#cb380-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb380-2"><a href="#cb380-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb380-3"><a href="#cb380-3"></a></span>
<span id="cb380-4" d__=""><a href="#cb380-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb380-5"><a href="#cb380-5"></a><span class="op" d__="">{</span></span>
<span id="cb380-6" d__=""><a href="#cb380-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> fmin<span class="op" d__="">(</span><span class="fl" d__="">10.0</span><span class="op" d__="">,</span> <span class="fl" d__="">3.0</span><span class="op" d__="">));</span>   <span class="co" d__="">//  3.000000</span></span>
<span id="cb380-7" d__=""><a href="#cb380-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> fmax<span class="op" d__="">(</span><span class="fl" d__="">3.0</span><span class="op" d__="">,</span> <span class="fl" d__="">10.0</span><span class="op" d__="">));</span>   <span class="co" d__="">// 10.000000</span></span>
<span id="cb380-8"><a href="#cb380-8"></a><span class="op" d__="">}</span></span></code></pre></div>
<!--
### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<hr>
<h2 data-number="13.60" id="man-fma" d__=""><span class="header-section-number">13.60</span> <code>fma()</code>, <code>fmaf()</code>, <code>fmal()</code></h2>
<p> </p>
<p d__="">Floating (AKA “Fast”) multiply and add.</p>
<h3 class="unnumbered unlisted" id="synopsis-108" d__="">Synopsis</h3>
<div class="sourceCode" id="cb381"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb381-1"><a href="#cb381-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb381-2"><a href="#cb381-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb381-3" d__=""><a href="#cb381-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> fma<span class="op" d__="">(</span><span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">double</span> y<span class="op" d__="">,</span> <span class="dt" d__="">double</span> z<span class="op" d__="">);</span></span>
<span id="cb381-4"><a href="#cb381-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb381-5" d__=""><a href="#cb381-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> fmaf<span class="op" d__="">(</span><span class="dt" d__="">float</span> x<span class="op" d__="">,</span> <span class="dt" d__="">float</span> y<span class="op" d__="">,</span> <span class="dt" d__="">float</span> z<span class="op" d__="">);</span></span>
<span id="cb381-6"><a href="#cb381-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb381-7" d__=""><a href="#cb381-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> fmal<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> x<span class="op" d__="">,</span> <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> y<span class="op" d__="">,</span> <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> z<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-108" d__="">Description</h3>
<p d__="">This performs the operation <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="148"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-cD7"></mjx-c></mjx-mo><mjx-texatom space="3" texclass="ORD"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi></mjx-texatom><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="3"><mjx-c class="mjx-c1D467 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>x</mi><mo>×</mo><mrow data-mjx-texclass="ORD"><mi>y</mi></mrow><mo stretchy="false">)</mo><mo>+</mo><mi>z</mi></math></mjx-assistive-mml></mjx-container></span>,
 but does so in a nifty way. It does the computation as if it had 
infinite precision, and then rounds the final result to the final data 
type according to the current rounding mode.</p>
<p d__="">Contrast to if you’d do the math yourself, where it would have rounded each step of the way, potentially.</p>
<p d__="">Also some architectures have a CPU instruction to do exactly 
this calculation, so it can do it super quick. (If it doesn’t, it’s 
considerably slower.)</p>
<p d__="">You can tell if your CPU supports the fast version by checking that the macro <code s__="13">FP_FAST_FMA</code> is set to <code s__="13">1</code>. (The <code s__="13">float</code> and <code s__="13">long</code> variants of <code s__="13">fma()</code> can be tested with <code s__="13">FP_FAST_FMAF</code> and <code s__="13">FP_FAST_FMAL</code>, respectively.)</p>
<p d__="">These functions might cause a range error to occur.</p>
<h3 class="unnumbered unlisted" id="return-value-107" d__="">Return Value</h3>
<p d__="">Returns <code s__="13">(x * y) + z</code>.</p>
<h3 class="unnumbered unlisted" id="example-108" d__="">Example</h3>
<div class="sourceCode" id="cb382"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb382-1" d__=""><a href="#cb382-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> fma<span class="op" d__="">(</span><span class="fl" d__="">1.0</span><span class="op" d__="">,</span> <span class="fl" d__="">2.0</span><span class="op" d__="">,</span> <span class="fl" d__="">3.0</span><span class="op" d__="">));</span>  <span class="co" d__="">// 5.000000</span></span></code></pre></div>
<!--
### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<hr>
<h2 data-number="13.61" id="man-isgreater" d__=""><span class="header-section-number">13.61</span> <code>isgreater()</code>, <code>isgreaterequal()</code>, <code>isless()</code>, <code>islessequal()</code></h2>
<p> </p>
<p d__="">Floating point comparison macros.</p>
<h3 class="unnumbered unlisted" id="synopsis-109" d__="">Synopsis</h3>
<div class="sourceCode" id="cb383"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb383-1"><a href="#cb383-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb383-2"><a href="#cb383-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb383-3" d__=""><a href="#cb383-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> isgreater<span class="op" d__="">(</span>any_floating_type x<span class="op" d__="">,</span> any_floating_type y<span class="op" d__="">);</span></span>
<span id="cb383-4"><a href="#cb383-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb383-5" d__=""><a href="#cb383-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> isgreaterequal<span class="op" d__="">(</span>any_floating_type x<span class="op" d__="">,</span> any_floating_type y<span class="op" d__="">);</span></span>
<span id="cb383-6"><a href="#cb383-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb383-7" d__=""><a href="#cb383-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> isless<span class="op" d__="">(</span>any_floating_type x<span class="op" d__="">,</span> any_floating_type y<span class="op" d__="">);</span></span>
<span id="cb383-8"><a href="#cb383-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb383-9" d__=""><a href="#cb383-9" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> islessequal<span class="op" d__="">(</span>any_floating_type x<span class="op" d__="">,</span> any_floating_type y<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-109" d__="">Description</h3>
<p d__="">These macros compare floating point numbers. Being macros, we can pass in any floating point type.</p>
<p d__="">You might think you can already do that with just regular comparison operators—and you’d be right!</p>
<p d__="">One one exception: the comparison operators raise the 
“invalid” floating exception if one or more of the operands is NaN. 
These macros do not.</p>
<p d__="">Note that you must only pass floating point types into these 
functions. Passing an integer or any other type is undefined behavior.</p>
<h3 class="unnumbered unlisted" id="return-value-108" d__="">Return Value</h3>
<p d__=""><code s__="13">isgreater()</code> returns the result of <code s__="13">x &gt; y</code>.</p>
<p d__=""><code s__="13">isgreaterequal()</code> returns the result of <code s__="13">x &gt;= y</code>.</p>
<p d__=""><code s__="13">isless()</code> returns the result of <code s__="13">x &lt; y</code>.</p>
<p d__=""><code s__="13">islessequal()</code> returns the result of <code s__="13">x &lt;= y</code>.</p>
<h3 class="unnumbered unlisted" id="example-109" d__="">Example</h3>
<div class="sourceCode" id="cb384"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb384-1"><a href="#cb384-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb384-2"><a href="#cb384-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb384-3"><a href="#cb384-3"></a></span>
<span id="cb384-4" d__=""><a href="#cb384-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb384-5"><a href="#cb384-5"></a><span class="op" d__="">{</span></span>
<span id="cb384-6" d__=""><a href="#cb384-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isgreater<span class="op" d__="">(</span><span class="fl" d__="">10.0</span><span class="op" d__="">,</span> <span class="fl" d__="">3.0</span><span class="op" d__="">));</span>        <span class="co" d__="">// 1</span></span>
<span id="cb384-7" d__=""><a href="#cb384-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isgreaterequal<span class="op" d__="">(</span><span class="fl" d__="">10.0</span><span class="op" d__="">,</span> <span class="fl" d__="">10.0</span><span class="op" d__="">));</span>  <span class="co" d__="">// 1</span></span>
<span id="cb384-8" d__=""><a href="#cb384-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isless<span class="op" d__="">(</span><span class="fl" d__="">10.0</span><span class="op" d__="">,</span> <span class="fl" d__="">3.0</span><span class="op" d__="">));</span>           <span class="co" d__="">// 0</span></span>
<span id="cb384-9" d__=""><a href="#cb384-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> islessequal<span class="op" d__="">(</span><span class="fl" d__="">10.0</span><span class="op" d__="">,</span> <span class="fl" d__="">3.0</span><span class="op" d__="">));</span>      <span class="co" d__="">// 0</span></span>
<span id="cb384-10"><a href="#cb384-10"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-102" d__="">See Also</h3>
<p d__=""><a href="#man-islessgreater"><code s__="13" d__="">islessgreater()</code></a>, <a href="#man-isunordered"><code s__="13" d__="">isunordered()</code></a></p>
<hr>
<h2 data-number="13.62" id="man-islessgreater"><span class="header-section-number" d__="">13.62</span> <code d__="">islessgreater()</code></h2>
<p></p>
<p d__="">Test if a floating point number is less than or greater than another.</p>
<h3 class="unnumbered unlisted" id="synopsis-110" d__="">Synopsis</h3>
<div class="sourceCode" id="cb385"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb385-1"><a href="#cb385-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb385-2"><a href="#cb385-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb385-3" d__=""><a href="#cb385-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> islessgreater<span class="op" d__="">(</span>any_floating_type x<span class="op" d__="">,</span> any_floating_type y<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-110" d__="">Description</h3>
<p d__="">This macro is similar to <code s__="13">isgreater()</code> and all those, except it made the section name too long if I included it up there. So it gets its own spot.</p>
<p d__="">This returns true if <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="149"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3C"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="4"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>&lt;</mo><mi>y</mi></math></mjx-assistive-mml></mjx-container></span> or <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="150"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3E"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="4"><mjx-c class="mjx-c1D466 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>&gt;</mo><mi>y</mi></math></mjx-assistive-mml></mjx-container></span>.</p>
<p d__="">Even though it’s a macro, we can rest assured that <code s__="13">x</code> and <code s__="13">y</code> are only evaluated once.</p>
<p d__="">And even if <code s__="13">x</code> or <code s__="13">y</code> are NaN, this will not throw an “invalid” exception, unlike the normal comparison operators.</p>
<p d__="">If you pass in a non-floating type, the behavior is undefined.</p>
<h3 class="unnumbered unlisted" id="return-value-109" d__="">Return Value</h3>
<p d__="">Returns <code s__="13">(x &lt; y) || (x &gt; y)</code>.</p>
<h3 class="unnumbered unlisted" id="example-110" d__="">Example</h3>
<div class="sourceCode" id="cb386"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb386-1"><a href="#cb386-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb386-2"><a href="#cb386-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb386-3"><a href="#cb386-3"></a></span>
<span id="cb386-4" d__=""><a href="#cb386-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb386-5"><a href="#cb386-5"></a><span class="op" d__="">{</span></span>
<span id="cb386-6" d__=""><a href="#cb386-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> islessgreater<span class="op" d__="">(</span><span class="fl" d__="">10.0</span><span class="op" d__="">,</span> <span class="fl" d__="">3.0</span><span class="op" d__="">));</span>   <span class="co" d__="">// 1</span></span>
<span id="cb386-7" d__=""><a href="#cb386-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> islessgreater<span class="op" d__="">(</span><span class="fl" d__="">10.0</span><span class="op" d__="">,</span> <span class="fl" d__="">30.0</span><span class="op" d__="">));</span>  <span class="co" d__="">// 1</span></span>
<span id="cb386-8" d__=""><a href="#cb386-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> islessgreater<span class="op" d__="">(</span><span class="fl" d__="">10.0</span><span class="op" d__="">,</span> <span class="fl" d__="">10.0</span><span class="op" d__="">));</span>  <span class="co" d__="">// 0</span></span>
<span id="cb386-9"><a href="#cb386-9"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-103" d__="">See Also</h3>
<p d__=""><a href="#man-isgreater"><code s__="13" d__="">isgreater()</code></a>, <a href="#man-isgreater"><code s__="13" d__="">isgreaterequal()</code></a>, <a href="#man-isgreater"><code s__="13" d__="">isless()</code></a>, <a href="#man-isgreater"><code s__="13" d__="">islessequal()</code></a>, <a href="#man-isunordered"><code s__="13" d__="">isunordered()</code></a></p>
<hr>
<h2 data-number="13.63" id="man-isunordered"><span class="header-section-number" d__="">13.63</span> <code d__="">isunordered()</code></h2>
<p></p>
<p d__="">Macro returns true if either floating point argument is NaN.</p>
<h3 class="unnumbered unlisted" id="synopsis-111" d__="">Synopsis</h3>
<div class="sourceCode" id="cb387"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb387-1"><a href="#cb387-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb387-2"><a href="#cb387-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb387-3" d__=""><a href="#cb387-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> isunordered<span class="op" d__="">(</span>any_floating_type x<span class="op" d__="">,</span> any_floating_type y<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-111" d__="">Description</h3>
<p d__="">The spec writes:</p>
<blockquote>
<p d__="">The isunordered macro determines whether its arguments are unordered.</p>
</blockquote>
<p d__="">See? Told you C was easy!</p>
<p d__="">It does also elaborate that the arguments are unordered if one or both of them are NaN.</p>
<h3 class="unnumbered unlisted" id="return-value-110" d__="">Return Value</h3>
<p d__="">This macro returns true if one or both of the arguments are NaN.</p>
<h3 class="unnumbered unlisted" id="example-111" d__="">Example</h3>
<div class="sourceCode" id="cb388"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb388-1"><a href="#cb388-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb388-2"><a href="#cb388-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb388-3"><a href="#cb388-3"></a></span>
<span id="cb388-4" d__=""><a href="#cb388-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb388-5"><a href="#cb388-5"></a><span class="op" d__="">{</span></span>
<span id="cb388-6" d__=""><a href="#cb388-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isunordered<span class="op" d__="">(</span><span class="fl" d__="">1.0</span><span class="op" d__="">,</span> <span class="fl" d__="">2.0</span><span class="op" d__="">));</span>       <span class="co" d__="">// 0</span></span>
<span id="cb388-7" d__=""><a href="#cb388-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isunordered<span class="op" d__="">(</span><span class="fl" d__="">1.0</span><span class="op" d__="">,</span> sqrt<span class="op" d__="">(-</span><span class="dv" d__="">1</span><span class="op" d__="">)));</span>  <span class="co" d__="">// 1</span></span>
<span id="cb388-8" d__=""><a href="#cb388-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isunordered<span class="op" d__="">(</span>NAN<span class="op" d__="">,</span> <span class="fl" d__="">30.0</span><span class="op" d__="">));</span>      <span class="co" d__="">// 1</span></span>
<span id="cb388-9" d__=""><a href="#cb388-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> isunordered<span class="op" d__="">(</span>NAN<span class="op" d__="">,</span> NAN<span class="op" d__="">));</span>       <span class="co" d__="">// 1</span></span>
<span id="cb388-10"><a href="#cb388-10"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-104" d__="">See Also</h3>
<p d__=""><a href="#man-isgreater"><code s__="13" d__="">isgreater()</code></a>, <a href="#man-isgreater"><code s__="13" d__="">isgreaterequal()</code></a>, <a href="#man-isgreater"><code s__="13" d__="">isless()</code></a>, <a href="#man-isgreater"><code s__="13" d__="">islessequal()</code></a>, <a href="#man-islessgreater"><code s__="13" d__="">islessgreater()</code></a></p>
<!--
***
## `example()`, `example()`, `example()` {#man-example}

### Synopsis {.unnumbered .unlisted}

``` {.c}
```

### Description {.unnumbered .unlisted}

### Return Value {.unnumbered .unlisted}

### Example {.unnumbered .unlisted}

``` {.c .numberLines}
```

### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="14" id="setjmp" d__=""><span class="header-section-number">14</span> <code>&lt;setjmp.h&gt;</code> Non-local Goto</h1>
<p></p>
<p d__="">These functions enable you to rewind the call stack to an earlier point, with a bunch of gotchas. It is rarely used.</p>
<table>
<thead>
<tr class="header">
<th d__="">Function</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">longjmp()</code></td>
<td d__="">Return to the previously-placed bookmark</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">setjmp()</code></td>
<td d__="">Bookmark this place to return to later</td>
</tr>
</tbody>
</table>
<p d__="">There’s also a new opaque type, <code s__="13">jmp_buf</code>, that holds all the information needed to pull off this magic trick.</p>
<p d__="">If you want your automatic local variables to be correct after a call to <code s__="13">longjmp()</code>. declare them as <code s__="13">volatile</code> where you called <code s__="13">setjmp()</code>.</p>
<hr>
<h2 data-number="14.1" id="man-setjmp"><span class="header-section-number" d__="">14.1</span> <code d__="">setjmp()</code></h2>
<p></p>
<p d__="">Save this location as one to return to later</p>
<h3 class="unnumbered unlisted" id="synopsis-112" d__="">Synopsis</h3>
<div class="sourceCode" id="cb389"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb389-1"><a href="#cb389-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;setjmp.h&gt;</span></span>
<span id="cb389-2"><a href="#cb389-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb389-3" d__=""><a href="#cb389-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> setjmp<span class="op" d__="">(</span>jmp_buf env<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-112" d__="">Description</h3>
<p d__="">This is how you save your position so you can <code s__="13">longjmp()</code> back it, later. Think of it as setting up a warp destination for later use.</p>
<p d__="">Basically, you call this, giving it an <code s__="13">env</code> it can fill in with all the information it needs to come back here later. This <code s__="13">env</code> is one you’ll pass to <code s__="13">longjmp()</code> later when you want to teleport back here.</p>
<p d__="">And the really funky part is this can return two different ways:</p>
<ol type="1">
<li><p d__="">It can return <code s__="13">0</code> from the call where you set up the jump destination.</p></li>
<li><p d__="">If can return non-zero when you actually warp back here as the result of a call to <code s__="13">longjmp()</code>.</p></li>
</ol>
<p d__="">What you can do is check the return value to see which case has occurred.</p>
<p d__="">You’re only allowed to call <code s__="13">setjmp()</code> in a limited number of circumstances.</p>
<ol type="1">
<li><p d__="">As a standalone expression:</p>
<div class="sourceCode" id="cb390"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb390-1" d__=""><a href="#cb390-1" aria-hidden="true" tabindex="-1"></a>setjmp<span class="op" d__="">(</span>env<span class="op" d__="">);</span></span></code></pre></div>
<p d__="">You can also cast it to <code s__="13">(void)</code> if you really wanted to do such a thing.</p></li>
<li><p d__="">As the complete controlling expression in an <code s__="13">if</code> or <code s__="13">switch</code>.</p>
<div class="sourceCode" id="cb391"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb391-1" d__=""><a href="#cb391-1" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">if</span> <span class="op" d__="">(</span>setjmp<span class="op" d__="">(</span>env<span class="op" d__="">))</span> <span class="op" d__="">{</span> <span class="op" d__="">...</span> <span class="op" d__="">}</span></span>
<span id="cb391-2"><a href="#cb391-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb391-3" d__=""><a href="#cb391-3" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">switch</span> <span class="op" d__="">(</span>setjmp<span class="op" d__="">(</span>env<span class="op" d__="">))</span> <span class="op" d__="">{</span> <span class="op" d__="">...</span> <span class="op" d__="">}</span></span></code></pre></div>
<p d__="">But not this as it’s not the complete controlling expression in this case:</p>
<div class="sourceCode" id="cb392"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb392-1" d__=""><a href="#cb392-1" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">if</span> <span class="op" d__="">(</span>x <span class="op" d__="">==</span> <span class="dv" d__="">2</span> <span class="op" d__="">&amp;&amp;</span> setjmp<span class="op" d__="">())</span> <span class="op" d__="">{</span> <span class="op" d__="">...</span> <span class="op" d__="">}</span>   <span class="co" d__="">// Undefined behavior</span></span></code></pre></div></li>
<li><p d__="">The same as (2), above, except with a comparison to an integer constant:</p>
<div class="sourceCode" id="cb393"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb393-1" d__=""><a href="#cb393-1" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">if</span> <span class="op" d__="">(</span>setjmp<span class="op" d__="">(</span>env<span class="op" d__="">)</span> <span class="op" d__="">==</span> <span class="dv" d__="">0</span><span class="op" d__="">)</span> <span class="op" d__="">{</span> <span class="op" d__="">...</span> <span class="op" d__="">}</span></span>
<span id="cb393-2"><a href="#cb393-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb393-3" d__=""><a href="#cb393-3" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">if</span> <span class="op" d__="">(</span>setjmp<span class="op" d__="">(</span>env<span class="op" d__="">)</span> <span class="op" d__="">&gt;</span> <span class="dv" d__="">2</span><span class="op" d__="">)</span> <span class="op" d__="">{</span> <span class="op" d__="">...</span> <span class="op" d__="">}</span></span></code></pre></div></li>
<li><p d__="">As the operand to the not (<code s__="13">!</code>) operator:</p>
<div class="sourceCode" id="cb394"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb394-1" d__=""><a href="#cb394-1" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">if</span> <span class="op" d__="">(!</span>setjmp<span class="op" d__="">(</span>env<span class="op" d__="">))</span> <span class="op" d__="">{</span> <span class="op" d__="">...</span> <span class="op" d__="">}</span></span></code></pre></div></li>
</ol>
<p d__="">Anything else is (you guessed it) undefined behavior!</p>
<p d__="">This can be a macro or a function, but you’ll treat it the same way in any case.</p>
<h3 class="unnumbered unlisted" id="return-value-111" d__="">Return Value</h3>
<p d__="">This one is funky. It returns one of two things:</p>
<p d__="">Returns <code s__="13">0</code> if this was the call to <code s__="13">setjmp()</code> to set it up.</p>
<p d__="">Returns non-zero if being here was the result of a call to <code s__="13">longjmp()</code>. (Namely, it returns the value passed into the <code s__="13">longjmp()</code> function.)</p>
<h3 class="unnumbered unlisted" id="example-112" d__="">Example</h3>
<p d__="">Here’s a function that calls <code s__="13">setjmp()</code> to set things up (where it returns <code s__="13">0</code>), then calls a couple levels deep into functions, and finally short-circuits the return path by <code s__="13">longjmp()</code>ing back to the place where <code s__="13">setjmp()</code> was called, earlier. This time, it passes <code s__="13">3490</code> as a value, which <code s__="13">setjmp()</code> returns.</p>
<div class="sourceCode" id="cb395"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb395-1"><a href="#cb395-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb395-2"><a href="#cb395-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;setjmp.h&gt;</span></span>
<span id="cb395-3"><a href="#cb395-3"></a></span>
<span id="cb395-4" d__=""><a href="#cb395-4"></a>jmp_buf env<span class="op" d__="">;</span></span>
<span id="cb395-5"><a href="#cb395-5"></a></span>
<span id="cb395-6" d__=""><a href="#cb395-6"></a><span class="dt" d__="">void</span> depth2<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb395-7"><a href="#cb395-7"></a><span class="op" d__="">{</span></span>
<span id="cb395-8" d__=""><a href="#cb395-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Entering depth 2</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb395-9" d__=""><a href="#cb395-9"></a>    longjmp<span class="op" d__="">(</span>env<span class="op" d__="">,</span> <span class="dv" d__="">3490</span><span class="op" d__="">);</span>           <span class="co" d__="">// Jump back to setjmp()!!</span></span>
<span id="cb395-10" d__=""><a href="#cb395-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Leaving depth 2</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span>  <span class="co" d__="">// This won't happen</span></span>
<span id="cb395-11"><a href="#cb395-11"></a><span class="op" d__="">}</span></span>
<span id="cb395-12"><a href="#cb395-12"></a></span>
<span id="cb395-13" d__=""><a href="#cb395-13"></a><span class="dt" d__="">void</span> depth1<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb395-14"><a href="#cb395-14"></a><span class="op" d__="">{</span></span>
<span id="cb395-15" d__=""><a href="#cb395-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Entering depth 1</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb395-16" d__=""><a href="#cb395-16"></a>    depth2<span class="op" d__="">();</span></span>
<span id="cb395-17" d__=""><a href="#cb395-17"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Leaving depth 1</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span>  <span class="co" d__="">// This won't happen</span></span>
<span id="cb395-18"><a href="#cb395-18"></a><span class="op" d__="">}</span></span>
<span id="cb395-19"><a href="#cb395-19"></a></span>
<span id="cb395-20" d__=""><a href="#cb395-20"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb395-21"><a href="#cb395-21"></a><span class="op" d__="">{</span></span>
<span id="cb395-22" d__=""><a href="#cb395-22"></a>    <span class="cf" d__="">switch</span> <span class="op" d__="">(</span>setjmp<span class="op" d__="">(</span>env<span class="op" d__="">))</span> <span class="op" d__="">{</span></span>
<span id="cb395-23"><a href="#cb395-23"></a>        <span class="cf" d__="">case</span> <span class="dv" d__="">0</span><span class="op" d__="">:</span></span>
<span id="cb395-24" d__=""><a href="#cb395-24"></a>            printf<span class="op" d__="">(</span><span class="st" d__="">"Calling into functions, setjmp() returned 0</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb395-25" d__=""><a href="#cb395-25"></a>            depth1<span class="op" d__="">();</span></span>
<span id="cb395-26" d__=""><a href="#cb395-26"></a>            printf<span class="op" d__="">(</span><span class="st" d__="">"Returned from functions</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span>  <span class="co" d__="">// This won't happen</span></span>
<span id="cb395-27"><a href="#cb395-27"></a>            <span class="cf" d__="">break</span><span class="op" d__="">;</span></span>
<span id="cb395-28"><a href="#cb395-28"></a></span>
<span id="cb395-29"><a href="#cb395-29"></a>        <span class="cf" d__="">case</span> <span class="dv" d__="">3490</span><span class="op" d__="">:</span></span>
<span id="cb395-30" d__=""><a href="#cb395-30"></a>            printf<span class="op" d__="">(</span><span class="st" d__="">"Bailed back to main, setjmp() returned 3490</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb395-31"><a href="#cb395-31"></a>            <span class="cf" d__="">break</span><span class="op" d__="">;</span></span>
<span id="cb395-32"><a href="#cb395-32"></a>    <span class="op" d__="">}</span></span>
<span id="cb395-33"><a href="#cb395-33"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">When run, this outputs:</p>
<div class="sourceCode" id="cb396"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb396-1" d__=""><a href="#cb396-1" aria-hidden="true" tabindex="-1"></a>Calling into functions, setjmp() returned 0</span>
<span id="cb396-2" d__=""><a href="#cb396-2" aria-hidden="true" tabindex="-1"></a>Entering depth 1</span>
<span id="cb396-3" d__=""><a href="#cb396-3" aria-hidden="true" tabindex="-1"></a>Entering depth 2</span>
<span id="cb396-4" d__=""><a href="#cb396-4" aria-hidden="true" tabindex="-1"></a>Bailed back to main, setjmp() returned 3490</span></code></pre></div>
<p d__="">Notice that the second <code s__="13">printf()</code> in <code s__="13">case 0</code> didn’t run; it got jumped over by <code s__="13">longjmp()</code>!</p>
<h3 class="unnumbered unlisted" id="see-also-105" d__="">See Also</h3>
<p><a href="#man-longjmp"><code s__="13" d__="">longjmp()</code></a></p>
<hr>
<h2 data-number="14.2" id="man-longjmp"><span class="header-section-number" d__="">14.2</span> <code d__="">longjmp()</code></h2>
<p></p>
<p d__="">Return to the previous <code s__="13">setjmp()</code> location</p>
<h3 class="unnumbered unlisted" id="synopsis-113" d__="">Synopsis</h3>
<div class="sourceCode" id="cb397"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb397-1"><a href="#cb397-1" aria-hidden="true" tabindex="-1"></a> <span class="pp" d__="">#include </span><span class="im" d__="">&lt;setjmp.h&gt;</span></span>
<span id="cb397-2"><a href="#cb397-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb397-3" d__=""><a href="#cb397-3" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">_Noreturn</span> <span class="dt" d__="">void</span> longjmp<span class="op" d__="">(</span>jmp_buf env<span class="op" d__="">,</span> <span class="dt" d__="">int</span> val<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-113" d__="">Description</h3>
<p d__="">This returns to a previous call to <code s__="13">setjmp()</code> back in the call history. <code s__="13">setjmp()</code> will return the <code s__="13">val</code> passed into <code s__="13">longjmp()</code>.</p>
<p d__="">The <code s__="13">env</code> passed to <code s__="13">setjmp()</code> should be the same one you pass into <code s__="13">longjmp()</code>.</p>
<p d__="">There are a bunch of potential issues with doing this, so 
you’ll want to be careful that you avoid undefined behavior by not doing
 the following:</p>
<ol type="1">
<li><p d__="">Don’t call <code s__="13">longjmp()</code> if the corresponding <code s__="13">setjmp()</code> was in a different thread.</p></li>
<li><p d__="">Don’t call <code s__="13">longjmp()</code> if you didn’t call <code s__="13">setjmp()</code> first.</p></li>
<li><p d__="">Don’t call <code s__="13">longjmp()</code> if the function that called <code s__="13">setjmp()</code> has completed.</p></li>
<li><p d__="">Don’t call <code s__="13">longjmp()</code> if the call to <code s__="13">setjmp()</code> had a variable length array (VLA) in scope and the scope has ended.</p></li>
<li><p d__="">Don’t call <code s__="13">longjmp()</code> if there are any VLAs in any active scopes between the <code s__="13">setjmp()</code> and the <code s__="13">longjmp()</code>. A good rule of thumb here is to not mix VLAs and <code s__="13">longjmp()</code>.</p></li>
</ol>
<p d__="">Though <code s__="13">longjmp()</code> attempts to restore the machine to the state at the <code s__="13">setjmp()</code>, including local variables, there are some things that aren’t brought back to life:</p>
<ul>
<li d__="">Non-volatile local variables that might have changed</li>
<li d__="">Floating point status flags</li>
<li d__="">Open files</li>
<li d__="">Any other component of the abstract machine</li>
</ul>
<h3 class="unnumbered unlisted" id="return-value-112" d__="">Return Value</h3>
<p d__="">This one is also funky in that it is one of the few functions in C that never returns!</p>
<h3 class="unnumbered unlisted" id="example-113" d__="">Example</h3>
<p d__="">Here’s a function that calls <code s__="13">setjmp()</code> to set things up (where it returns <code s__="13">0</code>), then calls a couple levels deep into functions, and finally short-circuits the return path by <code s__="13">longjmp()</code>ing back to the place where <code s__="13">setjmp()</code> was called, earlier. This time, it passes <code s__="13">3490</code> as a value, which <code s__="13">setjmp()</code> returns.</p>
<div class="sourceCode" id="cb398"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb398-1"><a href="#cb398-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb398-2"><a href="#cb398-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;setjmp.h&gt;</span></span>
<span id="cb398-3"><a href="#cb398-3"></a></span>
<span id="cb398-4" d__=""><a href="#cb398-4"></a>jmp_buf env<span class="op" d__="">;</span></span>
<span id="cb398-5"><a href="#cb398-5"></a></span>
<span id="cb398-6" d__=""><a href="#cb398-6"></a><span class="dt" d__="">void</span> depth2<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb398-7"><a href="#cb398-7"></a><span class="op" d__="">{</span></span>
<span id="cb398-8" d__=""><a href="#cb398-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Entering depth 2</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb398-9" d__=""><a href="#cb398-9"></a>    longjmp<span class="op" d__="">(</span>env<span class="op" d__="">,</span> <span class="dv" d__="">3490</span><span class="op" d__="">);</span>           <span class="co" d__="">// Jump back to setjmp()!!</span></span>
<span id="cb398-10" d__=""><a href="#cb398-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Leaving depth 2</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span>  <span class="co" d__="">// This won't happen</span></span>
<span id="cb398-11"><a href="#cb398-11"></a><span class="op" d__="">}</span></span>
<span id="cb398-12"><a href="#cb398-12"></a></span>
<span id="cb398-13" d__=""><a href="#cb398-13"></a><span class="dt" d__="">void</span> depth1<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb398-14"><a href="#cb398-14"></a><span class="op" d__="">{</span></span>
<span id="cb398-15" d__=""><a href="#cb398-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Entering depth 1</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb398-16" d__=""><a href="#cb398-16"></a>    depth2<span class="op" d__="">();</span></span>
<span id="cb398-17" d__=""><a href="#cb398-17"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Leaving depth 1</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span>  <span class="co" d__="">// This won't happen</span></span>
<span id="cb398-18"><a href="#cb398-18"></a><span class="op" d__="">}</span></span>
<span id="cb398-19"><a href="#cb398-19"></a></span>
<span id="cb398-20" d__=""><a href="#cb398-20"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb398-21"><a href="#cb398-21"></a><span class="op" d__="">{</span></span>
<span id="cb398-22" d__=""><a href="#cb398-22"></a>    <span class="cf" d__="">switch</span> <span class="op" d__="">(</span>setjmp<span class="op" d__="">(</span>env<span class="op" d__="">))</span> <span class="op" d__="">{</span></span>
<span id="cb398-23"><a href="#cb398-23"></a>        <span class="cf" d__="">case</span> <span class="dv" d__="">0</span><span class="op" d__="">:</span></span>
<span id="cb398-24" d__=""><a href="#cb398-24"></a>            printf<span class="op" d__="">(</span><span class="st" d__="">"Calling into functions, setjmp() returned 0</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb398-25" d__=""><a href="#cb398-25"></a>            depth1<span class="op" d__="">();</span></span>
<span id="cb398-26" d__=""><a href="#cb398-26"></a>            printf<span class="op" d__="">(</span><span class="st" d__="">"Returned from functions</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span>  <span class="co" d__="">// This won't happen</span></span>
<span id="cb398-27"><a href="#cb398-27"></a>            <span class="cf" d__="">break</span><span class="op" d__="">;</span></span>
<span id="cb398-28"><a href="#cb398-28"></a></span>
<span id="cb398-29"><a href="#cb398-29"></a>        <span class="cf" d__="">case</span> <span class="dv" d__="">3490</span><span class="op" d__="">:</span></span>
<span id="cb398-30" d__=""><a href="#cb398-30"></a>            printf<span class="op" d__="">(</span><span class="st" d__="">"Bailed back to main, setjmp() returned 3490</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb398-31"><a href="#cb398-31"></a>            <span class="cf" d__="">break</span><span class="op" d__="">;</span></span>
<span id="cb398-32"><a href="#cb398-32"></a>    <span class="op" d__="">}</span></span>
<span id="cb398-33"><a href="#cb398-33"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">When run, this outputs:</p>
<div class="sourceCode" id="cb399"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb399-1" d__=""><a href="#cb399-1" aria-hidden="true" tabindex="-1"></a>Calling into functions, setjmp() returned 0</span>
<span id="cb399-2" d__=""><a href="#cb399-2" aria-hidden="true" tabindex="-1"></a>Entering depth 1</span>
<span id="cb399-3" d__=""><a href="#cb399-3" aria-hidden="true" tabindex="-1"></a>Entering depth 2</span>
<span id="cb399-4" d__=""><a href="#cb399-4" aria-hidden="true" tabindex="-1"></a>Bailed back to main, setjmp() returned 3490</span></code></pre></div>
<p d__="">Notice that the second <code s__="13">printf()</code> in <code s__="13">case 0</code> didn’t run; it got jumped over by <code s__="13">longjmp()</code>!</p>
<h3 class="unnumbered unlisted" id="see-also-106" d__="">See Also</h3>
<p><a href="#man-setjmp"><code s__="13" d__="">setjmp()</code></a></p>
<!--
***
## `example()` `example()` `example()` {#man-example}

### Synopsis {.unnumbered .unlisted}

``` {.c}
```

### Description {.unnumbered .unlisted}

### Return Value {.unnumbered .unlisted}

### Example {.unnumbered .unlisted}

``` {.c .numberLines}
```

### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="15" id="signal" d__=""><span class="header-section-number">15</span> <code>&lt;signal.h&gt;</code> signal handling</h1>
<p></p>
<table>
<thead>
<tr class="header">
<th d__="">Function</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#man-signal"><code s__="13" d__="">signal()</code></a></td>
<td d__="">Set a signal handler for a given signal</td>
</tr>
<tr class="even">
<td><a href="#man-raise"><code s__="13" d__="">raise()</code></a></td>
<td d__="">Cause a signal to be raised</td>
</tr>
</tbody>
</table>
<p d__="">Handle signals in a portable way, kind of!</p>
<p d__="">These signals get raised for a variety of reasons such as 
CTRL-C being hit, requests to terminate for external programs, memory 
access violations, and so on.</p>
<p d__="">Your OS likely defines a plethora of other signals, as well.</p>
<p d__="">This system is pretty limited, as seen below. If you’re on 
Unix, it’s almost certain your OS has far superior signal handling 
capabilities than the C standard library. Check out <a href="https://man.archlinux.org/man/sigaction.2.en"><code s__="13" d__="">sigaction</code></a><a href="#fn35" class="footnote-ref" id="fnref35" role="doc-noteref"><sup s__="13" d__="">35</sup></a>.</p>
<hr>
<h2 data-number="15.1" id="man-signal"><span class="header-section-number" d__="">15.1</span> <code d__="">signal()</code></h2>
<p></p>
<p d__="">Set a signal handler for a given signal</p>
<h3 class="unnumbered unlisted" id="synopsis-114" d__="">Synopsis</h3>
<div class="sourceCode" id="cb400"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb400-1"><a href="#cb400-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;signal.h&gt;</span></span>
<span id="cb400-2"><a href="#cb400-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb400-3" d__=""><a href="#cb400-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> <span class="op" d__="">(*</span>signal<span class="op" d__="">(</span><span class="dt" d__="">int</span> sig<span class="op" d__="">,</span> <span class="dt" d__="">void</span> <span class="op" d__="">(*</span>func<span class="op" d__="">)(</span><span class="dt" d__="">int</span><span class="op" d__="">)))(</span><span class="dt" d__="">int</span><span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-114" d__="">Description</h3>
<p d__="">How’s <em>that</em> for a function declaration?</p>
<p d__="">Let’s ignore it for a moment and just talk about what this function does.</p>
<p d__="">When a signal is raised, <em>something</em> is going to happen. This function lets you decide to do one of these things when the signal is raised:</p>
<ul>
<li d__="">Ignore the signal</li>
<li d__="">Perform the default action</li>
<li d__="">Have a specific function called</li>
</ul>
<p d__="">The <code s__="13">signal()</code> function takes two arguments. The first, <code s__="13">sig</code>, is the name of the signal to handle.</p>
<table>
<thead>
<tr class="header">
<th d__="">Signal</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">SIGABRT</code></td>
<td d__="">Raised when <code s__="13">abort()</code> is called</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">SIGFPE</code></td>
<td d__="">Floating-point arithmetic exception</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">SIGILL</code></td>
<td d__="">CPU tried to execute an illegal instruction</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">SIGINT</code></td>
<td d__="">Interrupt signal, as if <code s__="13">CTRL-C</code> were pressed</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">SIGSEGV</code></td>
<td d__="">Segmention Violation: attempted to access restricted memory</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">SIGTERM</code></td>
<td d__="">Termination request<a href="#fn36" class="footnote-ref" id="fnref36" role="doc-noteref"><sup s__="13" d__="">36</sup></a></td>
</tr>
</tbody>
</table>
<p d__="">So that’s the first bit when you call <code s__="13">signal()</code>—tell it the signal in question:</p>
<div class="sourceCode" id="cb401"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb401-1" d__=""><a href="#cb401-1" aria-hidden="true" tabindex="-1"></a>signal<span class="op" d__="">(</span>SIGINT<span class="op" d__="">,</span> <span class="op" d__="">...</span></span></code></pre></div>
<p d__="">But what’s that <code s__="13">func</code> parameter?</p>
<p d__="">For spoilers, it’s a pointer to a function that takes an <code s__="13">int</code> argument and returns <code s__="13">void</code>. We can use this to call an arbitrary function when the signal occurs.</p>
<p d__="">Before we do that, though, let’s look at the easy ones: 
telling the system to ignore the signal or perform the default action 
(which it does by default if you never call <code s__="13">signal()</code>).</p>
<p d__="">You can set <code s__="13">func</code> to one of two special values to make this happen:</p>
<table>
<thead>
<tr class="header">
<th><code s__="13" d__="">func</code></th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">SIG_DFL</code></td>
<td d__="">Perform the default action on this signal</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">SIG_IGN</code></td>
<td d__="">Ignore this signal</td>
</tr>
</tbody>
</table>
<p d__="">For example:</p>
<div class="sourceCode" id="cb402"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb402-1" d__=""><a href="#cb402-1" aria-hidden="true" tabindex="-1"></a>signal<span class="op" d__="">(</span>SIGTERM<span class="op" d__="">,</span> SIG_DFL<span class="op" d__="">);</span>  <span class="co" d__="">// Default action on SIGTERM</span></span>
<span id="cb402-2" d__=""><a href="#cb402-2" aria-hidden="true" tabindex="-1"></a>signal<span class="op" d__="">(</span>SIGINT<span class="op" d__="">,</span> SIG_IGN<span class="op" d__="">);</span>   <span class="co" d__="">// Ignore SIGINT</span></span></code></pre></div>
<p d__="">But what if you want to have your own handler do something 
instead of the default or ignoring it? You can pass in your own function
 to be called. That’s what the crazy function signature is partially 
about. It’s saying that the argument can be a pointer to a function that
 takes an <code s__="13">int</code> argument and returns <code s__="13">void</code>.</p>
<p d__="">So if you wanted to call your handler, you could have code like this:</p>
<div class="sourceCode" id="cb403"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb403-1" d__=""><a href="#cb403-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> handler<span class="op" d__="">(</span><span class="dt" d__="">int</span> sig<span class="op" d__="">)</span></span>
<span id="cb403-2"><a href="#cb403-2" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">{</span></span>
<span id="cb403-3"><a href="#cb403-3" aria-hidden="true" tabindex="-1"></a>    <span class="co" d__="">// Handle the signal</span></span>
<span id="cb403-4"><a href="#cb403-4" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span>
<span id="cb403-5"><a href="#cb403-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb403-6" d__=""><a href="#cb403-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb403-7"><a href="#cb403-7" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">{</span></span>
<span id="cb403-8" d__=""><a href="#cb403-8" aria-hidden="true" tabindex="-1"></a>    signal<span class="op" d__="">(</span>SIGINT<span class="op" d__="">,</span> handler<span class="op" d__="">);</span></span></code></pre></div>
<p d__="">What can you do in the signal handler? Not much.</p>
<p d__="">If the signal is due to <code s__="13">abort()</code> or <code s__="13">raise()</code>, the handler can’t call <code s__="13">raise()</code>.</p>
<p d__="">If the signal is <strong>not</strong> due to <code s__="13">abort()</code> or <code s__="13">raise()</code>,
 you’re only allowed to call these functions from the standard library 
(though the spec doesn’t prohibit calling other non-library functions):</p>
<ul>
<li><a href="#man-abort"><code s__="13" d__="">abort()</code></a></li>
<li><a href="#man-exit"><code s__="13" d__="">_Exit()</code></a></li>
<li><a href="#man-exit"><code s__="13" d__="">quick_exit()</code></a></li>
<li d__="">Functions in <a href="#stdatomic"><code s__="13" d__="">&lt;stdatomic.h&gt;</code></a> when the atomic arguments are lock-free</li>
<li d__=""><code s__="13">signal()</code> with a first argument equivalent to the argument that was passed into the handler</li>
</ul>
<p d__="">In addition, if the signal was <strong>not</strong> due to <code s__="13">abort()</code> or <code s__="13">raise()</code>, the handler can’t access any object with static or thread-storage duration unless it’s lock-free.</p>
<p d__="">An exception is that you can assign to (but not read from!) a variable of type <code s__="13">volatile sig_atomic_t</code>.</p>
<p d__="">It’s up to the implementation, but the signal handler might be reset to <code s__="13">SIG_DFL</code> just before the handler is called.</p>
<p d__="">It’s undefined behavior to call <code s__="13">signal()</code> in a multithreaded program.</p>
<p d__="">It’s undefined behavior to return from the handler for <code s__="13">SIGFPE</code>, <code s__="13">SIGILL</code>, <code s__="13">SIGSEGV</code>, or any implementation-defined value. You must exit.</p>
<p d__="">The implementation might or might not prevent other signals from arising while in the signal handler.</p>
<h3 class="unnumbered unlisted" id="return-value-113" d__="">Return Value</h3>
<p d__="">On success, <code s__="13">signal()</code> returns a pointer to the previous signal handler set by a call to <code s__="13">signal()</code> for that particular signal number. If you haven’t called it set, returns <code s__="13">SIG_DFL</code>.</p>
<p d__="">On failure, <code s__="13">SIG_ERR</code> is returned and <code s__="13">errno</code> is set to a positive value.</p>
<h3 class="unnumbered unlisted" id="example-114" d__="">Example</h3>
<p d__="">Here’s a program that causes <code s__="13">SIGINT</code> to be ignored. Commonly you trigger this signal by hitting <code s__="13">CTRL-C</code>.</p>
<div class="sourceCode" id="cb404"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb404-1"><a href="#cb404-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb404-2"><a href="#cb404-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;signal.h&gt;</span></span>
<span id="cb404-3"><a href="#cb404-3"></a></span>
<span id="cb404-4" d__=""><a href="#cb404-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb404-5"><a href="#cb404-5"></a><span class="op" d__="">{</span></span>
<span id="cb404-6" d__=""><a href="#cb404-6"></a>    signal<span class="op" d__="">(</span>SIGINT<span class="op" d__="">,</span> SIG_IGN<span class="op" d__="">);</span></span>
<span id="cb404-7"><a href="#cb404-7"></a></span>
<span id="cb404-8" d__=""><a href="#cb404-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"You can't hit CTRL-C to exit this program. Try it!</span><span class="sc" d__="">\n\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb404-9" d__=""><a href="#cb404-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Press return to exit, instead."</span><span class="op" d__="">);</span></span>
<span id="cb404-10" d__=""><a href="#cb404-10"></a>    fflush<span class="op" d__="">(</span>stdout<span class="op" d__="">);</span></span>
<span id="cb404-11" d__=""><a href="#cb404-11"></a>    getchar<span class="op" d__="">();</span></span>
<span id="cb404-12"><a href="#cb404-12"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb405"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb405-1" d__=""><a href="#cb405-1" aria-hidden="true" tabindex="-1"></a>You can't hit CTRL-C to exit this program. Try it!</span>
<span id="cb405-2"><a href="#cb405-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb405-3" d__=""><a href="#cb405-3" aria-hidden="true" tabindex="-1"></a>Press return to exit, instead.^C^C^C^C^C^C^C^C^C^C^C</span></code></pre></div>
<p d__="">This program sets the signal handler, then raises the signal. The signal handler fires.</p>
<div class="sourceCode" id="cb406"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb406-1"><a href="#cb406-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb406-2"><a href="#cb406-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;signal.h&gt;</span></span>
<span id="cb406-3"><a href="#cb406-3"></a></span>
<span id="cb406-4" d__=""><a href="#cb406-4"></a><span class="dt" d__="">void</span> handler<span class="op" d__="">(</span><span class="dt" d__="">int</span> sig<span class="op" d__="">)</span></span>
<span id="cb406-5"><a href="#cb406-5"></a><span class="op" d__="">{</span></span>
<span id="cb406-6"><a href="#cb406-6"></a>    <span class="co" d__="">// Undefined behavior to call printf() if this handler was not</span></span>
<span id="cb406-7"><a href="#cb406-7"></a>    <span class="co" d__="">// as the result of a raise(), i.e. if you hit CTRL-C.</span></span>
<span id="cb406-8"><a href="#cb406-8"></a></span>
<span id="cb406-9" d__=""><a href="#cb406-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Got signal </span><span class="sc" d__="">%d</span><span class="st" d__="">!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> sig<span class="op" d__="">);</span></span>
<span id="cb406-10"><a href="#cb406-10"></a></span>
<span id="cb406-11"><a href="#cb406-11"></a>    <span class="co" d__="">// Common to reset the handler just in case the implementation set</span></span>
<span id="cb406-12"><a href="#cb406-12"></a>    <span class="co" d__="">// it to SIG_DFL when the signal occurred.</span></span>
<span id="cb406-13"><a href="#cb406-13"></a></span>
<span id="cb406-14" d__=""><a href="#cb406-14"></a>    signal<span class="op" d__="">(</span>sig<span class="op" d__="">,</span> handler<span class="op" d__="">);</span></span>
<span id="cb406-15"><a href="#cb406-15"></a><span class="op" d__="">}</span></span>
<span id="cb406-16"><a href="#cb406-16"></a></span>
<span id="cb406-17" d__=""><a href="#cb406-17"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb406-18"><a href="#cb406-18"></a><span class="op" d__="">{</span></span>
<span id="cb406-19" d__=""><a href="#cb406-19"></a>    signal<span class="op" d__="">(</span>SIGINT<span class="op" d__="">,</span> handler<span class="op" d__="">);</span></span>
<span id="cb406-20"><a href="#cb406-20"></a></span>
<span id="cb406-21" d__=""><a href="#cb406-21"></a>    raise<span class="op" d__="">(</span>SIGINT<span class="op" d__="">);</span></span>
<span id="cb406-22" d__=""><a href="#cb406-22"></a>    raise<span class="op" d__="">(</span>SIGINT<span class="op" d__="">);</span></span>
<span id="cb406-23" d__=""><a href="#cb406-23"></a>    raise<span class="op" d__="">(</span>SIGINT<span class="op" d__="">);</span></span>
<span id="cb406-24"><a href="#cb406-24"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb407"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb407-1" d__=""><a href="#cb407-1" aria-hidden="true" tabindex="-1"></a>Got signal 2!</span>
<span id="cb407-2" d__=""><a href="#cb407-2" aria-hidden="true" tabindex="-1"></a>Got signal 2!</span>
<span id="cb407-3" d__=""><a href="#cb407-3" aria-hidden="true" tabindex="-1"></a>Got signal 2!</span></code></pre></div>
<p d__="">This example catches <code s__="13">SIGINT</code> but then sets a flag to <code s__="13">1</code>. Then the main loop sees the flag and exits.</p>
<div class="sourceCode" id="cb408"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb408-1"><a href="#cb408-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb408-2"><a href="#cb408-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;signal.h&gt;</span></span>
<span id="cb408-3"><a href="#cb408-3"></a></span>
<span id="cb408-4" d__=""><a href="#cb408-4"></a><span class="dt" d__="">volatile</span> <span class="dt" d__="">sig_atomic_t</span> x<span class="op" d__="">;</span></span>
<span id="cb408-5"><a href="#cb408-5"></a></span>
<span id="cb408-6" d__=""><a href="#cb408-6"></a><span class="dt" d__="">void</span> handler<span class="op" d__="">(</span><span class="dt" d__="">int</span> sig<span class="op" d__="">)</span></span>
<span id="cb408-7"><a href="#cb408-7"></a><span class="op" d__="">{</span></span>
<span id="cb408-8" d__=""><a href="#cb408-8"></a>    x <span class="op" d__="">=</span> <span class="dv" d__="">1</span><span class="op" d__="">;</span></span>
<span id="cb408-9"><a href="#cb408-9"></a><span class="op" d__="">}</span></span>
<span id="cb408-10"><a href="#cb408-10"></a></span>
<span id="cb408-11" d__=""><a href="#cb408-11"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb408-12"><a href="#cb408-12"></a><span class="op" d__="">{</span></span>
<span id="cb408-13" d__=""><a href="#cb408-13"></a>    signal<span class="op" d__="">(</span>SIGINT<span class="op" d__="">,</span> handler<span class="op" d__="">);</span></span>
<span id="cb408-14"><a href="#cb408-14"></a></span>
<span id="cb408-15" d__=""><a href="#cb408-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Hit CTRL-C to exit</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb408-16" d__=""><a href="#cb408-16"></a>    <span class="cf" d__="">while</span> <span class="op" d__="">(</span>x <span class="op" d__="">!=</span> <span class="dv" d__="">1</span><span class="op" d__="">);</span></span>
<span id="cb408-17"><a href="#cb408-17"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-107" d__="">See Also</h3>
<p d__=""><a href="#man-raise"><code s__="13" d__="">raise()</code></a>, <a href="#man-abort"><code s__="13" d__="">abort()</code></a></p>
<hr>
<h2 data-number="15.2" id="man-raise"><span class="header-section-number" d__="">15.2</span> <code d__="">raise()</code></h2>
<p></p>
<p d__="">Cause a signal to be raised</p>
<h3 class="unnumbered unlisted" id="synopsis-115" d__="">Synopsis</h3>
<div class="sourceCode" id="cb409"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb409-1"><a href="#cb409-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;signal.h&gt;</span></span>
<span id="cb409-2"><a href="#cb409-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb409-3" d__=""><a href="#cb409-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> raise<span class="op" d__="">(</span><span class="dt" d__="">int</span> sig<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-115" d__="">Description</h3>
<p d__="">Causes the signal handler for the signal <code s__="13">sig</code> to be called. If the handler is <code s__="13">SIG_DFL</code> or <code s__="13">SIG_IGN</code>, then the default action or no action happens.</p>
<p d__=""><code s__="13">raise()</code> returns after the signal handler has finished running.</p>
<p d__="">Interestingly, if you cause a signal to happen with <code s__="13">raise()</code>,
 you can call library functions from within the signal handler without 
causing undefined behavior. I’m not sure how this fact is practically 
useful, though.</p>
<h3 class="unnumbered unlisted" id="return-value-114" d__="">Return Value</h3>
<p d__="">Returns <code s__="13">0</code> on success. Nonzero otherwise.</p>
<h3 class="unnumbered unlisted" id="example-115" d__="">Example</h3>
<p d__="">This program sets the signal handler, then raises the signal. The signal handler fires.</p>
<div class="sourceCode" id="cb410"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb410-1"><a href="#cb410-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb410-2"><a href="#cb410-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;signal.h&gt;</span></span>
<span id="cb410-3"><a href="#cb410-3"></a></span>
<span id="cb410-4" d__=""><a href="#cb410-4"></a><span class="dt" d__="">void</span> handler<span class="op" d__="">(</span><span class="dt" d__="">int</span> sig<span class="op" d__="">)</span></span>
<span id="cb410-5"><a href="#cb410-5"></a><span class="op" d__="">{</span></span>
<span id="cb410-6"><a href="#cb410-6"></a>    <span class="co" d__="">// Undefined behavior to call printf() if this handler was not</span></span>
<span id="cb410-7"><a href="#cb410-7"></a>    <span class="co" d__="">// as the result of a raise(), i.e. if you hit CTRL-C.</span></span>
<span id="cb410-8"><a href="#cb410-8"></a></span>
<span id="cb410-9" d__=""><a href="#cb410-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Got signal </span><span class="sc" d__="">%d</span><span class="st" d__="">!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> sig<span class="op" d__="">);</span></span>
<span id="cb410-10"><a href="#cb410-10"></a></span>
<span id="cb410-11"><a href="#cb410-11"></a>    <span class="co" d__="">// Common to reset the handler just in case the implementation set</span></span>
<span id="cb410-12"><a href="#cb410-12"></a>    <span class="co" d__="">// it to SIG_DFL when the signal occurred.</span></span>
<span id="cb410-13"><a href="#cb410-13"></a></span>
<span id="cb410-14" d__=""><a href="#cb410-14"></a>    signal<span class="op" d__="">(</span>sig<span class="op" d__="">,</span> handler<span class="op" d__="">);</span></span>
<span id="cb410-15"><a href="#cb410-15"></a><span class="op" d__="">}</span></span>
<span id="cb410-16"><a href="#cb410-16"></a></span>
<span id="cb410-17" d__=""><a href="#cb410-17"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb410-18"><a href="#cb410-18"></a><span class="op" d__="">{</span></span>
<span id="cb410-19" d__=""><a href="#cb410-19"></a>    signal<span class="op" d__="">(</span>SIGINT<span class="op" d__="">,</span> handler<span class="op" d__="">);</span></span>
<span id="cb410-20"><a href="#cb410-20"></a></span>
<span id="cb410-21" d__=""><a href="#cb410-21"></a>    raise<span class="op" d__="">(</span>SIGINT<span class="op" d__="">);</span></span>
<span id="cb410-22" d__=""><a href="#cb410-22"></a>    raise<span class="op" d__="">(</span>SIGINT<span class="op" d__="">);</span></span>
<span id="cb410-23" d__=""><a href="#cb410-23"></a>    raise<span class="op" d__="">(</span>SIGINT<span class="op" d__="">);</span></span>
<span id="cb410-24"><a href="#cb410-24"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb411"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb411-1" d__=""><a href="#cb411-1" aria-hidden="true" tabindex="-1"></a>Got signal 2!</span>
<span id="cb411-2" d__=""><a href="#cb411-2" aria-hidden="true" tabindex="-1"></a>Got signal 2!</span>
<span id="cb411-3" d__=""><a href="#cb411-3" aria-hidden="true" tabindex="-1"></a>Got signal 2!</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-108" d__="">See Also</h3>
<p><a href="#man-signal"><code s__="13" d__="">signal()</code></a></p>
<!--
***
## `example()` {#man-example}

### Synopsis {.unnumbered .unlisted}

``` {.c}
```

### Description {.unnumbered .unlisted}

### Return Value {.unnumbered .unlisted}

### Example {.unnumbered .unlisted}

``` {.c .numberLines}
```

### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="16" id="stdalign" d__=""><span class="header-section-number">16</span> <code>&lt;stdalign.h&gt;</code> Macros for Alignment</h1>
<p></p>
<p d__="">If you’re coding up something low-level like a memory 
allocator that interfaces with your OS, you might need this header file.
 But most C devs go their careers without using it.</p>
<p d__=""><a href="https://en.wikipedia.org/wiki/Data_structure_alignment"><em d__="">Alignment</em></a><a href="#fn37" class="footnote-ref" id="fnref37" role="doc-noteref"><sup s__="13" d__="">37</sup></a>
 is all about multiples of addresses on which objects can be stored. Can
 you store this at any address? Or must it be a starting address that’s 
divisible by 2? Or 8? Or 16?</p>
<table>
<thead>
<tr class="header">
<th d__="">Name</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#man-alignas"><code s__="13" d__="">alignas()</code></a></td>
<td d__="">Specify alignment, expands to <code s__="13">_Alignas</code></td>
</tr>
<tr class="even">
<td><a href="#man-alignof"><code s__="13" d__="">alignof()</code></a></td>
<td d__="">Get alignment, expands to <code s__="13">_Alignof</code></td>
</tr>
</tbody>
</table>
<p d__="">These two additional macros are defined to be <code s__="13">1</code>:</p>
<p> </p>
<div class="sourceCode" id="cb412"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb412-1" d__=""><a href="#cb412-1" aria-hidden="true" tabindex="-1"></a>__alignas_is_defined</span>
<span id="cb412-2" d__=""><a href="#cb412-2" aria-hidden="true" tabindex="-1"></a>__alignof_is_defined</span></code></pre></div>
<p d__="">Quick note: alignments greater than that of <code s__="13">max_align_t</code> are known as <em>overalignments</em> and are implementation-defined.</p>
<h2 data-number="16.1" id="man-alignas"><span class="header-section-number" d__="">16.1</span> <code d__="">alignas()</code> <code d__="">_Alignas()</code></h2>
<p> </p>
<p d__="">Force a variable to have a certain alignment</p>
<h3 class="unnumbered unlisted" id="synopsis-116" d__="">Synopsis</h3>
<div class="sourceCode" id="cb413"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb413-1"><a href="#cb413-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdalign.h&gt;</span></span>
<span id="cb413-2"><a href="#cb413-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb413-3" d__=""><a href="#cb413-3" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">alignas</span><span class="op" d__="">(</span>type<span class="op" d__="">-</span>name<span class="op" d__="">)</span></span>
<span id="cb413-4" d__=""><a href="#cb413-4" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">alignas</span><span class="op" d__="">(</span>constant<span class="op" d__="">-</span>expression<span class="op" d__="">)</span></span></code></pre></div>
<div class="sourceCode" id="cb414"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb414-1" d__=""><a href="#cb414-1" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">_Alignas</span><span class="op" d__="">(</span>type<span class="op" d__="">-</span>name<span class="op" d__="">)</span></span>
<span id="cb414-2" d__=""><a href="#cb414-2" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">_Alignas</span><span class="op" d__="">(</span>constant<span class="op" d__="">-</span>expression<span class="op" d__="">)</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-116" d__="">Description</h3>
<p d__="">Use this <em>alignment specifier</em> to force the alignment of particular variables. For instance, we can declare <code s__="13">c</code> to be <code s__="13">char</code>, but aligned as if it were an <code s__="13">int</code>:</p>
<div class="sourceCode" id="cb415"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb415-1" d__=""><a href="#cb415-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> <span class="kw" d__="">alignas</span><span class="op" d__="">(</span><span class="dt" d__="">int</span><span class="op" d__="">)</span> c<span class="op" d__="">;</span></span></code></pre></div>
<p d__="">You can put a constant integer expression in there, as well. 
The compiler will probably impose limits on what these values can be. 
Small powers of 2 (1, 2, 4, 8, and 16) are generally safe bets.</p>
<div class="sourceCode" id="cb416"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb416-1" d__=""><a href="#cb416-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> <span class="kw" d__="">alignas</span><span class="op" d__="">(</span><span class="dv" d__="">8</span><span class="op" d__="">)</span> c<span class="op" d__="">;</span>   <span class="co" d__="">// align on 8-byte boundaries</span></span></code></pre></div>
<p d__="">For convenience, you can also specify <code s__="13">0</code> if you want the default alignment (as if you hadn’t said <code s__="13">alignas()</code> at all):</p>
<div class="sourceCode" id="cb417"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb417-1" d__=""><a href="#cb417-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> <span class="kw" d__="">alignas</span><span class="op" d__="">(</span><span class="dv" d__="">0</span><span class="op" d__="">)</span> c<span class="op" d__="">;</span>   <span class="co" d__="">// use default alignment for this type</span></span></code></pre></div>
<!--
### Return Value {.unnumbered .unlisted}
-->
<h3 class="unnumbered unlisted" id="example-116" d__="">Example</h3>
<div class="sourceCode" id="cb418"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb418-1"><a href="#cb418-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdalign.h&gt;</span></span>
<span id="cb418-2"><a href="#cb418-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span><span class="pp">     </span><span class="co" d__="">// for printf()</span></span>
<span id="cb418-3"><a href="#cb418-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stddef.h&gt;</span><span class="pp">    </span><span class="co" d__="">// for max_align_t</span></span>
<span id="cb418-4"><a href="#cb418-4"></a></span>
<span id="cb418-5" d__=""><a href="#cb418-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb418-6"><a href="#cb418-6"></a><span class="op" d__="">{</span></span>
<span id="cb418-7" d__=""><a href="#cb418-7"></a>    <span class="dt" d__="">int</span> i<span class="op" d__="">,</span> j<span class="op" d__="">;</span></span>
<span id="cb418-8" d__=""><a href="#cb418-8"></a>    <span class="dt" d__="">char</span> <span class="kw" d__="">alignas</span><span class="op" d__="">(</span><span class="dt" d__="">max_align_t</span><span class="op" d__="">)</span> a<span class="op" d__="">,</span> b<span class="op" d__="">;</span></span>
<span id="cb418-9" d__=""><a href="#cb418-9"></a>    <span class="dt" d__="">char</span> <span class="kw" d__="">alignas</span><span class="op" d__="">(</span><span class="dt" d__="">int</span><span class="op" d__="">)</span> c<span class="op" d__="">,</span> d<span class="op" d__="">;</span></span>
<span id="cb418-10" d__=""><a href="#cb418-10"></a>    <span class="dt" d__="">char</span> e<span class="op" d__="">,</span> f<span class="op" d__="">;</span></span>
<span id="cb418-11"><a href="#cb418-11"></a></span>
<span id="cb418-12" d__=""><a href="#cb418-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"i: </span><span class="sc" d__="">%p\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*)&amp;</span>i<span class="op" d__="">);</span></span>
<span id="cb418-13" d__=""><a href="#cb418-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"j: </span><span class="sc" d__="">%p\n\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*)&amp;</span>j<span class="op" d__="">);</span></span>
<span id="cb418-14" d__=""><a href="#cb418-14"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"a: </span><span class="sc" d__="">%p\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*)&amp;</span>a<span class="op" d__="">);</span></span>
<span id="cb418-15" d__=""><a href="#cb418-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"b: </span><span class="sc" d__="">%p\n\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*)&amp;</span>b<span class="op" d__="">);</span></span>
<span id="cb418-16" d__=""><a href="#cb418-16"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"c: </span><span class="sc" d__="">%p\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*)&amp;</span>c<span class="op" d__="">);</span></span>
<span id="cb418-17" d__=""><a href="#cb418-17"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"d: </span><span class="sc" d__="">%p\n\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*)&amp;</span>d<span class="op" d__="">);</span></span>
<span id="cb418-18" d__=""><a href="#cb418-18"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"e: </span><span class="sc" d__="">%p\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*)&amp;</span>e<span class="op" d__="">);</span></span>
<span id="cb418-19" d__=""><a href="#cb418-19"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"f: </span><span class="sc" d__="">%p\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*)&amp;</span>f<span class="op" d__="">);</span></span>
<span id="cb418-20"><a href="#cb418-20"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output on my system follows. Notice the difference between the pairs of values.</p>
<ul>
<li d__=""><code s__="13">i</code> and <code s__="13">j</code>, both <code s__="13">int</code>s, are aligned on 4-byte boundaries.</li>
<li d__=""><code s__="13">a</code> and <code s__="13">b</code> have been forced to the boundary of the type <code s__="13">max_align_t</code>, which is every 16 bytes on my system.</li>
<li d__=""><code s__="13">c</code> and <code s__="13">d</code> have been forced to the same alignment as <code s__="13">int</code>, which is 4 bytes, just like with <code s__="13">i</code> and <code s__="13">j</code>.</li>
<li d__=""><code s__="13">e</code> and <code s__="13">f</code> do not have an alignment specified, so they were stored with their default alignment of 1 byte.</li>
</ul>
<div class="sourceCode" id="cb419"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb419-1" d__=""><a href="#cb419-1" aria-hidden="true" tabindex="-1"></a>i: 0x7ffee7dfb4cc    &lt;-- difference of 4 bytes</span>
<span id="cb419-2" d__=""><a href="#cb419-2" aria-hidden="true" tabindex="-1"></a>j: 0x7ffee7dfb4c8</span>
<span id="cb419-3"><a href="#cb419-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb419-4" d__=""><a href="#cb419-4" aria-hidden="true" tabindex="-1"></a>a: 0x7ffee7dfb4c0    &lt;-- difference of 16 bytes</span>
<span id="cb419-5" d__=""><a href="#cb419-5" aria-hidden="true" tabindex="-1"></a>b: 0x7ffee7dfb4b0</span>
<span id="cb419-6"><a href="#cb419-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb419-7" d__=""><a href="#cb419-7" aria-hidden="true" tabindex="-1"></a>c: 0x7ffee7dfb4ac    &lt;-- difference of 4 bytes</span>
<span id="cb419-8" d__=""><a href="#cb419-8" aria-hidden="true" tabindex="-1"></a>d: 0x7ffee7dfb4a8</span>
<span id="cb419-9"><a href="#cb419-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb419-10" d__=""><a href="#cb419-10" aria-hidden="true" tabindex="-1"></a>e: 0x7ffee7dfb4a7    &lt;-- difference of 1 byte</span>
<span id="cb419-11" d__=""><a href="#cb419-11" aria-hidden="true" tabindex="-1"></a>f: 0x7ffee7dfb4a6</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-109" d__="">See Also</h3>
<p d__=""><a href="#man-alignof"><code s__="13" d__="">alignof</code></a>, <a href="#man-max_align_t"><code s__="13" d__="">max_align_t</code></a>, <a href="#man-memalignment"><code s__="13" d__="">memalignment()</code></a></p>
<hr>
<h2 data-number="16.2" id="man-alignof"><span class="header-section-number" d__="">16.2</span> <code d__="">alignof()</code> <code d__="">_Alignof()</code></h2>
<p> </p>
<p d__="">Get the alignment of a type</p>
<h3 class="unnumbered unlisted" id="synopsis-117" d__="">Synopsis</h3>
<div class="sourceCode" id="cb420"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb420-1"><a href="#cb420-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdalign.h&gt;</span></span>
<span id="cb420-2"><a href="#cb420-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb420-3" d__=""><a href="#cb420-3" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">alignof</span><span class="op" d__="">(</span>type<span class="op" d__="">-</span>name<span class="op" d__="">)</span></span></code></pre></div>
<div class="sourceCode" id="cb421"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb421-1" d__=""><a href="#cb421-1" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">_Alignof</span><span class="op" d__="">(</span>type<span class="op" d__="">-</span>name<span class="op" d__="">)</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-117" d__="">Description</h3>
<p d__="">This evaluates to a value of type <code s__="13">size_t</code> that gives the alignment of a particular type on your system.</p>
<h3 class="unnumbered unlisted" id="return-value-115" d__="">Return Value</h3>
<p d__="">Returns the alignment value, i.e.&nbsp;the address of the 
beginning of the given type of object must begin on an address boundary 
divisible by this number.</p>
<h3 class="unnumbered unlisted" id="example-117" d__="">Example</h3>
<p d__="">Print out the alignments of a variety of different types.</p>
<div class="sourceCode" id="cb422"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb422-1"><a href="#cb422-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdalign.h&gt;</span></span>
<span id="cb422-2"><a href="#cb422-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span><span class="pp">     </span><span class="co" d__="">// for printf()</span></span>
<span id="cb422-3"><a href="#cb422-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stddef.h&gt;</span><span class="pp">    </span><span class="co" d__="">// for max_align_t</span></span>
<span id="cb422-4"><a href="#cb422-4"></a></span>
<span id="cb422-5" d__=""><a href="#cb422-5"></a><span class="kw" d__="">struct</span> t <span class="op" d__="">{</span></span>
<span id="cb422-6" d__=""><a href="#cb422-6"></a>    <span class="dt" d__="">int</span> a<span class="op" d__="">;</span></span>
<span id="cb422-7" d__=""><a href="#cb422-7"></a>    <span class="dt" d__="">char</span> b<span class="op" d__="">;</span></span>
<span id="cb422-8" d__=""><a href="#cb422-8"></a>    <span class="dt" d__="">float</span> c<span class="op" d__="">;</span></span>
<span id="cb422-9"><a href="#cb422-9"></a><span class="op" d__="">};</span></span>
<span id="cb422-10"><a href="#cb422-10"></a></span>
<span id="cb422-11" d__=""><a href="#cb422-11"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb422-12"><a href="#cb422-12"></a><span class="op" d__="">{</span></span>
<span id="cb422-13" d__=""><a href="#cb422-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"char       : </span><span class="sc" d__="">%zu\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="kw" d__="">alignof</span><span class="op" d__="">(</span><span class="dt" d__="">char</span><span class="op" d__="">));</span></span>
<span id="cb422-14" d__=""><a href="#cb422-14"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"short      : </span><span class="sc" d__="">%zu\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="kw" d__="">alignof</span><span class="op" d__="">(</span><span class="dt" d__="">short</span><span class="op" d__="">));</span></span>
<span id="cb422-15" d__=""><a href="#cb422-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"int        : </span><span class="sc" d__="">%zu\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="kw" d__="">alignof</span><span class="op" d__="">(</span><span class="dt" d__="">int</span><span class="op" d__="">));</span></span>
<span id="cb422-16" d__=""><a href="#cb422-16"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"long       : </span><span class="sc" d__="">%zu\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="kw" d__="">alignof</span><span class="op" d__="">(</span><span class="dt" d__="">long</span><span class="op" d__="">));</span></span>
<span id="cb422-17" d__=""><a href="#cb422-17"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"long long  : </span><span class="sc" d__="">%zu\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="kw" d__="">alignof</span><span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">long</span><span class="op" d__="">));</span></span>
<span id="cb422-18" d__=""><a href="#cb422-18"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"double     : </span><span class="sc" d__="">%zu\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="kw" d__="">alignof</span><span class="op" d__="">(</span><span class="dt" d__="">double</span><span class="op" d__="">));</span></span>
<span id="cb422-19" d__=""><a href="#cb422-19"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"long double: </span><span class="sc" d__="">%zu\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="kw" d__="">alignof</span><span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span><span class="op" d__="">));</span></span>
<span id="cb422-20" d__=""><a href="#cb422-20"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"struct t   : </span><span class="sc" d__="">%zu\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="kw" d__="">alignof</span><span class="op" d__="">(</span><span class="kw" d__="">struct</span> t<span class="op" d__="">));</span></span>
<span id="cb422-21" d__=""><a href="#cb422-21"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"max_align_t: </span><span class="sc" d__="">%zu\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="kw" d__="">alignof</span><span class="op" d__="">(</span><span class="dt" d__="">max_align_t</span><span class="op" d__="">));</span></span>
<span id="cb422-22"><a href="#cb422-22"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output on my system:</p>
<div class="sourceCode" id="cb423"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb423-1" d__=""><a href="#cb423-1" aria-hidden="true" tabindex="-1"></a>char       : 1</span>
<span id="cb423-2" d__=""><a href="#cb423-2" aria-hidden="true" tabindex="-1"></a>short      : 2</span>
<span id="cb423-3" d__=""><a href="#cb423-3" aria-hidden="true" tabindex="-1"></a>int        : 4</span>
<span id="cb423-4" d__=""><a href="#cb423-4" aria-hidden="true" tabindex="-1"></a>long       : 8</span>
<span id="cb423-5" d__=""><a href="#cb423-5" aria-hidden="true" tabindex="-1"></a>long long  : 8</span>
<span id="cb423-6" d__=""><a href="#cb423-6" aria-hidden="true" tabindex="-1"></a>double     : 8</span>
<span id="cb423-7" d__=""><a href="#cb423-7" aria-hidden="true" tabindex="-1"></a>long double: 16</span>
<span id="cb423-8" d__=""><a href="#cb423-8" aria-hidden="true" tabindex="-1"></a>struct t   : 16</span>
<span id="cb423-9" d__=""><a href="#cb423-9" aria-hidden="true" tabindex="-1"></a>max_align_t: 16</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-110" d__="">See Also</h3>
<p d__=""><a href="#man-alignas"><code s__="13" d__="">alignas</code></a>, <a href="#man-max_align_t"><code s__="13" d__="">max_align_t</code></a>, <a href="#man-memalignment"><code s__="13" d__="">memalignment()</code></a></p>
<!--
***
## `example()` `example()` `example()` {#man-example}

### Synopsis {.unnumbered .unlisted}

``` {.c}
```

### Description {.unnumbered .unlisted}

### Return Value {.unnumbered .unlisted}

### Example {.unnumbered .unlisted}

``` {.c .numberLines}
```

### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="17" id="stdarg" d__=""><span class="header-section-number">17</span> <code>&lt;stdarg.h&gt;</code> Variable Arguments</h1>
<p></p>
<table>
<colgroup>
<col style="width: 26%">
<col style="width: 73%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Macro</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#man-va_arg"><code s__="13" d__="">va_arg()</code></a></td>
<td d__="">Get the next variable argument</td>
</tr>
<tr class="even">
<td><a href="#man-va_copy"><code s__="13" d__="">va_copy()</code></a></td>
<td d__="">Copy a <code s__="13">va_list</code> and the work done so far</td>
</tr>
<tr class="odd">
<td><a href="#man-va_end"><code s__="13" d__="">va_end()</code></a></td>
<td d__="">Signify we’re done processing variable arguments</td>
</tr>
<tr class="even">
<td><a href="#man-va_start"><code s__="13" d__="">va_start()</code></a></td>
<td d__="">Initialize a <code s__="13">va_list</code> to start variable argument processing</td>
</tr>
</tbody>
</table>
<p d__="">This header file is what allows you to write functions that take a variable number of arguments.</p>
<p d__="">In addition to the macros, you get a new type that helps C 
keep track of where it is in the 
variable-number-of-arguments-processing: <code s__="13">va_list</code>. This type is opaque, and you’ll be passing it around to the various macros to help get at the arguments.</p>
<p d__="">Note that every variadic function requires at least one non-variable parameter. You need this to kick off processing with <code s__="13">va_start()</code>.</p>
<hr>
<h2 data-number="17.1" id="man-va_arg"><span class="header-section-number" d__="">17.1</span> <code d__="">va_arg()</code></h2>
<p></p>
<p d__="">Get the next variable argument</p>
<h3 class="unnumbered unlisted" id="synopsis-118" d__="">Synopsis</h3>
<div class="sourceCode" id="cb424"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb424-1"><a href="#cb424-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdarg.h&gt;</span></span>
<span id="cb424-2"><a href="#cb424-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb424-3" d__=""><a href="#cb424-3" aria-hidden="true" tabindex="-1"></a>type va_arg<span class="op" d__="">(</span><span class="dt" d__="">va_list</span> ap<span class="op" d__="">,</span> type<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-118" d__="">Description</h3>
<p d__="">If you have a variable argument list you’ve initialized with <code s__="13">va_start()</code>, pass it to this one along with the type of argument you’re trying to get, e.g.</p>
<div class="sourceCode" id="cb425"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb425-1" d__=""><a href="#cb425-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span>   x <span class="op" d__="">=</span> va_arg<span class="op" d__="">(</span>args<span class="op" d__="">,</span> <span class="dt" d__="">int</span><span class="op" d__="">);</span></span>
<span id="cb425-2" d__=""><a href="#cb425-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> y <span class="op" d__="">=</span> va_arg<span class="op" d__="">(</span>args<span class="op" d__="">,</span> <span class="dt" d__="">float</span><span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="return-value-116" d__="">Return Value</h3>
<p d__="">Evaluates to the value and type of the next variable argument.</p>
<h3 class="unnumbered unlisted" id="example-118" d__="">Example</h3>
<p d__="">Here’s a demo that adds together an arbitrary number of 
integers. The first argument is the number of integers to add together. 
We’ll make use of that to figure out how many times we have to call <code s__="13">va_arg()</code>.</p>
<div class="sourceCode" id="cb426"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb426-1"><a href="#cb426-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb426-2"><a href="#cb426-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdarg.h&gt;</span></span>
<span id="cb426-3"><a href="#cb426-3"></a></span>
<span id="cb426-4" d__=""><a href="#cb426-4"></a><span class="dt" d__="">int</span> add<span class="op" d__="">(</span><span class="dt" d__="">int</span> count<span class="op" d__="">,</span> <span class="op" d__="">...)</span></span>
<span id="cb426-5"><a href="#cb426-5"></a><span class="op" d__="">{</span></span>
<span id="cb426-6" d__=""><a href="#cb426-6"></a>    <span class="dt" d__="">int</span> total <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb426-7" d__=""><a href="#cb426-7"></a>    <span class="dt" d__="">va_list</span> va<span class="op" d__="">;</span></span>
<span id="cb426-8"><a href="#cb426-8"></a></span>
<span id="cb426-9" d__=""><a href="#cb426-9"></a>    va_start<span class="op" d__="">(</span>va<span class="op" d__="">,</span> count<span class="op" d__="">);</span>   <span class="co" d__="">// Start with arguments after "count"</span></span>
<span id="cb426-10"><a href="#cb426-10"></a></span>
<span id="cb426-11" d__=""><a href="#cb426-11"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> count<span class="op" d__="">;</span> i<span class="op" d__="">++)</span> <span class="op" d__="">{</span></span>
<span id="cb426-12" d__=""><a href="#cb426-12"></a>        <span class="dt" d__="">int</span> n <span class="op" d__="">=</span> va_arg<span class="op" d__="">(</span>va<span class="op" d__="">,</span> <span class="dt" d__="">int</span><span class="op" d__="">);</span>   <span class="co" d__="">// Get the next int</span></span>
<span id="cb426-13"><a href="#cb426-13"></a></span>
<span id="cb426-14" d__=""><a href="#cb426-14"></a>        total <span class="op" d__="">+=</span> n<span class="op" d__="">;</span></span>
<span id="cb426-15"><a href="#cb426-15"></a>    <span class="op" d__="">}</span></span>
<span id="cb426-16"><a href="#cb426-16"></a></span>
<span id="cb426-17" d__=""><a href="#cb426-17"></a>    va_end<span class="op" d__="">(</span>va<span class="op" d__="">);</span>  <span class="co" d__="">// All done</span></span>
<span id="cb426-18"><a href="#cb426-18"></a></span>
<span id="cb426-19" d__=""><a href="#cb426-19"></a>    <span class="cf" d__="">return</span> total<span class="op" d__="">;</span></span>
<span id="cb426-20"><a href="#cb426-20"></a><span class="op" d__="">}</span></span>
<span id="cb426-21"><a href="#cb426-21"></a></span>
<span id="cb426-22" d__=""><a href="#cb426-22"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb426-23"><a href="#cb426-23"></a><span class="op" d__="">{</span></span>
<span id="cb426-24" d__=""><a href="#cb426-24"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> add<span class="op" d__="">(</span><span class="dv" d__="">4</span><span class="op" d__="">,</span> <span class="dv" d__="">6</span><span class="op" d__="">,</span> <span class="dv" d__="">2</span><span class="op" d__="">,</span> <span class="op" d__="">-</span><span class="dv" d__="">4</span><span class="op" d__="">,</span> <span class="dv" d__="">17</span><span class="op" d__="">));</span>  <span class="co" d__="">// 6 + 2 - 4 + 17 = 21</span></span>
<span id="cb426-25" d__=""><a href="#cb426-25"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> add<span class="op" d__="">(</span><span class="dv" d__="">2</span><span class="op" d__="">,</span> <span class="dv" d__="">22</span><span class="op" d__="">,</span> <span class="dv" d__="">44</span><span class="op" d__="">));</span>        <span class="co" d__="">// 22 + 44 = 66</span></span>
<span id="cb426-26"><a href="#cb426-26"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-111" d__="">See Also</h3>
<p d__=""><a href="#man-va_start"><code s__="13" d__="">va_start()</code></a>, <a href="#man-va_end"><code s__="13" d__="">va_end()</code></a></p>
<hr>
<h2 data-number="17.2" id="man-va_copy"><span class="header-section-number" d__="">17.2</span> <code d__="">va_copy()</code></h2>
<p></p>
<p d__="">Copy a <code s__="13">va_list</code> and the work done so far</p>
<h3 class="unnumbered unlisted" id="synopsis-119" d__="">Synopsis</h3>
<div class="sourceCode" id="cb427"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb427-1"><a href="#cb427-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdarg.h&gt;</span></span>
<span id="cb427-2"><a href="#cb427-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb427-3" d__=""><a href="#cb427-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> va_copy<span class="op" d__="">(</span><span class="dt" d__="">va_list</span> dest<span class="op" d__="">,</span> <span class="dt" d__="">va_list</span> src<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-119" d__="">Description</h3>
<p d__="">The main intended use of this is to save your state partway 
through processing variable arguments so you can scan ahead and then 
rewind back to the save point.</p>
<p d__="">You pass in a <code s__="13">src</code> <code s__="13">va_list</code> and it copies it to <code s__="13">dest</code>.</p>
<p d__="">If you’ve already called this once for a particular <code s__="13">dest</code>, you can’t call it (or <code s__="13">va_start()</code>) again with the same <code s__="13">dest</code> unless you call <code s__="13">va_end()</code> on that <code s__="13">dest</code> first.</p>
<div class="sourceCode" id="cb428"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb428-1" d__=""><a href="#cb428-1" aria-hidden="true" tabindex="-1"></a>va_copy<span class="op" d__="">(</span>dest<span class="op" d__="">,</span> src<span class="op" d__="">);</span></span>
<span id="cb428-2" d__=""><a href="#cb428-2" aria-hidden="true" tabindex="-1"></a>va_copy<span class="op" d__="">(</span>dest<span class="op" d__="">,</span> src2<span class="op" d__="">);</span>  <span class="co" d__="">// BAD!</span></span>
<span id="cb428-3"><a href="#cb428-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb428-4" d__=""><a href="#cb428-4" aria-hidden="true" tabindex="-1"></a>va_copy<span class="op" d__="">(</span>dest<span class="op" d__="">,</span> src<span class="op" d__="">);</span></span>
<span id="cb428-5" d__=""><a href="#cb428-5" aria-hidden="true" tabindex="-1"></a>va_start<span class="op" d__="">(</span>dest<span class="op" d__="">,</span> var<span class="op" d__="">);</span>  <span class="co" d__="">// BAD!</span></span>
<span id="cb428-6"><a href="#cb428-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb428-7" d__=""><a href="#cb428-7" aria-hidden="true" tabindex="-1"></a>va_copy<span class="op" d__="">(</span>dest<span class="op" d__="">,</span> src<span class="op" d__="">);</span></span>
<span id="cb428-8" d__=""><a href="#cb428-8" aria-hidden="true" tabindex="-1"></a>va_end<span class="op" d__="">(</span>dest<span class="op" d__="">);</span></span>
<span id="cb428-9" d__=""><a href="#cb428-9" aria-hidden="true" tabindex="-1"></a>va_copy<span class="op" d__="">(</span>dest<span class="op" d__="">,</span> src2<span class="op" d__="">);</span>  <span class="co" d__="">// OK!</span></span>
<span id="cb428-10"><a href="#cb428-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb428-11" d__=""><a href="#cb428-11" aria-hidden="true" tabindex="-1"></a>va_copy<span class="op" d__="">(</span>dest<span class="op" d__="">,</span> src<span class="op" d__="">);</span></span>
<span id="cb428-12" d__=""><a href="#cb428-12" aria-hidden="true" tabindex="-1"></a>va_end<span class="op" d__="">(</span>dest<span class="op" d__="">);</span></span>
<span id="cb428-13" d__=""><a href="#cb428-13" aria-hidden="true" tabindex="-1"></a>va_start<span class="op" d__="">(</span>dest<span class="op" d__="">,</span> var<span class="op" d__="">);</span>  <span class="co" d__="">// OK!</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="return-value-117" d__="">Return Value</h3>
<p d__="">Returns nothing.</p>
<h3 class="unnumbered unlisted" id="example-119" d__="">Example</h3>
<p d__="">Here’s an example where we’re adding together all the variable
 arguments, but then we want to go back and add on all the numbers past 
the first two, for example if the arguments are:</p>
<div class="sourceCode" id="cb429"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb429-1" d__=""><a href="#cb429-1" aria-hidden="true" tabindex="-1"></a>10 20 30 40</span></code></pre></div>
<p d__="">First we add them all for <code s__="13">100</code>, and then we add on everything from the third number on, so add on <code s__="13">30+40</code> for a total of <code s__="13">170</code>.</p>
<p d__="">We’ll do this by saving our place in the variable argument processing with <code s__="13">va_copy</code> and then using that later to reprocess the trailing arguments.</p>
<p d__="">(And yes, I know there’s a mathematical way to do this without
 all the rewinding, but I’m having an heck of a time coming up with a 
good example!)</p>
<div class="sourceCode" id="cb430"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb430-1"><a href="#cb430-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb430-2"><a href="#cb430-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdarg.h&gt;</span></span>
<span id="cb430-3"><a href="#cb430-3"></a></span>
<span id="cb430-4"><a href="#cb430-4"></a><span class="co" d__="">// Add all the numbers together, but then add on all the numbers</span></span>
<span id="cb430-5"><a href="#cb430-5"></a><span class="co" d__="">// past the second one again.</span></span>
<span id="cb430-6" d__=""><a href="#cb430-6"></a><span class="dt" d__="">int</span> contrived_adder<span class="op" d__="">(</span><span class="dt" d__="">int</span> count<span class="op" d__="">,</span> <span class="op" d__="">...)</span></span>
<span id="cb430-7"><a href="#cb430-7"></a><span class="op" d__="">{</span></span>
<span id="cb430-8" d__=""><a href="#cb430-8"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>count <span class="op" d__="">&lt;</span> <span class="dv" d__="">3</span><span class="op" d__="">)</span> <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> <span class="co" d__="">// OK, I'm being lazy. You got me.</span></span>
<span id="cb430-9"><a href="#cb430-9"></a></span>
<span id="cb430-10" d__=""><a href="#cb430-10"></a>    <span class="dt" d__="">int</span> total <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb430-11"><a href="#cb430-11"></a></span>
<span id="cb430-12" d__=""><a href="#cb430-12"></a>    <span class="dt" d__="">va_list</span> args<span class="op" d__="">,</span> mid_args<span class="op" d__="">;</span></span>
<span id="cb430-13"><a href="#cb430-13"></a></span>
<span id="cb430-14" d__=""><a href="#cb430-14"></a>    va_start<span class="op" d__="">(</span>args<span class="op" d__="">,</span> count<span class="op" d__="">);</span></span>
<span id="cb430-15"><a href="#cb430-15"></a></span>
<span id="cb430-16" d__=""><a href="#cb430-16"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> count<span class="op" d__="">;</span> i<span class="op" d__="">++)</span> <span class="op" d__="">{</span></span>
<span id="cb430-17"><a href="#cb430-17"></a></span>
<span id="cb430-18"><a href="#cb430-18"></a>        <span class="co" d__="">// If we're at the second number, save our place in</span></span>
<span id="cb430-19"><a href="#cb430-19"></a>        <span class="co" d__="">// mid_args:</span></span>
<span id="cb430-20"><a href="#cb430-20"></a></span>
<span id="cb430-21" d__=""><a href="#cb430-21"></a>        <span class="cf" d__="">if</span> <span class="op" d__="">(</span>i <span class="op" d__="">==</span> <span class="dv" d__="">2</span><span class="op" d__="">)</span></span>
<span id="cb430-22" d__=""><a href="#cb430-22"></a>            va_copy<span class="op" d__="">(</span>mid_args<span class="op" d__="">,</span> args<span class="op" d__="">);</span></span>
<span id="cb430-23"><a href="#cb430-23"></a></span>
<span id="cb430-24" d__=""><a href="#cb430-24"></a>        total <span class="op" d__="">+=</span> va_arg<span class="op" d__="">(</span>args<span class="op" d__="">,</span> <span class="dt" d__="">int</span><span class="op" d__="">);</span></span>
<span id="cb430-25"><a href="#cb430-25"></a>    <span class="op" d__="">}</span></span>
<span id="cb430-26"><a href="#cb430-26"></a></span>
<span id="cb430-27" d__=""><a href="#cb430-27"></a>    va_end<span class="op" d__="">(</span>args<span class="op" d__="">);</span> <span class="co" d__="">// Done with this</span></span>
<span id="cb430-28"><a href="#cb430-28"></a></span>
<span id="cb430-29"><a href="#cb430-29"></a>    <span class="co" d__="">// But now let's start with mid_args and add all those on:</span></span>
<span id="cb430-30" d__=""><a href="#cb430-30"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> count <span class="op" d__="">-</span> <span class="dv" d__="">2</span><span class="op" d__="">;</span> i<span class="op" d__="">++)</span></span>
<span id="cb430-31" d__=""><a href="#cb430-31"></a>        total <span class="op" d__="">+=</span> va_arg<span class="op" d__="">(</span>mid_args<span class="op" d__="">,</span> <span class="dt" d__="">int</span><span class="op" d__="">);</span></span>
<span id="cb430-32"><a href="#cb430-32"></a></span>
<span id="cb430-33" d__=""><a href="#cb430-33"></a>    va_end<span class="op" d__="">(</span>mid_args<span class="op" d__="">);</span> <span class="co" d__="">// Done with this, too</span></span>
<span id="cb430-34"><a href="#cb430-34"></a></span>
<span id="cb430-35" d__=""><a href="#cb430-35"></a>    <span class="cf" d__="">return</span> total<span class="op" d__="">;</span></span>
<span id="cb430-36"><a href="#cb430-36"></a><span class="op" d__="">}</span></span>
<span id="cb430-37"><a href="#cb430-37"></a></span>
<span id="cb430-38" d__=""><a href="#cb430-38"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb430-39"><a href="#cb430-39"></a><span class="op" d__="">{</span></span>
<span id="cb430-40"><a href="#cb430-40"></a>    <span class="co" d__="">// 10+20+30 + 30 == 90</span></span>
<span id="cb430-41" d__=""><a href="#cb430-41"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> contrived_adder<span class="op" d__="">(</span><span class="dv" d__="">3</span><span class="op" d__="">,</span> <span class="dv" d__="">10</span><span class="op" d__="">,</span> <span class="dv" d__="">20</span><span class="op" d__="">,</span> <span class="dv" d__="">30</span><span class="op" d__="">));</span></span>
<span id="cb430-42"><a href="#cb430-42"></a></span>
<span id="cb430-43"><a href="#cb430-43"></a>    <span class="co" d__="">// 10+20+30+40+50 + 30+40+50 == 270</span></span>
<span id="cb430-44" d__=""><a href="#cb430-44"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> contrived_adder<span class="op" d__="">(</span><span class="dv" d__="">5</span><span class="op" d__="">,</span> <span class="dv" d__="">10</span><span class="op" d__="">,</span> <span class="dv" d__="">20</span><span class="op" d__="">,</span> <span class="dv" d__="">30</span><span class="op" d__="">,</span> <span class="dv" d__="">40</span><span class="op" d__="">,</span> <span class="dv" d__="">50</span><span class="op" d__="">));</span></span>
<span id="cb430-45"><a href="#cb430-45"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-112" d__="">See Also</h3>
<p d__=""><a href="#man-va_start"><code s__="13" d__="">va_start()</code></a>, <a href="#man-va_arg"><code s__="13" d__="">va_arg()</code></a>, <a href="#man-va_end"><code s__="13" d__="">va_end()</code></a></p>
<hr>
<h2 data-number="17.3" id="man-va_end"><span class="header-section-number" d__="">17.3</span> <code d__="">va_end()</code></h2>
<p></p>
<p d__="">Signify we’re done processing variable arguments</p>
<h3 class="unnumbered unlisted" id="synopsis-120" d__="">Synopsis</h3>
<div class="sourceCode" id="cb431"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb431-1"><a href="#cb431-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdarg.h&gt;</span></span>
<span id="cb431-2"><a href="#cb431-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb431-3" d__=""><a href="#cb431-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> va_end<span class="op" d__="">(</span><span class="dt" d__="">va_list</span> ap<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-120" d__="">Description</h3>
<p d__="">After you’ve <code s__="13">va_start()</code>ed or <code s__="13">va_copy</code>’d a new <code s__="13">va_list</code>, you <strong>must</strong> call <code s__="13">va_end()</code> with it before it goes out of scope.</p>
<p d__="">You also have to do this if you’re going to call <code s__="13">va_start()</code> or <code s__="13">va_copy()</code> <em>again</em> on a variable you’ve already done that to.</p>
<p d__="">Them’s the rules if you want to avoid undefined behavior.</p>
<p d__="">But just think of it as cleanup. You called <code s__="13">va_start()</code>, so you’ll call <code s__="13">va_end()</code> when you’re done.</p>
<h3 class="unnumbered unlisted" id="return-value-118" d__="">Return Value</h3>
<p d__="">Returns nothing.</p>
<h3 class="unnumbered unlisted" id="example-120" d__="">Example</h3>
<p d__="">Here’s a demo that adds together an arbitrary number of 
integers. The first argument is the number of integers to add together. 
We’ll make use of that to figure out how many times we have to call <code s__="13">va_arg()</code>.</p>
<div class="sourceCode" id="cb432"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb432-1"><a href="#cb432-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb432-2"><a href="#cb432-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdarg.h&gt;</span></span>
<span id="cb432-3"><a href="#cb432-3"></a></span>
<span id="cb432-4" d__=""><a href="#cb432-4"></a><span class="dt" d__="">int</span> add<span class="op" d__="">(</span><span class="dt" d__="">int</span> count<span class="op" d__="">,</span> <span class="op" d__="">...)</span></span>
<span id="cb432-5"><a href="#cb432-5"></a><span class="op" d__="">{</span></span>
<span id="cb432-6" d__=""><a href="#cb432-6"></a>    <span class="dt" d__="">int</span> total <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb432-7" d__=""><a href="#cb432-7"></a>    <span class="dt" d__="">va_list</span> va<span class="op" d__="">;</span></span>
<span id="cb432-8"><a href="#cb432-8"></a></span>
<span id="cb432-9" d__=""><a href="#cb432-9"></a>    va_start<span class="op" d__="">(</span>va<span class="op" d__="">,</span> count<span class="op" d__="">);</span>   <span class="co" d__="">// Start with arguments after "count"</span></span>
<span id="cb432-10"><a href="#cb432-10"></a></span>
<span id="cb432-11" d__=""><a href="#cb432-11"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> count<span class="op" d__="">;</span> i<span class="op" d__="">++)</span> <span class="op" d__="">{</span></span>
<span id="cb432-12" d__=""><a href="#cb432-12"></a>        <span class="dt" d__="">int</span> n <span class="op" d__="">=</span> va_arg<span class="op" d__="">(</span>va<span class="op" d__="">,</span> <span class="dt" d__="">int</span><span class="op" d__="">);</span>   <span class="co" d__="">// Get the next int</span></span>
<span id="cb432-13"><a href="#cb432-13"></a></span>
<span id="cb432-14" d__=""><a href="#cb432-14"></a>        total <span class="op" d__="">+=</span> n<span class="op" d__="">;</span></span>
<span id="cb432-15"><a href="#cb432-15"></a>    <span class="op" d__="">}</span></span>
<span id="cb432-16"><a href="#cb432-16"></a></span>
<span id="cb432-17" d__=""><a href="#cb432-17"></a>    va_end<span class="op" d__="">(</span>va<span class="op" d__="">);</span>  <span class="co" d__="">// All done</span></span>
<span id="cb432-18"><a href="#cb432-18"></a></span>
<span id="cb432-19" d__=""><a href="#cb432-19"></a>    <span class="cf" d__="">return</span> total<span class="op" d__="">;</span></span>
<span id="cb432-20"><a href="#cb432-20"></a><span class="op" d__="">}</span></span>
<span id="cb432-21"><a href="#cb432-21"></a></span>
<span id="cb432-22" d__=""><a href="#cb432-22"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb432-23"><a href="#cb432-23"></a><span class="op" d__="">{</span></span>
<span id="cb432-24" d__=""><a href="#cb432-24"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> add<span class="op" d__="">(</span><span class="dv" d__="">4</span><span class="op" d__="">,</span> <span class="dv" d__="">6</span><span class="op" d__="">,</span> <span class="dv" d__="">2</span><span class="op" d__="">,</span> <span class="op" d__="">-</span><span class="dv" d__="">4</span><span class="op" d__="">,</span> <span class="dv" d__="">17</span><span class="op" d__="">));</span>  <span class="co" d__="">// 6 + 2 - 4 + 17 = 21</span></span>
<span id="cb432-25" d__=""><a href="#cb432-25"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> add<span class="op" d__="">(</span><span class="dv" d__="">2</span><span class="op" d__="">,</span> <span class="dv" d__="">22</span><span class="op" d__="">,</span> <span class="dv" d__="">44</span><span class="op" d__="">));</span>        <span class="co" d__="">// 22 + 44 = 66</span></span>
<span id="cb432-26"><a href="#cb432-26"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-113" d__="">See Also</h3>
<p d__=""><a href="#man-va_start"><code s__="13" d__="">va_start()</code></a>, <a href="#man-va_copy"><code s__="13" d__="">va_copy()</code></a></p>
<hr>
<h2 data-number="17.4" id="man-va_start"><span class="header-section-number" d__="">17.4</span> <code d__="">va_start()</code></h2>
<p></p>
<p d__="">Initialize a <code s__="13">va_list</code> to start variable argument processing</p>
<h3 class="unnumbered unlisted" id="synopsis-121" d__="">Synopsis</h3>
<div class="sourceCode" id="cb433"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb433-1"><a href="#cb433-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdarg.h&gt;</span></span>
<span id="cb433-2"><a href="#cb433-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb433-3" d__=""><a href="#cb433-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> va_start<span class="op" d__="">(</span><span class="dt" d__="">va_list</span> ap<span class="op" d__="">,</span> parmN<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-121" d__="">Description</h3>
<p d__="">You’ve declared a variable of type <code s__="13">va_list</code> to keep track of the variable argument processing… now how to initialize it so you can start calling <code s__="13">va_arg()</code> to get those arguments?</p>
<p d__=""><code s__="13">va_start()</code> to the rescue!</p>
<p d__="">What you do is pass in your <code s__="13">va_list</code>, here shown as parameter <code s__="13">ap</code>. Just pass the list, not a pointer to it.</p>
<p d__="">Then for the second argument to <code s__="13">va_start()</code>, you give the name of the parameter that you want to start processing arguments <em>after</em>. This must be the parameter right before the <code s__="13">...</code> in the argument list.</p>
<p d__="">If you’ve already called <code s__="13">va_start()</code> on a particular <code s__="13">va_list</code> and you want to call <code s__="13">va_start()</code> on it again, you <strong>must</strong> call <code s__="13">va_end()</code> first!</p>
<h3 class="unnumbered unlisted" id="return-value-119" d__="">Return Value</h3>
<p d__="">Returns nothing!</p>
<h3 class="unnumbered unlisted" id="example-121" d__="">Example</h3>
<p d__="">Here’s a demo that adds together an arbitrary number of 
integers. The first argument is the number of integers to add together. 
We’ll make use of that to figure out how many times we have to call <code s__="13">va_arg()</code>.</p>
<div class="sourceCode" id="cb434"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb434-1"><a href="#cb434-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb434-2"><a href="#cb434-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdarg.h&gt;</span></span>
<span id="cb434-3"><a href="#cb434-3"></a></span>
<span id="cb434-4" d__=""><a href="#cb434-4"></a><span class="dt" d__="">int</span> add<span class="op" d__="">(</span><span class="dt" d__="">int</span> count<span class="op" d__="">,</span> <span class="op" d__="">...)</span></span>
<span id="cb434-5"><a href="#cb434-5"></a><span class="op" d__="">{</span></span>
<span id="cb434-6" d__=""><a href="#cb434-6"></a>    <span class="dt" d__="">int</span> total <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb434-7" d__=""><a href="#cb434-7"></a>    <span class="dt" d__="">va_list</span> va<span class="op" d__="">;</span></span>
<span id="cb434-8"><a href="#cb434-8"></a></span>
<span id="cb434-9" d__=""><a href="#cb434-9"></a>    va_start<span class="op" d__="">(</span>va<span class="op" d__="">,</span> count<span class="op" d__="">);</span>   <span class="co" d__="">// Start with arguments after "count"</span></span>
<span id="cb434-10"><a href="#cb434-10"></a></span>
<span id="cb434-11" d__=""><a href="#cb434-11"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> count<span class="op" d__="">;</span> i<span class="op" d__="">++)</span> <span class="op" d__="">{</span></span>
<span id="cb434-12" d__=""><a href="#cb434-12"></a>        <span class="dt" d__="">int</span> n <span class="op" d__="">=</span> va_arg<span class="op" d__="">(</span>va<span class="op" d__="">,</span> <span class="dt" d__="">int</span><span class="op" d__="">);</span>   <span class="co" d__="">// Get the next int</span></span>
<span id="cb434-13"><a href="#cb434-13"></a></span>
<span id="cb434-14" d__=""><a href="#cb434-14"></a>        total <span class="op" d__="">+=</span> n<span class="op" d__="">;</span></span>
<span id="cb434-15"><a href="#cb434-15"></a>    <span class="op" d__="">}</span></span>
<span id="cb434-16"><a href="#cb434-16"></a></span>
<span id="cb434-17" d__=""><a href="#cb434-17"></a>    va_end<span class="op" d__="">(</span>va<span class="op" d__="">);</span>  <span class="co" d__="">// All done</span></span>
<span id="cb434-18"><a href="#cb434-18"></a></span>
<span id="cb434-19" d__=""><a href="#cb434-19"></a>    <span class="cf" d__="">return</span> total<span class="op" d__="">;</span></span>
<span id="cb434-20"><a href="#cb434-20"></a><span class="op" d__="">}</span></span>
<span id="cb434-21"><a href="#cb434-21"></a></span>
<span id="cb434-22" d__=""><a href="#cb434-22"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb434-23"><a href="#cb434-23"></a><span class="op" d__="">{</span></span>
<span id="cb434-24" d__=""><a href="#cb434-24"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> add<span class="op" d__="">(</span><span class="dv" d__="">4</span><span class="op" d__="">,</span> <span class="dv" d__="">6</span><span class="op" d__="">,</span> <span class="dv" d__="">2</span><span class="op" d__="">,</span> <span class="op" d__="">-</span><span class="dv" d__="">4</span><span class="op" d__="">,</span> <span class="dv" d__="">17</span><span class="op" d__="">));</span>  <span class="co" d__="">// 6 + 2 - 4 + 17 = 21</span></span>
<span id="cb434-25" d__=""><a href="#cb434-25"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> add<span class="op" d__="">(</span><span class="dv" d__="">2</span><span class="op" d__="">,</span> <span class="dv" d__="">22</span><span class="op" d__="">,</span> <span class="dv" d__="">44</span><span class="op" d__="">));</span>        <span class="co" d__="">// 22 + 44 = 66</span></span>
<span id="cb434-26"><a href="#cb434-26"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-114" d__="">See Also</h3>
<p d__=""><a href="#man-va_arg"><code s__="13" d__="">va_arg()</code></a>, <a href="#man-va_end"><code s__="13" d__="">va_end()</code></a></p>
<!--
***
## `example()` `example()` `example()` {#man-example}

### Synopsis {.unnumbered .unlisted}

``` {.c}
```

### Description {.unnumbered .unlisted}

### Return Value {.unnumbered .unlisted}

### Example {.unnumbered .unlisted}

``` {.c .numberLines}
```

### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="18" id="stdatomic" d__=""><span class="header-section-number">18</span> <code>&lt;stdatomic.h&gt;</code> Atomic-Related Functions</h1>
<p></p>
<table>
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Function</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#man-atomic_compare_exchange"><code s__="13" d__="">atomic_compare_exchange_strong_explicit()</code></a></td>
<td d__="">Atomic compare and exchange, strong, explicit</td>
</tr>
<tr class="even">
<td><a href="#man-atomic_compare_exchange"><code s__="13" d__="">atomic_compare_exchange_strong()</code></a></td>
<td d__="">Atomic compare and exchange, strong</td>
</tr>
<tr class="odd">
<td><a href="#man-atomic_compare_exchange"><code s__="13" d__="">atomic_compare_exchange_weak_explicit()</code></a></td>
<td d__="">Atomic compare and exchange, weak, explicit</td>
</tr>
<tr class="even">
<td><a href="#man-atomic_compare_exchange"><code s__="13" d__="">atomic_compare_exchange_weak()</code></a></td>
<td d__="">Atomic compare and exchange, weak</td>
</tr>
<tr class="odd">
<td><a href="#man-atomic_exchange"><code s__="13" d__="">atomic_exchange_explicit()</code></a></td>
<td d__="">Replace a value in an atomic object, explicit</td>
</tr>
<tr class="even">
<td><a href="#man-atomic_exchange"><code s__="13" d__="">atomic_exchange()</code></a></td>
<td d__="">Replace a value in an atomic object</td>
</tr>
<tr class="odd">
<td><a href="#man-atomic_fetch"><code s__="13" d__="">atomic_fetch_add_explicit()</code></a></td>
<td d__="">Atomically add to an atomic integer, explicit</td>
</tr>
<tr class="even">
<td><a href="#man-atomic_fetch"><code s__="13" d__="">atomic_fetch_add()</code></a></td>
<td d__="">Atomically add to an atomic integer</td>
</tr>
<tr class="odd">
<td><a href="#man-atomic_fetch"><code s__="13" d__="">atomic_fetch_and_explicit()</code></a></td>
<td d__="">Atomically bitwise-AND an atomic integer, explicit</td>
</tr>
<tr class="even">
<td><a href="#man-atomic_fetch"><code s__="13" d__="">atomic_fetch_and()</code></a></td>
<td d__="">Atomically bitwise-AND an atomic integer</td>
</tr>
<tr class="odd">
<td><a href="#man-atomic_fetch"><code s__="13" d__="">atomic_fetch_or_explicit()</code></a></td>
<td d__="">Atomically bitwise-OR an atomic integer, explicit</td>
</tr>
<tr class="even">
<td><a href="#man-atomic_fetch"><code s__="13" d__="">atomic_fetch_or()</code></a></td>
<td d__="">Atomically bitwise-OR an atomic integer</td>
</tr>
<tr class="odd">
<td><a href="#man-atomic_fetch"><code s__="13" d__="">atomic_fetch_sub_explicit()</code></a></td>
<td d__="">Atomically subtract from an atomic integer, explicit</td>
</tr>
<tr class="even">
<td><a href="#man-atomic_fetch"><code s__="13" d__="">atomic_fetch_sub()</code></a></td>
<td d__="">Atomically subtract from an atomic integer</td>
</tr>
<tr class="odd">
<td><a href="#man-atomic_fetch"><code s__="13" d__="">atomic_fetch_xor_explicit()</code></a></td>
<td d__="">Atomically bitwise-XOR an atomic integer, explicit</td>
</tr>
<tr class="even">
<td><a href="#man-atomic_fetch"><code s__="13" d__="">atomic_fetch_xor()</code></a></td>
<td d__="">Atomically bitwise-XOR an atomic integer</td>
</tr>
<tr class="odd">
<td><a href="#man-atomic_flag_clear"><code s__="13" d__="">atomic_flag_clear_explicit()</code></a></td>
<td d__="">Clear an atomic flag, explicit</td>
</tr>
<tr class="even">
<td><a href="#man-atomic_flag_clear"><code s__="13" d__="">atomic_flag_clear()</code></a></td>
<td d__="">Clear an atomic flag</td>
</tr>
<tr class="odd">
<td><a href="#man-atomic_flag_test_and_set"><code s__="13" d__="">atomic_flag_test_and_set_explicit()</code></a></td>
<td d__="">Test and set an atomic flag, explicit</td>
</tr>
<tr class="even">
<td><a href="#man-atomic_flag_test_and_set"><code s__="13" d__="">atomic_flag_test_and_set()</code></a></td>
<td d__="">Test and set an atomic flag</td>
</tr>
<tr class="odd">
<td><a href="#man-atomic_init"><code s__="13" d__="">atomic_init()</code></a></td>
<td d__="">Initialize an atomic variable</td>
</tr>
<tr class="even">
<td><a href="#man-atomic_is_lock_free"><code s__="13" d__="">atomic_is_lock_free()</code></a></td>
<td d__="">Determine if an atomic type is lock free</td>
</tr>
<tr class="odd">
<td><a href="#man-atomic_load"><code s__="13" d__="">atomic_load_explicit()</code></a></td>
<td d__="">Return a value from an atomic variable, explicit</td>
</tr>
<tr class="even">
<td><a href="#man-atomic_load"><code s__="13" d__="">atomic_load()</code></a></td>
<td d__="">Return a value from an atomic variable</td>
</tr>
<tr class="odd">
<td><a href="#man-atomic_signal_fence"><code s__="13" d__="">atomic_signal_fence()</code></a></td>
<td d__="">Fence for intra-thread signal handlers</td>
</tr>
<tr class="even">
<td><a href="#man-atomic_store"><code s__="13" d__="">atomic_store_explicit()</code></a></td>
<td d__="">Store a value in an atomic variable, explicit</td>
</tr>
<tr class="odd">
<td><a href="#man-atomic_store"><code s__="13" d__="">atomic_store()</code></a></td>
<td d__="">Store a value in an atomic variable</td>
</tr>
<tr class="even">
<td><a href="#man-atomic_thread_fence"><code s__="13" d__="">atomic_thread_fence()</code></a></td>
<td d__="">Set up a fence</td>
</tr>
<tr class="odd">
<td><a href="#man-ATOMIC_VAR_INIT"><code s__="13" d__="">ATOMIC_VAR_INIT()</code></a></td>
<td d__="">Create an initializer for an atomic variable</td>
</tr>
<tr class="even">
<td><a href="#man-kill_dependency"><code s__="13" d__="">kill_dependency()</code></a></td>
<td d__="">End a dependency chain</td>
</tr>
</tbody>
</table>
<p d__="">You might need to add <code s__="13">-latomic</code> to your compilation command line on Unix-like operating systems.</p>
<h2 data-number="18.1" id="atomic-types" d__=""><span class="header-section-number">18.1</span> Atomic Types</h2>
<p d__="">A bunch of types are predefined by this header:</p>
<p> </p>
<table>
<thead>
<tr class="header">
<th d__="">Atomic type</th>
<th d__="">Longhand equivalent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">atomic_bool</code></td>
<td><code s__="13" d__="">_Atomic _Bool</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">atomic_char</code></td>
<td><code s__="13" d__="">_Atomic char</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">atomic_schar</code></td>
<td><code s__="13" d__="">_Atomic signed char</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">atomic_uchar</code></td>
<td><code s__="13" d__="">_Atomic unsigned char</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">atomic_short</code></td>
<td><code s__="13" d__="">_Atomic short</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">atomic_ushort</code></td>
<td><code s__="13" d__="">_Atomic unsigned short</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">atomic_int</code></td>
<td><code s__="13" d__="">_Atomic int</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">atomic_uint</code></td>
<td><code s__="13" d__="">_Atomic unsigned int</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">atomic_long</code></td>
<td><code s__="13" d__="">_Atomic long</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">atomic_ulong</code></td>
<td><code s__="13" d__="">_Atomic unsigned long</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">atomic_llong</code></td>
<td><code s__="13" d__="">_Atomic long long</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">atomic_ullong</code></td>
<td><code s__="13" d__="">_Atomic unsigned long long</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">atomic_char16_t</code></td>
<td><code s__="13" d__="">_Atomic char16_t</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">atomic_char32_t</code></td>
<td><code s__="13" d__="">_Atomic char32_t</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">atomic_wchar_t</code></td>
<td><code s__="13" d__="">_Atomic wchar_t</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">atomic_int_least8_t</code></td>
<td><code s__="13" d__="">_Atomic int_least8_t</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">atomic_uint_least8_t</code></td>
<td><code s__="13" d__="">_Atomic uint_least8_t</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">atomic_int_least16_t</code></td>
<td><code s__="13" d__="">_Atomic int_least16_t</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">atomic_uint_least16_t</code></td>
<td><code s__="13" d__="">_Atomic uint_least16_t</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">atomic_int_least32_t</code></td>
<td><code s__="13" d__="">_Atomic int_least32_t</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">atomic_uint_least32_t</code></td>
<td><code s__="13" d__="">_Atomic uint_least32_t</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">atomic_int_least64_t</code></td>
<td><code s__="13" d__="">_Atomic int_least64_t</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">atomic_uint_least64_t</code></td>
<td><code s__="13" d__="">_Atomic uint_least64_t</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">atomic_int_fast8_t</code></td>
<td><code s__="13" d__="">_Atomic int_fast8_t</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">atomic_uint_fast8_t</code></td>
<td><code s__="13" d__="">_Atomic uint_fast8_t</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">atomic_int_fast16_t</code></td>
<td><code s__="13" d__="">_Atomic int_fast16_t</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">atomic_uint_fast16_t</code></td>
<td><code s__="13" d__="">_Atomic uint_fast16_t</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">atomic_int_fast32_t</code></td>
<td><code s__="13" d__="">_Atomic int_fast32_t</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">atomic_uint_fast32_t</code></td>
<td><code s__="13" d__="">_Atomic uint_fast32_t</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">atomic_int_fast64_t</code></td>
<td><code s__="13" d__="">_Atomic int_fast64_t</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">atomic_uint_fast64_t</code></td>
<td><code s__="13" d__="">_Atomic uint_fast64_t</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">atomic_intptr_t</code></td>
<td><code s__="13" d__="">_Atomic intptr_t</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">atomic_uintptr_t</code></td>
<td><code s__="13" d__="">_Atomic uintptr_t</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">atomic_size_t</code></td>
<td><code s__="13" d__="">_Atomic size_t</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">atomic_ptrdiff_t</code></td>
<td><code s__="13" d__="">_Atomic ptrdiff_t</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">atomic_intmax_t</code></td>
<td><code s__="13" d__="">_Atomic intmax_t</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">atomic_uintmax_t</code></td>
<td><code s__="13" d__="">_Atomic uintmax_t</code></td>
</tr>
</tbody>
</table>
<p d__="">You can make your own additional types with the <code s__="13">_Atomic</code> type qualifier:</p>
<div class="sourceCode" id="cb435"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb435-1" d__=""><a href="#cb435-1" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">_Atomic</span> <span class="dt" d__="">double</span> x<span class="op" d__="">;</span></span></code></pre></div>
<p d__="">or the <code s__="13">_Atomic()</code> type specifier:</p>
<div class="sourceCode" id="cb436"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb436-1" d__=""><a href="#cb436-1" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">_Atomic</span><span class="op" d__="">(</span><span class="dt" d__="">double</span><span class="op" d__="">)</span> x<span class="op" d__="">;</span></span></code></pre></div>
<h2 data-number="18.2" id="lock-free-macros" d__=""><span class="header-section-number">18.2</span> Lock-free Macros</h2>
<p d__="">These macros let you know if a type is lock-free or not. Maybe.</p>
<p d__="">They can be used at compile time with <code s__="13">#if</code>. They apply to both signed and unsigned types.</p>
<p> </p>
<table>
<thead>
<tr class="header">
<th d__="">Atomic Type</th>
<th d__="">Lock Free Macro</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">atomic_bool</code></td>
<td><code s__="13" d__="">ATOMIC_BOOL_LOCK_FREE</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">atomic_char</code></td>
<td><code s__="13" d__="">ATOMIC_CHAR_LOCK_FREE</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">atomic_char16_t</code></td>
<td><code s__="13" d__="">ATOMIC_CHAR16_T_LOCK_FREE</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">atomic_char32_t</code></td>
<td><code s__="13" d__="">ATOMIC_CHAR32_T_LOCK_FREE</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">atomic_wchar_t</code></td>
<td><code s__="13" d__="">ATOMIC_WCHAR_T_LOCK_FREE</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">atomic_short</code></td>
<td><code s__="13" d__="">ATOMIC_SHORT_LOCK_FREE</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">atomic_int</code></td>
<td><code s__="13" d__="">ATOMIC_INT_LOCK_FREE</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">atomic_long</code></td>
<td><code s__="13" d__="">ATOMIC_LONG_LOCK_FREE</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">atomic_llong</code></td>
<td><code s__="13" d__="">ATOMIC_LLONG_LOCK_FREE</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">atomic_intptr_t</code></td>
<td><code s__="13" d__="">ATOMIC_POINTER_LOCK_FREE</code></td>
</tr>
</tbody>
</table>
<p d__="">These macros can interestingly have <em>three</em> different values:</p>
<table>
<thead>
<tr class="header">
<th d__="">Value</th>
<th d__="">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">0</code></td>
<td d__="">Never lock-free.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">1</code></td>
<td d__=""><em>Sometimes</em> lock-free<a href="#fn38" class="footnote-ref" id="fnref38" role="doc-noteref"><sup s__="13" d__="">38</sup></a>.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">2</code></td>
<td d__="">Always lock-free.</td>
</tr>
</tbody>
</table>
<h2 data-number="18.3" id="atomic-flag" d__=""><span class="header-section-number">18.3</span> Atomic Flag</h2>
<p d__="">The <code s__="13">atomic_flag</code> opaque type is the only time guaranteed to be lock-free. Though your PC implementation probably does a lot more.</p>
<p d__="">It is accessed through the <a href="#man-atomic_flag_test_and_set"><code s__="13" d__="">atomic_flag_test_and_set()</code></a> and <a href="#man-atomic_flag_clear"><code s__="13" d__="">atomic_flag_clear()</code></a> functions.</p>
<p d__="">Before use, it can be initialized to a clear state with:</p>
<div class="sourceCode" id="cb437"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb437-1" d__=""><a href="#cb437-1" aria-hidden="true" tabindex="-1"></a>atomic_flag f <span class="op" d__="">=</span> ATOMIC_FLAG_INIT<span class="op" d__="">;</span></span></code></pre></div>
<h2 data-number="18.4" id="memory-order" d__=""><span class="header-section-number">18.4</span> Memory Order</h2>
<p d__="">This header introduces a new <code s__="13">enum</code> type called <code s__="13">memory_order</code>. This is used by a bunch of the functions to specify memory orders other than sequential consistency.</p>
<p> </p>
<table>
<thead>
<tr class="header">
<th><code s__="13" d__="">memory_order</code></th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">memory_order_seq_cst</code></td>
<td d__="">Sequential Consistency</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">memory_order_acq_rel</code></td>
<td d__="">Acquire/Release</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">memory_order_release</code></td>
<td d__="">Release</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">memory_order_acquire</code></td>
<td d__="">Acquire</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">memory_order_consume</code></td>
<td d__="">Consume</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">memory_order_relaxed</code></td>
<td d__="">Relaxed</td>
</tr>
</tbody>
</table>
<p d__="">You can feed these into atomic functions with the <code s__="13">_explicit</code> suffix.</p>
<p d__="">The non-<code s__="13">_explcit</code> versions of the functions are the same as if you’d called the <code s__="13">_explicit</code> counterpart with <code s__="13">memory_order_seq_cst</code>.</p>
<hr>
<h2 data-number="18.5" id="man-ATOMIC_VAR_INIT"><span class="header-section-number" d__="">18.5</span> <code d__="">ATOMIC_VAR_INIT()</code></h2>
<p></p>
<p d__="">Create an initializer for an atomic variable</p>
<h3 class="unnumbered unlisted" id="synopsis-122" d__="">Synopsis</h3>
<div class="sourceCode" id="cb438"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb438-1"><a href="#cb438-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdatomic.h&gt;</span></span>
<span id="cb438-2"><a href="#cb438-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb438-3"><a href="#cb438-3" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#define ATOMIC_VAR_INIT</span><span class="op" d__="">(</span><span class="pp" d__="">C value</span><span class="op" d__="">)</span><span class="pp">   </span><span class="co" d__="">// Deprecated</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-122" d__="">Description</h3>
<p d__="">This macro expands to an initializer, so you can use it when a variable is defined.</p>
<p d__="">The type of the <code s__="13">value</code> should be the base type of the atomic variable.</p>
<p d__="">The initialization itself is <em>not</em> an atomic operation, ironically.</p>
<p d__=""><a href="https://en.cppreference.com/w/cpp/atomic/ATOMIC_VAR_INIT" d__="">CPPReference says this is deprecated</a><a href="#fn39" class="footnote-ref" id="fnref39" role="doc-noteref"><sup s__="13" d__="">39</sup></a> and likely to be removed. Standards document <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2018/p1138r0.pdf" d__="">p1138r0</a><a href="#fn40" class="footnote-ref" id="fnref40" role="doc-noteref"><sup s__="13" d__="">40</sup></a> elaborates that the macro is limited in that it can’t properly initialize atomic <code s__="13">struct</code>s, and its original <em>raison d’être</em> turned out to not be useful.</p>
<p d__="">Just initialize the variable straight-up, instead.</p>
<h3 class="unnumbered unlisted" id="return-value-120" d__="">Return Value</h3>
<p d__="">Expands to an initializer suitable for this atomic variable.</p>
<h3 class="unnumbered unlisted" id="example-122" d__="">Example</h3>
<div class="sourceCode" id="cb439"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb439-1"><a href="#cb439-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb439-2"><a href="#cb439-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdatomic.h&gt;</span></span>
<span id="cb439-3"><a href="#cb439-3"></a></span>
<span id="cb439-4" d__=""><a href="#cb439-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb439-5"><a href="#cb439-5"></a><span class="op" d__="">{</span></span>
<span id="cb439-6" d__=""><a href="#cb439-6"></a>    atomic_int x <span class="op" d__="">=</span> ATOMIC_VAR_INIT<span class="op" d__="">(</span><span class="dv" d__="">3490</span><span class="op" d__="">);</span>  <span class="co" d__="">// Deprecated</span></span>
<span id="cb439-7" d__=""><a href="#cb439-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> x<span class="op" d__="">);</span></span>
<span id="cb439-8"><a href="#cb439-8"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-115" d__="">See Also</h3>
<p><a href="#man-atomic_init"><code s__="13" d__="">atomic_init()</code></a></p>
<hr>
<h2 data-number="18.6" id="man-atomic_init"><span class="header-section-number" d__="">18.6</span> <code d__="">atomic_init()</code></h2>
<p></p>
<p d__="">Initialize an atomic variable</p>
<h3 class="unnumbered unlisted" id="synopsis-123" d__="">Synopsis</h3>
<div class="sourceCode" id="cb440"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb440-1"><a href="#cb440-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdatomic.h&gt;</span></span>
<span id="cb440-2"><a href="#cb440-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb440-3" d__=""><a href="#cb440-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> atomic_init<span class="op" d__="">(</span><span class="dt" d__="">volatile</span> A <span class="op" d__="">*</span>obj<span class="op" d__="">,</span> C value<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-123" d__="">Description</h3>
<p d__="">You can use this to initialize an atomic variable.</p>
<p d__="">The type of the <code s__="13">value</code> should be the base type of the atomic variable.</p>
<p d__="">The initialization itself is <em>not</em> an atomic operation, ironically.</p>
<p d__="">As far as I can tell, there’s no difference between this and 
assigning directly to the atomic variable. The spec says it’s there to 
allow the compiler to inject any additional initialization that needs 
doing, but everything seems fine without it. If anyone has more info, 
send it my way.</p>
<h3 class="unnumbered unlisted" id="return-value-121" d__="">Return Value</h3>
<p d__="">Returns nothing!</p>
<h3 class="unnumbered unlisted" id="example-123" d__="">Example</h3>
<div class="sourceCode" id="cb441"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb441-1"><a href="#cb441-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb441-2"><a href="#cb441-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdatomic.h&gt;</span></span>
<span id="cb441-3"><a href="#cb441-3"></a></span>
<span id="cb441-4" d__=""><a href="#cb441-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb441-5"><a href="#cb441-5"></a><span class="op" d__="">{</span></span>
<span id="cb441-6" d__=""><a href="#cb441-6"></a>    atomic_int x<span class="op" d__="">;</span></span>
<span id="cb441-7"><a href="#cb441-7"></a>    </span>
<span id="cb441-8" d__=""><a href="#cb441-8"></a>    atomic_init<span class="op" d__="">(&amp;</span>x<span class="op" d__="">,</span> <span class="dv" d__="">3490</span><span class="op" d__="">);</span></span>
<span id="cb441-9"><a href="#cb441-9"></a></span>
<span id="cb441-10" d__=""><a href="#cb441-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> x<span class="op" d__="">);</span></span>
<span id="cb441-11"><a href="#cb441-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-116" d__="">See Also</h3>
<p d__=""><a href="#man-ATOMIC_VAR_INIT"><code s__="13" d__="">ATOMIC_VAR_INIT()</code></a>, <a href="#man-atomic_store"><code s__="13" d__="">atomic_store()</code></a>, <a href="#man-atomic_store"><code s__="13" d__="">atomic_store_explicit()</code></a></p>
<hr>
<h2 data-number="18.7" id="man-kill_dependency"><span class="header-section-number" d__="">18.7</span> <code d__="">kill_dependency()</code></h2>
<p></p>
<p d__="">End a dependency chain</p>
<h3 class="unnumbered unlisted" id="synopsis-124" d__="">Synopsis</h3>
<div class="sourceCode" id="cb442"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb442-1"><a href="#cb442-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdatomic.h&gt;</span></span>
<span id="cb442-2"><a href="#cb442-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb442-3" d__=""><a href="#cb442-3" aria-hidden="true" tabindex="-1"></a>type kill_dependency<span class="op" d__="">(</span>type y<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-124" d__="">Description</h3>
<p d__="">This is potentially useful for optimizing if you’re using <code s__="13">memory_order_consume</code> anywhere.</p>
<p d__="">And if you know what you’re doing. If unsure, learn more before trying to use this.</p>
<h3 class="unnumbered unlisted" id="return-value-122" d__="">Return Value</h3>
<p d__="">Returns the value passed in.</p>
<h3 class="unnumbered unlisted" id="example-124" d__="">Example</h3>
<p d__="">In this example, <code s__="13">i</code> carries a dependency into <code s__="13">x</code>. And would do into <code s__="13">y</code>, except for the call to <code s__="13">kill_dependency()</code>.</p>
<div class="sourceCode" id="cb443"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb443-1"><a href="#cb443-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb443-2"><a href="#cb443-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdatomic.h&gt;</span></span>
<span id="cb443-3"><a href="#cb443-3"></a></span>
<span id="cb443-4" d__=""><a href="#cb443-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb443-5"><a href="#cb443-5"></a><span class="op" d__="">{</span></span>
<span id="cb443-6" d__=""><a href="#cb443-6"></a>    atomic_int a<span class="op" d__="">;</span></span>
<span id="cb443-7" d__=""><a href="#cb443-7"></a>    <span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">10</span><span class="op" d__="">,</span> x<span class="op" d__="">,</span> y<span class="op" d__="">;</span></span>
<span id="cb443-8"><a href="#cb443-8"></a></span>
<span id="cb443-9" d__=""><a href="#cb443-9"></a>    atomic_store_explicit<span class="op" d__="">(&amp;</span>a<span class="op" d__="">,</span> <span class="dv" d__="">3490</span><span class="op" d__="">,</span> memory_order_release<span class="op" d__="">);</span></span>
<span id="cb443-10"><a href="#cb443-10"></a></span>
<span id="cb443-11" d__=""><a href="#cb443-11"></a>    i <span class="op" d__="">=</span> atomic_load_explicit<span class="op" d__="">(&amp;</span>a<span class="op" d__="">,</span> memory_order_consume<span class="op" d__="">);</span></span>
<span id="cb443-12" d__=""><a href="#cb443-12"></a>    x <span class="op" d__="">=</span> i<span class="op" d__="">;</span></span>
<span id="cb443-13" d__=""><a href="#cb443-13"></a>    y <span class="op" d__="">=</span> kill_dependency<span class="op" d__="">(</span>i<span class="op" d__="">);</span></span>
<span id="cb443-14"><a href="#cb443-14"></a></span>
<span id="cb443-15" d__=""><a href="#cb443-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d</span><span class="st"> </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> x<span class="op" d__="">,</span> y<span class="op" d__="">);</span>  <span class="co" d__="">// 3490 and either 3490 or 10</span></span>
<span id="cb443-16"><a href="#cb443-16"></a><span class="op" d__="">}</span></span></code></pre></div>
<!--
### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<hr>
<h2 data-number="18.8" id="man-atomic_thread_fence"><span class="header-section-number" d__="">18.8</span> <code d__="">atomic_thread_fence()</code></h2>
<p></p>
<p d__="">Set up a fence</p>
<h3 class="unnumbered unlisted" id="synopsis-125" d__="">Synopsis</h3>
<div class="sourceCode" id="cb444"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb444-1"><a href="#cb444-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdatomic.h&gt;</span></span>
<span id="cb444-2"><a href="#cb444-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb444-3" d__=""><a href="#cb444-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> atomic_thread_fence<span class="op" d__="">(</span>memory_order order<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-125" d__="">Description</h3>
<p d__="">This sets up a memory fence with the specified <code s__="13">order</code>.</p>
<table>
<thead>
<tr class="header">
<th><code s__="13" d__="">order</code></th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">memory_order_seq_cst</code></td>
<td d__="">Sequentially consistency acquire/release fence</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">memory_order_acq_rel</code></td>
<td d__="">Acquire/release dence</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">memory_order_release</code></td>
<td d__="">Release fence</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">memory_order_acquire</code></td>
<td d__="">Acquire fence</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">memory_order_consume</code></td>
<td d__="">Acquire fence (again)</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">memory_order_relaxed</code></td>
<td d__="">No fence at all—no point in calling with this</td>
</tr>
</tbody>
</table>
<p d__="">You might try to avoid using these and just stick with the different modes with <a href="#man-atomic_store"><code s__="13" d__="">atomic_store_explicit()</code></a> and <a href="#man-atomic_load"><code s__="13" d__="">atomic_load_explicit()</code></a>. Or not.</p>
<h3 class="unnumbered unlisted" id="return-value-123" d__="">Return Value</h3>
<p d__="">Returns nothing!</p>
<h3 class="unnumbered unlisted" id="example-125" d__="">Example</h3>
<div class="sourceCode" id="cb445"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb445-1"><a href="#cb445-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb445-2"><a href="#cb445-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb445-3"><a href="#cb445-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdatomic.h&gt;</span></span>
<span id="cb445-4"><a href="#cb445-4"></a></span>
<span id="cb445-5" d__=""><a href="#cb445-5"></a>atomic_int shared_1 <span class="op" d__="">=</span> <span class="dv" d__="">1</span><span class="op" d__="">;</span></span>
<span id="cb445-6" d__=""><a href="#cb445-6"></a>atomic_int shared_2 <span class="op" d__="">=</span> <span class="dv" d__="">2</span><span class="op" d__="">;</span></span>
<span id="cb445-7"><a href="#cb445-7"></a></span>
<span id="cb445-8" d__=""><a href="#cb445-8"></a><span class="dt" d__="">int</span> thread_1<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb445-9"><a href="#cb445-9"></a><span class="op" d__="">{</span></span>
<span id="cb445-10" d__=""><a href="#cb445-10"></a>    <span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span>arg<span class="op" d__="">;</span></span>
<span id="cb445-11"><a href="#cb445-11"></a></span>
<span id="cb445-12" d__=""><a href="#cb445-12"></a>    atomic_store_explicit<span class="op" d__="">(&amp;</span>shared_1<span class="op" d__="">,</span> <span class="dv" d__="">10</span><span class="op" d__="">,</span> memory_order_relaxed<span class="op" d__="">);</span></span>
<span id="cb445-13"><a href="#cb445-13"></a></span>
<span id="cb445-14" d__=""><a href="#cb445-14"></a>    atomic_thread_fence<span class="op" d__="">(</span>memory_order_release<span class="op" d__="">);</span></span>
<span id="cb445-15"><a href="#cb445-15"></a></span>
<span id="cb445-16" d__=""><a href="#cb445-16"></a>    atomic_store_explicit<span class="op" d__="">(&amp;</span>shared_2<span class="op" d__="">,</span> <span class="dv" d__="">20</span><span class="op" d__="">,</span> memory_order_relaxed<span class="op" d__="">);</span></span>
<span id="cb445-17"><a href="#cb445-17"></a></span>
<span id="cb445-18"><a href="#cb445-18"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb445-19"><a href="#cb445-19"></a><span class="op" d__="">}</span></span>
<span id="cb445-20"><a href="#cb445-20"></a></span>
<span id="cb445-21" d__=""><a href="#cb445-21"></a><span class="dt" d__="">int</span> thread_2<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb445-22"><a href="#cb445-22"></a><span class="op" d__="">{</span></span>
<span id="cb445-23" d__=""><a href="#cb445-23"></a>    <span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span>arg<span class="op" d__="">;</span></span>
<span id="cb445-24"><a href="#cb445-24"></a></span>
<span id="cb445-25"><a href="#cb445-25"></a>    <span class="co" d__="">// If this fence runs after the release fence, we're</span></span>
<span id="cb445-26"><a href="#cb445-26"></a>    <span class="co" d__="">// guaranteed to see thread_1's changes to the shared</span></span>
<span id="cb445-27"><a href="#cb445-27"></a>    <span class="co" d__="">// varaibles.</span></span>
<span id="cb445-28"><a href="#cb445-28"></a></span>
<span id="cb445-29" d__=""><a href="#cb445-29"></a>    atomic_thread_fence<span class="op" d__="">(</span>memory_order_acquire<span class="op" d__="">);</span></span>
<span id="cb445-30"><a href="#cb445-30"></a></span>
<span id="cb445-31" d__=""><a href="#cb445-31"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>shared_2 <span class="op" d__="">==</span> <span class="dv" d__="">20</span><span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb445-32" d__=""><a href="#cb445-32"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"Shared_1 better be 10 and it's </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> shared_1<span class="op" d__="">);</span></span>
<span id="cb445-33"><a href="#cb445-33"></a>    <span class="op" d__="">}</span> <span class="cf" d__="">else</span> <span class="op" d__="">{</span></span>
<span id="cb445-34" d__=""><a href="#cb445-34"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"Anything's possible: </span><span class="sc" d__="">%d</span><span class="st"> </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> shared_1<span class="op" d__="">,</span> shared_2<span class="op" d__="">);</span></span>
<span id="cb445-35"><a href="#cb445-35"></a>    <span class="op" d__="">}</span></span>
<span id="cb445-36"><a href="#cb445-36"></a></span>
<span id="cb445-37"><a href="#cb445-37"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb445-38"><a href="#cb445-38"></a><span class="op" d__="">}</span></span>
<span id="cb445-39"><a href="#cb445-39"></a></span>
<span id="cb445-40" d__=""><a href="#cb445-40"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb445-41"><a href="#cb445-41"></a><span class="op" d__="">{</span></span>
<span id="cb445-42" d__=""><a href="#cb445-42"></a>    thrd_t t1<span class="op" d__="">,</span> t2<span class="op" d__="">;</span></span>
<span id="cb445-43"><a href="#cb445-43"></a></span>
<span id="cb445-44" d__=""><a href="#cb445-44"></a>    thrd_create<span class="op" d__="">(&amp;</span>t2<span class="op" d__="">,</span> thread_2<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb445-45" d__=""><a href="#cb445-45"></a>    thrd_create<span class="op" d__="">(&amp;</span>t1<span class="op" d__="">,</span> thread_1<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb445-46"><a href="#cb445-46"></a></span>
<span id="cb445-47" d__=""><a href="#cb445-47"></a>    thrd_join<span class="op" d__="">(</span>t1<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb445-48" d__=""><a href="#cb445-48"></a>    thrd_join<span class="op" d__="">(</span>t2<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb445-49"><a href="#cb445-49"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-117" d__="">See Also</h3>
<p d__=""><a href="#man-atomic_store"><code s__="13" d__="">atomic_store_explicit()</code></a>, <a href="#man-atomic_load"><code s__="13" d__="">atomic_load_explicit()</code></a>, <a href="#man-atomic_signal_fence"><code s__="13" d__="">atomic_signal_fence()</code></a></p>
<hr>
<h2 data-number="18.9" id="man-atomic_signal_fence"><span class="header-section-number" d__="">18.9</span> <code d__="">atomic_signal_fence()</code></h2>
<p></p>
<p d__="">Fence for intra-thread signal handlers</p>
<h3 class="unnumbered unlisted" id="synopsis-126" d__="">Synopsis</h3>
<div class="sourceCode" id="cb446"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb446-1"><a href="#cb446-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdatomic.h&gt;</span></span>
<span id="cb446-2"><a href="#cb446-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb446-3" d__=""><a href="#cb446-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> atomic_signal_fence<span class="op" d__="">(</span>memory_order order<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-126" d__="">Description</h3>
<p d__="">This works like <code s__="13">atomic_thread_fence()</code> except its purpose is within in a single thread; notably for use in a signal handler in that thread.</p>
<p d__="">Since signals can happen at any time, we might need a way to 
be certain that any writes by the thread that happened before the signal
 handler be visible within that signal handler.</p>
<h3 class="unnumbered unlisted" id="return-value-124" d__="">Return Value</h3>
<p d__="">Returns nothing!</p>
<h3 class="unnumbered unlisted" id="example-126" d__="">Example</h3>
<p d__="">Partial demo. (Note that it’s technically undefined behavior to call <code s__="13">printf()</code> in a signal handler.)</p>
<div class="sourceCode" id="cb447"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb447-1"><a href="#cb447-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb447-2"><a href="#cb447-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;signal.h&gt;</span></span>
<span id="cb447-3"><a href="#cb447-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdatomic.h&gt;</span></span>
<span id="cb447-4"><a href="#cb447-4"></a></span>
<span id="cb447-5" d__=""><a href="#cb447-5"></a><span class="dt" d__="">int</span> global<span class="op" d__="">;</span></span>
<span id="cb447-6"><a href="#cb447-6"></a></span>
<span id="cb447-7" d__=""><a href="#cb447-7"></a><span class="dt" d__="">void</span> handler<span class="op" d__="">(</span><span class="dt" d__="">int</span> sig<span class="op" d__="">)</span></span>
<span id="cb447-8"><a href="#cb447-8"></a><span class="op" d__="">{</span></span>
<span id="cb447-9" d__=""><a href="#cb447-9"></a>    <span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span>sig<span class="op" d__="">;</span></span>
<span id="cb447-10"><a href="#cb447-10"></a></span>
<span id="cb447-11"><a href="#cb447-11"></a>    <span class="co" d__="">// If this runs before the release, the handler will</span></span>
<span id="cb447-12"><a href="#cb447-12"></a>    <span class="co" d__="">// potentially see global == 0.</span></span>
<span id="cb447-13"><a href="#cb447-13"></a>    <span class="co" d__="">//</span></span>
<span id="cb447-14"><a href="#cb447-14"></a>    <span class="co" d__="">// Otherwise, it will definitely see global == 10.</span></span>
<span id="cb447-15"><a href="#cb447-15"></a></span>
<span id="cb447-16" d__=""><a href="#cb447-16"></a>    atomic_signal_fence<span class="op" d__="">(</span>memory_order_acquire<span class="op" d__="">);</span></span>
<span id="cb447-17"><a href="#cb447-17"></a></span>
<span id="cb447-18" d__=""><a href="#cb447-18"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> global<span class="op" d__="">);</span></span>
<span id="cb447-19"><a href="#cb447-19"></a><span class="op" d__="">}</span></span>
<span id="cb447-20"><a href="#cb447-20"></a></span>
<span id="cb447-21" d__=""><a href="#cb447-21"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb447-22"><a href="#cb447-22"></a><span class="op" d__="">{</span></span>
<span id="cb447-23" d__=""><a href="#cb447-23"></a>    signal<span class="op" d__="">(</span>SIGINT<span class="op" d__="">,</span> handler<span class="op" d__="">);</span></span>
<span id="cb447-24"><a href="#cb447-24"></a></span>
<span id="cb447-25" d__=""><a href="#cb447-25"></a>    global <span class="op" d__="">=</span> <span class="dv" d__="">10</span><span class="op" d__="">;</span></span>
<span id="cb447-26"><a href="#cb447-26"></a></span>
<span id="cb447-27" d__=""><a href="#cb447-27"></a>    atomic_signal_fence<span class="op" d__="">(</span>memory_order_release<span class="op" d__="">);</span></span>
<span id="cb447-28"><a href="#cb447-28"></a></span>
<span id="cb447-29"><a href="#cb447-29"></a>    <span class="co" d__="">// If the signal handler runs after the release</span></span>
<span id="cb447-30"><a href="#cb447-30"></a>    <span class="co" d__="">// it will definitely see the value 10 in global.</span></span>
<span id="cb447-31"><a href="#cb447-31"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-118" d__="">See Also</h3>
<p d__=""><a href="#man-atomic_thread_fence"><code s__="13" d__="">atomic_thread_fence()</code></a>, <a href="#man-signal"><code s__="13" d__="">signal()</code></a></p>
<hr>
<h2 data-number="18.10" id="man-atomic_is_lock_free"><span class="header-section-number" d__="">18.10</span> <code d__="">atomic_is_lock_free()</code></h2>
<p></p>
<p d__="">Determine if an atomic type is lock free</p>
<h3 class="unnumbered unlisted" id="synopsis-127" d__="">Synopsis</h3>
<div class="sourceCode" id="cb448"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb448-1"><a href="#cb448-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdatomic.h&gt;</span></span>
<span id="cb448-2"><a href="#cb448-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb448-3" d__=""><a href="#cb448-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">_Bool</span> atomic_is_lock_free<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">volatile</span> A <span class="op" d__="">*</span>obj<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-127" d__="">Description</h3>
<p d__="">Determines if the variable <code s__="13">obj</code> of type <code s__="13">A</code> is lock-free. Can be used with any type.</p>
<p d__="">Unlike the <a href="#lock-free-macros" d__="">lock-free macros</a>
 which can be used at compile-time, this is strictly a run-time 
function. So in places where the macros say “maybe”, this function will 
definitely tell you one way or another if the atomic variable is 
lock-free.</p>
<p d__="">This is useful when you’re defining your own atomic variables and want to know their lock-free status.</p>
<h3 class="unnumbered unlisted" id="return-value-125" d__="">Return Value</h3>
<p d__="">True if the variable is lock-free, false otherwise.</p>
<h3 class="unnumbered unlisted" id="example-127" d__="">Example</h3>
<p d__="">Test if a couple <code s__="13">struct</code>s and an atomic <code s__="13">double</code> are lock-free. On my system, the larger <code s__="13">struct</code> is too big to be lock-free, but the other two are OK.</p>
<div class="sourceCode" id="cb449"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb449-1"><a href="#cb449-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb449-2"><a href="#cb449-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdatomic.h&gt;</span></span>
<span id="cb449-3"><a href="#cb449-3"></a></span>
<span id="cb449-4" d__=""><a href="#cb449-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb449-5"><a href="#cb449-5"></a><span class="op" d__="">{</span></span>
<span id="cb449-6" d__=""><a href="#cb449-6"></a>    <span class="kw" d__="">struct</span> foo <span class="op" d__="">{</span></span>
<span id="cb449-7" d__=""><a href="#cb449-7"></a>        <span class="dt" d__="">int</span> x<span class="op" d__="">,</span> y<span class="op" d__="">;</span></span>
<span id="cb449-8"><a href="#cb449-8"></a>    <span class="op" d__="">};</span></span>
<span id="cb449-9"><a href="#cb449-9"></a></span>
<span id="cb449-10" d__=""><a href="#cb449-10"></a>    <span class="kw" d__="">struct</span> bar <span class="op" d__="">{</span></span>
<span id="cb449-11" d__=""><a href="#cb449-11"></a>        <span class="dt" d__="">int</span> x<span class="op" d__="">,</span> y<span class="op" d__="">,</span> z<span class="op" d__="">;</span></span>
<span id="cb449-12"><a href="#cb449-12"></a>    <span class="op" d__="">};</span></span>
<span id="cb449-13"><a href="#cb449-13"></a></span>
<span id="cb449-14" d__=""><a href="#cb449-14"></a>    <span class="kw" d__="">_Atomic</span><span class="op" d__="">(</span><span class="dt" d__="">double</span><span class="op" d__="">)</span> a<span class="op" d__="">;</span></span>
<span id="cb449-15" d__=""><a href="#cb449-15"></a>    <span class="kw" d__="">struct</span> foo b<span class="op" d__="">;</span></span>
<span id="cb449-16" d__=""><a href="#cb449-16"></a>    <span class="kw" d__="">struct</span> bar c<span class="op" d__="">;</span></span>
<span id="cb449-17"><a href="#cb449-17"></a></span>
<span id="cb449-18" d__=""><a href="#cb449-18"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"a is lock-free: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> atomic_is_lock_free<span class="op" d__="">(&amp;</span>a<span class="op" d__="">));</span></span>
<span id="cb449-19" d__=""><a href="#cb449-19"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"b is lock-free: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> atomic_is_lock_free<span class="op" d__="">(&amp;</span>b<span class="op" d__="">));</span></span>
<span id="cb449-20" d__=""><a href="#cb449-20"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"c is lock-free: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> atomic_is_lock_free<span class="op" d__="">(&amp;</span>c<span class="op" d__="">));</span></span>
<span id="cb449-21"><a href="#cb449-21"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output on my system (YMMV):</p>
<div class="sourceCode" id="cb450"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb450-1" d__=""><a href="#cb450-1" aria-hidden="true" tabindex="-1"></a>a is lock-free: 1</span>
<span id="cb450-2" d__=""><a href="#cb450-2" aria-hidden="true" tabindex="-1"></a>b is lock-free: 1</span>
<span id="cb450-3" d__=""><a href="#cb450-3" aria-hidden="true" tabindex="-1"></a>c is lock-free: 0</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-119" d__="">See Also</h3>
<p><a href="#lock-free-macros" d__="">Lock-free Macros</a></p>
<hr>
<h2 data-number="18.11" id="man-atomic_store"><span class="header-section-number" d__="">18.11</span> <code d__="">atomic_store()</code></h2>
<p></p>
<p d__="">Store a value in an atomic variable</p>
<h3 class="unnumbered unlisted" id="synopsis-128" d__="">Synopsis</h3>
<div class="sourceCode" id="cb451"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb451-1"><a href="#cb451-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdatomic.h&gt;</span></span>
<span id="cb451-2"><a href="#cb451-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb451-3" d__=""><a href="#cb451-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> atomic_store<span class="op" d__="">(</span><span class="dt" d__="">volatile</span> A <span class="op" d__="">*</span>object<span class="op" d__="">,</span> C desired<span class="op" d__="">);</span></span>
<span id="cb451-4"><a href="#cb451-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb451-5" d__=""><a href="#cb451-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> atomic_store_explicit<span class="op" d__="">(</span><span class="dt" d__="">volatile</span> A <span class="op" d__="">*</span>object<span class="op" d__="">,</span></span>
<span id="cb451-6" d__=""><a href="#cb451-6" aria-hidden="true" tabindex="-1"></a>                           C desired<span class="op" d__="">,</span> memory_order order<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-128" d__="">Description</h3>
<p d__="">Store a value in an atomic variable, possible synchronized.</p>
<p d__="">This is like a plain assignment, but with more flexibility.</p>
<p d__="">These have the same storage effect for an <code s__="13">atomic_int x</code>:</p>
<div class="sourceCode" id="cb452"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb452-1" d__=""><a href="#cb452-1" aria-hidden="true" tabindex="-1"></a>x <span class="op" d__="">=</span> <span class="dv" d__="">10</span><span class="op" d__="">;</span></span>
<span id="cb452-2" d__=""><a href="#cb452-2" aria-hidden="true" tabindex="-1"></a>atomic_store<span class="op" d__="">(&amp;</span>x<span class="op" d__="">,</span> <span class="dv" d__="">10</span><span class="op" d__="">);</span></span>
<span id="cb452-3" d__=""><a href="#cb452-3" aria-hidden="true" tabindex="-1"></a>atomic_store_explicit<span class="op" d__="">(&amp;</span>x<span class="op" d__="">,</span> <span class="dv" d__="">10</span><span class="op" d__="">,</span> memory_order_seq_cst<span class="op" d__="">);</span></span></code></pre></div>
<p d__="">But the last function, <code s__="13">atomic_store_explicit()</code>, lets you specify the memory order.</p>
<p d__="">Since this is a “release-y” operation, none of the “acquire-y” memory orders are legal. <code s__="13">order</code> can be only be <code s__="13">memory_order_seq_cst</code>, <code s__="13">memory_order_release</code>, or <code s__="13">memory_order_relaxed</code>.</p>
<p d__=""><code s__="13">order</code> cannot be <code s__="13">memory_order_acq_rel</code>, <code s__="13">memory_order_acquire</code>, or <code s__="13">memory_order_consume</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-126" d__="">Return Value</h3>
<p d__="">Returns nothing!</p>
<h3 class="unnumbered unlisted" id="example-128" d__="">Example</h3>
<div class="sourceCode" id="cb453"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb453-1"><a href="#cb453-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb453-2"><a href="#cb453-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdatomic.h&gt;</span></span>
<span id="cb453-3"><a href="#cb453-3"></a></span>
<span id="cb453-4" d__=""><a href="#cb453-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb453-5"><a href="#cb453-5"></a><span class="op" d__="">{</span></span>
<span id="cb453-6" d__=""><a href="#cb453-6"></a>    atomic_int x <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb453-7" d__=""><a href="#cb453-7"></a>    atomic_int y <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb453-8"><a href="#cb453-8"></a></span>
<span id="cb453-9" d__=""><a href="#cb453-9"></a>    atomic_store<span class="op" d__="">(&amp;</span>x<span class="op" d__="">,</span> <span class="dv" d__="">10</span><span class="op" d__="">);</span></span>
<span id="cb453-10"><a href="#cb453-10"></a></span>
<span id="cb453-11" d__=""><a href="#cb453-11"></a>    atomic_store_explicit<span class="op" d__="">(&amp;</span>y<span class="op" d__="">,</span> <span class="dv" d__="">20</span><span class="op" d__="">,</span> memory_order_relaxed<span class="op" d__="">);</span></span>
<span id="cb453-12"><a href="#cb453-12"></a></span>
<span id="cb453-13"><a href="#cb453-13"></a>    <span class="co" d__="">// Will print either "10 20" or "10 0":</span></span>
<span id="cb453-14" d__=""><a href="#cb453-14"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d</span><span class="st"> </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> x<span class="op" d__="">,</span> y<span class="op" d__="">);</span></span>
<span id="cb453-15"><a href="#cb453-15"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-120" d__="">See Also</h3>
<p d__=""><a href="#man-atomic_init"><code s__="13" d__="">atomic_init()</code></a>, <a href="#man-atomic_load"><code s__="13" d__="">atomic_load()</code></a>, <a href="#man-atomic_load"><code s__="13" d__="">atomic_load_explicit()</code></a>, <a href="#man-atomic_exchange"><code s__="13" d__="">atomic_exchange()</code></a>,<br>
<a href="#man-atomic_exchange"><code s__="13" d__="">atomic_exchange_explicit()</code></a>, <a href="#man-atomic_compare_exchange"><code s__="13" d__="">atomic_compare_exchange_strong()</code></a>,<br>
<a href="#man-atomic_compare_exchange"><code s__="13" d__="">atomic_compare_exchange_strong_explicit()</code></a>, <a href="#man-atomic_compare_exchange"><code s__="13" d__="">atomic_compare_exchange_weak()</code></a>,<br>
<a href="#man-atomic_compare_exchange"><code s__="13" d__="">atomic_compare_exchange_weak_explicit()</code></a>, <a href="#man-atomic_fetch"><code s__="13" d__="">atomic_fetch_*()</code></a></p>
<hr>
<h2 data-number="18.12" id="man-atomic_load"><span class="header-section-number" d__="">18.12</span> <code d__="">atomic_load()</code></h2>
<p></p>
<p d__="">Return a value from an atomic variable</p>
<h3 class="unnumbered unlisted" id="synopsis-129" d__="">Synopsis</h3>
<div class="sourceCode" id="cb454"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb454-1"><a href="#cb454-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdatomic.h&gt;</span></span>
<span id="cb454-2"><a href="#cb454-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb454-3" d__=""><a href="#cb454-3" aria-hidden="true" tabindex="-1"></a>C atomic_load<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">volatile</span> A <span class="op" d__="">*</span>object<span class="op" d__="">);</span></span>
<span id="cb454-4"><a href="#cb454-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb454-5" d__=""><a href="#cb454-5" aria-hidden="true" tabindex="-1"></a>C atomic_load_explicit<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">volatile</span> A <span class="op" d__="">*</span>object<span class="op" d__="">,</span> memory_order order<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-129" d__="">Description</h3>
<p d__="">For a pointer to an <code s__="13">object</code> of type <code s__="13">A</code>, atomically returns its value <code s__="13">C</code>. This is a generic function that can be used with any type.</p>
<p d__="">The function <code s__="13">atomic_load_explicit()</code> lets you specify the memory order.</p>
<p d__="">Since this is an “acquire-y” operation, none of the “release-y” memory orders are legal. <code s__="13">order</code> can be only be <code s__="13">memory_order_seq_cst</code>, <code s__="13">memory_order_acquire</code>, <code s__="13">memory_order_consume</code>, or <code s__="13">memory_order_relaxed</code>.</p>
<p d__=""><code s__="13">order</code> cannot be <code s__="13">memory_order_acq_rel</code> or <code s__="13">memory_order_release</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-127" d__="">Return Value</h3>
<p d__="">Returns the value stored in <code s__="13">object</code>.</p>
<h3 class="unnumbered unlisted" id="example-129" d__="">Example</h3>
<div class="sourceCode" id="cb455"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb455-1"><a href="#cb455-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb455-2"><a href="#cb455-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdatomic.h&gt;</span></span>
<span id="cb455-3"><a href="#cb455-3"></a></span>
<span id="cb455-4" d__=""><a href="#cb455-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb455-5"><a href="#cb455-5"></a><span class="op" d__="">{</span></span>
<span id="cb455-6" d__=""><a href="#cb455-6"></a>    atomic_int x <span class="op" d__="">=</span> <span class="dv" d__="">10</span><span class="op" d__="">;</span></span>
<span id="cb455-7"><a href="#cb455-7"></a></span>
<span id="cb455-8" d__=""><a href="#cb455-8"></a>    <span class="dt" d__="">int</span> v <span class="op" d__="">=</span> atomic_load<span class="op" d__="">(&amp;</span>x<span class="op" d__="">);</span></span>
<span id="cb455-9"><a href="#cb455-9"></a></span>
<span id="cb455-10" d__=""><a href="#cb455-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> v<span class="op" d__="">);</span>  <span class="co" d__="">// 10</span></span>
<span id="cb455-11"><a href="#cb455-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-121" d__="">See Also</h3>
<p d__=""><a href="#man-atomic_store"><code s__="13" d__="">atomic_store()</code></a>, <a href="#man-atomic_store"><code s__="13" d__="">atomic_store_explicit()</code></a></p>
<hr>
<h2 data-number="18.13" id="man-atomic_exchange"><span class="header-section-number" d__="">18.13</span> <code d__="">atomic_exchange()</code></h2>
<p></p>
<p d__="">Replace a value in an atomic object</p>
<h3 class="unnumbered unlisted" id="synopsis-130" d__="">Synopsis</h3>
<div class="sourceCode" id="cb456"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb456-1"><a href="#cb456-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdatomic.h&gt;</span></span>
<span id="cb456-2"><a href="#cb456-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb456-3" d__=""><a href="#cb456-3" aria-hidden="true" tabindex="-1"></a>C atomic_exchange<span class="op" d__="">(</span><span class="dt" d__="">volatile</span> A <span class="op" d__="">*</span>object<span class="op" d__="">,</span> C desired<span class="op" d__="">);</span></span>
<span id="cb456-4"><a href="#cb456-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb456-5" d__=""><a href="#cb456-5" aria-hidden="true" tabindex="-1"></a>C atomic_exchange_explicit<span class="op" d__="">(</span><span class="dt" d__="">volatile</span> A <span class="op" d__="">*</span>object<span class="op" d__="">,</span> C desired<span class="op" d__="">,</span></span>
<span id="cb456-6" d__=""><a href="#cb456-6" aria-hidden="true" tabindex="-1"></a>                           memory_order order<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-130" d__="">Description</h3>
<p d__="">Sets the value in <code s__="13">object</code> to <code s__="13">desired</code>.</p>
<p d__=""><code s__="13">object</code> is type <code s__="13">A</code>, some atomic type.</p>
<p d__=""><code s__="13">desired</code> is type <code s__="13">C</code>, the respective non-atomic type to <code s__="13">A</code>.</p>
<p d__="">This is very similar to <code s__="13">atomic_store()</code>, except the previous value is atomically returned.</p>
<h3 class="unnumbered unlisted" id="return-value-128" d__="">Return Value</h3>
<p d__="">Returns the previous value of <code s__="13">object</code>.</p>
<h3 class="unnumbered unlisted" id="example-130" d__="">Example</h3>
<div class="sourceCode" id="cb457"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb457-1"><a href="#cb457-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb457-2"><a href="#cb457-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdatomic.h&gt;</span></span>
<span id="cb457-3"><a href="#cb457-3"></a></span>
<span id="cb457-4" d__=""><a href="#cb457-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb457-5"><a href="#cb457-5"></a><span class="op" d__="">{</span></span>
<span id="cb457-6" d__=""><a href="#cb457-6"></a>    atomic_int x <span class="op" d__="">=</span> <span class="dv" d__="">10</span><span class="op" d__="">;</span></span>
<span id="cb457-7"><a href="#cb457-7"></a></span>
<span id="cb457-8" d__=""><a href="#cb457-8"></a>    <span class="dt" d__="">int</span> previous <span class="op" d__="">=</span> atomic_exchange<span class="op" d__="">(&amp;</span>x<span class="op" d__="">,</span> <span class="dv" d__="">20</span><span class="op" d__="">);</span></span>
<span id="cb457-9"><a href="#cb457-9"></a></span>
<span id="cb457-10" d__=""><a href="#cb457-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"x is  </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> x<span class="op" d__="">);</span></span>
<span id="cb457-11" d__=""><a href="#cb457-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"x was </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> previous<span class="op" d__="">);</span></span>
<span id="cb457-12"><a href="#cb457-12"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb458"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb458-1" d__=""><a href="#cb458-1" aria-hidden="true" tabindex="-1"></a>x is  20</span>
<span id="cb458-2" d__=""><a href="#cb458-2" aria-hidden="true" tabindex="-1"></a>x was 10</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-122" d__="">See Also</h3>
<p d__=""><a href="#man-atomic_init"><code s__="13" d__="">atomic_init()</code></a>, <a href="#man-atomic_load"><code s__="13" d__="">atomic_load()</code></a>, <a href="#man-atomic_load"><code s__="13" d__="">atomic_load_explicit()</code></a>, <a href="#man-atomic_store"><code s__="13" d__="">atomic_store()</code></a>,<br>
<a href="#man-atomic_store"><code s__="13" d__="">atomic_store_explicit()</code></a> <a href="#man-atomic_compare_exchange"><code s__="13" d__="">atomic_compare_exchange_strong()</code></a>,<br>
<a href="#man-atomic_compare_exchange"><code s__="13" d__="">atomic_compare_exchange_strong_explicit()</code></a>, <a href="#man-atomic_compare_exchange"><code s__="13" d__="">atomic_compare_exchange_weak()</code></a>,<br>
<a href="#man-atomic_compare_exchange"><code s__="13" d__="">atomic_compare_exchange_weak_explicit()</code></a></p>
<hr>
<h2 data-number="18.14" id="man-atomic_compare_exchange"><span class="header-section-number" d__="">18.14</span> <code d__="">atomic_compare_exchange_*()</code></h2>
<p></p>
<p d__="">Atomic compare and exchange</p>
<h3 class="unnumbered unlisted" id="synopsis-131" d__="">Synopsis</h3>
<div class="sourceCode" id="cb459"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb459-1"><a href="#cb459-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdatomic.h&gt;</span></span>
<span id="cb459-2"><a href="#cb459-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb459-3" d__=""><a href="#cb459-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">_Bool</span> atomic_compare_exchange_strong<span class="op" d__="">(</span><span class="dt" d__="">volatile</span> A <span class="op" d__="">*</span>object<span class="op" d__="">,</span></span>
<span id="cb459-4" d__=""><a href="#cb459-4" aria-hidden="true" tabindex="-1"></a>                                     C <span class="op" d__="">*</span>expected<span class="op" d__="">,</span> C desired<span class="op" d__="">);</span></span>
<span id="cb459-5"><a href="#cb459-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb459-6" d__=""><a href="#cb459-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">_Bool</span> atomic_compare_exchange_strong_explicit<span class="op" d__="">(</span><span class="dt" d__="">volatile</span> A <span class="op" d__="">*</span>object<span class="op" d__="">,</span></span>
<span id="cb459-7" d__=""><a href="#cb459-7" aria-hidden="true" tabindex="-1"></a>                                              C <span class="op" d__="">*</span>expected<span class="op" d__="">,</span> C desired<span class="op" d__="">,</span></span>
<span id="cb459-8" d__=""><a href="#cb459-8" aria-hidden="true" tabindex="-1"></a>                                              memory_order success<span class="op" d__="">,</span></span>
<span id="cb459-9" d__=""><a href="#cb459-9" aria-hidden="true" tabindex="-1"></a>                                              memory_order failure<span class="op" d__="">);</span></span>
<span id="cb459-10"><a href="#cb459-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb459-11" d__=""><a href="#cb459-11" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">_Bool</span> atomic_compare_exchange_weak<span class="op" d__="">(</span><span class="dt" d__="">volatile</span> A <span class="op" d__="">*</span>object<span class="op" d__="">,</span></span>
<span id="cb459-12" d__=""><a href="#cb459-12" aria-hidden="true" tabindex="-1"></a>                                   C <span class="op" d__="">*</span>expected<span class="op" d__="">,</span> C desired<span class="op" d__="">);</span></span>
<span id="cb459-13"><a href="#cb459-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb459-14" d__=""><a href="#cb459-14" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">_Bool</span> atomic_compare_exchange_weak_explicit<span class="op" d__="">(</span><span class="dt" d__="">volatile</span> A <span class="op" d__="">*</span>object<span class="op" d__="">,</span></span>
<span id="cb459-15" d__=""><a href="#cb459-15" aria-hidden="true" tabindex="-1"></a>                                            C <span class="op" d__="">*</span>expected<span class="op" d__="">,</span> C desired<span class="op" d__="">,</span></span>
<span id="cb459-16" d__=""><a href="#cb459-16" aria-hidden="true" tabindex="-1"></a>                                            memory_order success<span class="op" d__="">,</span></span>
<span id="cb459-17" d__=""><a href="#cb459-17" aria-hidden="true" tabindex="-1"></a>                                            memory_order failure<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-131" d__="">Description</h3>
<p d__="">The venerable basis for some many things lock-free: compare and exchange.</p>
<p d__="">In the above prototypes, <code s__="13">A</code> is the type of the atomic object, and <code s__="13">C</code> is the equivalent base type.</p>
<p d__="">Ignoring the <code s__="13">_explicit</code> versions for a moment, what these do is:</p>
<ul>
<li><p d__="">If the value pointed to by <code s__="13">object</code> is equal to the value pointed to by <code s__="13">expected</code>, then the value pointed to by <code s__="13">object</code> is set to <code s__="13">desired</code>. And the function returns <code s__="13">true</code> indicating the exchange did take place.</p></li>
<li><p d__="">Else the value pointed to by <code s__="13">expected</code> (yes, <code s__="13">expected</code>) is set to <code s__="13">desired</code> and the function returns <code s__="13">false</code> indicating the exchange did not take place.</p></li>
</ul>
<p d__="">Pseudocode for the exchange would look like this<a href="#fn41" class="footnote-ref" id="fnref41" role="doc-noteref"><sup s__="13" d__="">41</sup></a>:</p>
<div class="sourceCode" id="cb460"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb460-1" d__=""><a href="#cb460-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">bool</span> compare_exchange<span class="op" d__="">(</span>atomic_A <span class="op" d__="">*</span>object<span class="op" d__="">,</span> C <span class="op" d__="">*</span>expected<span class="op" d__="">,</span> C desired<span class="op" d__="">)</span></span>
<span id="cb460-2"><a href="#cb460-2" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">{</span></span>
<span id="cb460-3" d__=""><a href="#cb460-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(*</span>object is the same as <span class="op" d__="">*</span>expected<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb460-4" d__=""><a href="#cb460-4" aria-hidden="true" tabindex="-1"></a>        <span class="op" d__="">*</span>object <span class="op" d__="">=</span> desired</span>
<span id="cb460-5"><a href="#cb460-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf" d__="">return</span> <span class="kw" d__="">true</span></span>
<span id="cb460-6"><a href="#cb460-6" aria-hidden="true" tabindex="-1"></a>    <span class="op" d__="">}</span></span>
<span id="cb460-7"><a href="#cb460-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb460-8" d__=""><a href="#cb460-8" aria-hidden="true" tabindex="-1"></a>    <span class="op" d__="">*</span>expected <span class="op" d__="">=</span> desired</span>
<span id="cb460-9"><a href="#cb460-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf" d__="">return</span> <span class="kw" d__="">false</span></span>
<span id="cb460-10"><a href="#cb460-10" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">The <code s__="13">_weak</code> variants might spontaneously fail, so even if <code s__="13">*object == *desired</code>, it might not change the value and will return <code s__="13">false</code>. So you’ll want that in a loop if you use it<a href="#fn42" class="footnote-ref" id="fnref42" role="doc-noteref"><sup s__="13" d__="">42</sup></a>.</p>
<p d__="">The <code s__="13">_explicit</code> variants have two memory orders: <code s__="13">success</code> if <code s__="13">*object</code> is set to <code s__="13">desired</code>, and <code s__="13">failure</code> if it is not.</p>
<p d__="">These are test-and-set functions, so you can use <code s__="13">memory_order_acq_rel</code> with the <code s__="13">_explicit</code> variants.</p>
<h3 class="unnumbered unlisted" id="return-value-129" d__="">Return Value</h3>
<p d__="">Returns <code s__="13">true</code> if <code s__="13">*object</code> was <code s__="13">*expected</code>. Otherwise, <code s__="13">false</code>.</p>
<h3 class="unnumbered unlisted" id="example-131" d__="">Example</h3>
<p d__="">A contrived example where multiple threads add <code s__="13">2</code> to a shared value in a lock-free way.</p>
<p d__="">(It would be better to use <code s__="13">+= 2</code> to get this done in real life unless you were using some <code s__="13">_explicit</code> wizardry.)</p>
<div class="sourceCode" id="cb461"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb461-1"><a href="#cb461-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb461-2"><a href="#cb461-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb461-3"><a href="#cb461-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdatomic.h&gt;</span></span>
<span id="cb461-4"><a href="#cb461-4"></a></span>
<span id="cb461-5"><a href="#cb461-5"></a><span class="pp" d__="">#define LOOP_COUNT </span><span class="dv" d__="">10000</span></span>
<span id="cb461-6"><a href="#cb461-6"></a></span>
<span id="cb461-7" d__=""><a href="#cb461-7"></a>atomic_int value<span class="op" d__="">;</span></span>
<span id="cb461-8"><a href="#cb461-8"></a></span>
<span id="cb461-9" d__=""><a href="#cb461-9"></a><span class="dt" d__="">int</span> run<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb461-10"><a href="#cb461-10"></a><span class="op" d__="">{</span></span>
<span id="cb461-11" d__=""><a href="#cb461-11"></a>    <span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span>arg<span class="op" d__="">;</span></span>
<span id="cb461-12"><a href="#cb461-12"></a></span>
<span id="cb461-13" d__=""><a href="#cb461-13"></a>    <span class="cf" d__="">for</span><span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> LOOP_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span> <span class="op" d__="">{</span></span>
<span id="cb461-14"><a href="#cb461-14"></a></span>
<span id="cb461-15" d__=""><a href="#cb461-15"></a>        <span class="dt" d__="">int</span> cur <span class="op" d__="">=</span> value<span class="op" d__="">;</span></span>
<span id="cb461-16" d__=""><a href="#cb461-16"></a>        <span class="dt" d__="">int</span> next<span class="op" d__="">;</span></span>
<span id="cb461-17"><a href="#cb461-17"></a></span>
<span id="cb461-18"><a href="#cb461-18"></a>        <span class="cf" d__="">do</span> <span class="op" d__="">{</span></span>
<span id="cb461-19" d__=""><a href="#cb461-19"></a>            next <span class="op" d__="">=</span> cur <span class="op" d__="">+</span> <span class="dv" d__="">2</span><span class="op" d__="">;</span></span>
<span id="cb461-20" d__=""><a href="#cb461-20"></a>        <span class="op" d__="">}</span> <span class="cf" d__="">while</span> <span class="op" d__="">(!</span>atomic_compare_exchange_strong<span class="op" d__="">(&amp;</span>value<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>cur<span class="op" d__="">,</span> next<span class="op" d__="">));</span></span>
<span id="cb461-21"><a href="#cb461-21"></a>    <span class="op" d__="">}</span></span>
<span id="cb461-22"><a href="#cb461-22"></a></span>
<span id="cb461-23"><a href="#cb461-23"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb461-24"><a href="#cb461-24"></a><span class="op" d__="">}</span></span>
<span id="cb461-25"><a href="#cb461-25"></a></span>
<span id="cb461-26" d__=""><a href="#cb461-26"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb461-27"><a href="#cb461-27"></a><span class="op" d__="">{</span></span>
<span id="cb461-28" d__=""><a href="#cb461-28"></a>    thrd_t t1<span class="op" d__="">,</span> t2<span class="op" d__="">;</span></span>
<span id="cb461-29"><a href="#cb461-29"></a></span>
<span id="cb461-30" d__=""><a href="#cb461-30"></a>    thrd_create<span class="op" d__="">(&amp;</span>t1<span class="op" d__="">,</span> run<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb461-31" d__=""><a href="#cb461-31"></a>    thrd_create<span class="op" d__="">(&amp;</span>t2<span class="op" d__="">,</span> run<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb461-32"><a href="#cb461-32"></a></span>
<span id="cb461-33" d__=""><a href="#cb461-33"></a>    thrd_join<span class="op" d__="">(</span>t1<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb461-34" d__=""><a href="#cb461-34"></a>    thrd_join<span class="op" d__="">(</span>t2<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb461-35"><a href="#cb461-35"></a>    </span>
<span id="cb461-36" d__=""><a href="#cb461-36"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d</span><span class="st" d__=""> should equal </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> value<span class="op" d__="">,</span> LOOP_COUNT <span class="op" d__="">*</span> <span class="dv" d__="">4</span><span class="op" d__="">);</span></span>
<span id="cb461-37"><a href="#cb461-37"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Just replacing this with <code s__="13">value = value + 2</code> causes data trampling.</p>
<h3 class="unnumbered unlisted" id="see-also-123" d__="">See Also</h3>
<p d__=""><a href="#man-atomic_load"><code s__="13" d__="">atomic_load()</code></a>, <a href="#man-atomic_load"><code s__="13" d__="">atomic_load_explicit()</code></a>, <a href="#man-atomic_store"><code s__="13" d__="">atomic_store()</code></a>, <a href="#man-atomic_store"><code s__="13" d__="">atomic_store_explicit()</code></a>, <a href="#man-atomic_exchange"><code s__="13" d__="">atomic_exchange()</code></a>, <a href="#man-atomic_exchange"><code s__="13" d__="">atomic_exchange_explicit()</code></a>, <a href="#man-atomic_fetch"><code s__="13" d__="">atomic_fetch_*()</code></a></p>
<hr>
<h2 data-number="18.15" id="man-atomic_fetch"><span class="header-section-number" d__="">18.15</span> <code d__="">atomic_fetch_*()</code></h2>
<p></p>
<p d__="">Atomically modify atomic variables</p>
<h3 class="unnumbered unlisted" id="synopsis-132" d__="">Synopsis</h3>
<div class="sourceCode" id="cb462"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb462-1"><a href="#cb462-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdatomic.h&gt;</span></span>
<span id="cb462-2"><a href="#cb462-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb462-3" d__=""><a href="#cb462-3" aria-hidden="true" tabindex="-1"></a>C atomic_fetch_KEY<span class="op" d__="">(</span><span class="dt" d__="">volatile</span> A <span class="op" d__="">*</span>object<span class="op" d__="">,</span> M operand<span class="op" d__="">);</span></span>
<span id="cb462-4"><a href="#cb462-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb462-5" d__=""><a href="#cb462-5" aria-hidden="true" tabindex="-1"></a>C atomic_fetch_KEY_explicit<span class="op" d__="">(</span><span class="dt" d__="">volatile</span> A <span class="op" d__="">*</span>object<span class="op" d__="">,</span> M operand<span class="op" d__="">,</span></span>
<span id="cb462-6" d__=""><a href="#cb462-6" aria-hidden="true" tabindex="-1"></a>                            memory_order order<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-132" d__="">Description</h3>
<p d__="">These are actually a group of 10 functions. You substitute one of the following for <code s__="13">KEY</code> to perform that operation:</p>
<ul>
<li><code s__="13" d__="">add</code></li>
<li><code s__="13" d__="">sub</code></li>
<li><code s__="13" d__="">or</code></li>
<li><code s__="13" d__="">xor</code></li>
<li><code s__="13" d__="">and</code></li>
</ul>
<p d__="">So these functions can add or subtract values to or from an atomic variable, or can perform bitwise-OR, XOR, or AND on them.</p>
<p d__="">Use it with integer or pointer types. Though the spec is a 
little vague on the matter, other types make C unhappy. It goes out of 
its way to avoid undefined behavior with signed integers, as well:</p>
<p d__="">C18 §7.17.7.5 ¶3:</p>
<blockquote>
<p d__="">For signed integer types, arithmetic is defined to use two’s 
complement representation with silent wrap-around on overflow; there are
 no undefined results.</p>
</blockquote>
<p d__="">In the synopsis, above, <code s__="13">A</code> is an atomic type, and <code s__="13">M</code> is the corresponding non-atomic type for <code s__="13">A</code> (or <code s__="13">ptrdiff_t</code> for atomic pointers), and <code s__="13">C</code> is the corresponding non-atomic type for <code s__="13">A</code>.</p>
<p d__="">For example, here are some operations on an <code s__="13">atomic_int</code>.</p>
<div class="sourceCode" id="cb463"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb463-1" d__=""><a href="#cb463-1" aria-hidden="true" tabindex="-1"></a>atomic_fetch_add<span class="op" d__="">(&amp;</span>x<span class="op" d__="">,</span> <span class="dv" d__="">20</span><span class="op" d__="">);</span></span>
<span id="cb463-2" d__=""><a href="#cb463-2" aria-hidden="true" tabindex="-1"></a>atomic_fetch_sub<span class="op" d__="">(&amp;</span>x<span class="op" d__="">,</span> <span class="dv" d__="">37</span><span class="op" d__="">);</span></span>
<span id="cb463-3" d__=""><a href="#cb463-3" aria-hidden="true" tabindex="-1"></a>atomic_fetch_xor<span class="op" d__="">(&amp;</span>x<span class="op" d__="">,</span> <span class="dv" d__="">3490</span><span class="op" d__="">);</span></span></code></pre></div>
<p d__="">They are the same as <code s__="13">+=</code>, <code s__="13">-=</code>, <code s__="13">|=</code>, <code s__="13">^=</code> and <code s__="13">&amp;=</code>, except the return value is the <em>previous</em> value of the atomic object. (With the assignment operators, the value of the expression is that <em>after</em> its evaluation.)</p>
<div class="sourceCode" id="cb464"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb464-1" d__=""><a href="#cb464-1" aria-hidden="true" tabindex="-1"></a>atomic_int x <span class="op" d__="">=</span> <span class="dv" d__="">10</span><span class="op" d__="">;</span></span>
<span id="cb464-2" d__=""><a href="#cb464-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> prev <span class="op" d__="">=</span> atomic_fetch_add<span class="op" d__="">(&amp;</span>x<span class="op" d__="">,</span> <span class="dv" d__="">20</span><span class="op" d__="">);</span></span>
<span id="cb464-3" d__=""><a href="#cb464-3" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d</span><span class="st"> </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> prev<span class="op" d__="">,</span> x<span class="op" d__="">);</span>  <span class="co" d__="">// 10 30</span></span></code></pre></div>
<p d__="">versus:</p>
<div class="sourceCode" id="cb465"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb465-1" d__=""><a href="#cb465-1" aria-hidden="true" tabindex="-1"></a>atomic_int x <span class="op" d__="">=</span> <span class="dv" d__="">10</span><span class="op" d__="">;</span></span>
<span id="cb465-2" d__=""><a href="#cb465-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> prev <span class="op" d__="">=</span> <span class="op" d__="">(</span>x <span class="op" d__="">+=</span> <span class="dv" d__="">20</span><span class="op" d__="">);</span></span>
<span id="cb465-3" d__=""><a href="#cb465-3" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d</span><span class="st"> </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> prev<span class="op" d__="">,</span> x<span class="op" d__="">);</span>  <span class="co" d__="">// 30 30</span></span></code></pre></div>
<p d__="">And, of course, the <code s__="13">_explicit</code> version allows you to specify a memory order and all the assignment operators are <code s__="13">memory_order_seq_cst</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-130" d__="">Return Value</h3>
<p d__="">Returns the previous value of the atomic object before the modification.</p>
<h3 class="unnumbered unlisted" id="example-132" d__="">Example</h3>
<div class="sourceCode" id="cb466"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb466-1"><a href="#cb466-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb466-2"><a href="#cb466-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdatomic.h&gt;</span></span>
<span id="cb466-3"><a href="#cb466-3"></a></span>
<span id="cb466-4" d__=""><a href="#cb466-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb466-5"><a href="#cb466-5"></a><span class="op" d__="">{</span></span>
<span id="cb466-6" d__=""><a href="#cb466-6"></a>    atomic_int x <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb466-7" d__=""><a href="#cb466-7"></a>    <span class="dt" d__="">int</span> prev<span class="op" d__="">;</span></span>
<span id="cb466-8"><a href="#cb466-8"></a></span>
<span id="cb466-9" d__=""><a href="#cb466-9"></a>    atomic_fetch_add<span class="op" d__="">(&amp;</span>x<span class="op" d__="">,</span> <span class="dv" d__="">3490</span><span class="op" d__="">);</span></span>
<span id="cb466-10" d__=""><a href="#cb466-10"></a>    atomic_fetch_sub<span class="op" d__="">(&amp;</span>x<span class="op" d__="">,</span> <span class="dv" d__="">12</span><span class="op" d__="">);</span></span>
<span id="cb466-11" d__=""><a href="#cb466-11"></a>    atomic_fetch_xor<span class="op" d__="">(&amp;</span>x<span class="op" d__="">,</span> <span class="dv" d__="">444</span><span class="op" d__="">);</span></span>
<span id="cb466-12" d__=""><a href="#cb466-12"></a>    atomic_fetch_or<span class="op" d__="">(&amp;</span>x<span class="op" d__="">,</span> <span class="dv" d__="">12</span><span class="op" d__="">);</span></span>
<span id="cb466-13" d__=""><a href="#cb466-13"></a>    prev <span class="op" d__="">=</span> atomic_fetch_and<span class="op" d__="">(&amp;</span>x<span class="op" d__="">,</span> <span class="dv" d__="">42</span><span class="op" d__="">);</span></span>
<span id="cb466-14"><a href="#cb466-14"></a></span>
<span id="cb466-15" d__=""><a href="#cb466-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d</span><span class="st"> </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> prev<span class="op" d__="">,</span> x<span class="op" d__="">);</span>   <span class="co" d__="">// 3118 42</span></span>
<span id="cb466-16"><a href="#cb466-16"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-124" d__="">See Also</h3>
<p d__=""><a href="#man-atomic_exchange"><code s__="13" d__="">atomic_exchange()</code></a>, <a href="#man-atomic_exchange"><code s__="13" d__="">atomic_exchange_explicit()</code></a>, <a href="#man-atomic_compare_exchange"><code s__="13" d__="">atomic_compare_exchange_strong()</code></a>,<br>
<a href="#man-atomic_compare_exchange"><code s__="13" d__="">atomic_compare_exchange_strong_explicit()</code></a>, <a href="#man-atomic_compare_exchange"><code s__="13" d__="">atomic_compare_exchange_weak()</code></a>,<br>
<a href="#man-atomic_compare_exchange"><code s__="13" d__="">atomic_compare_exchange_weak_explicit()</code></a></p>
<hr>
<h2 data-number="18.16" id="man-atomic_flag_test_and_set"><span class="header-section-number" d__="">18.16</span> <code d__="">atomic_flag_test_and_set()</code></h2>
<p></p>
<p d__="">Test and set an atomic flag</p>
<h3 class="unnumbered unlisted" id="synopsis-133" d__="">Synopsis</h3>
<div class="sourceCode" id="cb467"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb467-1"><a href="#cb467-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdatomic.h&gt;</span></span>
<span id="cb467-2"><a href="#cb467-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb467-3" d__=""><a href="#cb467-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">_Bool</span> atomic_flag_test_and_set<span class="op" d__="">(</span><span class="dt" d__="">volatile</span> atomic_flag <span class="op" d__="">*</span>object<span class="op" d__="">);</span></span>
<span id="cb467-4"><a href="#cb467-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb467-5" d__=""><a href="#cb467-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">_Bool</span> atomic_flag_test_and_set_explicit<span class="op" d__="">(</span><span class="dt" d__="">volatile</span> atomic_flag <span class="op" d__="">*</span>object<span class="op" d__="">,</span></span>
<span id="cb467-6" d__=""><a href="#cb467-6" aria-hidden="true" tabindex="-1"></a>                                        memory_order order<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-133" d__="">Description</h3>
<p d__="">One of the venerable old functions of lock-free programming, this function sets the given atomic flag in <code s__="13">object</code>, and returns the previous value of the flag.</p>
<p d__="">As usual, the <code s__="13">_explicit</code> allows you to specify an alternate memory order.</p>
<h3 class="unnumbered unlisted" id="return-value-131" d__="">Return Value</h3>
<p d__="">Returns <code s__="13">true</code> if the flag was set previously, and <code s__="13">false</code> if it wasn’t.</p>
<h3 class="unnumbered unlisted" id="example-133" d__="">Example</h3>
<p d__="">Using test-and-set to implement a spin lock<a href="#fn43" class="footnote-ref" id="fnref43" role="doc-noteref"><sup s__="13" d__="">43</sup></a>:</p>
<div class="sourceCode" id="cb468"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb468-1"><a href="#cb468-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb468-2"><a href="#cb468-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb468-3"><a href="#cb468-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdatomic.h&gt;</span></span>
<span id="cb468-4"><a href="#cb468-4"></a></span>
<span id="cb468-5"><a href="#cb468-5"></a><span class="co" d__="">// Shared non-atomic struct</span></span>
<span id="cb468-6"><a href="#cb468-6"></a><span class="kw" d__="">struct</span> <span class="op" d__="">{</span></span>
<span id="cb468-7" d__=""><a href="#cb468-7"></a>    <span class="dt" d__="">int</span> x<span class="op" d__="">,</span> y<span class="op" d__="">,</span> z<span class="op" d__="">;</span></span>
<span id="cb468-8" d__=""><a href="#cb468-8"></a><span class="op" d__="">}</span> s <span class="op" d__="">=</span> <span class="op" d__="">{</span><span class="dv" d__="">1</span><span class="op" d__="">,</span> <span class="dv" d__="">2</span><span class="op" d__="">,</span> <span class="dv" d__="">3</span><span class="op" d__="">};</span></span>
<span id="cb468-9"><a href="#cb468-9"></a></span>
<span id="cb468-10" d__=""><a href="#cb468-10"></a>atomic_flag f <span class="op" d__="">=</span> ATOMIC_FLAG_INIT<span class="op" d__="">;</span></span>
<span id="cb468-11"><a href="#cb468-11"></a></span>
<span id="cb468-12" d__=""><a href="#cb468-12"></a><span class="dt" d__="">int</span> run<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb468-13"><a href="#cb468-13"></a><span class="op" d__="">{</span></span>
<span id="cb468-14" d__=""><a href="#cb468-14"></a>    <span class="dt" d__="">int</span> tid <span class="op" d__="">=</span> <span class="op" d__="">*(</span><span class="dt" d__="">int</span><span class="op" d__="">*)</span>arg<span class="op" d__="">;</span></span>
<span id="cb468-15"><a href="#cb468-15"></a></span>
<span id="cb468-16" d__=""><a href="#cb468-16"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Thread </span><span class="sc" d__="">%d</span><span class="st" d__="">: waiting for lock...</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> tid<span class="op" d__="">);</span></span>
<span id="cb468-17"><a href="#cb468-17"></a></span>
<span id="cb468-18" d__=""><a href="#cb468-18"></a>    <span class="cf" d__="">while</span> <span class="op" d__="">(</span>atomic_flag_test_and_set<span class="op" d__="">(&amp;</span>f<span class="op" d__="">));</span></span>
<span id="cb468-19"><a href="#cb468-19"></a></span>
<span id="cb468-20" d__=""><a href="#cb468-20"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Thread </span><span class="sc" d__="">%d</span><span class="st" d__="">: got lock, s is {</span><span class="sc" d__="">%d</span><span class="st" d__="">, </span><span class="sc" d__="">%d</span><span class="st" d__="">, </span><span class="sc" d__="">%d</span><span class="st" d__="">}</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> tid<span class="op" d__="">,</span></span>
<span id="cb468-21" d__=""><a href="#cb468-21"></a>                                                       s<span class="op" d__="">.</span>x<span class="op" d__="">,</span> s<span class="op" d__="">.</span>y<span class="op" d__="">,</span> s<span class="op" d__="">.</span>z<span class="op" d__="">);</span></span>
<span id="cb468-22" d__=""><a href="#cb468-22"></a>    s<span class="op" d__="">.</span>x <span class="op" d__="">=</span> <span class="op" d__="">(</span>tid <span class="op" d__="">+</span> <span class="dv" d__="">1</span><span class="op" d__="">)</span> <span class="op" d__="">*</span> <span class="dv" d__="">5</span> <span class="op" d__="">+</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb468-23" d__=""><a href="#cb468-23"></a>    s<span class="op" d__="">.</span>y <span class="op" d__="">=</span> <span class="op" d__="">(</span>tid <span class="op" d__="">+</span> <span class="dv" d__="">1</span><span class="op" d__="">)</span> <span class="op" d__="">*</span> <span class="dv" d__="">5</span> <span class="op" d__="">+</span> <span class="dv" d__="">1</span><span class="op" d__="">;</span></span>
<span id="cb468-24" d__=""><a href="#cb468-24"></a>    s<span class="op" d__="">.</span>z <span class="op" d__="">=</span> <span class="op" d__="">(</span>tid <span class="op" d__="">+</span> <span class="dv" d__="">1</span><span class="op" d__="">)</span> <span class="op" d__="">*</span> <span class="dv" d__="">5</span> <span class="op" d__="">+</span> <span class="dv" d__="">2</span><span class="op" d__="">;</span></span>
<span id="cb468-25" d__=""><a href="#cb468-25"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Thread </span><span class="sc" d__="">%d</span><span class="st" d__="">: set s to {</span><span class="sc" d__="">%d</span><span class="st" d__="">, </span><span class="sc" d__="">%d</span><span class="st" d__="">, </span><span class="sc" d__="">%d</span><span class="st" d__="">}</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> tid<span class="op" d__="">,</span> s<span class="op" d__="">.</span>x<span class="op" d__="">,</span> s<span class="op" d__="">.</span>y<span class="op" d__="">,</span> s<span class="op" d__="">.</span>z<span class="op" d__="">);</span></span>
<span id="cb468-26"><a href="#cb468-26"></a></span>
<span id="cb468-27" d__=""><a href="#cb468-27"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Thread </span><span class="sc" d__="">%d</span><span class="st" d__="">: releasing lock...</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> tid<span class="op" d__="">);</span></span>
<span id="cb468-28" d__=""><a href="#cb468-28"></a>    atomic_flag_clear<span class="op" d__="">(&amp;</span>f<span class="op" d__="">);</span></span>
<span id="cb468-29"><a href="#cb468-29"></a></span>
<span id="cb468-30"><a href="#cb468-30"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb468-31"><a href="#cb468-31"></a><span class="op" d__="">}</span></span>
<span id="cb468-32"><a href="#cb468-32"></a></span>
<span id="cb468-33" d__=""><a href="#cb468-33"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb468-34"><a href="#cb468-34"></a><span class="op" d__="">{</span></span>
<span id="cb468-35" d__=""><a href="#cb468-35"></a>    thrd_t t1<span class="op" d__="">,</span> t2<span class="op" d__="">;</span></span>
<span id="cb468-36" d__=""><a href="#cb468-36"></a>    <span class="dt" d__="">int</span> tid<span class="op" d__="">[]</span> <span class="op" d__="">=</span> <span class="op" d__="">{</span><span class="dv" d__="">0</span><span class="op" d__="">,</span> <span class="dv" d__="">1</span><span class="op" d__="">};</span></span>
<span id="cb468-37"><a href="#cb468-37"></a></span>
<span id="cb468-38" d__=""><a href="#cb468-38"></a>    thrd_create<span class="op" d__="">(&amp;</span>t1<span class="op" d__="">,</span> run<span class="op" d__="">,</span> tid<span class="op" d__="">+</span><span class="dv" d__="">0</span><span class="op" d__="">);</span></span>
<span id="cb468-39" d__=""><a href="#cb468-39"></a>    thrd_create<span class="op" d__="">(&amp;</span>t2<span class="op" d__="">,</span> run<span class="op" d__="">,</span> tid<span class="op" d__="">+</span><span class="dv" d__="">1</span><span class="op" d__="">);</span></span>
<span id="cb468-40"><a href="#cb468-40"></a></span>
<span id="cb468-41" d__=""><a href="#cb468-41"></a>    thrd_join<span class="op" d__="">(</span>t1<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb468-42" d__=""><a href="#cb468-42"></a>    thrd_join<span class="op" d__="">(</span>t2<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb468-43"><a href="#cb468-43"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Example output (varies run to run):</p>
<div class="sourceCode" id="cb469"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb469-1" d__=""><a href="#cb469-1" aria-hidden="true" tabindex="-1"></a>Thread 0: waiting for lock...</span>
<span id="cb469-2" d__=""><a href="#cb469-2" aria-hidden="true" tabindex="-1"></a>Thread 0: got lock, s is {1, 2, 3}</span>
<span id="cb469-3" d__=""><a href="#cb469-3" aria-hidden="true" tabindex="-1"></a>Thread 1: waiting for lock...</span>
<span id="cb469-4" d__=""><a href="#cb469-4" aria-hidden="true" tabindex="-1"></a>Thread 0: set s to {5, 6, 7}</span>
<span id="cb469-5" d__=""><a href="#cb469-5" aria-hidden="true" tabindex="-1"></a>Thread 0: releasing lock...</span>
<span id="cb469-6" d__=""><a href="#cb469-6" aria-hidden="true" tabindex="-1"></a>Thread 1: got lock, s is {5, 6, 7}</span>
<span id="cb469-7" d__=""><a href="#cb469-7" aria-hidden="true" tabindex="-1"></a>Thread 1: set s to {10, 11, 12}</span>
<span id="cb469-8" d__=""><a href="#cb469-8" aria-hidden="true" tabindex="-1"></a>Thread 1: releasing lock...</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-125" d__="">See Also</h3>
<p><a href="#man-atomic_flag_clear"><code s__="13" d__="">atomic_flag_clear()</code></a></p>
<hr>
<h2 data-number="18.17" id="man-atomic_flag_clear"><span class="header-section-number" d__="">18.17</span> <code d__="">atomic_flag_clear()</code></h2>
<p></p>
<p d__="">Clear an atomic flag</p>
<h3 class="unnumbered unlisted" id="synopsis-134" d__="">Synopsis</h3>
<div class="sourceCode" id="cb470"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb470-1"><a href="#cb470-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdatomic.h&gt;</span></span>
<span id="cb470-2"><a href="#cb470-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb470-3" d__=""><a href="#cb470-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> atomic_flag_clear<span class="op" d__="">(</span><span class="dt" d__="">volatile</span> atomic_flag <span class="op" d__="">*</span>object<span class="op" d__="">);</span></span>
<span id="cb470-4"><a href="#cb470-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb470-5" d__=""><a href="#cb470-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> atomic_flag_clear_explicit<span class="op" d__="">(</span><span class="dt" d__="">volatile</span> atomic_flag <span class="op" d__="">*</span>object<span class="op" d__="">,</span></span>
<span id="cb470-6" d__=""><a href="#cb470-6" aria-hidden="true" tabindex="-1"></a>                                memory_order order<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-134" d__="">Description</h3>
<p d__="">Clears an atomic flag.</p>
<p d__="">As usual, the <code s__="13">_explicit</code> allows you to specify an alternate memory order.</p>
<h3 class="unnumbered unlisted" id="return-value-132" d__="">Return Value</h3>
<p d__="">Returns nothing!</p>
<h3 class="unnumbered unlisted" id="example-134" d__="">Example</h3>
<p d__="">Using test-and-set to implement a spin lock<a href="#fn44" class="footnote-ref" id="fnref44" role="doc-noteref"><sup s__="13" d__="">44</sup></a>:</p>
<div class="sourceCode" id="cb471"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb471-1"><a href="#cb471-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb471-2"><a href="#cb471-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb471-3"><a href="#cb471-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdatomic.h&gt;</span></span>
<span id="cb471-4"><a href="#cb471-4"></a></span>
<span id="cb471-5"><a href="#cb471-5"></a><span class="co" d__="">// Shared non-atomic struct</span></span>
<span id="cb471-6"><a href="#cb471-6"></a><span class="kw" d__="">struct</span> <span class="op" d__="">{</span></span>
<span id="cb471-7" d__=""><a href="#cb471-7"></a>    <span class="dt" d__="">int</span> x<span class="op" d__="">,</span> y<span class="op" d__="">,</span> z<span class="op" d__="">;</span></span>
<span id="cb471-8" d__=""><a href="#cb471-8"></a><span class="op" d__="">}</span> s <span class="op" d__="">=</span> <span class="op" d__="">{</span><span class="dv" d__="">1</span><span class="op" d__="">,</span> <span class="dv" d__="">2</span><span class="op" d__="">,</span> <span class="dv" d__="">3</span><span class="op" d__="">};</span></span>
<span id="cb471-9"><a href="#cb471-9"></a></span>
<span id="cb471-10" d__=""><a href="#cb471-10"></a>atomic_flag f <span class="op" d__="">=</span> ATOMIC_FLAG_INIT<span class="op" d__="">;</span></span>
<span id="cb471-11"><a href="#cb471-11"></a></span>
<span id="cb471-12" d__=""><a href="#cb471-12"></a><span class="dt" d__="">int</span> run<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb471-13"><a href="#cb471-13"></a><span class="op" d__="">{</span></span>
<span id="cb471-14" d__=""><a href="#cb471-14"></a>    <span class="dt" d__="">int</span> tid <span class="op" d__="">=</span> <span class="op" d__="">*(</span><span class="dt" d__="">int</span><span class="op" d__="">*)</span>arg<span class="op" d__="">;</span></span>
<span id="cb471-15"><a href="#cb471-15"></a></span>
<span id="cb471-16" d__=""><a href="#cb471-16"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Thread </span><span class="sc" d__="">%d</span><span class="st" d__="">: waiting for lock...</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> tid<span class="op" d__="">);</span></span>
<span id="cb471-17"><a href="#cb471-17"></a></span>
<span id="cb471-18" d__=""><a href="#cb471-18"></a>    <span class="cf" d__="">while</span> <span class="op" d__="">(</span>atomic_flag_test_and_set<span class="op" d__="">(&amp;</span>f<span class="op" d__="">));</span></span>
<span id="cb471-19"><a href="#cb471-19"></a></span>
<span id="cb471-20" d__=""><a href="#cb471-20"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Thread </span><span class="sc" d__="">%d</span><span class="st" d__="">: got lock, s is {</span><span class="sc" d__="">%d</span><span class="st" d__="">, </span><span class="sc" d__="">%d</span><span class="st" d__="">, </span><span class="sc" d__="">%d</span><span class="st" d__="">}</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> tid<span class="op" d__="">,</span></span>
<span id="cb471-21" d__=""><a href="#cb471-21"></a>                                                       s<span class="op" d__="">.</span>x<span class="op" d__="">,</span> s<span class="op" d__="">.</span>y<span class="op" d__="">,</span> s<span class="op" d__="">.</span>z<span class="op" d__="">);</span></span>
<span id="cb471-22" d__=""><a href="#cb471-22"></a>    s<span class="op" d__="">.</span>x <span class="op" d__="">=</span> <span class="op" d__="">(</span>tid <span class="op" d__="">+</span> <span class="dv" d__="">1</span><span class="op" d__="">)</span> <span class="op" d__="">*</span> <span class="dv" d__="">5</span> <span class="op" d__="">+</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb471-23" d__=""><a href="#cb471-23"></a>    s<span class="op" d__="">.</span>y <span class="op" d__="">=</span> <span class="op" d__="">(</span>tid <span class="op" d__="">+</span> <span class="dv" d__="">1</span><span class="op" d__="">)</span> <span class="op" d__="">*</span> <span class="dv" d__="">5</span> <span class="op" d__="">+</span> <span class="dv" d__="">1</span><span class="op" d__="">;</span></span>
<span id="cb471-24" d__=""><a href="#cb471-24"></a>    s<span class="op" d__="">.</span>z <span class="op" d__="">=</span> <span class="op" d__="">(</span>tid <span class="op" d__="">+</span> <span class="dv" d__="">1</span><span class="op" d__="">)</span> <span class="op" d__="">*</span> <span class="dv" d__="">5</span> <span class="op" d__="">+</span> <span class="dv" d__="">2</span><span class="op" d__="">;</span></span>
<span id="cb471-25" d__=""><a href="#cb471-25"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Thread </span><span class="sc" d__="">%d</span><span class="st" d__="">: set s to {</span><span class="sc" d__="">%d</span><span class="st" d__="">, </span><span class="sc" d__="">%d</span><span class="st" d__="">, </span><span class="sc" d__="">%d</span><span class="st" d__="">}</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> tid<span class="op" d__="">,</span> s<span class="op" d__="">.</span>x<span class="op" d__="">,</span> s<span class="op" d__="">.</span>y<span class="op" d__="">,</span> s<span class="op" d__="">.</span>z<span class="op" d__="">);</span></span>
<span id="cb471-26"><a href="#cb471-26"></a></span>
<span id="cb471-27" d__=""><a href="#cb471-27"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Thread </span><span class="sc" d__="">%d</span><span class="st" d__="">: releasing lock...</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> tid<span class="op" d__="">);</span></span>
<span id="cb471-28" d__=""><a href="#cb471-28"></a>    atomic_flag_clear<span class="op" d__="">(&amp;</span>f<span class="op" d__="">);</span></span>
<span id="cb471-29"><a href="#cb471-29"></a></span>
<span id="cb471-30"><a href="#cb471-30"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb471-31"><a href="#cb471-31"></a><span class="op" d__="">}</span></span>
<span id="cb471-32"><a href="#cb471-32"></a></span>
<span id="cb471-33" d__=""><a href="#cb471-33"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb471-34"><a href="#cb471-34"></a><span class="op" d__="">{</span></span>
<span id="cb471-35" d__=""><a href="#cb471-35"></a>    thrd_t t1<span class="op" d__="">,</span> t2<span class="op" d__="">;</span></span>
<span id="cb471-36" d__=""><a href="#cb471-36"></a>    <span class="dt" d__="">int</span> tid<span class="op" d__="">[]</span> <span class="op" d__="">=</span> <span class="op" d__="">{</span><span class="dv" d__="">0</span><span class="op" d__="">,</span> <span class="dv" d__="">1</span><span class="op" d__="">};</span></span>
<span id="cb471-37"><a href="#cb471-37"></a></span>
<span id="cb471-38" d__=""><a href="#cb471-38"></a>    thrd_create<span class="op" d__="">(&amp;</span>t1<span class="op" d__="">,</span> run<span class="op" d__="">,</span> tid<span class="op" d__="">+</span><span class="dv" d__="">0</span><span class="op" d__="">);</span></span>
<span id="cb471-39" d__=""><a href="#cb471-39"></a>    thrd_create<span class="op" d__="">(&amp;</span>t2<span class="op" d__="">,</span> run<span class="op" d__="">,</span> tid<span class="op" d__="">+</span><span class="dv" d__="">1</span><span class="op" d__="">);</span></span>
<span id="cb471-40"><a href="#cb471-40"></a></span>
<span id="cb471-41" d__=""><a href="#cb471-41"></a>    thrd_join<span class="op" d__="">(</span>t1<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb471-42" d__=""><a href="#cb471-42"></a>    thrd_join<span class="op" d__="">(</span>t2<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb471-43"><a href="#cb471-43"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Example output (varies run to run):</p>
<div class="sourceCode" id="cb472"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb472-1" d__=""><a href="#cb472-1" aria-hidden="true" tabindex="-1"></a>Thread 0: waiting for lock...</span>
<span id="cb472-2" d__=""><a href="#cb472-2" aria-hidden="true" tabindex="-1"></a>Thread 0: got lock, s is {1, 2, 3}</span>
<span id="cb472-3" d__=""><a href="#cb472-3" aria-hidden="true" tabindex="-1"></a>Thread 1: waiting for lock...</span>
<span id="cb472-4" d__=""><a href="#cb472-4" aria-hidden="true" tabindex="-1"></a>Thread 0: set s to {5, 6, 7}</span>
<span id="cb472-5" d__=""><a href="#cb472-5" aria-hidden="true" tabindex="-1"></a>Thread 0: releasing lock...</span>
<span id="cb472-6" d__=""><a href="#cb472-6" aria-hidden="true" tabindex="-1"></a>Thread 1: got lock, s is {5, 6, 7}</span>
<span id="cb472-7" d__=""><a href="#cb472-7" aria-hidden="true" tabindex="-1"></a>Thread 1: set s to {10, 11, 12}</span>
<span id="cb472-8" d__=""><a href="#cb472-8" aria-hidden="true" tabindex="-1"></a>Thread 1: releasing lock...</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-126" d__="">See Also</h3>
<p><a href="#man-atomic_flag_test_and_set"><code s__="13" d__="">atomic_flag_test_and_set()</code></a></p>
<!--
***
## `example()` {#man-example}

\index{example() function@\texttt{example()} function|textit}

### Synopsis {.unnumbered .unlisted}

``` {.c}
```

### Description {.unnumbered .unlisted}

### Return Value {.unnumbered .unlisted}

### Example {.unnumbered .unlisted}

``` {.c .numberLines}
```

### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="19" id="stdbit" d__=""><span class="header-section-number">19</span> <code>&lt;stdbit.h&gt;</code> Bit-Related Functions</h1>
<p></p>
<p d__="">This header file and all the included functions are new in C23!</p>
<p d__="">Caveat: none of my compilers support this, so all the code is untested!</p>
<table>
<colgroup>
<col style="width: 37%">
<col style="width: 62%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Function</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#man-stdc_bit_ceil"><code s__="13" d__="">stdc_bit_ceil()</code></a></td>
<td d__="">Return the smallest power of 2 not less than a number</td>
</tr>
<tr class="even">
<td><a href="#man-stdc_bit_floor"><code s__="13" d__="">stdc_bit_floor()</code></a></td>
<td d__="">Return the largest power of 2 not greater than a number</td>
</tr>
<tr class="odd">
<td><a href="#man-stdc_bit_width"><code s__="13" d__="">stdc_bit_width()</code></a></td>
<td d__="">Return the number of bits needed to store a value</td>
</tr>
<tr class="even">
<td><a href="#man-stdc_count_ones"><code s__="13" d__="">stdc_count_ones()</code></a></td>
<td d__="">Count the ones in an unsigned number</td>
</tr>
<tr class="odd">
<td><a href="#man-stdc_count_zeros"><code s__="13" d__="">stdc_count_zeros()</code></a></td>
<td d__="">Count the zeros in an unsigned number</td>
</tr>
<tr class="even">
<td><a href="#man-stdc_first_leading_one"><code s__="13" d__="">stdc_first_leading_one()</code></a></td>
<td d__="">Find the first leading one in an unsigned number</td>
</tr>
<tr class="odd">
<td><a href="#man-stdc_first_leading_zero"><code s__="13" d__="">stdc_first_leading_zero()</code></a></td>
<td d__="">Find the first leading zero in an unsigned number</td>
</tr>
<tr class="even">
<td><a href="#man-stdc_first_trailing_one"><code s__="13" d__="">stdc_first_trailing_one()</code></a></td>
<td d__="">Find the first trailing one in an unsigned number</td>
</tr>
<tr class="odd">
<td><a href="#man-stdc_first_trailing_zero"><code s__="13" d__="">stdc_first_trailing_zero()</code></a></td>
<td d__="">Find the first trailing zero in an unsigned number</td>
</tr>
<tr class="even">
<td><a href="#man-stdc_has_single_bit"><code s__="13" d__="">stdc_has_single_bit()</code></a></td>
<td d__="">Test to see if an unsigned integer has only a single bit set</td>
</tr>
<tr class="odd">
<td><a href="#man-stdc_leading_ones"><code s__="13" d__="">stdc_leading_ones()</code></a></td>
<td d__="">Count the leading ones in an unsigned number</td>
</tr>
<tr class="even">
<td><a href="#man-stdc_leading_zeros"><code s__="13" d__="">stdc_leading_zeros()</code></a></td>
<td d__="">Count the leading zeros in an unsigned number</td>
</tr>
<tr class="odd">
<td><a href="#man-stdc_trailing_ones"><code s__="13" d__="">stdc_trailing_ones()</code></a></td>
<td d__="">Count the trailing ones in an unsigned number</td>
</tr>
<tr class="even">
<td><a href="#man-stdc_trailing_zeros"><code s__="13" d__="">stdc_trailing_zeros()</code></a></td>
<td d__="">Count the trailing zeros in an unsigned number</td>
</tr>
</tbody>
</table>
<h2 data-number="19.1" id="existence-macro" d__=""><span class="header-section-number">19.1</span> Existence Macro</h2>
<p d__="">Since this is a new feature, you can test for its existence by making sure the <code s__="13">__STDC_VERSION_STDBIT_H__</code> macro exists and is <code s__="13">202311L</code> or greater.</p>
<h2 data-number="19.2" id="endianess-macros" d__=""><span class="header-section-number">19.2</span> Endianess Macros</h2>
<p> </p>
<p d__="">This header file defines a number of macros that can be used to determine the <em>endianess</em>
 of the system. (That is, in a multibyte value, do the first byte 
represent the most significant part of the value, or least? Or neither?)</p>
<p d__="">There are two different values for the defined endianesses <code s__="13">__STDC_ENDIAN_BIG__</code> and <code s__="13">__STDC_ENDIAN_LITTLE__</code>.</p>
<p d__="">Additionally, there’s a macro <code s__="13">__STDC_ENDIAN_NATIVE__</code> that gives you the endianess of <em>this</em>
 system. You can compare that against the other two macros to see what 
you’ve got. If it doesn’t compare equal to either of them, you must be 
on some other mixed-endian system.</p>
<p d__="">Let’s see what this system is:</p>
<div class="sourceCode" id="cb473"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb473-1"><a href="#cb473-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb473-2"><a href="#cb473-2" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb473-3"><a href="#cb473-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb473-4" d__=""><a href="#cb473-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb473-5"><a href="#cb473-5" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">{</span></span>
<span id="cb473-6" d__=""><a href="#cb473-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf" d__="">switch</span><span class="op" d__="">(</span>__STDC_ENDIAN_NATIVE__<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb473-7" d__=""><a href="#cb473-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf" d__="">case</span> __STDC_ENDIAN_BIG__<span class="op" d__="">:</span></span>
<span id="cb473-8" d__=""><a href="#cb473-8" aria-hidden="true" tabindex="-1"></a>            puts<span class="op" d__="">(</span><span class="st" d__="">"Big-endian!"</span><span class="op" d__="">);</span></span>
<span id="cb473-9"><a href="#cb473-9" aria-hidden="true" tabindex="-1"></a>            <span class="cf" d__="">break</span><span class="op" d__="">;</span></span>
<span id="cb473-10"><a href="#cb473-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb473-11" d__=""><a href="#cb473-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf" d__="">case</span> __STDC_ENDIAN_LITTLE__<span class="op" d__="">:</span></span>
<span id="cb473-12" d__=""><a href="#cb473-12" aria-hidden="true" tabindex="-1"></a>            puts<span class="op" d__="">(</span><span class="st" d__="">"Little-endian!"</span><span class="op" d__="">);</span></span>
<span id="cb473-13"><a href="#cb473-13" aria-hidden="true" tabindex="-1"></a>            <span class="cf" d__="">break</span><span class="op" d__="">;</span></span>
<span id="cb473-14"><a href="#cb473-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb473-15"><a href="#cb473-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf" d__="">default</span><span class="op" d__="">:</span></span>
<span id="cb473-16" d__=""><a href="#cb473-16" aria-hidden="true" tabindex="-1"></a>            puts<span class="op" d__="">(</span><span class="st" d__="">"Other-endian!"</span><span class="op" d__="">);</span></span>
<span id="cb473-17"><a href="#cb473-17" aria-hidden="true" tabindex="-1"></a>    <span class="op" d__="">}</span></span>
<span id="cb473-18"><a href="#cb473-18" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span></code></pre></div>
<p> </p>
<h2 data-number="19.3" id="general-structure-of-these-functions" d__=""><span class="header-section-number">19.3</span> General Structure of These Functions</h2>
<p d__="">All the functions in this header follow a standard pattern, so
 we might as well go over it once here up-front to save extraneous and 
excessive verbosity later.</p>
<p d__="">Each function comes in six amazing forms, depending on the types involved.</p>
<p d__="">First of all, they’re just going to operate on unsigned integer types, so we’ll get that out of the way.</p>
<p d__="">And they’re <em>mostly</em> going to return <code s__="13">unsigned int</code>.</p>
<p d__="">And they come in two subforms: the type-specific and type-generic forms.</p>
<p d__="">Let’s look at the type specific forms first. We’ll use the 
function that counts the leading zero bits in a value as an example. 
Here it is:</p>
<div class="sourceCode" id="cb474"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb474-1" d__=""><a href="#cb474-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_leading_zeros_uc<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">char</span> value<span class="op" d__="">);</span></span>
<span id="cb474-2" d__=""><a href="#cb474-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_leading_zeros_us<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">short</span> value<span class="op" d__="">);</span></span>
<span id="cb474-3" d__=""><a href="#cb474-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_leading_zeros_ui<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value<span class="op" d__="">);</span></span>
<span id="cb474-4" d__=""><a href="#cb474-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_leading_zeros_ul<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb474-5" d__=""><a href="#cb474-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_leading_zeros_ull<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span></code></pre></div>
<p d__="">Yikes. OK, what do we have?</p>
<p d__="">Well, in order to prevent namespace pollution, they all start with <code s__="13">stdc_</code>.</p>
<p d__="">And what about this <code s__="13">uc</code>, <code s__="13">us</code>, <code s__="13">ull</code>, etc. stuff? Those correspond to the type of the argument, you’ll see with a little inspection.</p>
<table>
<thead>
<tr class="header">
<th d__="">Suffix</th>
<th d__="">Parameter Type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">_uc</code></td>
<td><code s__="13" d__="">unsigned char</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">_us</code></td>
<td><code s__="13" d__="">unsigned short</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">_ui</code></td>
<td><code s__="13" d__="">unsigned int</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">_ul</code></td>
<td><code s__="13" d__="">unsigned long</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">_ull</code></td>
<td><code s__="13" d__="">unsigned long long</code></td>
</tr>
</tbody>
</table>
<p d__="">But wait! There’s more!</p>
<p d__="">Each of these function families in the header also has a <em>generic</em> variant.</p>
<p d__="">So, again with <code s__="13">count_leading_zeros</code> as an example, there’s a version that doesn’t need types to be specified, and it’s just the function without any suffix.</p>
<div class="sourceCode" id="cb475"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb475-1" d__=""><a href="#cb475-1" aria-hidden="true" tabindex="-1"></a>generic_return_type stdc_leading_zeros<span class="op" d__="">(</span>generic_value_type value<span class="op" d__="">);</span></span></code></pre></div>
<p d__="">In that example, the words <code s__="13">generic_return_type</code> and <code s__="13">generic_value_type</code> are <strong>not</strong> C keywords. They’re just placeholders to let you know you need to put the right thing there.</p>
<div class="sourceCode" id="cb476"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb476-1" d__=""><a href="#cb476-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">short</span> x <span class="op" d__="">=</span> <span class="dv" d__="">3490</span><span class="op" d__="">;</span></span>
<span id="cb476-2"><a href="#cb476-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb476-3" d__=""><a href="#cb476-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> a <span class="op" d__="">=</span> stdc_leading_zeros<span class="op" d__="">(</span>x<span class="op" d__="">);</span></span>
<span id="cb476-4" d__=""><a href="#cb476-4" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">auto</span> b <span class="op" d__="">=</span> stdc_leading_zeros<span class="op" d__="">(</span><span class="dv" d__="">1234</span><span class="op" d__="">);</span></span></code></pre></div>
<p d__="">The generic functions work with all unsigned types, not counting <code s__="13">bool</code>.</p>
<hr>
<h2 data-number="19.4" id="man-stdc_leading_zeros"><span class="header-section-number" d__="">19.4</span> <code d__="">stdc_leading_zeros()</code></h2>
<p></p>
<p d__="">Count the leading zeros in an unsigned number</p>
<h3 class="unnumbered unlisted" id="synopsis-135" d__="">Synopsis</h3>
<p d__="">New in C23!</p>
<div class="sourceCode" id="cb477"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb477-1"><a href="#cb477-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb477-2"><a href="#cb477-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb477-3" d__=""><a href="#cb477-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_leading_zeros_uc<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">char</span> value<span class="op" d__="">);</span></span>
<span id="cb477-4" d__=""><a href="#cb477-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_leading_zeros_us<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">short</span> value<span class="op" d__="">);</span></span>
<span id="cb477-5" d__=""><a href="#cb477-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_leading_zeros_ui<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value<span class="op" d__="">);</span></span>
<span id="cb477-6" d__=""><a href="#cb477-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_leading_zeros_ul<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb477-7" d__=""><a href="#cb477-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_leading_zeros_ull<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb477-8"><a href="#cb477-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb477-9" d__=""><a href="#cb477-9" aria-hidden="true" tabindex="-1"></a>generic_return_type stdc_leading_zeros<span class="op" d__="">(</span>generic_value_type value<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-135" d__="">Description</h3>
<p d__="">This function returns the number of leading zero bits on a 
particular value, starting from the most-significant bit. The number 
will be influenced by the size of the argument.</p>
<h3 class="unnumbered unlisted" id="return-value-133" d__="">Return Value</h3>
<p d__="">Returns the number of leading zero bits.</p>
<h3 class="unnumbered unlisted" id="example-135" d__="">Example</h3>
<div class="sourceCode" id="cb478"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb478-1"><a href="#cb478-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb478-2"><a href="#cb478-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb478-3"><a href="#cb478-3"></a></span>
<span id="cb478-4" d__=""><a href="#cb478-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb478-5"><a href="#cb478-5"></a><span class="op" d__="">{</span></span>
<span id="cb478-6" d__=""><a href="#cb478-6"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value <span class="op" d__="">=</span> <span class="dv" d__="">3490</span><span class="op" d__="">;</span></span>
<span id="cb478-7" d__=""><a href="#cb478-7"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> count <span class="op" d__="">=</span> stdc_leading_zeros_ui<span class="op" d__="">(</span>value<span class="op" d__="">);</span></span>
<span id="cb478-8"><a href="#cb478-8"></a></span>
<span id="cb478-9" d__=""><a href="#cb478-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%u\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> count<span class="op" d__="">);</span></span>
<span id="cb478-10"><a href="#cb478-10"></a></span>
<span id="cb478-11" d__=""><a href="#cb478-11"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value2 <span class="op" d__="">=</span> <span class="dv" d__="">3490</span><span class="op" d__="">;</span></span>
<span id="cb478-12" d__=""><a href="#cb478-12"></a>    <span class="kw" d__="">auto</span> count2 <span class="op" d__="">=</span> stdc_leading_zeros<span class="op" d__="">(</span>value2<span class="op" d__="">);</span></span>
<span id="cb478-13"><a href="#cb478-13"></a></span>
<span id="cb478-14" d__=""><a href="#cb478-14"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%u\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> count2<span class="op" d__="">);</span></span>
<span id="cb478-15"><a href="#cb478-15"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-127" d__="">See Also</h3>
<p d__=""><a href="#man-stdc_leading_ones"><code s__="13" d__="">stdc_leading_ones()</code></a>, <a href="#man-stdc_trailing_zeros"><code s__="13" d__="">stdc_trailing_zeros()</code></a></p>
<hr>
<h2 data-number="19.5" id="man-stdc_leading_ones"><span class="header-section-number" d__="">19.5</span> <code d__="">stdc_leading_ones()</code></h2>
<p></p>
<p d__="">Count the leading ones in an unsigned number</p>
<h3 class="unnumbered unlisted" id="synopsis-136" d__="">Synopsis</h3>
<p d__="">New in C23!</p>
<div class="sourceCode" id="cb479"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb479-1"><a href="#cb479-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb479-2"><a href="#cb479-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb479-3" d__=""><a href="#cb479-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_leading_ones_uc<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">char</span> value<span class="op" d__="">);</span></span>
<span id="cb479-4" d__=""><a href="#cb479-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_leading_ones_us<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">short</span> value<span class="op" d__="">);</span></span>
<span id="cb479-5" d__=""><a href="#cb479-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_leading_ones_ui<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value<span class="op" d__="">);</span></span>
<span id="cb479-6" d__=""><a href="#cb479-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_leading_ones_ul<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb479-7" d__=""><a href="#cb479-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_leading_ones_ull<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb479-8"><a href="#cb479-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb479-9" d__=""><a href="#cb479-9" aria-hidden="true" tabindex="-1"></a>generic_return_type stdc_leading_ones<span class="op" d__="">(</span>generic_value_type value<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-136" d__="">Description</h3>
<p d__="">This function returns the number of leading one bits on a 
particular value starting from the most-significant bit. The number will
 be influenced by the size of the argument.</p>
<h3 class="unnumbered unlisted" id="return-value-134" d__="">Return Value</h3>
<p d__="">Returns the number of leading one bits.</p>
<h3 class="unnumbered unlisted" id="example-136" d__="">Example</h3>
<div class="sourceCode" id="cb480"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb480-1"><a href="#cb480-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb480-2"><a href="#cb480-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb480-3"><a href="#cb480-3"></a></span>
<span id="cb480-4" d__=""><a href="#cb480-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb480-5"><a href="#cb480-5"></a><span class="op" d__="">{</span></span>
<span id="cb480-6" d__=""><a href="#cb480-6"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value <span class="op" d__="">=</span> <span class="dv" d__="">3490</span><span class="op" d__="">;</span></span>
<span id="cb480-7" d__=""><a href="#cb480-7"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> count <span class="op" d__="">=</span> stdc_leading_ones_ui<span class="op" d__="">(</span>value<span class="op" d__="">);</span></span>
<span id="cb480-8"><a href="#cb480-8"></a></span>
<span id="cb480-9" d__=""><a href="#cb480-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%u\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> count<span class="op" d__="">);</span></span>
<span id="cb480-10"><a href="#cb480-10"></a></span>
<span id="cb480-11" d__=""><a href="#cb480-11"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value2 <span class="op" d__="">=</span> <span class="dv" d__="">3490</span><span class="op" d__="">;</span></span>
<span id="cb480-12" d__=""><a href="#cb480-12"></a>    <span class="kw" d__="">auto</span> count2 <span class="op" d__="">=</span> stdc_leading_ones<span class="op" d__="">(</span>value2<span class="op" d__="">);</span></span>
<span id="cb480-13"><a href="#cb480-13"></a></span>
<span id="cb480-14" d__=""><a href="#cb480-14"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%u\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> count2<span class="op" d__="">);</span></span>
<span id="cb480-15"><a href="#cb480-15"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-128" d__="">See Also</h3>
<p d__=""><a href="#man-stdc_leading_zeros"><code s__="13" d__="">stdc_leading_zeros()</code></a>, <a href="#man-stdc_trailing_ones"><code s__="13" d__="">stdc_trailing_ones()</code></a></p>
<hr>
<h2 data-number="19.6" id="man-stdc_trailing_zeros"><span class="header-section-number" d__="">19.6</span> <code d__="">stdc_trailing_zeros()</code></h2>
<p></p>
<p d__="">Count the trailing zeros in an unsigned number</p>
<h3 class="unnumbered unlisted" id="synopsis-137" d__="">Synopsis</h3>
<p d__="">New in C23!</p>
<div class="sourceCode" id="cb481"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb481-1"><a href="#cb481-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb481-2"><a href="#cb481-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb481-3" d__=""><a href="#cb481-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_trailing_zeros_uc<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">char</span> value<span class="op" d__="">);</span></span>
<span id="cb481-4" d__=""><a href="#cb481-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_trailing_zeros_us<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">short</span> value<span class="op" d__="">);</span></span>
<span id="cb481-5" d__=""><a href="#cb481-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_trailing_zeros_ui<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value<span class="op" d__="">);</span></span>
<span id="cb481-6" d__=""><a href="#cb481-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_trailing_zeros_ul<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb481-7" d__=""><a href="#cb481-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_trailing_zeros_ull<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb481-8"><a href="#cb481-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb481-9" d__=""><a href="#cb481-9" aria-hidden="true" tabindex="-1"></a>generic_return_type stdc_trailing_zeros<span class="op" d__="">(</span>generic_value_type value<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-137" d__="">Description</h3>
<p d__="">This function returns the number of trailing zero bits on a 
particular value, starting from the least-significant bit. The number 
will be influenced by the size of the argument.</p>
<h3 class="unnumbered unlisted" id="return-value-135" d__="">Return Value</h3>
<p d__="">Returns the number of trailing zero bits.</p>
<h3 class="unnumbered unlisted" id="example-137" d__="">Example</h3>
<div class="sourceCode" id="cb482"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb482-1"><a href="#cb482-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb482-2"><a href="#cb482-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb482-3"><a href="#cb482-3"></a></span>
<span id="cb482-4" d__=""><a href="#cb482-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb482-5"><a href="#cb482-5"></a><span class="op" d__="">{</span></span>
<span id="cb482-6" d__=""><a href="#cb482-6"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value <span class="op" d__="">=</span> <span class="dv" d__="">3490</span><span class="op" d__="">;</span></span>
<span id="cb482-7" d__=""><a href="#cb482-7"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> count <span class="op" d__="">=</span> stdc_trailing_zeros_ui<span class="op" d__="">(</span>value<span class="op" d__="">);</span></span>
<span id="cb482-8"><a href="#cb482-8"></a></span>
<span id="cb482-9" d__=""><a href="#cb482-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%u\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> count<span class="op" d__="">);</span></span>
<span id="cb482-10"><a href="#cb482-10"></a></span>
<span id="cb482-11" d__=""><a href="#cb482-11"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value2 <span class="op" d__="">=</span> <span class="dv" d__="">3490</span><span class="op" d__="">;</span></span>
<span id="cb482-12" d__=""><a href="#cb482-12"></a>    <span class="kw" d__="">auto</span> count2 <span class="op" d__="">=</span> stdc_trailing_zeros<span class="op" d__="">(</span>value2<span class="op" d__="">);</span></span>
<span id="cb482-13"><a href="#cb482-13"></a></span>
<span id="cb482-14" d__=""><a href="#cb482-14"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%u\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> count2<span class="op" d__="">);</span></span>
<span id="cb482-15"><a href="#cb482-15"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-129" d__="">See Also</h3>
<p d__=""><a href="#man-stdc_trailing_ones"><code s__="13" d__="">stdc_trailing_ones()</code></a>, <a href="#man-stdc_leading_zeros"><code s__="13" d__="">stdc_leading_zeros()</code></a></p>
<hr>
<h2 data-number="19.7" id="man-stdc_trailing_ones"><span class="header-section-number" d__="">19.7</span> <code d__="">stdc_trailing_ones()</code></h2>
<p></p>
<p d__="">Count the trailing ones in an unsigned number</p>
<h3 class="unnumbered unlisted" id="synopsis-138" d__="">Synopsis</h3>
<p d__="">New in C23!</p>
<div class="sourceCode" id="cb483"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb483-1"><a href="#cb483-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb483-2"><a href="#cb483-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb483-3" d__=""><a href="#cb483-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_trailing_ones_uc<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">char</span> value<span class="op" d__="">);</span></span>
<span id="cb483-4" d__=""><a href="#cb483-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_trailing_ones_us<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">short</span> value<span class="op" d__="">);</span></span>
<span id="cb483-5" d__=""><a href="#cb483-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_trailing_ones_ui<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value<span class="op" d__="">);</span></span>
<span id="cb483-6" d__=""><a href="#cb483-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_trailing_ones_ul<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb483-7" d__=""><a href="#cb483-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_trailing_ones_ull<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb483-8"><a href="#cb483-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb483-9" d__=""><a href="#cb483-9" aria-hidden="true" tabindex="-1"></a>generic_return_type stdc_trailing_ones<span class="op" d__="">(</span>generic_value_type value<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-138" d__="">Description</h3>
<p d__="">This function returns the number of trailing one bits on a 
particular value, starting from the least-significant bit. The number 
will be influenced by the size of the argument.</p>
<h3 class="unnumbered unlisted" id="return-value-136" d__="">Return Value</h3>
<p d__="">Returns the number of trailing one bits.</p>
<h3 class="unnumbered unlisted" id="example-138" d__="">Example</h3>
<div class="sourceCode" id="cb484"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb484-1"><a href="#cb484-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb484-2"><a href="#cb484-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb484-3"><a href="#cb484-3"></a></span>
<span id="cb484-4" d__=""><a href="#cb484-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb484-5"><a href="#cb484-5"></a><span class="op" d__="">{</span></span>
<span id="cb484-6" d__=""><a href="#cb484-6"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value <span class="op" d__="">=</span> <span class="dv" d__="">3490</span><span class="op" d__="">;</span></span>
<span id="cb484-7" d__=""><a href="#cb484-7"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> count <span class="op" d__="">=</span> stdc_trailing_ones_ui<span class="op" d__="">(</span>value<span class="op" d__="">);</span></span>
<span id="cb484-8"><a href="#cb484-8"></a></span>
<span id="cb484-9" d__=""><a href="#cb484-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%u\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> count<span class="op" d__="">);</span></span>
<span id="cb484-10"><a href="#cb484-10"></a></span>
<span id="cb484-11" d__=""><a href="#cb484-11"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value2 <span class="op" d__="">=</span> <span class="dv" d__="">3490</span><span class="op" d__="">;</span></span>
<span id="cb484-12" d__=""><a href="#cb484-12"></a>    <span class="kw" d__="">auto</span> count2 <span class="op" d__="">=</span> stdc_trailing_ones<span class="op" d__="">(</span>value2<span class="op" d__="">);</span></span>
<span id="cb484-13"><a href="#cb484-13"></a></span>
<span id="cb484-14" d__=""><a href="#cb484-14"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%u\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> count2<span class="op" d__="">);</span></span>
<span id="cb484-15"><a href="#cb484-15"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-130" d__="">See Also</h3>
<p d__=""><a href="#man-stdc_trailing_zeros"><code s__="13" d__="">stdc_trailing_zeros()</code></a>, <a href="#man-stdc_leading_ones"><code s__="13" d__="">stdc_leading_ones()</code></a></p>
<hr>
<h2 data-number="19.8" id="man-stdc_first_leading_zero"><span class="header-section-number" d__="">19.8</span> <code d__="">stdc_first_leading_zero()</code></h2>
<p></p>
<p d__="">Find the first leading zero in an unsigned number</p>
<h3 class="unnumbered unlisted" id="synopsis-139" d__="">Synopsis</h3>
<p d__="">New in C23!</p>
<div class="sourceCode" id="cb485"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb485-1"><a href="#cb485-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb485-2"><a href="#cb485-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb485-3" d__=""><a href="#cb485-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_first_leading_zero_uc<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">char</span> value<span class="op" d__="">);</span></span>
<span id="cb485-4" d__=""><a href="#cb485-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_first_leading_zero_us<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">short</span> value<span class="op" d__="">);</span></span>
<span id="cb485-5" d__=""><a href="#cb485-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_first_leading_zero_ui<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value<span class="op" d__="">);</span></span>
<span id="cb485-6" d__=""><a href="#cb485-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_first_leading_zero_ul<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb485-7" d__=""><a href="#cb485-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_first_leading_zero_ull<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb485-8"><a href="#cb485-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb485-9" d__=""><a href="#cb485-9" aria-hidden="true" tabindex="-1"></a>generic_return_type stdc_first_leading_zero<span class="op" d__="">(</span>generic_value_type value<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-139" d__="">Description</h3>
<p d__="">This finds the index of the first leading zero in a number. Indexes are numbered starting from <code s__="13">1</code>
 being the most significant (“leftmost”) bit position. (This might be in
 contrast to how you might be used to numbering bit indexes.)</p>
<p d__="">It’s one-based so that you can quickly use the return value as a Boolean expression for if it found a zero bit or not.</p>
<h3 class="unnumbered unlisted" id="return-value-137" d__="">Return Value</h3>
<p d__="">Returns the 1-based index from the most significant bit of the first zero bit in the <code s__="13">value</code>, or <code s__="13">0</code> if there are no zero bits.</p>
<h3 class="unnumbered unlisted" id="example-139" d__="">Example</h3>
<div class="sourceCode" id="cb486"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb486-1"><a href="#cb486-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb486-2"><a href="#cb486-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;limits.h&gt;</span></span>
<span id="cb486-3"><a href="#cb486-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb486-4"><a href="#cb486-4"></a></span>
<span id="cb486-5" d__=""><a href="#cb486-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb486-6"><a href="#cb486-6"></a><span class="op" d__="">{</span></span>
<span id="cb486-7" d__=""><a href="#cb486-7"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value <span class="op" d__="">=</span> UINT_MAX<span class="op" d__="">;</span></span>
<span id="cb486-8" d__=""><a href="#cb486-8"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> index <span class="op" d__="">=</span> stdc_first_leading_zero_ui<span class="op" d__="">(</span>value<span class="op" d__="">);</span></span>
<span id="cb486-9"><a href="#cb486-9"></a></span>
<span id="cb486-10" d__=""><a href="#cb486-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%u\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> index<span class="op" d__="">);</span></span>
<span id="cb486-11"><a href="#cb486-11"></a></span>
<span id="cb486-12" d__=""><a href="#cb486-12"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value2 <span class="op" d__="">=</span> UINT_MAX <span class="op" d__="">&gt;&gt;</span> <span class="dv" d__="">2</span><span class="op" d__="">;</span></span>
<span id="cb486-13" d__=""><a href="#cb486-13"></a>    <span class="kw" d__="">auto</span> index2 <span class="op" d__="">=</span> stdc_first_leading_zero<span class="op" d__="">(</span>value2<span class="op" d__="">);</span></span>
<span id="cb486-14"><a href="#cb486-14"></a></span>
<span id="cb486-15" d__=""><a href="#cb486-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%u\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> index2<span class="op" d__="">);</span></span>
<span id="cb486-16"><a href="#cb486-16"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-131" d__="">See Also</h3>
<p d__=""><a href="#man-stdc_first_leading_one"><code s__="13" d__="">stdc_first_leading_one()</code></a>, <a href="#man-stdc_first_trailing_zero"><code s__="13" d__="">stdc_first_trailing_zero()</code></a></p>
<hr>
<h2 data-number="19.9" id="man-stdc_first_leading_one"><span class="header-section-number" d__="">19.9</span> <code d__="">stdc_first_leading_one()</code></h2>
<p></p>
<p d__="">Find the first leading one in an unsigned number</p>
<h3 class="unnumbered unlisted" id="synopsis-140" d__="">Synopsis</h3>
<p d__="">New in C23!</p>
<div class="sourceCode" id="cb487"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb487-1"><a href="#cb487-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb487-2"><a href="#cb487-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb487-3" d__=""><a href="#cb487-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_first_leading_one_uc<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">char</span> value<span class="op" d__="">);</span></span>
<span id="cb487-4" d__=""><a href="#cb487-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_first_leading_one_us<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">short</span> value<span class="op" d__="">);</span></span>
<span id="cb487-5" d__=""><a href="#cb487-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_first_leading_one_ui<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value<span class="op" d__="">);</span></span>
<span id="cb487-6" d__=""><a href="#cb487-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_first_leading_one_ul<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb487-7" d__=""><a href="#cb487-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_first_leading_one_ull<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb487-8"><a href="#cb487-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb487-9" d__=""><a href="#cb487-9" aria-hidden="true" tabindex="-1"></a>generic_return_type stdc_first_leading_one<span class="op" d__="">(</span>generic_value_type value<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-140" d__="">Description</h3>
<p d__="">This finds the index of the first leading one in a number. Indexes are numbered starting from <code s__="13">1</code>
 being the most significant (“leftmost”) bit position. (This might be in
 contrast to how you might be used to numbering bit indexes.)</p>
<p d__="">It’s one-based so that you can quickly use the return value as a Boolean expression for if it found a one bit or not.</p>
<h3 class="unnumbered unlisted" id="return-value-138" d__="">Return Value</h3>
<p d__="">Returns the 1-based index from the most significant bit of the first one bit in the <code s__="13">value</code>, or <code s__="13">0</code> if there are no one bits.</p>
<h3 class="unnumbered unlisted" id="example-140" d__="">Example</h3>
<div class="sourceCode" id="cb488"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb488-1"><a href="#cb488-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb488-2"><a href="#cb488-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;limits.h&gt;</span></span>
<span id="cb488-3"><a href="#cb488-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb488-4"><a href="#cb488-4"></a></span>
<span id="cb488-5" d__=""><a href="#cb488-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb488-6"><a href="#cb488-6"></a><span class="op" d__="">{</span></span>
<span id="cb488-7" d__=""><a href="#cb488-7"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value <span class="op" d__="">=</span> UINT_MAX<span class="op" d__="">;</span></span>
<span id="cb488-8" d__=""><a href="#cb488-8"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> index <span class="op" d__="">=</span> stdc_first_leading_one_ui<span class="op" d__="">(</span>value<span class="op" d__="">);</span></span>
<span id="cb488-9"><a href="#cb488-9"></a></span>
<span id="cb488-10" d__=""><a href="#cb488-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%u\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> index<span class="op" d__="">);</span></span>
<span id="cb488-11"><a href="#cb488-11"></a></span>
<span id="cb488-12" d__=""><a href="#cb488-12"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value2 <span class="op" d__="">=</span> UINT_MAX <span class="op" d__="">&gt;&gt;</span> <span class="dv" d__="">2</span><span class="op" d__="">;</span></span>
<span id="cb488-13" d__=""><a href="#cb488-13"></a>    <span class="kw" d__="">auto</span> index2 <span class="op" d__="">=</span> stdc_first_leading_one<span class="op" d__="">(</span>value2<span class="op" d__="">);</span></span>
<span id="cb488-14"><a href="#cb488-14"></a></span>
<span id="cb488-15" d__=""><a href="#cb488-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%u\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> index2<span class="op" d__="">);</span></span>
<span id="cb488-16"><a href="#cb488-16"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-132" d__="">See Also</h3>
<p d__=""><a href="#man-stdc_first_leading_zero"><code s__="13" d__="">stdc_first_leading_zero()</code></a>, <a href="#man-stdc_first_trailing_one"><code s__="13" d__="">stdc_first_trailing_one()</code></a></p>
<hr>
<h2 data-number="19.10" id="man-stdc_first_trailing_zero"><span class="header-section-number" d__="">19.10</span> <code d__="">stdc_first_trailing_zero()</code></h2>
<p></p>
<p d__="">Find the first trailing zero in an unsigned number</p>
<h3 class="unnumbered unlisted" id="synopsis-141" d__="">Synopsis</h3>
<p d__="">New in C23!</p>
<div class="sourceCode" id="cb489"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb489-1"><a href="#cb489-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb489-2"><a href="#cb489-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb489-3" d__=""><a href="#cb489-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_first_trailing_zero_uc<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">char</span> value<span class="op" d__="">);</span></span>
<span id="cb489-4" d__=""><a href="#cb489-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_first_trailing_zero_us<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">short</span> value<span class="op" d__="">);</span></span>
<span id="cb489-5" d__=""><a href="#cb489-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_first_trailing_zero_ui<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value<span class="op" d__="">);</span></span>
<span id="cb489-6" d__=""><a href="#cb489-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_first_trailing_zero_ul<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb489-7" d__=""><a href="#cb489-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_first_trailing_zero_ull<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb489-8"><a href="#cb489-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb489-9" d__=""><a href="#cb489-9" aria-hidden="true" tabindex="-1"></a>generic_return_type stdc_first_trailing_zero<span class="op" d__="">(</span>generic_value_type value<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-141" d__="">Description</h3>
<p d__="">This finds the index of the first trailing zero in a number. Indexes are numbered starting from <code s__="13">1</code>
 being the most significant (“leftmost”) bit position. (This might be in
 contrast to how you might be used to numbering bit indexes.)</p>
<p d__="">It’s one-based so that you can quickly use the return value as a Boolean expression for if it found a zero bit or not.</p>
<h3 class="unnumbered unlisted" id="return-value-139" d__="">Return Value</h3>
<p d__="">Returns the 1-based index from the most significant bit of the first zero bit in the <code s__="13">value</code>, or <code s__="13">0</code> if there are no zero bits.</p>
<h3 class="unnumbered unlisted" id="example-141" d__="">Example</h3>
<div class="sourceCode" id="cb490"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb490-1"><a href="#cb490-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb490-2"><a href="#cb490-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;limits.h&gt;</span></span>
<span id="cb490-3"><a href="#cb490-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb490-4"><a href="#cb490-4"></a></span>
<span id="cb490-5" d__=""><a href="#cb490-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb490-6"><a href="#cb490-6"></a><span class="op" d__="">{</span></span>
<span id="cb490-7" d__=""><a href="#cb490-7"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value <span class="op" d__="">=</span> UINT_MAX<span class="op" d__="">;</span></span>
<span id="cb490-8" d__=""><a href="#cb490-8"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> index <span class="op" d__="">=</span> stdc_first_trailing_zero_ui<span class="op" d__="">(</span>value<span class="op" d__="">);</span></span>
<span id="cb490-9"><a href="#cb490-9"></a></span>
<span id="cb490-10" d__=""><a href="#cb490-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%u\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> index<span class="op" d__="">);</span></span>
<span id="cb490-11"><a href="#cb490-11"></a></span>
<span id="cb490-12" d__=""><a href="#cb490-12"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value2 <span class="op" d__="">=</span> UINT_MAX <span class="op" d__="">&gt;&gt;</span> <span class="dv" d__="">2</span><span class="op" d__="">;</span></span>
<span id="cb490-13" d__=""><a href="#cb490-13"></a>    <span class="kw" d__="">auto</span> index2 <span class="op" d__="">=</span> stdc_first_trailing_zero<span class="op" d__="">(</span>value2<span class="op" d__="">);</span></span>
<span id="cb490-14"><a href="#cb490-14"></a></span>
<span id="cb490-15" d__=""><a href="#cb490-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%u\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> index2<span class="op" d__="">);</span></span>
<span id="cb490-16"><a href="#cb490-16"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-133" d__="">See Also</h3>
<p d__=""><a href="#man-stdc_first_leading_zero"><code s__="13" d__="">stdc_first_leading_zero()</code></a>, <a href="#man-stdc_first_trailing_one"><code s__="13" d__="">stdc_first_trailing_one()</code></a></p>
<hr>
<h2 data-number="19.11" id="man-stdc_first_trailing_one"><span class="header-section-number" d__="">19.11</span> <code d__="">stdc_first_trailing_one()</code></h2>
<p></p>
<p d__="">Find the first trailing one in an unsigned number</p>
<h3 class="unnumbered unlisted" id="synopsis-142" d__="">Synopsis</h3>
<p d__="">New in C23!</p>
<div class="sourceCode" id="cb491"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb491-1"><a href="#cb491-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb491-2"><a href="#cb491-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb491-3" d__=""><a href="#cb491-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_first_trailing_one_uc<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">char</span> value<span class="op" d__="">);</span></span>
<span id="cb491-4" d__=""><a href="#cb491-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_first_trailing_one_us<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">short</span> value<span class="op" d__="">);</span></span>
<span id="cb491-5" d__=""><a href="#cb491-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_first_trailing_one_ui<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value<span class="op" d__="">);</span></span>
<span id="cb491-6" d__=""><a href="#cb491-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_first_trailing_one_ul<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb491-7" d__=""><a href="#cb491-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_first_trailing_one_ull<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb491-8"><a href="#cb491-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb491-9" d__=""><a href="#cb491-9" aria-hidden="true" tabindex="-1"></a>generic_return_type stdc_first_trailing_one<span class="op" d__="">(</span>generic_value_type value<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-142" d__="">Description</h3>
<p d__="">This finds the index of the first trailing one in a number. Indexes are numbered starting from <code s__="13">1</code>
 being the most significant (“leftmost”) bit position. (This might be in
 contrast to how you might be used to numbering bit indexes.)</p>
<p d__="">It’s one-based so that you can quickly use the return value as a Boolean expression for if it found a one bit or not.</p>
<h3 class="unnumbered unlisted" id="return-value-140" d__="">Return Value</h3>
<p d__="">Returns the 1-based index from the most significant bit of the first one bit in the <code s__="13">value</code>, or <code s__="13">0</code> if there are no one bits.</p>
<h3 class="unnumbered unlisted" id="example-142" d__="">Example</h3>
<div class="sourceCode" id="cb492"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb492-1"><a href="#cb492-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb492-2"><a href="#cb492-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;limits.h&gt;</span></span>
<span id="cb492-3"><a href="#cb492-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb492-4"><a href="#cb492-4"></a></span>
<span id="cb492-5" d__=""><a href="#cb492-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb492-6"><a href="#cb492-6"></a><span class="op" d__="">{</span></span>
<span id="cb492-7" d__=""><a href="#cb492-7"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value <span class="op" d__="">=</span> UINT_MAX<span class="op" d__="">;</span></span>
<span id="cb492-8" d__=""><a href="#cb492-8"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> index <span class="op" d__="">=</span> stdc_first_trailing_one_ui<span class="op" d__="">(</span>value<span class="op" d__="">);</span></span>
<span id="cb492-9"><a href="#cb492-9"></a></span>
<span id="cb492-10" d__=""><a href="#cb492-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%u\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> index<span class="op" d__="">);</span></span>
<span id="cb492-11"><a href="#cb492-11"></a></span>
<span id="cb492-12" d__=""><a href="#cb492-12"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value2 <span class="op" d__="">=</span> UINT_MAX <span class="op" d__="">&gt;&gt;</span> <span class="dv" d__="">2</span><span class="op" d__="">;</span></span>
<span id="cb492-13" d__=""><a href="#cb492-13"></a>    <span class="kw" d__="">auto</span> index2 <span class="op" d__="">=</span> stdc_first_trailing_one<span class="op" d__="">(</span>value2<span class="op" d__="">);</span></span>
<span id="cb492-14"><a href="#cb492-14"></a></span>
<span id="cb492-15" d__=""><a href="#cb492-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%u\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> index2<span class="op" d__="">);</span></span>
<span id="cb492-16"><a href="#cb492-16"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-134" d__="">See Also</h3>
<p d__=""><a href="#man-stdc_first_leading_one"><code s__="13" d__="">stdc_first_leading_one()</code></a>, <a href="#man-stdc_first_trailing_zero"><code s__="13" d__="">stdc_first_trailing_zero()</code></a></p>
<hr>
<h2 data-number="19.12" id="man-stdc_count_zeros"><span class="header-section-number" d__="">19.12</span> <code d__="">stdc_count_zeros()</code></h2>
<p></p>
<p d__="">Count the zeros in an unsigned number</p>
<h3 class="unnumbered unlisted" id="synopsis-143" d__="">Synopsis</h3>
<p d__="">New in C23!</p>
<div class="sourceCode" id="cb493"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb493-1"><a href="#cb493-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb493-2"><a href="#cb493-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb493-3" d__=""><a href="#cb493-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_count_zeros_uc<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">char</span> value<span class="op" d__="">);</span></span>
<span id="cb493-4" d__=""><a href="#cb493-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_count_zeros_us<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">short</span> value<span class="op" d__="">);</span></span>
<span id="cb493-5" d__=""><a href="#cb493-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_count_zeros_ui<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value<span class="op" d__="">);</span></span>
<span id="cb493-6" d__=""><a href="#cb493-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_count_zeros_ul<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb493-7" d__=""><a href="#cb493-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_count_zeros_ull<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb493-8"><a href="#cb493-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb493-9" d__=""><a href="#cb493-9" aria-hidden="true" tabindex="-1"></a>generic_return_type stdc_count_zeros<span class="op" d__="">(</span>generic_value_type value<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-143" d__="">Description</h3>
<p d__="">This function returns the number of zero bits in a particular value. The number will be influenced by the size of the argument.</p>
<h3 class="unnumbered unlisted" id="return-value-141" d__="">Return Value</h3>
<p d__="">Returns the number of zero bits.</p>
<h3 class="unnumbered unlisted" id="example-143" d__="">Example</h3>
<div class="sourceCode" id="cb494"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb494-1"><a href="#cb494-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb494-2"><a href="#cb494-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb494-3"><a href="#cb494-3"></a></span>
<span id="cb494-4" d__=""><a href="#cb494-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb494-5"><a href="#cb494-5"></a><span class="op" d__="">{</span></span>
<span id="cb494-6" d__=""><a href="#cb494-6"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value <span class="op" d__="">=</span> <span class="dv" d__="">3490</span><span class="op" d__="">;</span></span>
<span id="cb494-7" d__=""><a href="#cb494-7"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> count <span class="op" d__="">=</span> stdc_count_zeros_ui<span class="op" d__="">(</span>value<span class="op" d__="">);</span></span>
<span id="cb494-8"><a href="#cb494-8"></a></span>
<span id="cb494-9" d__=""><a href="#cb494-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%u\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> count<span class="op" d__="">);</span></span>
<span id="cb494-10"><a href="#cb494-10"></a></span>
<span id="cb494-11" d__=""><a href="#cb494-11"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value2 <span class="op" d__="">=</span> <span class="dv" d__="">123456</span><span class="op" d__="">;</span></span>
<span id="cb494-12" d__=""><a href="#cb494-12"></a>    <span class="kw" d__="">auto</span> count2 <span class="op" d__="">=</span> stdc_count_zeros<span class="op" d__="">(</span>value2<span class="op" d__="">);</span></span>
<span id="cb494-13"><a href="#cb494-13"></a></span>
<span id="cb494-14" d__=""><a href="#cb494-14"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%u\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> count2<span class="op" d__="">);</span></span>
<span id="cb494-15"><a href="#cb494-15"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-135" d__="">See Also</h3>
<p d__=""><a href="#man-stdc_count_ones"><code s__="13" d__="">stdc_count_ones()()</code></a>, <a href="#man-stdc_leading_zeros"><code s__="13" d__="">stdc_leading_zeros()()</code></a>, <a href="#man-stdc_trailing_zeros"><code s__="13" d__="">stdc_trailing_zeros()()</code></a></p>
<hr>
<h2 data-number="19.13" id="man-stdc_count_ones"><span class="header-section-number" d__="">19.13</span> <code d__="">stdc_count_ones()</code></h2>
<p></p>
<p d__="">Count the ones in an unsigned number</p>
<h3 class="unnumbered unlisted" id="synopsis-144" d__="">Synopsis</h3>
<p d__="">New in C23!</p>
<div class="sourceCode" id="cb495"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb495-1"><a href="#cb495-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb495-2"><a href="#cb495-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb495-3" d__=""><a href="#cb495-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_count_ones_uc<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">char</span> value<span class="op" d__="">);</span></span>
<span id="cb495-4" d__=""><a href="#cb495-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_count_ones_us<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">short</span> value<span class="op" d__="">);</span></span>
<span id="cb495-5" d__=""><a href="#cb495-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_count_ones_ui<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value<span class="op" d__="">);</span></span>
<span id="cb495-6" d__=""><a href="#cb495-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_count_ones_ul<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb495-7" d__=""><a href="#cb495-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_count_ones_ull<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb495-8"><a href="#cb495-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb495-9" d__=""><a href="#cb495-9" aria-hidden="true" tabindex="-1"></a>generic_return_type stdc_count_ones<span class="op" d__="">(</span>generic_value_type value<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-144" d__="">Description</h3>
<p d__="">This function returns the number of one bits in a particular value. The number will be influenced by the size of the argument.</p>
<h3 class="unnumbered unlisted" id="return-value-142" d__="">Return Value</h3>
<p d__="">Returns the number of one bits.</p>
<h3 class="unnumbered unlisted" id="example-144" d__="">Example</h3>
<div class="sourceCode" id="cb496"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb496-1"><a href="#cb496-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb496-2"><a href="#cb496-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb496-3"><a href="#cb496-3"></a></span>
<span id="cb496-4" d__=""><a href="#cb496-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb496-5"><a href="#cb496-5"></a><span class="op" d__="">{</span></span>
<span id="cb496-6" d__=""><a href="#cb496-6"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value <span class="op" d__="">=</span> <span class="dv" d__="">3490</span><span class="op" d__="">;</span></span>
<span id="cb496-7" d__=""><a href="#cb496-7"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> count <span class="op" d__="">=</span> stdc_count_ones_ui<span class="op" d__="">(</span>value<span class="op" d__="">);</span></span>
<span id="cb496-8"><a href="#cb496-8"></a></span>
<span id="cb496-9" d__=""><a href="#cb496-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%u\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> count<span class="op" d__="">);</span></span>
<span id="cb496-10"><a href="#cb496-10"></a></span>
<span id="cb496-11" d__=""><a href="#cb496-11"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value2 <span class="op" d__="">=</span> <span class="dv" d__="">123456</span><span class="op" d__="">;</span></span>
<span id="cb496-12" d__=""><a href="#cb496-12"></a>    <span class="kw" d__="">auto</span> count2 <span class="op" d__="">=</span> stdc_count_ones<span class="op" d__="">(</span>value2<span class="op" d__="">);</span></span>
<span id="cb496-13"><a href="#cb496-13"></a></span>
<span id="cb496-14" d__=""><a href="#cb496-14"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%u\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> count2<span class="op" d__="">);</span></span>
<span id="cb496-15"><a href="#cb496-15"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-136" d__="">See Also</h3>
<p d__=""><a href="#man-stdc_count_zeros"><code s__="13" d__="">stdc_count_zeros()()</code></a>, <a href="#man-stdc_leading_ones"><code s__="13" d__="">stdc_leading_ones()()</code></a>, <a href="#man-stdc_trailing_ones"><code s__="13" d__="">stdc_trailing_ones()()</code></a></p>
<hr>
<h2 data-number="19.14" id="man-stdc_has_single_bit"><span class="header-section-number" d__="">19.14</span> <code d__="">stdc_has_single_bit()</code></h2>
<p></p>
<p d__="">Test to see if an unsigned integer has only a single bit set</p>
<h3 class="unnumbered unlisted" id="synopsis-145" d__="">Synopsis</h3>
<p d__="">New in C23!</p>
<div class="sourceCode" id="cb497"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb497-1"><a href="#cb497-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb497-2"><a href="#cb497-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb497-3" d__=""><a href="#cb497-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">bool</span> stdc_has_single_bit_uc<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">char</span> value<span class="op" d__="">);</span></span>
<span id="cb497-4" d__=""><a href="#cb497-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">bool</span> stdc_has_single_bit_us<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">short</span> value<span class="op" d__="">);</span></span>
<span id="cb497-5" d__=""><a href="#cb497-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">bool</span> stdc_has_single_bit_ui<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value<span class="op" d__="">);</span></span>
<span id="cb497-6" d__=""><a href="#cb497-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">bool</span> stdc_has_single_bit_ul<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb497-7" d__=""><a href="#cb497-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">bool</span> stdc_has_single_bit_ull<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb497-8"><a href="#cb497-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb497-9" d__=""><a href="#cb497-9" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">bool</span> stdc_has_single_bit<span class="op" d__="">(</span>generic_value_type value<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-145" d__="">Description</h3>
<p d__="">These functions return true if exactly one bit is <code s__="13">1</code> in an unsigned <code s__="13">value</code>.</p>
<p d__="">If true, it also means the <code s__="13">value</code> is a power of 2.</p>
<h3 class="unnumbered unlisted" id="return-value-143" d__="">Return Value</h3>
<p d__="">Return true if <code s__="13">value</code> has exactly a single bit set to <code s__="13">1</code>.</p>
<h3 class="unnumbered unlisted" id="example-145" d__="">Example</h3>
<div class="sourceCode" id="cb498"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb498-1"><a href="#cb498-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb498-2"><a href="#cb498-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb498-3"><a href="#cb498-3"></a></span>
<span id="cb498-4" d__=""><a href="#cb498-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb498-5"><a href="#cb498-5"></a><span class="op" d__="">{</span></span>
<span id="cb498-6" d__=""><a href="#cb498-6"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value <span class="op" d__="">=</span> <span class="bn" d__="">0b0001000</span><span class="op" d__="">;</span></span>
<span id="cb498-7" d__=""><a href="#cb498-7"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> result <span class="op" d__="">=</span> stdc_has_single_bit_ui<span class="op" d__="">(</span>value<span class="op" d__="">);</span></span>
<span id="cb498-8"><a href="#cb498-8"></a></span>
<span id="cb498-9" d__=""><a href="#cb498-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> result<span class="op" d__="">);</span>    <span class="co" d__="">// 1</span></span>
<span id="cb498-10"><a href="#cb498-10"></a></span>
<span id="cb498-11" d__=""><a href="#cb498-11"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value2 <span class="op" d__="">=</span> <span class="bn" d__="">0b000011000</span></span>
<span id="cb498-12" d__=""><a href="#cb498-12"></a>    <span class="kw" d__="">auto</span> result2 <span class="op" d__="">=</span> stdc_has_single_bit<span class="op" d__="">(</span>value2<span class="op" d__="">);</span></span>
<span id="cb498-13"><a href="#cb498-13"></a></span>
<span id="cb498-14" d__=""><a href="#cb498-14"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> result2<span class="op" d__="">);</span>   <span class="co" d__="">// 0</span></span>
<span id="cb498-15"><a href="#cb498-15"></a><span class="op" d__="">}</span></span></code></pre></div>
<!--
### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<hr>
<h2 data-number="19.15" id="man-stdc_bit_width"><span class="header-section-number" d__="">19.15</span> <code d__="">stdc_bit_width()</code></h2>
<p></p>
<p d__="">Return the number of bits needed to store a value</p>
<h3 class="unnumbered unlisted" id="synopsis-146" d__="">Synopsis</h3>
<p d__="">New in C23!</p>
<div class="sourceCode" id="cb499"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb499-1"><a href="#cb499-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb499-2"><a href="#cb499-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb499-3" d__=""><a href="#cb499-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_bit_width_uc<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">char</span> value<span class="op" d__="">);</span></span>
<span id="cb499-4" d__=""><a href="#cb499-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_bit_width_us<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">short</span> value<span class="op" d__="">);</span></span>
<span id="cb499-5" d__=""><a href="#cb499-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_bit_width_ui<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value<span class="op" d__="">);</span></span>
<span id="cb499-6" d__=""><a href="#cb499-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_bit_width_ul<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb499-7" d__=""><a href="#cb499-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_bit_width_ull<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb499-8"><a href="#cb499-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb499-9" d__=""><a href="#cb499-9" aria-hidden="true" tabindex="-1"></a>generic_return_type stdc_bit_width<span class="op" d__="">(</span>generic_value_type value<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-146" d__="">Description</h3>
<p d__="">Given an unsigned integer value, what’s the smallest number of
 bits needed to store it? That’s the question this function answers.</p>
<h3 class="unnumbered unlisted" id="return-value-144" d__="">Return Value</h3>
<p d__="">Returns the number of bits needed to store a positive <code s__="13">value</code>. Returns <code s__="13">0</code> if the <code s__="13">value</code> passed in is <code s__="13">0</code>.</p>
<h3 class="unnumbered unlisted" id="example-146" d__="">Example</h3>
<div class="sourceCode" id="cb500"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb500-1"><a href="#cb500-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb500-2"><a href="#cb500-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb500-3"><a href="#cb500-3"></a></span>
<span id="cb500-4" d__=""><a href="#cb500-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb500-5"><a href="#cb500-5"></a><span class="op" d__="">{</span></span>
<span id="cb500-6" d__=""><a href="#cb500-6"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value <span class="op" d__="">=</span> <span class="bn" d__="">0b0001000</span><span class="op" d__="">;</span></span>
<span id="cb500-7" d__=""><a href="#cb500-7"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> result <span class="op" d__="">=</span> stdc_bit_width_ui<span class="op" d__="">(</span>value<span class="op" d__="">);</span></span>
<span id="cb500-8"><a href="#cb500-8"></a></span>
<span id="cb500-9" d__=""><a href="#cb500-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> result<span class="op" d__="">);</span>    <span class="co" d__="">// 4</span></span>
<span id="cb500-10"><a href="#cb500-10"></a></span>
<span id="cb500-11" d__=""><a href="#cb500-11"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value2 <span class="op" d__="">=</span> <span class="bn" d__="">0b000011010</span></span>
<span id="cb500-12" d__=""><a href="#cb500-12"></a>    <span class="kw" d__="">auto</span> result2 <span class="op" d__="">=</span> stdc_bit_width<span class="op" d__="">(</span>value2<span class="op" d__="">);</span></span>
<span id="cb500-13"><a href="#cb500-13"></a></span>
<span id="cb500-14" d__=""><a href="#cb500-14"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> result2<span class="op" d__="">);</span>   <span class="co" d__="">// 5</span></span>
<span id="cb500-15"><a href="#cb500-15"></a><span class="op" d__="">}</span></span></code></pre></div>
<!--
### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<hr>
<h2 data-number="19.16" id="man-stdc_bit_floor"><span class="header-section-number" d__="">19.16</span> <code d__="">stdc_bit_floor()</code></h2>
<p></p>
<p d__="">Return the largest power of 2 not greater than a number</p>
<h3 class="unnumbered unlisted" id="synopsis-147" d__="">Synopsis</h3>
<p d__="">New in C23!</p>
<div class="sourceCode" id="cb501"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb501-1"><a href="#cb501-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb501-2"><a href="#cb501-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb501-3" d__=""><a href="#cb501-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">char</span> stdc_bit_floor_uc<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">char</span> value<span class="op" d__="">);</span></span>
<span id="cb501-4" d__=""><a href="#cb501-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">short</span> stdc_bit_floor_us<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">short</span> value<span class="op" d__="">);</span></span>
<span id="cb501-5" d__=""><a href="#cb501-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_bit_floor_ui<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value<span class="op" d__="">);</span></span>
<span id="cb501-6" d__=""><a href="#cb501-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> stdc_bit_floor_ul<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb501-7" d__=""><a href="#cb501-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> stdc_bit_floor_ull<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb501-8"><a href="#cb501-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb501-9" d__=""><a href="#cb501-9" aria-hidden="true" tabindex="-1"></a>generic_value_type stdc_bit_floor<span class="op" d__="">(</span>generic_value_type value<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-147" d__="">Description</h3>
<p d__="">This function returns the largest power of 2 that is not greater than the <code s__="13">value</code>.</p>
<p d__="">In other words “is less than or equal to” the <code s__="13">value</code>.</p>
<p d__="">In other words, floor down to the nearest power of two.</p>
<p d__="">In other words, return the value of the highest set bit in a number</p>
<p d__="">For example: |<code s__="13">value</code>|Return| |-|-| |<code s__="13">0b101</code>|<code s__="13">0b100</code>| |<code s__="13">0b1000</code>|<code s__="13">0b1000</code>| |<code s__="13">0b100101</code>|<code s__="13">0b100000</code>|</p>
<h3 class="unnumbered unlisted" id="return-value-145" d__="">Return Value</h3>
<p d__="">Returns the largest power of 2 not greater than <code s__="13">value</code>. Returns <code s__="13">0</code> if the <code s__="13">value</code> is <code s__="13">0</code>.</p>
<h3 class="unnumbered unlisted" id="example-147" d__="">Example</h3>
<div class="sourceCode" id="cb502"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb502-1"><a href="#cb502-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb502-2"><a href="#cb502-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb502-3"><a href="#cb502-3"></a></span>
<span id="cb502-4" d__=""><a href="#cb502-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb502-5"><a href="#cb502-5"></a><span class="op" d__="">{</span></span>
<span id="cb502-6" d__=""><a href="#cb502-6"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value <span class="op" d__="">=</span> <span class="bn" d__="">0b0001000</span><span class="op" d__="">;</span></span>
<span id="cb502-7" d__=""><a href="#cb502-7"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> result <span class="op" d__="">=</span> stdc_bit_floor_ui<span class="op" d__="">(</span>value<span class="op" d__="">);</span></span>
<span id="cb502-8"><a href="#cb502-8"></a></span>
<span id="cb502-9" d__=""><a href="#cb502-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%b\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> result<span class="op" d__="">);</span>    <span class="co" d__="">// 1000</span></span>
<span id="cb502-10"><a href="#cb502-10"></a></span>
<span id="cb502-11" d__=""><a href="#cb502-11"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value2 <span class="op" d__="">=</span> <span class="bn" d__="">0b000011010</span></span>
<span id="cb502-12" d__=""><a href="#cb502-12"></a>    <span class="kw" d__="">auto</span> result2 <span class="op" d__="">=</span> stdc_bit_floor<span class="op" d__="">(</span>value2<span class="op" d__="">);</span></span>
<span id="cb502-13"><a href="#cb502-13"></a></span>
<span id="cb502-14" d__=""><a href="#cb502-14"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%b\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> result2<span class="op" d__="">);</span>   <span class="co" d__="">// 10000</span></span>
<span id="cb502-15"><a href="#cb502-15"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-137" d__="">See Also</h3>
<p><a href="#man-stdc_bit_ceil"><code s__="13" d__="">stdc_bit_ceil()</code></a></p>
<hr>
<h2 data-number="19.17" id="man-stdc_bit_ceil"><span class="header-section-number" d__="">19.17</span> <code d__="">stdc_bit_ceil()</code></h2>
<p></p>
<p d__="">Return the smallest power of 2 not less than a number</p>
<h3 class="unnumbered unlisted" id="synopsis-148" d__="">Synopsis</h3>
<p d__="">New in C23!</p>
<div class="sourceCode" id="cb503"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb503-1"><a href="#cb503-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb503-2"><a href="#cb503-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb503-3" d__=""><a href="#cb503-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">char</span> stdc_bit_ceil_uc<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">char</span> value<span class="op" d__="">);</span></span>
<span id="cb503-4" d__=""><a href="#cb503-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">short</span> stdc_bit_ceil_us<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">short</span> value<span class="op" d__="">);</span></span>
<span id="cb503-5" d__=""><a href="#cb503-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> stdc_bit_ceil_ui<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value<span class="op" d__="">);</span></span>
<span id="cb503-6" d__=""><a href="#cb503-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> stdc_bit_ceil_ul<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb503-7" d__=""><a href="#cb503-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> stdc_bit_ceil_ull<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value<span class="op" d__="">);</span></span>
<span id="cb503-8"><a href="#cb503-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb503-9" d__=""><a href="#cb503-9" aria-hidden="true" tabindex="-1"></a>generic_value_type stdc_bit_ceil<span class="op" d__="">(</span>generic_value_type value<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-148" d__="">Description</h3>
<p d__="">This function returns the smallest power of 2 that is not less than the <code s__="13">value</code>.</p>
<p d__="">In other words “is greater than or equal to” the <code s__="13">value</code>.</p>
<p d__="">In other words, ceil up to the nearest power of two.</p>
<p d__="">For example: |<code s__="13">value</code>|Return| |-|-| |<code s__="13">0b101</code>|<code s__="13">0b1000</code>| |<code s__="13">0b1000</code>|<code s__="13">0b1000</code>| |<code s__="13">0b100101</code>|<code s__="13">0b1000000</code>|</p>
<p d__="">If the result doesn’t fit in the return type, the behavior is undefined.</p>
<h3 class="unnumbered unlisted" id="return-value-146" d__="">Return Value</h3>
<p d__="">Returns the smallest power of 2 not less than <code s__="13">value</code>.</p>
<h3 class="unnumbered unlisted" id="example-148" d__="">Example</h3>
<div class="sourceCode" id="cb504"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb504-1"><a href="#cb504-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb504-2"><a href="#cb504-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbit.h&gt;</span></span>
<span id="cb504-3"><a href="#cb504-3"></a></span>
<span id="cb504-4" d__=""><a href="#cb504-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb504-5"><a href="#cb504-5"></a><span class="op" d__="">{</span></span>
<span id="cb504-6" d__=""><a href="#cb504-6"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> value <span class="op" d__="">=</span> <span class="bn" d__="">0b0001000</span><span class="op" d__="">;</span></span>
<span id="cb504-7" d__=""><a href="#cb504-7"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> result <span class="op" d__="">=</span> stdc_bit_ceil_ui<span class="op" d__="">(</span>value<span class="op" d__="">);</span></span>
<span id="cb504-8"><a href="#cb504-8"></a></span>
<span id="cb504-9" d__=""><a href="#cb504-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%b\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> result<span class="op" d__="">);</span>    <span class="co" d__="">// 1000</span></span>
<span id="cb504-10"><a href="#cb504-10"></a></span>
<span id="cb504-11" d__=""><a href="#cb504-11"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> value2 <span class="op" d__="">=</span> <span class="bn" d__="">0b000011010</span></span>
<span id="cb504-12" d__=""><a href="#cb504-12"></a>    <span class="kw" d__="">auto</span> result2 <span class="op" d__="">=</span> stdc_bit_ceil<span class="op" d__="">(</span>value2<span class="op" d__="">);</span></span>
<span id="cb504-13"><a href="#cb504-13"></a></span>
<span id="cb504-14" d__=""><a href="#cb504-14"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%b\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> result2<span class="op" d__="">);</span>   <span class="co" d__="">// 100000</span></span>
<span id="cb504-15"><a href="#cb504-15"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-138" d__="">See Also</h3>
<p><a href="#man-stdc_bit_floor"><code s__="13" d__="">stdc_bit_floor()</code></a></p>
<!--
***
## `example()` {#man-example}

\index{example() function@\texttt{example()} function|textit}

### Synopsis {.unnumbered .unlisted}

New in C23!

``` {.c}
```

### Description {.unnumbered .unlisted}

### Return Value {.unnumbered .unlisted}

### Example {.unnumbered .unlisted}

``` {.c .numberLines}
```

### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="20" id="stdbool" d__=""><span class="header-section-number">20</span> <code>&lt;stdbool.h&gt;</code> Boolean Types</h1>
<p></p>
<p d__="">This is a small header file that defines a number of convenient Boolean macros. If you really need that kind of thing.</p>
<p> </p>
<table>
<thead>
<tr class="header">
<th d__="">Macro</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">bool</code></td>
<td d__="">Type for Boolean, expands to <code s__="13">_Bool</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">true</code></td>
<td d__="">True value, expands to <code s__="13">1</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">false</code></td>
<td d__="">False value, expands to <code s__="13">0</code></td>
</tr>
</tbody>
</table>
<p d__="">There’s one more macro that I’m not putting in the table because it’s such a long name it’ll blow up the table alignment:</p>
<div class="sourceCode" id="cb505"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb505-1" d__=""><a href="#cb505-1" aria-hidden="true" tabindex="-1"></a>__bool_true_false_are_defined</span></code></pre></div>
<p d__="">which expands to <code s__="13">1</code>.</p>
<h2 data-number="20.1" id="example-149" d__=""><span class="header-section-number">20.1</span> Example</h2>
<p d__="">Here’s a lame example that shows off these macros.</p>
<div class="sourceCode" id="cb506"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb506-1"><a href="#cb506-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb506-2"><a href="#cb506-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdbool.h&gt;</span></span>
<span id="cb506-3"><a href="#cb506-3"></a></span>
<span id="cb506-4" d__=""><a href="#cb506-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb506-5"><a href="#cb506-5"></a><span class="op" d__="">{</span></span>
<span id="cb506-6" d__=""><a href="#cb506-6"></a>    <span class="dt" d__="">bool</span> x<span class="op" d__="">;</span></span>
<span id="cb506-7"><a href="#cb506-7"></a></span>
<span id="cb506-8" d__=""><a href="#cb506-8"></a>    x <span class="op" d__="">=</span> <span class="op" d__="">(</span><span class="dv" d__="">3</span> <span class="op" d__="">&gt;</span> <span class="dv" d__="">2</span><span class="op" d__="">);</span></span>
<span id="cb506-9"><a href="#cb506-9"></a></span>
<span id="cb506-10" d__=""><a href="#cb506-10"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>x <span class="op" d__="">==</span> <span class="kw" d__="">true</span><span class="op" d__="">)</span></span>
<span id="cb506-11" d__=""><a href="#cb506-11"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"The universe still makes sense.</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb506-12"><a href="#cb506-12"></a></span>
<span id="cb506-13" d__=""><a href="#cb506-13"></a>    x <span class="op" d__="">=</span> <span class="kw" d__="">false</span><span class="op" d__="">;</span></span>
<span id="cb506-14"><a href="#cb506-14"></a></span>
<span id="cb506-15" d__=""><a href="#cb506-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"x is now </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> x<span class="op" d__="">);</span>  <span class="co" d__="">// 0</span></span>
<span id="cb506-16"><a href="#cb506-16"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb507"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb507-1" d__=""><a href="#cb507-1" aria-hidden="true" tabindex="-1"></a>The universe still makes sense.</span>
<span id="cb507-2" d__=""><a href="#cb507-2" aria-hidden="true" tabindex="-1"></a>x is now 0</span></code></pre></div>
<h2 data-number="20.2" id="bool" d__=""><span class="header-section-number">20.2</span> <code>_Bool</code>?</h2>
<p d__="">What’s the deal with <code s__="13">_Bool</code>? Why didn’t they just make it <code s__="13">bool</code>?</p>
<p d__="">Well, there was a lot of C code out there where people had defined their own <code s__="13">bool</code> type and adding an official <code s__="13">bool</code> would have broken those <code s__="13">typedef</code>s.</p>
<p d__="">But C has already reserved all identifiers that start with an 
underscore followed by a capital letter, so it was clear to make up a 
new <code s__="13">_Bool</code> type and go with that.</p>
<p d__="">And, if you know your code can handle it, you can include this header to get all this juicy syntax.</p>
<p d__="">One more note on conversions: unlike converting to <code s__="13">int</code>, the <em>only</em> thing that converts to <code s__="13">false</code> in a <code s__="13">_Bool</code> is a scalar zero value. Anything at all that’s not zero, like <code s__="13">-3490</code>, <code s__="13">0.12</code>, or <code s__="13">NaN</code>, converts to <code s__="13">true</code>.</p>
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="21" id="stddef" d__=""><span class="header-section-number">21</span> <code>&lt;stddef.h&gt;</code> A Few Standard Definitions</h1>
<p></p>
<p d__="">Despite its name, I’ve haven’t seen this frequently included.</p>
<p d__="">It includes several types and macros.</p>
<table>
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Name</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#man-ptrdiff_t"><code s__="13" d__="">ptrdiff_t</code></a></td>
<td d__="">Signed integer difference between two pointers</td>
</tr>
<tr class="even">
<td><a href="#man-size_t"><code s__="13" d__="">size_t</code></a></td>
<td d__="">Unsigned integer type returned by <code s__="13">sizeof</code></td>
</tr>
<tr class="odd">
<td><a href="#man-max_align_t"><code s__="13" d__="">max_align_t</code></a></td>
<td d__="">Declare a type with the biggest possible alignment</td>
</tr>
<tr class="even">
<td><a href="#man-wchar_t"><code s__="13" d__="">wchar_t</code></a></td>
<td d__="">Wide character type</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">NULL</code></td>
<td d__=""><code s__="13">NULL</code> pointer, as defined a number of places</td>
</tr>
<tr class="even">
<td><a href="#man-offsetof"><code s__="13" d__="">offsetof</code></a></td>
<td d__="">Get the byte offsets of <code s__="13">struct</code> or <code s__="13">union</code> fields</td>
</tr>
</tbody>
</table>
<h2 data-number="21.1" id="man-ptrdiff_t"><span class="header-section-number" d__="">21.1</span> <code d__="">ptrdiff_t</code></h2>
<p></p>
<p d__="">This holds the different between two pointers. You could store
 this in another type, but the result of a pointer subtraction is an 
implementation-defined type; you can be maximally portable by using <code s__="13">ptrdiff_t</code>.</p>
<div class="sourceCode" id="cb508"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb508-1"><a href="#cb508-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb508-2"><a href="#cb508-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stddef.h&gt;</span></span>
<span id="cb508-3"><a href="#cb508-3"></a></span>
<span id="cb508-4" d__=""><a href="#cb508-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb508-5"><a href="#cb508-5"></a><span class="op" d__="">{</span></span>
<span id="cb508-6" d__=""><a href="#cb508-6"></a>    <span class="dt" d__="">int</span> cats<span class="op" d__="">[</span><span class="dv" d__="">100</span><span class="op" d__="">];</span></span>
<span id="cb508-7"><a href="#cb508-7"></a></span>
<span id="cb508-8" d__=""><a href="#cb508-8"></a>    <span class="dt" d__="">int</span> <span class="op" d__="">*</span>f <span class="op" d__="">=</span> cats <span class="op" d__="">+</span> <span class="dv" d__="">20</span><span class="op" d__="">;</span></span>
<span id="cb508-9" d__=""><a href="#cb508-9"></a>    <span class="dt" d__="">int</span> <span class="op" d__="">*</span>g <span class="op" d__="">=</span> cats <span class="op" d__="">+</span> <span class="dv" d__="">60</span><span class="op" d__="">;</span></span>
<span id="cb508-10"><a href="#cb508-10"></a></span>
<span id="cb508-11" d__=""><a href="#cb508-11"></a>    <span class="dt" d__="">ptrdiff_t</span> d <span class="op" d__="">=</span> g <span class="op" d__="">-</span> f<span class="op" d__="">;</span>  <span class="co" d__="">// difference is 40</span></span></code></pre></div>
<p d__="">And you can print it by prefixing the integer format specifier with <code s__="13">t</code>:</p>
<div class="sourceCode" id="cb509" data-startfrom="13"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" style="counter-reset: source-line 12;" s__="13"><span id="cb509-13" d__=""><a href="#cb509-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%td\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> d<span class="op" d__="">);</span>  <span class="co" d__="">// Print decimal: 40</span></span>
<span id="cb509-14" d__=""><a href="#cb509-14"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%tX\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> d<span class="op" d__="">);</span>  <span class="co" d__="">// Print hex:     28</span></span>
<span id="cb509-15"><a href="#cb509-15"></a><span class="op" d__="">}</span></span></code></pre></div>
<h2 data-number="21.2" id="man-size_t"><span class="header-section-number" d__="">21.2</span> <code d__="">size_t</code></h2>
<p></p>
<p d__="">This is the type returned by <code s__="13">sizeof</code> and used in a few other places. It’s an unsigned integer.</p>
<p d__="">You can print it using the <code s__="13">z</code> prefix in <code s__="13">printf()</code>:</p>
<div class="sourceCode" id="cb510"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb510-1"><a href="#cb510-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb510-2"><a href="#cb510-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;uchar.h&gt;</span></span>
<span id="cb510-3"><a href="#cb510-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb510-4"><a href="#cb510-4"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stddef.h&gt;</span></span>
<span id="cb510-5"><a href="#cb510-5"></a></span>
<span id="cb510-6" d__=""><a href="#cb510-6"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb510-7"><a href="#cb510-7"></a><span class="op" d__="">{</span></span>
<span id="cb510-8" d__=""><a href="#cb510-8"></a>    <span class="dt" d__="">size_t</span> x<span class="op" d__="">;</span></span>
<span id="cb510-9"><a href="#cb510-9"></a></span>
<span id="cb510-10" d__=""><a href="#cb510-10"></a>    x <span class="op" d__="">=</span> <span class="kw" d__="">sizeof</span><span class="op" d__="">(</span><span class="dt" d__="">int</span><span class="op" d__="">);</span></span>
<span id="cb510-11"><a href="#cb510-11"></a></span>
<span id="cb510-12" d__=""><a href="#cb510-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%zu\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> x<span class="op" d__="">);</span></span></code></pre></div>
<p d__="">Some functions return negative numbers cast to <code s__="13">size_t</code> as error values (such as <a href="#man-mbrtoc16"><code s__="13" d__="">mbrtoc16()</code></a>). If you want to print these as negative values, you can do it with <code s__="13">%zd</code>:</p>
<div class="sourceCode" id="cb511" data-startfrom="14"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" style="counter-reset: source-line 13;" s__="13"><span id="cb511-14" d__=""><a href="#cb511-14"></a>    <span class="dt" d__="">char16_t</span> a<span class="op" d__="">;</span></span>
<span id="cb511-15" d__=""><a href="#cb511-15"></a>    mbstate_t mbs<span class="op" d__="">;</span></span>
<span id="cb511-16" d__=""><a href="#cb511-16"></a>    memset<span class="op" d__="">(&amp;</span>mbs<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span> mbs<span class="op" d__="">);</span></span>
<span id="cb511-17"><a href="#cb511-17"></a></span>
<span id="cb511-18" d__=""><a href="#cb511-18"></a>    x <span class="op" d__="">=</span> mbrtoc16<span class="op" d__="">(&amp;</span>a<span class="op" d__="">,</span> <span class="st" d__="">"b"</span><span class="op" d__="">,</span> <span class="dv" d__="">8</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>mbs<span class="op" d__="">);</span></span>
<span id="cb511-19"><a href="#cb511-19"></a></span>
<span id="cb511-20" d__=""><a href="#cb511-20"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%zd\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> x<span class="op" d__="">);</span></span>
<span id="cb511-21"><a href="#cb511-21"></a><span class="op" d__="">}</span></span></code></pre></div>
<h2 data-number="21.3" id="man-max_align_t"><span class="header-section-number" d__="">21.3</span> <code d__="">max_align_t</code></h2>
<p></p>
<p d__="">As far as I can tell, this exists to allow the runtime computation of the maximum fundamental <a href="https://en.wikipedia.org/wiki/Data_structure_alignment" d__="">alignment</a><a href="#fn45" class="footnote-ref" id="fnref45" role="doc-noteref"><sup s__="13" d__="">45</sup></a> on the current platform. Someone please mail me if there’s another use.</p>
<p d__="">Maybe you need this if you’re writing your own memory allocator or somesuch.</p>
<div class="sourceCode" id="cb512"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb512-1"><a href="#cb512-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stddef.h&gt;</span></span>
<span id="cb512-2"><a href="#cb512-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span><span class="pp">      </span><span class="co" d__="">// For printf()</span></span>
<span id="cb512-3"><a href="#cb512-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdalign.h&gt;</span><span class="pp">   </span><span class="co" d__="">// For alignof</span></span>
<span id="cb512-4"><a href="#cb512-4"></a></span>
<span id="cb512-5" d__=""><a href="#cb512-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb512-6"><a href="#cb512-6"></a><span class="op" d__="">{</span></span>
<span id="cb512-7" d__=""><a href="#cb512-7"></a>    <span class="dt" d__="">int</span> max <span class="op" d__="">=</span> <span class="kw" d__="">alignof</span><span class="op" d__="">(</span><span class="dt" d__="">max_align_t</span><span class="op" d__="">);</span></span>
<span id="cb512-8"><a href="#cb512-8"></a></span>
<span id="cb512-9" d__=""><a href="#cb512-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Maximum fundamental alignment: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> max<span class="op" d__="">);</span></span>
<span id="cb512-10"><a href="#cb512-10"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">On my system, this prints:</p>
<div class="sourceCode" id="cb513"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb513-1" d__=""><a href="#cb513-1" aria-hidden="true" tabindex="-1"></a>Maximum fundamental alignment: 16</span></code></pre></div>
<p d__="">See also <a href="#man-alignas"><code s__="13" d__="">alignas</code></a>, <a href="#man-alignof"><code s__="13" d__="">alignof</code></a>.</p>
<h2 data-number="21.4" id="man-wchar_t"><span class="header-section-number" d__="">21.4</span> <code d__="">wchar_t</code></h2>
<p></p>
<p d__="">This is analogous to <code s__="13">char</code>, except it’s for wide characters.</p>
<p d__="">It’s an integer type that has enough range to hold unique values for all characters in all supported locales.</p>
<p d__="">The value <code s__="13">0</code> is the wide <code s__="13">NUL</code> character.</p>
<p d__="">Finally, the values of character constants from the basic character set will be the same as their corresponding <code s__="13">wchar_t</code> values… unless <code s__="13">__STDC_MB_MIGHT_NEQ_WC__</code> is defined.</p>
<h2 data-number="21.5" id="man-offsetof"><span class="header-section-number" d__="">21.5</span> <code d__="">offsetof</code></h2>
<p></p>
<p d__="">If you have a <code s__="13">struct</code> or <code s__="13">union</code>, you can use this to get the byte offset of fields within that type.</p>
<p d__="">Usage is:</p>
<div class="sourceCode" id="cb514"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb514-1" d__=""><a href="#cb514-1" aria-hidden="true" tabindex="-1"></a>offsetof<span class="op" d__="">(</span>type<span class="op" d__="">,</span> fieldname<span class="op" d__="">);</span></span></code></pre></div>
<p d__="">The resulting value has type <code s__="13">size_t</code>.</p>
<p d__="">Here’s an example that prints the field offsets of a <code s__="13">struct</code>:</p>
<div class="sourceCode" id="cb515"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb515-1"><a href="#cb515-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb515-2"><a href="#cb515-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stddef.h&gt;</span></span>
<span id="cb515-3"><a href="#cb515-3"></a></span>
<span id="cb515-4" d__=""><a href="#cb515-4"></a><span class="kw" d__="">struct</span> foo <span class="op" d__="">{</span></span>
<span id="cb515-5" d__=""><a href="#cb515-5"></a>    <span class="dt" d__="">int</span> a<span class="op" d__="">;</span></span>
<span id="cb515-6" d__=""><a href="#cb515-6"></a>    <span class="dt" d__="">char</span> b<span class="op" d__="">;</span></span>
<span id="cb515-7" d__=""><a href="#cb515-7"></a>    <span class="dt" d__="">char</span> c<span class="op" d__="">;</span></span>
<span id="cb515-8" d__=""><a href="#cb515-8"></a>    <span class="dt" d__="">float</span> d<span class="op" d__="">;</span></span>
<span id="cb515-9"><a href="#cb515-9"></a><span class="op" d__="">};</span></span>
<span id="cb515-10"><a href="#cb515-10"></a></span>
<span id="cb515-11" d__=""><a href="#cb515-11"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb515-12"><a href="#cb515-12"></a><span class="op" d__="">{</span></span>
<span id="cb515-13" d__=""><a href="#cb515-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"a: </span><span class="sc" d__="">%zu\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> offsetof<span class="op" d__="">(</span><span class="kw" d__="">struct</span> foo<span class="op" d__="">,</span> a<span class="op" d__="">));</span></span>
<span id="cb515-14" d__=""><a href="#cb515-14"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"b: </span><span class="sc" d__="">%zu\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> offsetof<span class="op" d__="">(</span><span class="kw" d__="">struct</span> foo<span class="op" d__="">,</span> b<span class="op" d__="">));</span></span>
<span id="cb515-15" d__=""><a href="#cb515-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"c: </span><span class="sc" d__="">%zu\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> offsetof<span class="op" d__="">(</span><span class="kw" d__="">struct</span> foo<span class="op" d__="">,</span> c<span class="op" d__="">));</span></span>
<span id="cb515-16" d__=""><a href="#cb515-16"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"d: </span><span class="sc" d__="">%zu\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> offsetof<span class="op" d__="">(</span><span class="kw" d__="">struct</span> foo<span class="op" d__="">,</span> d<span class="op" d__="">));</span></span>
<span id="cb515-17"><a href="#cb515-17"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">On my system, this outputs:</p>
<div class="sourceCode" id="cb516"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb516-1" d__=""><a href="#cb516-1" aria-hidden="true" tabindex="-1"></a>a: 0</span>
<span id="cb516-2" d__=""><a href="#cb516-2" aria-hidden="true" tabindex="-1"></a>b: 4</span>
<span id="cb516-3" d__=""><a href="#cb516-3" aria-hidden="true" tabindex="-1"></a>c: 5</span>
<span id="cb516-4" d__=""><a href="#cb516-4" aria-hidden="true" tabindex="-1"></a>d: 8</span></code></pre></div>
<p d__="">And you can’t use <code s__="13">offsetof</code> on a bitfield, so don’t get your hopes up.</p>
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="22" id="stdint" d__=""><span class="header-section-number">22</span> <code>&lt;stdint.h&gt;</code> More Integer Types</h1>
<p></p>
<p d__="">This header gives us access to (potentially) types of a fixed 
number of bits, or, at the very least, types that are at least that many
 bits.</p>
<p d__="">It also gives us handy macros to use.</p>
<h2 data-number="22.1" id="specific-width-integers" d__=""><span class="header-section-number">22.1</span> Specific-Width Integers</h2>
<p d__="">There are three main classes of types defined here, signed and unsigned:</p>
<ul>
<li d__="">Integers of exactly a certain size (<code s__="13">int</code><em>N</em><code s__="13">_t</code>, <code s__="13">uint</code><em>N</em><code s__="13">_t</code>)</li>
<li d__="">Integers that are at least a certain size (<code s__="13">int_least</code><em>N</em><code s__="13">_t</code>, <code s__="13">uint_least</code><em>N</em><code s__="13">_t</code>)</li>
<li d__="">Integers that are at least a certain size and are as fast as possible (<code s__="13">int_fast</code><em>N</em><code s__="13">_t</code>, <code s__="13">uint_fast</code><em>N</em><code s__="13">_t</code>)</li>
</ul>
<p d__="">Where the <em>N</em> occurs, you substitute the number of bits, commonly multiples of 8, e.g.&nbsp;<code s__="13">uint16_t</code>.</p>
<p d__="">The following types are guaranteed to be defined:</p>
<p> </p>
<div class="sourceCode" id="cb517"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb517-1"><a href="#cb517-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int_least8_t</span>      <span class="dt" d__="">uint_least8_t</span></span>
<span id="cb517-2"><a href="#cb517-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int_least16_t</span>     <span class="dt" d__="">uint_least16_t</span></span>
<span id="cb517-3"><a href="#cb517-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int_least32_t</span>     <span class="dt" d__="">uint_least32_t</span></span>
<span id="cb517-4"><a href="#cb517-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int_least64_t</span>     <span class="dt" d__="">uint_least64_t</span></span>
<span id="cb517-5"><a href="#cb517-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb517-6"><a href="#cb517-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int_fast8_t</span>       <span class="dt" d__="">uint_fast8_t</span></span>
<span id="cb517-7"><a href="#cb517-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int_fast16_t</span>      <span class="dt" d__="">uint_fast16_t</span></span>
<span id="cb517-8"><a href="#cb517-8" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int_fast32_t</span>      <span class="dt" d__="">uint_fast32_t</span></span>
<span id="cb517-9"><a href="#cb517-9" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int_fast64_t</span>      <span class="dt" d__="">uint_fast64_t</span></span></code></pre></div>
<p d__="">Everything else is optional, but you’ll probably also have the
 following, which are required when a system has integers of these sizes
 with no padding and two’s-complement representation… which is the case 
for Macs and PCs and a lot of other systems. In short, you very likely 
have these:</p>
<p></p>
<div class="sourceCode" id="cb518"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb518-1"><a href="#cb518-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int8_t</span>      <span class="dt" d__="">uint8_t</span></span>
<span id="cb518-2"><a href="#cb518-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int16_t</span>     <span class="dt" d__="">uint16_t</span></span>
<span id="cb518-3"><a href="#cb518-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int32_t</span>     <span class="dt" d__="">uint32_t</span></span>
<span id="cb518-4"><a href="#cb518-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int64_t</span>     <span class="dt" d__="">uint64_t</span></span></code></pre></div>
<p d__="">Other numbers of bits can also be supported by an implementation if it wants to go all crazy with it.</p>
<p d__="">Examples:</p>
<div class="sourceCode" id="cb519"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb519-1"><a href="#cb519-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdint.h&gt;</span></span>
<span id="cb519-2"><a href="#cb519-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb519-3" d__=""><a href="#cb519-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb519-4"><a href="#cb519-4" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">{</span></span>
<span id="cb519-5" d__=""><a href="#cb519-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">int16_t</span> x <span class="op" d__="">=</span> <span class="dv" d__="">32</span><span class="op" d__="">;</span></span>
<span id="cb519-6" d__=""><a href="#cb519-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">int_fast32_t</span> y <span class="op" d__="">=</span> <span class="dv" d__="">3490</span><span class="op" d__="">;</span></span>
<span id="cb519-7"><a href="#cb519-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb519-8"><a href="#cb519-8" aria-hidden="true" tabindex="-1"></a>    <span class="co" d__="">// ...</span></span></code></pre></div>
<h2 data-number="22.2" id="other-integer-types" d__=""><span class="header-section-number">22.2</span> Other Integer Types</h2>
<p d__="">There are a couple optional types that are integers capable of holding pointer types.</p>
<p> </p>
<div class="sourceCode" id="cb520"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb520-1"><a href="#cb520-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">intptr_t</span></span>
<span id="cb520-2"><a href="#cb520-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">uintptr_t</span></span></code></pre></div>
<p d__="">You can convert a <code s__="13">void*</code> to one of these types, and back again. And the <code s__="13">void*</code>s will compare equal.</p>
<p d__="">The use case is any place you need an integer that represents a pointer for some reason.</p>
<p d__="">Also, there are a couple types that are just there to be the biggest possible integers your system supports:</p>
<p> </p>
<div class="sourceCode" id="cb521"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb521-1"><a href="#cb521-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">intmax_t</span></span>
<span id="cb521-2"><a href="#cb521-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">uintmax_t</span></span></code></pre></div>
<p d__="">Fun fact: you can print these types with the <code s__="13">"%jd"</code> and <code s__="13">"%ju"</code> <a href="#man-printf"><code s__="13" d__="">printf()</code></a> format specifiers.</p>
<p d__="">There are also a bunch of macros in <code s__="13">&lt;inttypes.h&gt;</code>(#inttypes) that you can use to print any of the types mentioned, above.</p>
<h2 data-number="22.3" id="macros-2" d__=""><span class="header-section-number">22.3</span> Macros</h2>
<p d__="">The following macros define the minimum and maximum values for these types:</p>
<p> </p>
<div class="sourceCode" id="cb522"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb522-1" d__=""><a href="#cb522-1" aria-hidden="true" tabindex="-1"></a>INT8_MAX           INT8_MIN           UINT8_MAX</span>
<span id="cb522-2" d__=""><a href="#cb522-2" aria-hidden="true" tabindex="-1"></a>INT16_MAX          INT16_MIN          UINT16_MAX</span>
<span id="cb522-3" d__=""><a href="#cb522-3" aria-hidden="true" tabindex="-1"></a>INT32_MAX          INT32_MIN          UINT32_MAX</span>
<span id="cb522-4" d__=""><a href="#cb522-4" aria-hidden="true" tabindex="-1"></a>INT64_MAX          INT64_MIN          UINT64_MAX</span>
<span id="cb522-5"><a href="#cb522-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb522-6" d__=""><a href="#cb522-6" aria-hidden="true" tabindex="-1"></a>INT_LEAST8_MAX     INT_LEAST8_MIN     UINT_LEAST8_MAX</span>
<span id="cb522-7" d__=""><a href="#cb522-7" aria-hidden="true" tabindex="-1"></a>INT_LEAST16_MAX    INT_LEAST16_MIN    UINT_LEAST16_MAX</span>
<span id="cb522-8" d__=""><a href="#cb522-8" aria-hidden="true" tabindex="-1"></a>INT_LEAST32_MAX    INT_LEAST32_MIN    UINT_LEAST32_MAX</span>
<span id="cb522-9" d__=""><a href="#cb522-9" aria-hidden="true" tabindex="-1"></a>INT_LEAST64_MAX    INT_LEAST64_MIN    UINT_LEAST64_MAX</span>
<span id="cb522-10"><a href="#cb522-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb522-11" d__=""><a href="#cb522-11" aria-hidden="true" tabindex="-1"></a>INT_FAST8_MAX      INT_FAST8_MIN      UINT_FAST8_MAX</span>
<span id="cb522-12" d__=""><a href="#cb522-12" aria-hidden="true" tabindex="-1"></a>INT_FAST16_MAX     INT_FAST16_MIN     UINT_FAST16_MAX</span>
<span id="cb522-13" d__=""><a href="#cb522-13" aria-hidden="true" tabindex="-1"></a>INT_FAST32_MAX     INT_FAST32_MIN     UINT_FAST32_MAX</span>
<span id="cb522-14" d__=""><a href="#cb522-14" aria-hidden="true" tabindex="-1"></a>INT_FAST64_MAX     INT_FAST64_MIN     UINT_FAST64_MAX</span>
<span id="cb522-15"><a href="#cb522-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb522-16" d__=""><a href="#cb522-16" aria-hidden="true" tabindex="-1"></a>INTMAX_MAX         INTMAX_MIN         UINTMAX_MAX</span>
<span id="cb522-17"><a href="#cb522-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb522-18" d__=""><a href="#cb522-18" aria-hidden="true" tabindex="-1"></a>INTPTR_MAX         INTPTR_MIN         UINTPTR_MAX</span></code></pre></div>
<p d__="">For the exact-bit-size signed types, the minimum is exactly <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="151"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-msup><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-script style="vertical-align: 0.363em;"><mjx-texatom size="s" texclass="ORD" s__="13"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D441 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-texatom></mjx-script></mjx-msup><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>−</mo><mo stretchy="false">(</mo><msup><mn>2</mn><mrow data-mjx-texclass="ORD" s__="13"><mi>N</mi><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container></span> and the maximum is exactly <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="152"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msup><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-script style="vertical-align: 0.363em;"><mjx-texatom size="s" texclass="ORD" s__="13"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D441 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-texatom></mjx-script></mjx-msup><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="3"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mrow data-mjx-texclass="ORD" s__="13"><mi>N</mi><mo>−</mo><mn>1</mn></mrow></msup><mo>−</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container></span>. And for the exact-bit-size unsigned types, the max is exactly <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="153"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msup><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-script style="vertical-align: 0.363em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D441 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msup><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="3"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mi s__="13">N</mi></msup><mo>−</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container></span>.</p>
<p d__="">For the signed “least” and “fast” variants, the magnitude and sign of the minimum is at least <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="154"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-msup><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-script style="vertical-align: 0.363em;"><mjx-texatom size="s" texclass="ORD" s__="13"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D441 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-texatom></mjx-script></mjx-msup><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="3"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>−</mo><mo stretchy="false">(</mo><msup><mn>2</mn><mrow data-mjx-texclass="ORD" s__="13"><mi>N</mi><mo>−</mo><mn>1</mn></mrow></msup><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container></span> and the maximum is at least <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="155"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msup><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-script style="vertical-align: 0.363em;"><mjx-texatom size="s" texclass="ORD" s__="13"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D441 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-texatom></mjx-script></mjx-msup><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="3"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mrow data-mjx-texclass="ORD" s__="13"><mi>N</mi><mo>−</mo><mn>1</mn></mrow></msup><mo>−</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container></span>. And for unsigned it’s at least <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="156"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msup><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-script style="vertical-align: 0.363em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D441 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msup><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="3"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mi s__="13">N</mi></msup><mo>−</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container></span>.</p>
<p d__=""><code s__="13">INTMAX_MAX</code> is at least <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="157"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msup><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-script style="vertical-align: 0.363em;"><mjx-texatom size="s" texclass="ORD" s__="13"><mjx-mn class="mjx-n"><mjx-c class="mjx-c36"></mjx-c><mjx-c class="mjx-c33"></mjx-c></mjx-mn></mjx-texatom></mjx-script></mjx-msup><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="3"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mrow data-mjx-texclass="ORD" s__="13"><mn>63</mn></mrow></msup><mo>−</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container></span>, <code s__="13">INTMAX_MIN</code> is at least <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="158"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-msup><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-script style="vertical-align: 0.363em;"><mjx-texatom size="s" texclass="ORD" s__="13"><mjx-mn class="mjx-n"><mjx-c class="mjx-c36"></mjx-c><mjx-c class="mjx-c33"></mjx-c></mjx-mn></mjx-texatom></mjx-script></mjx-msup><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="3"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>−</mo><mo stretchy="false">(</mo><msup><mn>2</mn><mrow data-mjx-texclass="ORD" s__="13"><mn>63</mn></mrow></msup><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container></span> in sign and magnitude. And <code s__="13">UINTMAX_MAX</code> is at least <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="159"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msup><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-script style="vertical-align: 0.363em;"><mjx-texatom size="s" texclass="ORD" s__="13"><mjx-mn class="mjx-n"><mjx-c class="mjx-c36"></mjx-c><mjx-c class="mjx-c34"></mjx-c></mjx-mn></mjx-texatom></mjx-script></mjx-msup><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="3"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mrow data-mjx-texclass="ORD" s__="13"><mn>64</mn></mrow></msup><mo>−</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container></span>.</p>
<p d__="">Finally, <code s__="13">INTPTR_MAX</code> is at least <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="160"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msup><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-script style="vertical-align: 0.363em;"><mjx-texatom size="s" texclass="ORD" s__="13"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c35"></mjx-c></mjx-mn></mjx-texatom></mjx-script></mjx-msup><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="3"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mrow data-mjx-texclass="ORD" s__="13"><mn>15</mn></mrow></msup><mo>−</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container></span>, <code s__="13">INTPTR_MIN</code> is at least <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="161"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mo class="mjx-n"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-msup><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-script style="vertical-align: 0.363em;"><mjx-texatom size="s" texclass="ORD" s__="13"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c35"></mjx-c></mjx-mn></mjx-texatom></mjx-script></mjx-msup><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="3"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>−</mo><mo stretchy="false">(</mo><msup><mn>2</mn><mrow data-mjx-texclass="ORD" s__="13"><mn>15</mn></mrow></msup><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container></span> in sign and magnitude. And <code s__="13">UINTPTR_MAX</code> is at least <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="162"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msup><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-script style="vertical-align: 0.363em;"><mjx-texatom size="s" texclass="ORD" s__="13"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c36"></mjx-c></mjx-mn></mjx-texatom></mjx-script></mjx-msup><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="3"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mrow data-mjx-texclass="ORD" s__="13"><mn>16</mn></mrow></msup><mo>−</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container></span>.</p>
<h2 data-number="22.4" id="other-limits" d__=""><span class="header-section-number">22.4</span> Other Limits</h2>
<p d__="">There are a bunch of types in <code s__="13">&lt;inttypes.h&gt;</code>(#inttypes) that have their limits defined here. (<code s__="13">&lt;inttypes.h&gt;</code> includes <code s__="13">&lt;stdint.h&gt;</code>.)</p>
<p> </p>
<table>
<thead>
<tr class="header">
<th d__="">Macro</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">PTRDIFF_MIN</code></td>
<td d__="">Minimum <code s__="13">ptrdiff_t</code> value</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">PTRDIFF_MAX</code></td>
<td d__="">Maximum <code s__="13">ptrdiff_t</code> value</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">SIG_ATOMIC_MIN</code></td>
<td d__="">Minimum <code s__="13">sig_atomic_t</code> value</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">SIG_ATOMIC_MAX</code></td>
<td d__="">Maximum <code s__="13">sig_atomic_t</code> value</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">SIZE_MAX</code></td>
<td d__="">Maximum <code s__="13">size_t</code> value</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">WCHAR_MIN</code></td>
<td d__="">Minimum <code s__="13">wchar_t</code> value</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">WCHAR_MAX</code></td>
<td d__="">Maximum <code s__="13">wchar_t</code> value</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">WINT_MIN</code></td>
<td d__="">Minimum <code s__="13">wint_t</code> value</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">WINT_MAX</code></td>
<td d__="">Maximum <code s__="13">wint_t</code> value</td>
</tr>
</tbody>
</table>
<p d__="">The spec says that <code s__="13">PTRDIFF_MIN</code> will be at least -65535 in magnitude. And <code s__="13">PTRDIFF_MAX</code> and <code s__="13">SIZE_MAX</code> will be at least 65535.</p>
<p d__=""><code s__="13">SIG_ATOMIC_MIN</code> and <code s__="13">MAX</code> will be either -127 and 127 (if it’s signed) or 0 and 255 (if it’s unsigned).</p>
<p d__="">Same for <code s__="13">WCHAR_MIN</code> and <code s__="13">MAX</code>.</p>
<p d__=""><code s__="13">WINT_MIN</code> and <code s__="13">MAX</code> will be either -32767 and 32767 (if it’s signed) or 0 and 65535 (if it’s unsigned).</p>
<h2 data-number="22.5" id="macros-for-declaring-constants" d__=""><span class="header-section-number">22.5</span> Macros for Declaring Constants</h2>
<p d__="">If you recall, you can specify a type for integer constants:</p>
<div class="sourceCode" id="cb523"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb523-1" d__=""><a href="#cb523-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> x <span class="op" d__="">=</span> <span class="dv" d__="">12</span><span class="op" d__="">;</span></span>
<span id="cb523-2" d__=""><a href="#cb523-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">int</span> y <span class="op" d__="">=</span> <span class="dv" d__="">12</span><span class="bu" d__="">L</span><span class="op" d__="">;</span></span>
<span id="cb523-3" d__=""><a href="#cb523-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> z <span class="op" d__="">=</span> <span class="dv" d__="">12</span><span class="bu" d__="">ULL</span><span class="op" d__="">;</span></span></code></pre></div>
<p d__="">You can use the macros <code s__="13">INT</code><em>N</em><code s__="13">_C()</code> and <code s__="13">UINT</code><em>N</em><code s__="13">()</code> where <em>N</em> is <code s__="13">8</code>, <code s__="13">16</code>, <code s__="13">32</code> or <code s__="13">64</code>.</p>
<p></p>
<div class="sourceCode" id="cb524"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb524-1" d__=""><a href="#cb524-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">uint_least16_t</span> x <span class="op" d__="">=</span> INT16_C<span class="op" d__="">(</span><span class="dv" d__="">3490</span><span class="op" d__="">);</span></span>
<span id="cb524-2" d__=""><a href="#cb524-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">uint_least64_t</span> y <span class="op" d__="">=</span> INT64_C<span class="op" d__="">(</span><span class="dv" d__="">1122334455</span><span class="op" d__="">);</span></span></code></pre></div>
<p d__="">A variant on these is <code s__="13">INTMAX_C()</code> and <code s__="13">UINTMAX_C()</code>. They will make a constant suitable for storing in an <code s__="13">intmax_t</code> or <code s__="13">uintmax_t</code>.</p>
<p> </p>
<div class="sourceCode" id="cb525"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb525-1" d__=""><a href="#cb525-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">intmax_t</span> x <span class="op" d__="">=</span> INTMAX_C<span class="op" d__="">(</span><span class="dv" d__="">3490</span><span class="op" d__="">);</span></span>
<span id="cb525-2" d__=""><a href="#cb525-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">uintmax_t</span> x <span class="op" d__="">=</span> UINTMAX_C<span class="op" d__="">(</span><span class="dv" d__="">1122334455</span><span class="op" d__="">);</span></span></code></pre></div>
<!--
***
## `example()` `example()` `example()` {#man-example}

### Synopsis {.unnumbered .unlisted}

``` {.c}
```

### Description {.unnumbered .unlisted}

### Return Value {.unnumbered .unlisted}

### Example {.unnumbered .unlisted}

``` {.c .numberLines}
```

### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="23" id="stdio" d__=""><span class="header-section-number">23</span> <code>&lt;stdio.h&gt;</code> Standard I/O Library</h1>
<p></p>
<table>
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Function</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#man-feof"><code s__="13" d__="">clearerr()</code></a></td>
<td d__="">Clear the <code s__="13">feof</code> and <code s__="13">ferror</code> status flags</td>
</tr>
<tr class="even">
<td><a href="#man-fclose"><code s__="13" d__="">fclose()</code></a></td>
<td d__="">Close an open file</td>
</tr>
<tr class="odd">
<td><a href="#man-feof"><code s__="13" d__="">feof()</code></a></td>
<td d__="">Return the file end-of-file status</td>
</tr>
<tr class="even">
<td><a href="#man-feof"><code s__="13" d__="">ferror()</code></a></td>
<td d__="">Return the file error status</td>
</tr>
<tr class="odd">
<td><a href="#man-fflush"><code s__="13" d__="">fflush()</code></a></td>
<td d__="">Flush all buffered output to a file</td>
</tr>
<tr class="even">
<td><a href="#man-getc"><code s__="13" d__="">fgetc()</code></a></td>
<td d__="">Read a character in a file</td>
</tr>
<tr class="odd">
<td><a href="#man-fgetpos"><code s__="13" d__="">fgetpos()</code></a></td>
<td d__="">Get the file I/O position</td>
</tr>
<tr class="even">
<td><a href="#man-gets"><code s__="13" d__="">fgets()</code></a></td>
<td d__="">Read a line from a file</td>
</tr>
<tr class="odd">
<td><a href="#man-fopen"><code s__="13" d__="">fopen()</code></a></td>
<td d__="">Open a file</td>
</tr>
<tr class="even">
<td><a href="#man-printf"><code s__="13" d__="">fprintf()</code></a></td>
<td d__="">Print formatted output to a file</td>
</tr>
<tr class="odd">
<td><a href="#man-putc"><code s__="13" d__="">fputc()</code></a></td>
<td d__="">Print a character to a file</td>
</tr>
<tr class="even">
<td><a href="#man-puts"><code s__="13" d__="">fputs()</code></a></td>
<td d__="">Print a string to a file</td>
</tr>
<tr class="odd">
<td><a href="#man-fread"><code s__="13" d__="">fread()</code></a></td>
<td d__="">Read binary data from a file</td>
</tr>
<tr class="even">
<td><a href="#man-freopen"><code s__="13" d__="">freopen()</code></a></td>
<td d__="">Change file associated with a stream</td>
</tr>
<tr class="odd">
<td><a href="#man-scanf"><code s__="13" d__="">fscanf()</code></a></td>
<td d__="">Read formatted input from a file</td>
</tr>
<tr class="even">
<td><a href="#man-fseek"><code s__="13" d__="">fseek()</code></a></td>
<td d__="">Set the file I/O position</td>
</tr>
<tr class="odd">
<td><a href="#man-fgetpos"><code s__="13" d__="">fsetpos()</code></a></td>
<td d__="">Set the file I/O position</td>
</tr>
<tr class="even">
<td><a href="#man-ftell"><code s__="13" d__="">ftell()</code></a></td>
<td d__="">Get the file I/O position</td>
</tr>
<tr class="odd">
<td><a href="#man-fwrite"><code s__="13" d__="">fwrite()</code></a></td>
<td d__="">Write binary data to a file</td>
</tr>
<tr class="even">
<td><a href="#man-getc"><code s__="13" d__="">getc()</code></a></td>
<td d__="">Get a character from <code s__="13">stdin</code></td>
</tr>
<tr class="odd">
<td><a href="#man-getc"><code s__="13" d__="">getchar()</code></a></td>
<td d__="">Get a character from <code s__="13">stdin</code></td>
</tr>
<tr class="even">
<td><a href="#man-gets"><code s__="13" d__="">gets()</code></a></td>
<td d__="">Get a string from <code s__="13">stdin</code> (removed in C11)</td>
</tr>
<tr class="odd">
<td><a href="#man-perror"><code s__="13" d__="">perror()</code></a></td>
<td d__="">Print a human-formatted error message</td>
</tr>
<tr class="even">
<td><a href="#man-printf"><code s__="13" d__="">printf()</code></a></td>
<td d__="">Print formatted output to <code s__="13">stdout</code></td>
</tr>
<tr class="odd">
<td><a href="#man-putc"><code s__="13" d__="">putc()</code></a></td>
<td d__="">Print a character to <code s__="13">stdout</code></td>
</tr>
<tr class="even">
<td><a href="#man-putc"><code s__="13" d__="">putchar()</code></a></td>
<td d__="">Print a character to <code s__="13">stdout</code></td>
</tr>
<tr class="odd">
<td><a href="#man-puts"><code s__="13" d__="">puts()</code></a></td>
<td d__="">Print a string to <code s__="13">stdout</code></td>
</tr>
<tr class="even">
<td><a href="#man-remove"><code s__="13" d__="">remove()</code></a></td>
<td d__="">Delete a file from disk</td>
</tr>
<tr class="odd">
<td><a href="#man-rename"><code s__="13" d__="">rename()</code></a></td>
<td d__="">Rename or move a file on disk</td>
</tr>
<tr class="even">
<td><a href="#man-fseek"><code s__="13" d__="">rewind()</code></a></td>
<td d__="">Set the I/O position to the beginning of a file</td>
</tr>
<tr class="odd">
<td><a href="#man-scanf"><code s__="13" d__="">scanf()</code></a></td>
<td d__="">Read formatted input from <code s__="13">stdin</code></td>
</tr>
<tr class="even">
<td><a href="#man-setbuf"><code s__="13" d__="">setbuf()</code></a></td>
<td d__="">Configure buffering for I/O operations</td>
</tr>
<tr class="odd">
<td><a href="#man-setbuf"><code s__="13" d__="">setvbuf()</code></a></td>
<td d__="">Configure buffering for I/O operations</td>
</tr>
<tr class="even">
<td><a href="#man-printf"><code s__="13" d__="">snprintf()</code></a></td>
<td d__="">Print length-limited formatted output to a string</td>
</tr>
<tr class="odd">
<td><a href="#man-printf"><code s__="13" d__="">sprintf()</code></a></td>
<td d__="">Print formatted output to a string</td>
</tr>
<tr class="even">
<td><a href="#man-scanf"><code s__="13" d__="">sscanf()</code></a></td>
<td d__="">Read formatted input from a string</td>
</tr>
<tr class="odd">
<td><a href="#man-tmpfile"><code s__="13" d__="">tmpfile()</code></a></td>
<td d__="">Create a temporary file</td>
</tr>
<tr class="even">
<td><a href="#man-tmpnam"><code s__="13" d__="">tmpnam()</code></a></td>
<td d__="">Generate a unique name for a temporary file</td>
</tr>
<tr class="odd">
<td><a href="#man-ungetc"><code s__="13" d__="">ungetc()</code></a></td>
<td d__="">Push a character back on the input stream</td>
</tr>
<tr class="even">
<td><a href="#man-vprintf"><code s__="13" d__="">vfprintf()</code></a></td>
<td d__="">Variadic print formatted output to a file</td>
</tr>
<tr class="odd">
<td><a href="#man-vscanf"><code s__="13" d__="">vfscanf()</code></a></td>
<td d__="">Variadic read formatted input from a file</td>
</tr>
<tr class="even">
<td><a href="#man-vprintf"><code s__="13" d__="">vprintf()</code></a></td>
<td d__="">Variadic print formatted output to <code s__="13">stdout</code></td>
</tr>
<tr class="odd">
<td><a href="#man-vscanf"><code s__="13" d__="">vscanf()</code></a></td>
<td d__="">Variadic read formatted input from <code s__="13">stdin</code></td>
</tr>
<tr class="even">
<td><a href="#man-vprintf"><code s__="13" d__="">vsnprintf()</code></a></td>
<td d__="">Variadic length-limited print formatted output to a string</td>
</tr>
<tr class="odd">
<td><a href="#man-vprintf"><code s__="13" d__="">vsprintf()</code></a></td>
<td d__="">Variadic print formatted output to a string</td>
</tr>
<tr class="even">
<td><a href="#man-vscanf"><code s__="13" d__="">vsscanf()</code></a></td>
<td d__="">Variadic read formatted input to a string</td>
</tr>
</tbody>
</table>
<p d__="">The most basic of all libraries in the whole of the standard C
 library is the standard I/O library. It’s used for reading from and 
writing to files. I can see you’re very excited about this.</p>
<p d__="">So I’ll continue. It’s also used for reading and writing to the console, as we’ve already often seen with the <code s__="13">printf()</code> function.</p>
<p d__="">(A little secret here—many many things in various operating 
systems are secretly files deep down, and the console is no exception. “<em>Everything in Unix is a file!</em>” <code s__="13">:-)</code>)</p>
<p d__="">You’ll probably want some prototypes of the functions you can 
use, right? To get your grubby little mittens on those, you’ll want to 
include <code s__="13">stdio.h</code>.</p>
<p d__="">Anyway, so we can do all kinds of cool stuff in terms of file 
I/O. LIE DETECTED. Ok, ok. We can do all kinds of stuff in terms of file
 I/O. Basically, the strategy is this:</p>
<ol type="1">
<li><p d__="">Use <code s__="13">fopen()</code> to get a pointer to a file structure of type <code s__="13">FILE*</code>. This pointer is what you’ll be passing to many of the other file I/O calls.</p></li>
<li><p d__="">Use some of the other file calls, like <code s__="13">fscanf()</code>, <code s__="13">fgets()</code>, <code s__="13">fprintf()</code>, or etc. using the <code s__="13">FILE*</code> returned from <code s__="13">fopen()</code>.</p></li>
<li><p d__="">When done, call <code s__="13">fclose()</code> with the <code s__="13">FILE*</code>. This let’s the operating system know that you’re truly done with the file, no take-backs.</p></li>
</ol>
<p d__="">What’s in the <code s__="13">FILE*</code>? Well, as you might guess, it points to a <code s__="13">struct</code>
 that contains all kinds of information about the current read and write
 position in the file, how the file was opened, and other stuff like 
that. But, honestly, who cares. No one, that’s who. The <code s__="13">FILE</code> structure is <em>opaque</em> to you as a programmer; that is, you don’t need to know what’s in it, and you don’t even <em>want</em> to know what’s in it. You just pass it to the other standard I/O functions and they know what to do.</p>
<p d__="">This is actually pretty important: try to not muck around in the <code s__="13">FILE</code> structure. It’s not even the same from system to system, and you’ll end up writing some really non-portable code.</p>
<p d__="">One more thing to mention about the standard I/O library: a 
lot of the functions that operate on files use an “f” prefix on the 
function name. The same function that is operating on the console will 
leave the “f” off. For instance, if you want to print to the console, 
you use <code s__="13">printf()</code>, but if you want to print to a file, use <code s__="13">fprintf()</code>, see?</p>
<p d__="">Wait a moment! If writing to the console is, deep down, just 
like writing to a file, since everything in Unix is a file, why are 
there two functions? Answer: it’s more convenient. But, more 
importantly, is there a <code s__="13">FILE*</code> associated with the console that you can use? Answer: YES!</p>
<p d__="">There are, in fact, <em>three</em> (count ’em!) special <code s__="13">FILE*</code>s you have at your disposal merely for just including <code s__="13">stdio.h</code>. There is one for input, and two for output.</p>
<p d__="">That hardly seems fair—why does output get two files, and input only get one?</p>
<p d__="">That’s jumping the gun a bit—let’s just look at them:</p>
<p> </p>
<table>
<thead>
<tr class="header">
<th d__="">Stream</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">stdin</code></td>
<td d__="">Input from the console.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">stdout</code></td>
<td d__="">Output to the console.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">stderr</code></td>
<td d__="">Output to the console on the error file stream.</td>
</tr>
</tbody>
</table>
<p d__="">So standard input (<code s__="13">stdin</code>) is by default just what you type at the keyboard. You can use that in <code s__="13">fscanf()</code> if you want, just like this:</p>
<div class="sourceCode" id="cb526"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb526-1"><a href="#cb526-1" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">/* this line: */</span></span>
<span id="cb526-2" d__=""><a href="#cb526-2" aria-hidden="true" tabindex="-1"></a>scanf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>x<span class="op" d__="">);</span></span>
<span id="cb526-3"><a href="#cb526-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb526-4"><a href="#cb526-4" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">/* is just like this line: */</span></span>
<span id="cb526-5" d__=""><a href="#cb526-5" aria-hidden="true" tabindex="-1"></a>fscanf<span class="op" d__="">(</span>stdin<span class="op" d__="">,</span> <span class="st" d__="">"</span><span class="sc" d__="">%d</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>x<span class="op" d__="">);</span></span></code></pre></div>
<p d__="">And <code s__="13">stdout</code> works the same way:</p>
<div class="sourceCode" id="cb527"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb527-1" d__=""><a href="#cb527-1" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"Hello, world!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb527-2" d__=""><a href="#cb527-2" aria-hidden="true" tabindex="-1"></a>fprintf<span class="op" d__="">(</span>stdout<span class="op" d__="">,</span> <span class="st" d__="">"Hello, world!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span> <span class="co" d__="">/* same as previous line! */</span></span></code></pre></div>
<p d__="">So what is this <code s__="13">stderr</code> thing? What happens when you output to that? Well, generally it goes to the console just like <code s__="13">stdout</code>,
 but people use it for error messages, specifically. Why? On many 
systems you can redirect the output from the program into a file from 
the command line…and sometimes you’re interested in getting just the 
error output. So if the program is good and writes all its errors to <code s__="13">stderr</code>, a user can redirect just <code s__="13">stderr</code> into a file, and just see that. It’s just a nice thing you, as a programmer, can do.</p>
<p d__="">Finally, a lot of these functions return <code s__="13">int</code> where you might expect <code s__="13">char</code>. This is because the function can return a character <em>or</em> end-of-file (<code s__="13">EOF</code>), and <code s__="13">EOF</code> is potentially an integer. If you don’t get <code s__="13">EOF</code> as a return value, you can safely store the result in a <code s__="13">char</code>.</p>
<hr>
<h2 data-number="23.1" id="man-remove"><span class="header-section-number" d__="">23.1</span> <code d__="">remove()</code></h2>
<p></p>
<p d__="">Delete a file</p>
<h3 class="unnumbered unlisted" id="synopsis-149" d__="">Synopsis</h3>
<div class="sourceCode" id="cb528"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb528-1"><a href="#cb528-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb528-2"><a href="#cb528-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb528-3" d__=""><a href="#cb528-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> remove<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>filename<span class="op" d__="">);</span> </span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-149" d__="">Description</h3>
<p d__="">Removes the specified file from the filesystem. It just 
deletes it. Nothing magical. Simply call this function and sacrifice a 
small chicken and the requested file will be deleted.</p>
<h3 class="unnumbered unlisted" id="return-value-147" d__="">Return Value</h3>
<p d__="">Returns zero on success, and <code s__="13">-1</code> on error, setting <code s__="13">errno</code>.</p>
<h3 class="unnumbered unlisted" id="example-150" d__="">Example</h3>
<div class="sourceCode" id="cb529"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb529-1"><a href="#cb529-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb529-2"><a href="#cb529-2"></a></span>
<span id="cb529-3" d__=""><a href="#cb529-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb529-4"><a href="#cb529-4"></a><span class="op" d__="">{</span></span>
<span id="cb529-5" d__=""><a href="#cb529-5"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>filename <span class="op" d__="">=</span> <span class="st" d__="">"evidence.txt"</span><span class="op" d__="">;</span></span>
<span id="cb529-6"><a href="#cb529-6"></a></span>
<span id="cb529-7" d__=""><a href="#cb529-7"></a>    remove<span class="op" d__="">(</span>filename<span class="op" d__="">);</span></span>
<span id="cb529-8"><a href="#cb529-8"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-139" d__="">See Also</h3>
<p><a href="#man-rename"><code s__="13" d__="">rename()</code></a></p>
<hr>
<h2 data-number="23.2" id="man-rename"><span class="header-section-number" d__="">23.2</span> <code d__="">rename()</code></h2>
<p></p>
<p d__="">Renames a file and optionally moves it to a new location</p>
<h3 class="unnumbered unlisted" id="synopsis-150" d__="">Synopsis</h3>
<div class="sourceCode" id="cb530"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb530-1"><a href="#cb530-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb530-2"><a href="#cb530-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb530-3" d__=""><a href="#cb530-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> rename<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>old<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>new<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-150" d__="">Description</h3>
<p d__="">Renames the file <code s__="13">old</code> to name <code s__="13">new</code>.
 Use this function if you’re tired of the old name of the file, and you 
are ready for a change. Sometimes simply renaming your files makes them 
feel new again, and could save you money over just getting all new 
files!</p>
<p d__="">One other cool thing you can do with this function is actually
 move a file from one directory to another by specifying a different 
path for the new name.</p>
<h3 class="unnumbered unlisted" id="return-value-148" d__="">Return Value</h3>
<p d__="">Returns zero on success, and <code s__="13">-1</code> on error, setting <code s__="13">errno</code>.</p>
<h3 class="unnumbered unlisted" id="example-151" d__="">Example</h3>
<div class="sourceCode" id="cb531"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb531-1"><a href="#cb531-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb531-2"><a href="#cb531-2"></a></span>
<span id="cb531-3" d__=""><a href="#cb531-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb531-4"><a href="#cb531-4"></a><span class="op" d__="">{</span></span>
<span id="cb531-5"><a href="#cb531-5"></a>    <span class="co" d__="">// Rename a file</span></span>
<span id="cb531-6" d__=""><a href="#cb531-6"></a>    rename<span class="op" d__="">(</span><span class="st" d__="">"foo"</span><span class="op" d__="">,</span> <span class="st" d__="">"bar"</span><span class="op" d__="">);</span></span>
<span id="cb531-7"><a href="#cb531-7"></a></span>
<span id="cb531-8"><a href="#cb531-8"></a>    <span class="co" d__="">// Rename and move to another directory:</span></span>
<span id="cb531-9" d__=""><a href="#cb531-9"></a>    rename<span class="op" d__="">(</span><span class="st" d__="">"/home/beej/evidence.txt"</span><span class="op" d__="">,</span> <span class="st" d__="">"/tmp/nothing.txt"</span><span class="op" d__="">);</span></span>
<span id="cb531-10"><a href="#cb531-10"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-140" d__="">See Also</h3>
<p><a href="#man-remove"><code s__="13" d__="">remove()</code></a></p>
<hr>
<h2 data-number="23.3" id="man-tmpfile"><span class="header-section-number" d__="">23.3</span> <code d__="">tmpfile()</code></h2>
<p></p>
<p d__="">Create a temporary file</p>
<h3 class="unnumbered unlisted" id="synopsis-151" d__="">Synopsis</h3>
<div class="sourceCode" id="cb532"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb532-1"><a href="#cb532-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb532-2"><a href="#cb532-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb532-3" d__=""><a href="#cb532-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>tmpfile<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-151" d__="">Description</h3>
<p d__="">This is a nifty little function that will create and open a temporary file for you, and will return a <code s__="13">FILE*</code> to it that you can use. The file is opened with mode “<code s__="13">r+b</code>”, so it’s suitable for reading, writing, and binary data.</p>
<p d__="">By using a little magic, the temp file is automatically deleted when it is <code s__="13">close()</code>’d or when your program exits. (Specifically, in Unix terms, <code s__="13">tmpfile()</code> <a href="https://man.archlinux.org/man/unlinkat.2.en#DESCRIPTION"><em d__="">unlinks</em></a><a href="#fn46" class="footnote-ref" id="fnref46" role="doc-noteref"><sup s__="13" d__="">46</sup></a>
 the file right after it opens it. This means that it’s primed to be 
deleted from disk, but still exists because your process still has it 
open. As soon as your process exits, all open files are closed, and the 
temp file vanishes into the ether.)</p>
<h3 class="unnumbered unlisted" id="return-value-149" d__="">Return Value</h3>
<p d__="">This function returns an open <code s__="13">FILE*</code> on success, or <code s__="13">NULL</code> on failure.</p>
<h3 class="unnumbered unlisted" id="example-152" d__="">Example</h3>
<div class="sourceCode" id="cb533"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb533-1"><a href="#cb533-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb533-2"><a href="#cb533-2"></a></span>
<span id="cb533-3" d__=""><a href="#cb533-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb533-4"><a href="#cb533-4"></a><span class="op" d__="">{</span></span>
<span id="cb533-5" d__=""><a href="#cb533-5"></a>    <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>temp<span class="op" d__="">;</span></span>
<span id="cb533-6" d__=""><a href="#cb533-6"></a>    <span class="dt" d__="">char</span> s<span class="op" d__="">[</span><span class="dv" d__="">128</span><span class="op" d__="">];</span></span>
<span id="cb533-7"><a href="#cb533-7"></a></span>
<span id="cb533-8" d__=""><a href="#cb533-8"></a>    temp <span class="op" d__="">=</span> tmpfile<span class="op" d__="">();</span></span>
<span id="cb533-9"><a href="#cb533-9"></a></span>
<span id="cb533-10" d__=""><a href="#cb533-10"></a>    fprintf<span class="op" d__="">(</span>temp<span class="op" d__="">,</span> <span class="st" d__="">"What is the frequency, Alexander?</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb533-11"><a href="#cb533-11"></a></span>
<span id="cb533-12" d__=""><a href="#cb533-12"></a>    rewind<span class="op" d__="">(</span>temp<span class="op" d__="">);</span> <span class="co" d__="">// back to the beginning</span></span>
<span id="cb533-13"><a href="#cb533-13"></a></span>
<span id="cb533-14" d__=""><a href="#cb533-14"></a>    fscanf<span class="op" d__="">(</span>temp<span class="op" d__="">,</span> <span class="st" d__="">"</span><span class="sc" d__="">%s</span><span class="st" d__="">"</span><span class="op" d__="">,</span> s<span class="op" d__="">);</span> <span class="co" d__="">// read it back out</span></span>
<span id="cb533-15"><a href="#cb533-15"></a></span>
<span id="cb533-16" d__=""><a href="#cb533-16"></a>    fclose<span class="op" d__="">(</span>temp<span class="op" d__="">);</span> <span class="co" d__="">// close (and magically delete)</span></span>
<span id="cb533-17"><a href="#cb533-17"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-141" d__="">See Also</h3>
<p d__=""><a href="#man-fopen"><code s__="13" d__="">fopen()</code></a>, <a href="#man-fclose"><code s__="13" d__="">fclose()</code></a>, <a href="#man-tmpnam"><code s__="13" d__="">tmpnam()</code></a></p>
<hr>
<h2 data-number="23.4" id="man-tmpnam"><span class="header-section-number" d__="">23.4</span> <code d__="">tmpnam()</code></h2>
<p></p>
<p d__="">Generate a unique name for a temporary file</p>
<h3 class="unnumbered unlisted" id="synopsis-152" d__="">Synopsis</h3>
<div class="sourceCode" id="cb534"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb534-1"><a href="#cb534-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb534-2"><a href="#cb534-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb534-3" d__=""><a href="#cb534-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> <span class="op" d__="">*</span>tmpnam<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span>s<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-152" d__="">Description</h3>
<p d__="">This function takes a good hard look at the existing files on 
your system, and comes up with a unique name for a new file that is 
suitable for temporary file usage.</p>
<p d__="">Let’s say you have a program that needs to store off some data
 for a short time so you create a temporary file for the data, to be 
deleted when the program is done running. Now imagine that you called 
this file <code s__="13">foo.txt</code>. This is all well and good, except what if a user already has a file called <code s__="13">foo.txt</code>
 in the directory that you ran your program from? You’d overwrite their 
file, and they’d be unhappy and stalk you forever. And you wouldn’t want
 that, now would you?</p>
<p d__="">Ok, so you get wise, and you decide to put the file in <code s__="13">/tmp</code>
 so that it won’t overwrite any important content. But wait! What if 
some other user is running your program at the same time and they both 
want to use that filename? Or what if some other program has already 
created that file?</p>
<p d__="">See, all of these scary problems can be completely avoided if you just use <code s__="13">tmpnam()</code> to get a safe-ready-to-use filename.</p>
<p d__="">So how do you use it? There are two amazing ways. One, you can declare an array (or <code s__="13">malloc()</code>
 it—whatever) that is big enough to hold the temporary file name. How 
big is that? Fortunately there has been a macro defined for you, <code s__="13">L_tmpnam</code>, which is how big the array must be.</p>
<p d__="">And the second way: just pass <code s__="13">NULL</code> for the filename. <code s__="13">tmpnam()</code> will store the temporary name in a static array and return a pointer to that. Subsequent calls with a <code s__="13">NULL</code> argument will overwrite the static array, so be sure you’re done using it before you call <code s__="13">tmpnam()</code> again.</p>
<p d__="">Again, this function just makes a file name for you. It’s up to you to later <code s__="13">fopen()</code> the file and use it.</p>
<p d__="">One more note: some compilers warn against using <code s__="13">tmpnam()</code> since some systems have better functions (like the Unix function <code s__="13">mkstemp()</code>.)
 You might want to check your local documentation to see if there’s a 
better option. Linux documentation goes so far as to say, “Never use 
this function. Use <code s__="13">mkstemp()</code> instead.”</p>
<p d__="">I, however, am going to be a jerk and not talk about <a href="https://man.archlinux.org/man/mkstemp.3.en"><code s__="13" d__="">mkstemp()</code></a><a href="#fn47" class="footnote-ref" id="fnref47" role="doc-noteref"><sup s__="13" d__="">47</sup></a> because it’s not in the standard I’m writing about. Nyaah.</p>
<p d__="">The macro <code s__="13">TMP_MAX</code> holds the number of unique filenames that can be generated by <code s__="13">tmpnam()</code>. Ironically, it is the <em>minimum</em> number of such filenames.</p>
<h3 class="unnumbered unlisted" id="return-value-150" d__="">Return Value</h3>
<p d__="">Returns a pointer to the temporary file name. This is either a
 pointer to the string you passed in, or a pointer to internal static 
storage if you passed in <code s__="13">NULL</code>. On error (like it can’t find any temporary name that is unique), <code s__="13">tmpnam()</code> returns <code s__="13">NULL</code>.</p>
<h3 class="unnumbered unlisted" id="example-153" d__="">Example</h3>
<div class="sourceCode" id="cb535"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb535-1"><a href="#cb535-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb535-2"><a href="#cb535-2"></a></span>
<span id="cb535-3" d__=""><a href="#cb535-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb535-4"><a href="#cb535-4"></a><span class="op" d__="">{</span></span>
<span id="cb535-5" d__=""><a href="#cb535-5"></a>    <span class="dt" d__="">char</span> filename<span class="op" d__="">[</span>L_tmpnam<span class="op" d__="">];</span></span>
<span id="cb535-6" d__=""><a href="#cb535-6"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>another_filename<span class="op" d__="">;</span></span>
<span id="cb535-7"><a href="#cb535-7"></a></span>
<span id="cb535-8" d__=""><a href="#cb535-8"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>tmpnam<span class="op" d__="">(</span>filename<span class="op" d__="">)</span> <span class="op" d__="">!=</span> NULL<span class="op" d__="">)</span></span>
<span id="cb535-9" d__=""><a href="#cb535-9"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"We got a temp file name: </span><span class="sc" d__="">\"%s\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> filename<span class="op" d__="">);</span></span>
<span id="cb535-10"><a href="#cb535-10"></a>    <span class="cf" d__="">else</span></span>
<span id="cb535-11" d__=""><a href="#cb535-11"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"Something went wrong, and we got nothing!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb535-12"><a href="#cb535-12"></a></span>
<span id="cb535-13" d__=""><a href="#cb535-13"></a>    another_filename <span class="op" d__="">=</span> tmpnam<span class="op" d__="">(</span>NULL<span class="op" d__="">);</span></span>
<span id="cb535-14"><a href="#cb535-14"></a></span>
<span id="cb535-15" d__=""><a href="#cb535-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"We got another temp file name: </span><span class="sc" d__="">\"%s\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> another_filename<span class="op" d__="">);</span></span>
<span id="cb535-16" d__=""><a href="#cb535-16"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"And we didn't error check it because we're too lazy!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb535-17"><a href="#cb535-17"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">On my Linux system, this generates the following output:</p>
<pre><code s__="13" d__="">We got a temp file name: "/tmp/filew9PMuZ"
We got another temp file name: "/tmp/fileOwrgPO"
And we didn't error check it because we're too lazy!</code></pre>
<h3 class="unnumbered unlisted" id="see-also-142" d__="">See Also</h3>
<p d__=""><a href="#man-fopen"><code s__="13" d__="">fopen()</code></a>, <a href="#man-tmpfile"><code s__="13" d__="">tmpfile()</code></a></p>
<hr>
<h2 data-number="23.5" id="man-fclose"><span class="header-section-number" d__="">23.5</span> <code d__="">fclose()</code></h2>
<p></p>
<p d__="">The opposite of <code s__="13">fopen()</code>—closes a file when you’re done with it so that it frees system resources</p>
<h3 class="unnumbered unlisted" id="synopsis-153" d__="">Synopsis</h3>
<div class="sourceCode" id="cb537"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb537-1"><a href="#cb537-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb537-2"><a href="#cb537-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb537-3" d__=""><a href="#cb537-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> fclose<span class="op" d__="">(</span><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-153" d__="">Description</h3>
<p d__="">When you open a file, the system sets aside some resources to 
maintain information about that open file. Usually it can only open so 
many files at once. In any case, the Right Thing to do is to close your 
files when you’re done using them so that the system resources are 
freed.</p>
<p d__="">Also, you might not find that all the information that you’ve 
written to the file has actually been written to disk until the file is 
closed. (You can force this with a call to <code s__="13">fflush()</code>.)</p>
<p d__="">When your program exits normally, it closes all open files for
 you. Lots of times, though, you’ll have a long-running program, and 
it’d be better to close the files before then. In any case, not closing a
 file you’ve opened makes you look bad. So, remember to <code s__="13">fclose()</code> your file when you’re done with it!</p>
<h3 class="unnumbered unlisted" id="return-value-151" d__="">Return Value</h3>
<p d__="">On success, <code s__="13">0</code> is returned. Typically no one checks for this. On error <code s__="13">EOF</code> is returned. Typically no one checks for this, either.</p>
<h3 class="unnumbered unlisted" id="example-154" d__="">Example</h3>
<div class="sourceCode" id="cb538"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb538-1"><a href="#cb538-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb538-2"><a href="#cb538-2"></a></span>
<span id="cb538-3" d__=""><a href="#cb538-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb538-4"><a href="#cb538-4"></a><span class="op" d__="">{</span></span>
<span id="cb538-5" d__=""><a href="#cb538-5"></a>    <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>fp<span class="op" d__="">;</span></span>
<span id="cb538-6"><a href="#cb538-6"></a></span>
<span id="cb538-7" d__=""><a href="#cb538-7"></a>    fp <span class="op" d__="">=</span> fopen<span class="op" d__="">(</span><span class="st" d__="">"spoon.txt"</span><span class="op" d__="">,</span> <span class="st" d__="">"r"</span><span class="op" d__="">);</span></span>
<span id="cb538-8"><a href="#cb538-8"></a></span>
<span id="cb538-9" d__=""><a href="#cb538-9"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>fp <span class="op" d__="">==</span> NULL<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb538-10" d__=""><a href="#cb538-10"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"Error opening file</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb538-11"><a href="#cb538-11"></a>    <span class="op" d__="">}</span> <span class="cf" d__="">else</span> <span class="op" d__="">{</span></span>
<span id="cb538-12" d__=""><a href="#cb538-12"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"Opened file just fine!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb538-13" d__=""><a href="#cb538-13"></a>        fclose<span class="op" d__="">(</span>fp<span class="op" d__="">);</span>  <span class="co" d__="">// All done!</span></span>
<span id="cb538-14"><a href="#cb538-14"></a>    <span class="op" d__="">}</span></span>
<span id="cb538-15"><a href="#cb538-15"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-143" d__="">See Also</h3>
<p><a href="#man-fopen"><code s__="13" d__="">fopen()</code></a></p>
<hr>
<h2 data-number="23.6" id="man-fflush"><span class="header-section-number" d__="">23.6</span> <code d__="">fflush()</code></h2>
<p></p>
<p d__="">Process all buffered I/O for a stream right now</p>
<h3 class="unnumbered unlisted" id="synopsis-154" d__="">Synopsis</h3>
<div class="sourceCode" id="cb539"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb539-1"><a href="#cb539-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb539-2"><a href="#cb539-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb539-3" d__=""><a href="#cb539-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> fflush<span class="op" d__="">(</span><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-154" d__="">Description</h3>
<p d__="">When you do standard I/O, as mentioned in the section on the <a href="#man-setbuf"><code s__="13" d__="">setvbuf()</code></a>
 function, it is usually stored in a buffer until a line has been 
entered or the buffer is full or the file is closed. Sometimes, though, 
you really want the output to happen <em>right this second</em>, and not wait around in the buffer. You can force this to happen by calling <code s__="13">fflush()</code>.</p>
<p d__="">The advantage to buffering is that the OS doesn’t need to hit the disk every time you call <code s__="13">fprintf()</code>. The disadvantage is that if you look at the file on the disk after the <code s__="13">fprintf()</code> call, it might not have actually been written to yet. (“I called <code s__="13">fputs()</code>,
 but the file is still zero bytes long! Why?!”) In virtually all 
circumstances, the advantages of buffering outweigh the disadvantages; 
for those other circumstances, however, use <code s__="13">fflush()</code>.</p>
<p d__="">Note that <code s__="13">fflush()</code> is only designed to 
work on output streams according to the spec. What will happen if you 
try it on an input stream? Use your spooky voice: <em>who knooooows!</em></p>
<h3 class="unnumbered unlisted" id="return-value-152" d__="">Return Value</h3>
<p d__="">On success, <code s__="13">fflush()</code> returns zero. If there’s an error, it returns <code s__="13">EOF</code> and sets the error condition for the stream (see <a href="#man-feof"><code s__="13" d__="">ferror()</code></a>.)</p>
<h3 class="unnumbered unlisted" id="example-155" d__="">Example</h3>
<p d__="">In this example, we’re going to use the carriage return, which is <code s__="13">'\r'</code>. This is like newline (<code s__="13">'\n'</code>), except that it doesn’t move to the next line. It just returns to the front of the current line.</p>
<p d__="">What we’re going to do is a little text-based status bar like 
so many command line programs implement. It’ll do a countdown from 10 to
 0 printing over itself on the same line.</p>
<p d__="">What is the catch and what does this have to do with <code s__="13">fflush()</code>? The catch is that the terminal is most likely “line buffered” (see the section on <a href="#man-setbuf"><code s__="13" d__="">setvbuf()</code></a>
 for more info), meaning that it won’t actually display anything until 
it prints a newline. But we’re not printing newlines; we’re just 
printing carriage returns, so we need a way to force the output to occur
 even though we’re on the same line. Yes, it’s <code s__="13">fflush()!</code></p>
<div class="sourceCode" id="cb540"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb540-1"><a href="#cb540-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb540-2"><a href="#cb540-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb540-3"><a href="#cb540-3"></a></span>
<span id="cb540-4" d__=""><a href="#cb540-4"></a><span class="dt" d__="">void</span> sleep_seconds<span class="op" d__="">(</span><span class="dt" d__="">int</span> s<span class="op" d__="">)</span></span>
<span id="cb540-5"><a href="#cb540-5"></a><span class="op" d__="">{</span></span>
<span id="cb540-6" d__=""><a href="#cb540-6"></a>    thrd_sleep<span class="op" d__="">(&amp;(</span><span class="kw" d__="">struct</span> timespec<span class="op" d__="">){.</span>tv_sec<span class="op" d__="">=</span>s<span class="op" d__="">},</span> NULL<span class="op" d__="">);</span></span>
<span id="cb540-7"><a href="#cb540-7"></a><span class="op" d__="">}</span></span>
<span id="cb540-8"><a href="#cb540-8"></a></span>
<span id="cb540-9" d__=""><a href="#cb540-9"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb540-10"><a href="#cb540-10"></a><span class="op" d__="">{</span></span>
<span id="cb540-11" d__=""><a href="#cb540-11"></a>    <span class="dt" d__="">int</span> count<span class="op" d__="">;</span></span>
<span id="cb540-12"><a href="#cb540-12"></a></span>
<span id="cb540-13" d__=""><a href="#cb540-13"></a>    <span class="cf" d__="">for</span><span class="op" d__="">(</span>count <span class="op" d__="">=</span> <span class="dv" d__="">10</span><span class="op" d__="">;</span> count <span class="op" d__="">&gt;=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> count<span class="op" d__="">--)</span> <span class="op" d__="">{</span></span>
<span id="cb540-14" d__=""><a href="#cb540-14"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">\r</span><span class="st" d__="">Seconds until launch: "</span><span class="op" d__="">);</span>  <span class="co" d__="">// lead with a CR</span></span>
<span id="cb540-15" d__=""><a href="#cb540-15"></a>        <span class="cf" d__="">if</span> <span class="op" d__="">(</span>count <span class="op" d__="">&gt;</span> <span class="dv" d__="">0</span><span class="op" d__="">)</span></span>
<span id="cb540-16" d__=""><a href="#cb540-16"></a>            printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%2d</span><span class="st" d__="">"</span><span class="op" d__="">,</span> count<span class="op" d__="">);</span></span>
<span id="cb540-17"><a href="#cb540-17"></a>        <span class="cf" d__="">else</span></span>
<span id="cb540-18" d__=""><a href="#cb540-18"></a>            printf<span class="op" d__="">(</span><span class="st" d__="">"blastoff!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb540-19"><a href="#cb540-19"></a></span>
<span id="cb540-20"><a href="#cb540-20"></a>        <span class="co" d__="">// force output now!!</span></span>
<span id="cb540-21" d__=""><a href="#cb540-21"></a>        fflush<span class="op" d__="">(</span>stdout<span class="op" d__="">);</span></span>
<span id="cb540-22"><a href="#cb540-22"></a></span>
<span id="cb540-23" d__=""><a href="#cb540-23"></a>        sleep_seconds<span class="op" d__="">(</span><span class="dv" d__="">1</span><span class="op" d__="">);</span></span>
<span id="cb540-24"><a href="#cb540-24"></a>    <span class="op" d__="">}</span></span>
<span id="cb540-25"><a href="#cb540-25"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-144" d__="">See Also</h3>
<p d__=""><a href="#man-setbuf"><code s__="13" d__="">setbuf()</code></a>, <a href="#man-setbuf"><code s__="13" d__="">setvbuf()</code></a></p>
<hr>
<h2 data-number="23.7" id="man-fopen"><span class="header-section-number" d__="">23.7</span> <code d__="">fopen()</code></h2>
<p></p>
<p d__="">Opens a file for reading or writing</p>
<h3 class="unnumbered unlisted" id="synopsis-155" d__="">Synopsis</h3>
<div class="sourceCode" id="cb541"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb541-1"><a href="#cb541-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb541-2"><a href="#cb541-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb541-3" d__=""><a href="#cb541-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>fopen<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>path<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>mode<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-155" d__="">Description</h3>
<p d__="">The <code s__="13">fopen()</code> opens a file for reading or writing.</p>
<p d__="">Parameter <code s__="13">path</code> can be a relative or fully-qualified path and file name to the file in question.</p>
<p d__="">Parameter <code s__="13">mode</code> tells <code s__="13">fopen()</code> how to open the file (reading, writing, or both), and whether or not it’s a binary file. Possible modes are:</p>
<table>
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Mode</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">r</code></td>
<td d__="">Open the file for reading (read-only).</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">w</code></td>
<td d__="">Open the file for writing (write-only). The file is created if it doesn’t exist.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">r+</code></td>
<td d__="">Open the file for reading and writing. The file has to already exist.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">w+</code></td>
<td d__="">Open the file for writing and reading. The file is created if it doesn’t already exist.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">a</code></td>
<td d__="">Open the file for append. This is just like opening a file 
for writing, but it positions the file pointer at the end of the file, 
so the next write appends to the end. The file is created if it doesn’t 
exist.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">a+</code></td>
<td d__="">Open the file for reading and appending. The file is created if it doesn’t exist.</td>
</tr>
</tbody>
</table>
<p d__="">Any of the modes can have the letter “<code s__="13">b</code>” appended to the end, as is “<code s__="13">wb</code>” (“write binary”), to signify that the file in question is a <em>binary</em>
 file. (“Binary” in this case generally means that the file contains 
non-alphanumeric characters that look like garbage to human eyes.) Many 
systems (like Unix) don’t differentiate between binary and non-binary 
files, so the “<code s__="13">b</code>” is extraneous. But if your data is binary, it doesn’t hurt to throw the “<code s__="13">b</code>” in there, and it might help someone who is trying to port your code to another system.</p>
<p d__="">The macro <code s__="13">FOPEN_MAX</code> tells you how many streams (at least) you can have open at once.</p>
<p d__="">The macro <code s__="13">FILENAME_MAX</code> tells you what the longest valid filename can be. Don’t go crazy, now.</p>
<h3 class="unnumbered unlisted" id="return-value-153" d__="">Return Value</h3>
<p d__=""><code s__="13">fopen()</code> returns a <code s__="13">FILE*</code> that can be used in subsequent file-related calls.</p>
<p d__="">If something goes wrong (e.g.&nbsp;you tried to open a file for read that didn’t exist), <code s__="13">fopen()</code> will return <code s__="13">NULL</code>.</p>
<h3 class="unnumbered unlisted" id="example-156" d__="">Example</h3>
<div class="sourceCode" id="cb542"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb542-1"><a href="#cb542-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb542-2"><a href="#cb542-2"></a></span>
<span id="cb542-3" d__=""><a href="#cb542-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb542-4"><a href="#cb542-4"></a><span class="op" d__="">{</span></span>
<span id="cb542-5" d__=""><a href="#cb542-5"></a>    <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>fp<span class="op" d__="">;</span></span>
<span id="cb542-6"><a href="#cb542-6"></a></span>
<span id="cb542-7" d__=""><a href="#cb542-7"></a>    fp <span class="op" d__="">=</span> fopen<span class="op" d__="">(</span><span class="st" d__="">"spoon.txt"</span><span class="op" d__="">,</span> <span class="st" d__="">"r"</span><span class="op" d__="">);</span></span>
<span id="cb542-8"><a href="#cb542-8"></a></span>
<span id="cb542-9" d__=""><a href="#cb542-9"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>fp <span class="op" d__="">==</span> NULL<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb542-10" d__=""><a href="#cb542-10"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"Error opening file</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb542-11"><a href="#cb542-11"></a>    <span class="op" d__="">}</span> <span class="cf" d__="">else</span> <span class="op" d__="">{</span></span>
<span id="cb542-12" d__=""><a href="#cb542-12"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"Opened file just fine!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb542-13" d__=""><a href="#cb542-13"></a>        fclose<span class="op" d__="">(</span>fp<span class="op" d__="">);</span>  <span class="co" d__="">// All done!</span></span>
<span id="cb542-14"><a href="#cb542-14"></a>    <span class="op" d__="">}</span></span>
<span id="cb542-15"><a href="#cb542-15"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-145" d__="">See Also</h3>
<p d__=""><a href="#man-fclose"><code s__="13" d__="">fclose()</code></a>, <a href="#man-freopen"><code s__="13" d__="">freopen()</code></a></p>
<hr>
<h2 data-number="23.8" id="man-freopen"><span class="header-section-number" d__="">23.8</span> <code d__="">freopen()</code></h2>
<p></p>
<p d__="">Reopen an existing <code s__="13">FILE*</code>, associating it with a new path</p>
<h3 class="unnumbered unlisted" id="synopsis-156" d__="">Synopsis</h3>
<div class="sourceCode" id="cb543"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb543-1"><a href="#cb543-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb543-2"><a href="#cb543-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb543-3" d__=""><a href="#cb543-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>freopen<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>filename<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>mode<span class="op" d__="">,</span> <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-156" d__="">Description</h3>
<p d__="">Let’s say you have an existing <code s__="13">FILE*</code> stream that’s already open, but you want it to suddenly use a different file than the one it’s using. You can use <code s__="13">freopen()</code> to “re-open” the stream with a new file.</p>
<p d__="">Why on Earth would you ever want to do that? Well, the most 
common reason would be if you had a program that normally would read 
from <code s__="13">stdin</code>, but instead you wanted it to read from a file. Instead of changing all your <code s__="13">scanf()</code>s to <code s__="13">fscanf()</code>s, you could simply reopen <code s__="13">stdin</code> on the file you wanted to read from.</p>
<p d__="">Another usage that is allowed on some systems is that you can pass <code s__="13">NULL</code> for <code s__="13">filename</code>, and specify a new <code s__="13">mode</code> for <code s__="13">stream</code>. So you could change a file from “<code s__="13">r+</code>” (read and write) to just “<code s__="13">r</code>” (read), for instance. It’s implementation dependent which modes can be changed.</p>
<p d__="">When you call <code s__="13">freopen()</code>, the old <code s__="13">stream</code> is closed. Otherwise, the function behaves just like the standard <code s__="13">fopen()</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-154" d__="">Return Value</h3>
<p d__=""><code s__="13">freopen()</code> returns <code s__="13">stream</code> if all goes well.</p>
<p d__="">If something goes wrong (e.g.&nbsp;you tried to open a file for read that didn’t exist), <code s__="13">freopen()</code> will return <code s__="13">NULL</code>.</p>
<h3 class="unnumbered unlisted" id="example-157" d__="">Example</h3>
<div class="sourceCode" id="cb544"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb544-1"><a href="#cb544-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb544-2"><a href="#cb544-2"></a></span>
<span id="cb544-3" d__=""><a href="#cb544-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb544-4"><a href="#cb544-4"></a><span class="op" d__="">{</span></span>
<span id="cb544-5" d__=""><a href="#cb544-5"></a>    <span class="dt" d__="">int</span> i<span class="op" d__="">,</span> i2<span class="op" d__="">;</span></span>
<span id="cb544-6"><a href="#cb544-6"></a></span>
<span id="cb544-7" d__=""><a href="#cb544-7"></a>    scanf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>i<span class="op" d__="">);</span> <span class="co" d__="">// read i from stdin</span></span>
<span id="cb544-8"><a href="#cb544-8"></a></span>
<span id="cb544-9"><a href="#cb544-9"></a>    <span class="co" d__="">// now change stdin to refer to a file instead of the keyboard</span></span>
<span id="cb544-10" d__=""><a href="#cb544-10"></a>    freopen<span class="op" d__="">(</span><span class="st" d__="">"someints.txt"</span><span class="op" d__="">,</span> <span class="st" d__="">"r"</span><span class="op" d__="">,</span> stdin<span class="op" d__="">);</span></span>
<span id="cb544-11"><a href="#cb544-11"></a></span>
<span id="cb544-12" d__=""><a href="#cb544-12"></a>    scanf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>i2<span class="op" d__="">);</span> <span class="co" d__="">// now this reads from the file "someints.txt"</span></span>
<span id="cb544-13"><a href="#cb544-13"></a></span>
<span id="cb544-14" d__=""><a href="#cb544-14"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Hello, world!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span> <span class="co" d__="">// print to the screen</span></span>
<span id="cb544-15"><a href="#cb544-15"></a></span>
<span id="cb544-16"><a href="#cb544-16"></a>    <span class="co" d__="">// change stdout to go to a file instead of the terminal:</span></span>
<span id="cb544-17" d__=""><a href="#cb544-17"></a>    freopen<span class="op" d__="">(</span><span class="st" d__="">"output.txt"</span><span class="op" d__="">,</span> <span class="st" d__="">"w"</span><span class="op" d__="">,</span> stdout<span class="op" d__="">);</span></span>
<span id="cb544-18"><a href="#cb544-18"></a></span>
<span id="cb544-19" d__=""><a href="#cb544-19"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"This goes to the file </span><span class="sc" d__="">\"</span><span class="st" d__="">output.txt</span><span class="sc" d__="">\"\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb544-20"><a href="#cb544-20"></a></span>
<span id="cb544-21"><a href="#cb544-21"></a>    <span class="co" d__="">// this is allowed on some systems--you can change the mode of a file:</span></span>
<span id="cb544-22" d__=""><a href="#cb544-22"></a>    freopen<span class="op" d__="">(</span>NULL<span class="op" d__="">,</span> <span class="st" d__="">"wb"</span><span class="op" d__="">,</span> stdout<span class="op" d__="">);</span> <span class="co" d__="">// change to "wb" instead of "w"</span></span>
<span id="cb544-23"><a href="#cb544-23"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-146" d__="">See Also</h3>
<p d__=""><a href="#man-fclose"><code s__="13" d__="">fclose()</code></a>, <a href="#man-fopen"><code s__="13" d__="">fopen()</code></a></p>
<hr>
<h2 data-number="23.9" id="man-setbuf" d__=""><span class="header-section-number">23.9</span> <code>setbuf()</code>, <code>setvbuf()</code></h2>
<p></p>
<p d__="">Configure buffering for standard I/O operations</p>
<h3 class="unnumbered unlisted" id="synopsis-157" d__="">Synopsis</h3>
<div class="sourceCode" id="cb545"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb545-1"><a href="#cb545-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb545-2"><a href="#cb545-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb545-3" d__=""><a href="#cb545-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> setbuf<span class="op" d__="">(</span><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">,</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>buf<span class="op" d__="">);</span></span>
<span id="cb545-4"><a href="#cb545-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb545-5" d__=""><a href="#cb545-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> setvbuf<span class="op" d__="">(</span><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">,</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>buf<span class="op" d__="">,</span> <span class="dt" d__="">int</span> mode<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> size<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-157" d__="">Description</h3>
<p d__="">Now brace yourself because this might come as a bit of a surprise to you: when you <code s__="13">printf()</code> or <code s__="13">fprintf()</code> or use any I/O functions like that, <em>it does not normally work immediately</em>. For the sake of efficiency, and to irritate you, the I/O on a <code s__="13">FILE*</code> stream is buffered away safely until certain conditions are met, and only then is the actual I/O performed. The functions <code s__="13">setbuf()</code> and <code s__="13">setvbuf()</code> allow you to change those conditions and the buffering behavior.</p>
<p d__="">So what are the different buffering behaviors? The biggest is 
called “full buffering”, wherein all I/O is stored in a big buffer until
 it is full, and then it is dumped out to disk (or whatever the file 
is). The next biggest is called “line buffering”; with line buffering, 
I/O is stored up a line at a time (until a newline (<code s__="13">'\n'</code>)
 character is encountered) and then that line is processed. Finally, we 
have “unbuffered”, which means I/O is processed immediately with every 
standard I/O call.</p>
<p d__="">You might have seen and wondered why you could call <code s__="13">putchar()</code> time and time again and not see any output until you called <code s__="13">putchar('\n')</code>; that’s right—<code s__="13">stdout</code> is line-buffered!</p>
<p d__="">Since <code s__="13">setbuf()</code> is just a simplified version of <code s__="13">setvbuf()</code>, we’ll talk about <code s__="13">setvbuf()</code> first.</p>
<p d__="">The <code s__="13">stream</code> is the <code s__="13">FILE*</code> you wish to modify. The standard says you <em>must</em> make your call to <code s__="13">setvbuf()</code> <em>before</em> any I/O operation is performed on the stream, or else by then it might be too late.</p>
<p d__="">The next argument, <code s__="13">buf</code> allows you to make your own buffer space (using <a href="#man-malloc"><code s__="13" d__="">malloc()</code></a> or just a <code s__="13">char</code> array) to use for buffering. If you don’t care to do this, just set <code s__="13">buf</code> to <code s__="13">NULL</code>.</p>
<p d__="">Now we get to the real meat of the function: <code s__="13">mode</code> allows you to choose what kind of buffering you want to use on this <code s__="13">stream</code>. Set it to one of the following:</p>
<table>
<thead>
<tr class="header">
<th d__="">Mode</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">_IOFBF</code></td>
<td d__=""><code s__="13">stream</code> will be fully buffered.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">_IOLBF</code></td>
<td d__=""><code s__="13">stream</code> will be line buffered.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">_IONBF</code></td>
<td d__=""><code s__="13">stream</code> will be unbuffered.</td>
</tr>
</tbody>
</table>
<p d__="">Finally, the <code s__="13">size</code> argument is the size of the array you passed in for <code s__="13">buf</code>…unless you passed <code s__="13">NULL</code> for <code s__="13">buf</code>, in which case it will resize the existing buffer to the size you specify.</p>
<p d__="">Now what about this lesser function <code s__="13">setbuf()</code>? It’s just like calling <code s__="13">setvbuf()</code> with some specific parameters, except <code s__="13">setbuf()</code> doesn’t return a value. The following example shows the equivalency:</p>
<div class="sourceCode" id="cb546"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb546-1"><a href="#cb546-1" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">// these are the same:</span></span>
<span id="cb546-2" d__=""><a href="#cb546-2" aria-hidden="true" tabindex="-1"></a>setbuf<span class="op" d__="">(</span>stream<span class="op" d__="">,</span> buf<span class="op" d__="">);</span></span>
<span id="cb546-3" d__=""><a href="#cb546-3" aria-hidden="true" tabindex="-1"></a>setvbuf<span class="op" d__="">(</span>stream<span class="op" d__="">,</span> buf<span class="op" d__="">,</span> _IOFBF<span class="op" d__="">,</span> BUFSIZ<span class="op" d__="">);</span> <span class="co" d__="">// fully buffered</span></span>
<span id="cb546-4"><a href="#cb546-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb546-5"><a href="#cb546-5" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">// and these are the same:</span></span>
<span id="cb546-6" d__=""><a href="#cb546-6" aria-hidden="true" tabindex="-1"></a>setbuf<span class="op" d__="">(</span>stream<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb546-7" d__=""><a href="#cb546-7" aria-hidden="true" tabindex="-1"></a>setvbuf<span class="op" d__="">(</span>stream<span class="op" d__="">,</span> NULL<span class="op" d__="">,</span> _IONBF<span class="op" d__="">,</span> BUFSIZ<span class="op" d__="">);</span> <span class="co" d__="">// unbuffered</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="return-value-155" d__="">Return Value</h3>
<p d__=""><code s__="13">setvbuf()</code> returns zero on success, and nonzero on failure. <code s__="13">setbuf()</code> has no return value.</p>
<h3 class="unnumbered unlisted" id="example-158" d__="">Example</h3>
<div class="sourceCode" id="cb547"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb547-1"><a href="#cb547-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb547-2"><a href="#cb547-2"></a></span>
<span id="cb547-3" d__=""><a href="#cb547-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb547-4"><a href="#cb547-4"></a><span class="op" d__="">{</span></span>
<span id="cb547-5" d__=""><a href="#cb547-5"></a>    <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>fp<span class="op" d__="">;</span></span>
<span id="cb547-6" d__=""><a href="#cb547-6"></a>    <span class="dt" d__="">char</span> lineBuf<span class="op" d__="">[</span><span class="dv" d__="">1024</span><span class="op" d__="">];</span></span>
<span id="cb547-7"><a href="#cb547-7"></a></span>
<span id="cb547-8" d__=""><a href="#cb547-8"></a>    fp <span class="op" d__="">=</span> fopen<span class="op" d__="">(</span><span class="st" d__="">"somefile.txt"</span><span class="op" d__="">,</span> <span class="st" d__="">"w"</span><span class="op" d__="">);</span></span>
<span id="cb547-9" d__=""><a href="#cb547-9"></a>    setvbuf<span class="op" d__="">(</span>fp<span class="op" d__="">,</span> lineBuf<span class="op" d__="">,</span> _IOLBF<span class="op" d__="">,</span> <span class="dv" d__="">1024</span><span class="op" d__="">);</span>  <span class="co" d__="">// set to line buffering</span></span>
<span id="cb547-10" d__=""><a href="#cb547-10"></a>    fprintf<span class="op" d__="">(</span>fp<span class="op" d__="">,</span> <span class="st" d__="">"You won't see this in the file yet. "</span><span class="op" d__="">);</span></span>
<span id="cb547-11" d__=""><a href="#cb547-11"></a>    fprintf<span class="op" d__="">(</span>fp<span class="op" d__="">,</span> <span class="st" d__="">"But now you will because of this newline.</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb547-12" d__=""><a href="#cb547-12"></a>    fclose<span class="op" d__="">(</span>fp<span class="op" d__="">);</span></span>
<span id="cb547-13"><a href="#cb547-13"></a></span>
<span id="cb547-14" d__=""><a href="#cb547-14"></a>    fp <span class="op" d__="">=</span> fopen<span class="op" d__="">(</span><span class="st" d__="">"anotherfile.txt"</span><span class="op" d__="">,</span> <span class="st" d__="">"w"</span><span class="op" d__="">);</span></span>
<span id="cb547-15" d__=""><a href="#cb547-15"></a>    setbuf<span class="op" d__="">(</span>fp<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span> <span class="co" d__="">// set to unbuffered</span></span>
<span id="cb547-16" d__=""><a href="#cb547-16"></a>    fprintf<span class="op" d__="">(</span>fp<span class="op" d__="">,</span> <span class="st" d__="">"You will see this in the file now."</span><span class="op" d__="">);</span></span>
<span id="cb547-17" d__=""><a href="#cb547-17"></a>    fclose<span class="op" d__="">(</span>fp<span class="op" d__="">);</span></span>
<span id="cb547-18"><a href="#cb547-18"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-147" d__="">See Also</h3>
<p><a href="#man-fflush"><code s__="13" d__="">fflush()</code></a></p>
<hr>
<h2 data-number="23.10" id="man-printf" d__=""><span class="header-section-number">23.10</span> <code>printf()</code>, <code>fprintf()</code>, <code>sprintf()</code>, <code>snprintf()</code></h2>
<p> </p>
<p d__="">Print a formatted string to the console or to a file</p>
<h3 class="unnumbered unlisted" id="synopsis-158" d__="">Synopsis</h3>
<div class="sourceCode" id="cb548"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb548-1"><a href="#cb548-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb548-2"><a href="#cb548-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb548-3" d__=""><a href="#cb548-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> printf<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>format<span class="op" d__="">,</span> <span class="op" d__="">...);</span></span>
<span id="cb548-4"><a href="#cb548-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb548-5" d__=""><a href="#cb548-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> fprintf<span class="op" d__="">(</span><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>format<span class="op" d__="">,</span> <span class="op" d__="">...);</span></span>
<span id="cb548-6"><a href="#cb548-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb548-7" d__=""><a href="#cb548-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> sprintf<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> format<span class="op" d__="">,</span> <span class="op" d__="">...);</span></span>
<span id="cb548-8"><a href="#cb548-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb548-9" d__=""><a href="#cb548-9" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> snprintf<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> format<span class="op" d__="">,</span> <span class="op" d__="">...);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-158" d__="">Description</h3>
<p d__="">These functions print formatted output to a variety of destinations.</p>
<table>
<thead>
<tr class="header">
<th d__="">Function</th>
<th d__="">Output Destination</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">printf()</code></td>
<td d__="">Print to console (screen by default, typically).</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">fprintf()</code></td>
<td d__="">Print to a file.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">sprintf()</code></td>
<td d__="">Print to a string.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">snprintf()</code></td>
<td d__="">Print to a string (safely).</td>
</tr>
</tbody>
</table>
<p d__="">The only differences between these is are the leading parameters that you pass to them before the <code s__="13">format</code> string.</p>
<table>
<thead>
<tr class="header">
<th d__="">Function</th>
<th d__="">What you pass before <code s__="13">format</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">printf()</code></td>
<td d__="">Nothing comes before <code s__="13">format</code>.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">fprintf()</code></td>
<td d__="">Pass a <code s__="13">FILE*</code>.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">sprintf()</code></td>
<td d__="">Pass a <code s__="13">char*</code> to a buffer to print into.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">snprintf()</code></td>
<td d__="">Pass a <code s__="13">char*</code> to the buffer and a maximum buffer length.</td>
</tr>
</tbody>
</table>
<p d__="">The <code s__="13">printf()</code> function is legendary as 
being one of the most flexible outputting systems ever devised. It can 
also get a bit freaky here or there, most notably in the <code s__="13">format</code> string. We’ll take it a step at a time here.</p>
<p d__="">The easiest way to look at the format string is that it will print everything in the string as-is, <em>unless</em> a character has a percent sign (<code s__="13">%</code>) in front of it. That’s when the magic happens: the next argument in the <code s__="13">printf()</code> argument list is printed in the way described by the percent code. These percent codes are called <em>format specifiers</em>.</p>
<p d__="">Here are the most common format specifiers.</p>
<table>
<colgroup>
<col style="width: 13%">
<col style="width: 86%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;" d__="">Specifier</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">%d</code></td>
<td d__="">Print the next argument as a signed decimal number, like <code s__="13">3490</code>. The argument printed this way should be an <code s__="13">int</code>, or something that gets promoted to <code s__="13">int</code>.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">%f</code></td>
<td d__="">Print the next argument as a signed floating point number, like <code s__="13">3.14159</code>. The argument printed this way should be a <code s__="13">double</code>, or something that gets promoted to a <code s__="13">double</code>.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">%c</code></td>
<td d__="">Print the next argument as a character, like <code s__="13">'B'</code>. The argument printed this way should be a <code s__="13">char</code> variant.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">%s</code></td>
<td d__="">Print the next argument as a string, like <code s__="13">"Did you remember your mittens?"</code>. The argument printed this way should be a <code s__="13">char*</code> or <code s__="13">char[]</code>.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">%%</code></td>
<td d__="">No arguments are converted, and a plain old run-of-the-mill percent sign is printed. This is how you print a ‘%’ using <code s__="13">printf()</code>.</td>
</tr>
</tbody>
</table>
<p d__="">So those are the basics. I’ll give you some more of the format
 specifiers in a bit, but let’s get some more breadth before then. 
There’s actually a lot more that you can specify in there after the 
percent sign.</p>
<p d__="">For one thing, you can put a field width in there—this is a number that tells <code s__="13">printf()</code>
 how many spaces to put on one side or the other of the value you’re 
printing. That helps you line things up in nice columns. If the number 
is negative, the result becomes left-justified instead of 
right-justified. Example:</p>
<div class="sourceCode" id="cb549"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb549-1" d__=""><a href="#cb549-1" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%10d</span><span class="st" d__="">"</span><span class="op" d__="">,</span> x<span class="op" d__="">);</span>  <span class="co" d__="">/* prints X on the right side of the 10-space field */</span></span>
<span id="cb549-2" d__=""><a href="#cb549-2" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%-10d</span><span class="st" d__="">"</span><span class="op" d__="">,</span> x<span class="op" d__="">);</span> <span class="co" d__="">/* prints X on the left side of the 10-space field */</span></span></code></pre></div>
<p d__="">If you don’t know the field width in advance, you can use a 
little kung-foo to get it from the argument list just before the 
argument itself. Do this by placing your seat and tray tables in the 
fully upright position. The seatbelt is fastened by placing the—<em><em>cough</em></em>.
 I seem to have been doing way too much flying lately. Ignoring that 
useless fact completely, you can specify a dynamic field width by 
putting a <code s__="13">*</code> in for the width. If you are not willing or able to perform this task, please notify a flight attendant and we will reseat you.</p>
<div class="sourceCode" id="cb550"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb550-1" d__=""><a href="#cb550-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> width <span class="op" d__="">=</span> <span class="dv" d__="">12</span><span class="op" d__="">;</span></span>
<span id="cb550-2" d__=""><a href="#cb550-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> value <span class="op" d__="">=</span> <span class="dv" d__="">3490</span><span class="op" d__="">;</span></span>
<span id="cb550-3"><a href="#cb550-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb550-4" d__=""><a href="#cb550-4" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%*d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> width<span class="op" d__="">,</span> value<span class="op" d__="">);</span></span></code></pre></div>
<p d__="">You can also put a “0” in front of the number if you want it to be padded with zeros:</p>
<div class="sourceCode" id="cb551"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb551-1" d__=""><a href="#cb551-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> x <span class="op" d__="">=</span> <span class="dv" d__="">17</span><span class="op" d__="">;</span></span>
<span id="cb551-2" d__=""><a href="#cb551-2" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%05d</span><span class="st" d__="">"</span><span class="op" d__="">,</span> x<span class="op" d__="">);</span>  <span class="co" d__="">/* "00017" */</span></span></code></pre></div>
<p d__="">When it comes to floating point, you can also specify how many decimal places to print by making a field width of the form “<code s__="13">x.y</code>” where <code s__="13">x</code> is the field width (you can leave this off if you want it to be just wide enough) and <code s__="13">y</code> is the number of digits past the decimal point to print:</p>
<div class="sourceCode" id="cb552"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb552-1" d__=""><a href="#cb552-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> f <span class="op" d__="">=</span> <span class="fl" d__="">3.1415926535</span><span class="op" d__="">;</span></span>
<span id="cb552-2"><a href="#cb552-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb552-3" d__=""><a href="#cb552-3" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%.2f</span><span class="st" d__="">"</span><span class="op" d__="">,</span> f<span class="op" d__="">);</span>  <span class="co" d__="">/* "3.14" */</span></span>
<span id="cb552-4" d__=""><a href="#cb552-4" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%7.3f</span><span class="st" d__="">"</span><span class="op" d__="">,</span> f<span class="op" d__="">);</span> <span class="co" d__="">/* "  3.141" &lt;-- 7 spaces across */</span></span></code></pre></div>
<p d__="">Ok, those above are definitely the most common uses of <code s__="13">printf()</code>, but let’s get <em>total coverage</em>.</p>
<h4 data-number="23.10.0.1" id="format-specifier-layout" d__=""><span class="header-section-number">23.10.0.1</span> Format Specifier Layout</h4>
<p d__="">Technically, the layout of the format specifier is these things in this order:</p>
<ol type="1">
<li d__=""><code s__="13">%</code>, followed by…</li>
<li d__="">Optional: zero or more flags, left justify, leading zeros, etc.</li>
<li d__="">Optional: Field width, how wide the output field should be.</li>
<li d__="">Optional: Precision, or how many decimal places to print.</li>
<li d__="">Optional: Length modifier, for printing things bigger than <code s__="13">int</code> or <code s__="13">double</code>.</li>
<li d__="">Conversion specifier, like <code s__="13">d</code>, <code s__="13">f</code>, etc.</li>
</ol>
<p d__="">In short, the whole format specifier is laid out like this:</p>
<pre><code s__="13" d__="">%[flags][fieldwidth][.precision][lengthmodifier]conversionspecifier</code></pre>
<p d__="">What could be easier?</p>
<h4 data-number="23.10.0.2" id="conversion-specifiers" d__=""><span class="header-section-number">23.10.0.2</span> Conversion Specifiers</h4>
<p d__="">Let’s talk conversion specifiers first. Each of the following 
specifies what type it can print, but it can also print anything that 
gets promoted to that type. For example, <code s__="13">%d</code> can print <code s__="13">int</code>, <code s__="13">short</code>, and <code s__="13">char</code>.</p>
<p d__="">The binary specifier is new in C23!</p>
<table>
<colgroup>
<col style="width: 13%">
<col style="width: 86%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;" d__="">Conversion Specifier</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">d</code></td>
<td d__="">Print an <code s__="13">int</code> argument as a decimal number.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">i</code></td>
<td d__="">Identical to <code s__="13">d</code>.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">b</code></td>
<td d__="">Print an <code s__="13">unsigned int</code> in binary (base 2).</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">B</code></td>
<td d__="">Identical to <code s__="13">b</code>, except for the alternate form, below.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">o</code></td>
<td d__="">Print an <code s__="13">unsigned int</code> in octal (base 8).</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">u</code></td>
<td d__="">Print an <code s__="13">unsigned int</code> in decimal.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">x</code></td>
<td d__="">Print an <code s__="13">unsigned int</code> in hexadecimal with lowercase letters.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">X</code></td>
<td d__="">Print an <code s__="13">unsigned int</code> in hexadecimal with uppercase letters; also note the alternate form, below.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">f</code></td>
<td d__="">Print a <code s__="13">double</code> in decimal notation. Infinity is printed as <code s__="13">infinity</code> or <code s__="13">inf</code>, and NaN is printed as <code s__="13">nan</code>, any of which could have a leading minus sign.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">F</code></td>
<td d__="">Same as <code s__="13">f</code>, except it prints out <code s__="13">INFINITY</code>, <code s__="13">INF</code>, or <code s__="13">NAN</code> in all caps.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">e</code></td>
<td d__="">Print a number in scientific notation, e.g.&nbsp;<code s__="13">1.234e56</code>. Does infinity and NaN like <code s__="13">f</code>.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">E</code></td>
<td d__="">Just like <code s__="13">e</code>, except prints the exponent <code s__="13">E</code> (and infinity and NaN) in uppercase.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">g</code></td>
<td d__="">Print small numbers like <code s__="13">f</code> and large numbers like <code s__="13">e</code>. See note below.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">G</code></td>
<td d__="">Print small numbers like <code s__="13">F</code> and large numbers like <code s__="13">E</code>. See note below.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">a</code></td>
<td d__="">Print a <code s__="13">double</code> in hexadecimal form <code s__="13">0xh.hhhhpd</code> where <code s__="13">h</code> is a lowercase hex digit and <code s__="13">d</code> is a decimal exponent of 2. Infinity and NaN in the form of <code s__="13">f</code>. More below.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">A</code></td>
<td d__="">Like <code s__="13">a</code> except everything’s uppercase.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">c</code></td>
<td d__="">Convert <code s__="13">int</code> argument to <code s__="13">unsigned char</code> and print as a character.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">s</code></td>
<td d__="">Print a string starting at the given <code s__="13">char*</code>.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">p</code></td>
<td d__="">Print a <code s__="13">void*</code> out as a number, probably the numeric address, possibly in hex.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">n</code></td>
<td d__="">Store the number of characters written so far in the given <code s__="13">int*</code>. Doesn’t print anything. See below.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">%</code></td>
<td d__="">Print a literal percent sign.</td>
</tr>
</tbody>
</table>
<h5 data-number="23.10.0.2.1" id="note-on-a-and-a" d__=""><span class="header-section-number">23.10.0.2.1</span> Note on <code s__="13">%a</code> and <code s__="13">%A</code></h5>
<p d__="">When printing floating point numbers in hex form, there is one
 number before the decimal point, and the rest of are out to the 
precision.</p>
<div class="sourceCode" id="cb554"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb554-1" d__=""><a href="#cb554-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> pi <span class="op" d__="">=</span> <span class="fl" d__="">3.14159265358979</span><span class="op" d__="">;</span></span>
<span id="cb554-2"><a href="#cb554-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb554-3" d__=""><a href="#cb554-3" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%.3a\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> pi<span class="op" d__="">);</span>  <span class="co" d__="">// 0x1.922p+1</span></span></code></pre></div>
<p d__="">C can choose the leading number in such a way to ensure subsequent digits align to 4-bit boundaries.</p>
<p d__="">If the precision is left out and the macro <code s__="13">FLT_RADIX</code> is a power of 2, enough precision is used to represent the number exactly. If <code s__="13">FLT_RADIX</code> is not a power of two, enough precision is used to be able to tell any two floating values apart.</p>
<p d__="">If the precision is <code s__="13">0</code> and the <code s__="13">#</code> flag isn’t specified, the decimal point is omitted.</p>
<h5 data-number="23.10.0.2.2" id="note-on-g-and-g" d__=""><span class="header-section-number">23.10.0.2.2</span> Note on <code s__="13">%g</code> and <code s__="13">%G</code></h5>
<p d__="">The gist of this is to use scientific notation when the number gets too “extreme”, and regular decimal notation otherwise.</p>
<p d__="">The exact behavior for whether these print as <code s__="13">%f</code> or <code s__="13">%e</code> depends on a number of factors:</p>
<p d__="">If the number’s exponent is greater than or equal to -4 <strong>and</strong> the precision is greater than the exponent, we use <code s__="13">%f</code>. In this case, the precision is converted according to <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="163"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45D TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4"><mjx-c class="mjx-c3D"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="4"><mjx-c class="mjx-c1D45D TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c28"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="3"><mjx-c class="mjx-c31"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c class="mjx-c29"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi><mo>=</mo><mi>p</mi><mo>−</mo><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></math></mjx-assistive-mml></mjx-container></span>, where <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="164"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45D TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi></math></mjx-assistive-mml></mjx-container></span> is the specified precision and <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="165"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></mjx-assistive-mml></mjx-container></span> is the exponent.</p>
<p d__="">Otherwise we use <code s__="13">%e</code>, and the precision becomes <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="166"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45D TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="3"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi><mo>−</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container></span>.</p>
<p d__="">Trailing zeros in the decimal portion are removed. And if 
there are none left, the decimal point is removed, too. All this unless 
the <code s__="13">#</code> flag is specified.</p>
<h5 data-number="23.10.0.2.3" id="note-on-n" d__=""><span class="header-section-number">23.10.0.2.3</span> Note on <code s__="13">%n</code></h5>
<p d__="">This specifier is cool and different, and rarely needed. It 
doesn’t actually print anything, but stores the number of characters 
printed so far in the next pointer argument in the list.</p>
<div class="sourceCode" id="cb555"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb555-1" d__=""><a href="#cb555-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> numChars<span class="op" d__="">;</span></span>
<span id="cb555-2" d__=""><a href="#cb555-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> a <span class="op" d__="">=</span> <span class="fl" d__="">3.14159</span><span class="op" d__="">;</span></span>
<span id="cb555-3" d__=""><a href="#cb555-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> b <span class="op" d__="">=</span> <span class="dv" d__="">3490</span><span class="op" d__="">;</span></span>
<span id="cb555-4"><a href="#cb555-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb555-5" d__=""><a href="#cb555-5" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f</span><span class="st"> </span><span class="sc" d__="">%d%n\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> a<span class="op" d__="">,</span> b<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>numChars<span class="op" d__="">);</span></span>
<span id="cb555-6" d__=""><a href="#cb555-6" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"The above line contains </span><span class="sc" d__="">%d</span><span class="st" d__=""> characters.</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> numChars<span class="op" d__="">);</span></span></code></pre></div>
<p d__="">The above example will print out the values of <code s__="13">a</code> and <code s__="13">b</code>, and then store the number of characters printed so far into the variable <code s__="13">numChars</code>. The next call to <code s__="13">printf()</code> prints out that result.</p>
<div class="sourceCode" id="cb556"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb556-1" d__=""><a href="#cb556-1" aria-hidden="true" tabindex="-1"></a>3.141590 3490</span>
<span id="cb556-2" d__=""><a href="#cb556-2" aria-hidden="true" tabindex="-1"></a>The above line contains 13 characters</span></code></pre></div>
<h4 data-number="23.10.0.3" id="length-modifiers" d__=""><span class="header-section-number">23.10.0.3</span> Length Modifiers</h4>
<p d__="">You can stick a <em>length</em> modifier in front of each of the conversion specifiers, if you want. most of those format specifiers work on <code s__="13">int</code> or <code s__="13">double</code> types, but what if you want larger or smaller types? That’s what these are good for.</p>
<p d__="">For example, you could print out a long long int with the <code s__="13">ll</code> modifier:</p>
<div class="sourceCode" id="cb557"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb557-1" d__=""><a href="#cb557-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> x <span class="op" d__="">=</span> <span class="dv" d__="">3490</span><span class="op" d__="">;</span></span>
<span id="cb557-2"><a href="#cb557-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb557-3" d__=""><a href="#cb557-3" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%lld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> x<span class="op" d__="">);</span>  <span class="co" d__="">// 3490</span></span></code></pre></div>
<table>
<colgroup>
<col style="width: 13%">
<col style="width: 24%">
<col style="width: 62%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;" d__="">Length Modifier</th>
<th style="text-align: center;" d__="">Conversion Specifier</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">hh</code></td>
<td style="text-align: center;" d__=""><code s__="13">b</code>, <code s__="13">d</code>, <code s__="13">i</code>, <code s__="13">o</code>, <code s__="13">u</code>, <code s__="13">x</code>, <code s__="13">X</code></td>
<td d__="">Convert argument to <code s__="13">char</code> (signed or unsigned as appropriate) before printing.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">h</code></td>
<td style="text-align: center;" d__=""><code s__="13">b</code>, <code s__="13">d</code>, <code s__="13">i</code>, <code s__="13">o</code>, <code s__="13">u</code>, <code s__="13">x</code>, <code s__="13">X</code></td>
<td d__="">Convert argument to <code s__="13">short int</code> (signed or unsigned as appropriate) before printing.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">l</code></td>
<td style="text-align: center;" d__=""><code s__="13">b</code>, <code s__="13">d</code>, <code s__="13">i</code>, <code s__="13">o</code>, <code s__="13">u</code>, <code s__="13">x</code>, <code s__="13">X</code></td>
<td d__="">Argument is a <code s__="13">long int</code> (signed or unsigned as appropriate).</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">ll</code></td>
<td style="text-align: center;" d__=""><code s__="13">b</code>, <code s__="13">d</code>, <code s__="13">i</code>, <code s__="13">o</code>, <code s__="13">u</code>, <code s__="13">x</code>, <code s__="13">X</code></td>
<td d__="">Argument is a <code s__="13">long long int</code> (signed or unsigned as appropriate).</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">j</code></td>
<td style="text-align: center;" d__=""><code s__="13">b</code>, <code s__="13">d</code>, <code s__="13">i</code>, <code s__="13">o</code>, <code s__="13">u</code>, <code s__="13">x</code>, <code s__="13">X</code></td>
<td d__="">Argument is a <code s__="13">intmax_t</code> or <code s__="13">uintmax_t</code> (as appropriate).</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">z</code></td>
<td style="text-align: center;" d__=""><code s__="13">b</code>, <code s__="13">d</code>, <code s__="13">i</code>, <code s__="13">o</code>, <code s__="13">u</code>, <code s__="13">x</code>, <code s__="13">X</code></td>
<td d__="">Argument is a <code s__="13">size_t</code>.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">t</code></td>
<td style="text-align: center;" d__=""><code s__="13">b</code>, <code s__="13">d</code>, <code s__="13">i</code>, <code s__="13">o</code>, <code s__="13">u</code>, <code s__="13">x</code>, <code s__="13">X</code></td>
<td d__="">Argument is a <code s__="13">ptrdiff_t</code>.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">L</code></td>
<td style="text-align: center;" d__=""><code s__="13">a</code>, <code s__="13">A</code>, <code s__="13">e</code>, <code s__="13">E</code>, <code s__="13">f</code>, <code s__="13">F</code>, <code s__="13">g</code>, <code s__="13">G</code></td>
<td d__="">Argument is a <code s__="13">long double</code>.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">l</code></td>
<td style="text-align: center;"><code s__="13" d__="">c</code></td>
<td d__="">Argument is in a <code s__="13">wint_t</code>, a wide character.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">l</code></td>
<td style="text-align: center;"><code s__="13" d__="">s</code></td>
<td d__="">Argument is in a <code s__="13">wchar_t*</code>, a wide character string.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">hh</code></td>
<td style="text-align: center;"><code s__="13" d__="">n</code></td>
<td d__="">Store result in <code s__="13">signed char*</code> argument.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">h</code></td>
<td style="text-align: center;"><code s__="13" d__="">n</code></td>
<td d__="">Store result in <code s__="13">short int*</code> argument.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">l</code></td>
<td style="text-align: center;"><code s__="13" d__="">n</code></td>
<td d__="">Store result in <code s__="13">long int*</code> argument.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">ll</code></td>
<td style="text-align: center;"><code s__="13" d__="">n</code></td>
<td d__="">Store result in <code s__="13">long long int*</code> argument.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">j</code></td>
<td style="text-align: center;"><code s__="13" d__="">n</code></td>
<td d__="">Store result in <code s__="13">intmax_t*</code> argument.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">z</code></td>
<td style="text-align: center;"><code s__="13" d__="">n</code></td>
<td d__="">Store result in <code s__="13">size_t*</code> argument.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">t</code></td>
<td style="text-align: center;"><code s__="13" d__="">n</code></td>
<td d__="">Store result in <code s__="13">ptrdiff_t*</code> argument.</td>
</tr>
</tbody>
</table>
<h4 data-number="23.10.0.4" id="precision" d__=""><span class="header-section-number">23.10.0.4</span> Precision</h4>
<p d__="">In front of the length modifier, you can put a precision, 
which generally means how many decimal places you want on your floating 
point numbers.</p>
<p d__="">To do this, you put a decimal point (<code s__="13">.</code>) and the decimal places afterward.</p>
<p d__="">For example, we could print π rounded to two decimal places like this:</p>
<div class="sourceCode" id="cb558"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb558-1" d__=""><a href="#cb558-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> pi <span class="op" d__="">=</span> <span class="fl" d__="">3.14159265358979</span><span class="op" d__="">;</span></span>
<span id="cb558-2"><a href="#cb558-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb558-3" d__=""><a href="#cb558-3" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%.2f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> pi<span class="op" d__="">);</span>  <span class="co" d__="">// 3.14</span></span></code></pre></div>
<table>
<colgroup>
<col style="width: 30%">
<col style="width: 70%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;" d__="">Conversion Specifier</th>
<th d__="">Precision Value Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;" d__=""><code s__="13">b</code>, <code s__="13">d</code>, <code s__="13">i</code>, <code s__="13">o</code>, <code s__="13">u</code>, <code s__="13">x</code>, <code s__="13">X</code></td>
<td d__="">For integer types, minimum number of digits (will pad with leading zeros)</td>
</tr>
<tr class="even">
<td style="text-align: center;" d__=""><code s__="13">a</code>, <code s__="13">e</code>, <code s__="13">f</code>, <code s__="13">A</code>, <code s__="13">E</code>, <code s__="13">F</code></td>
<td d__="">For floating types, the precision is the number of digits past the decimal.</td>
</tr>
<tr class="odd">
<td style="text-align: center;" d__=""><code s__="13">g</code>, <code s__="13">G</code></td>
<td d__="">For floating types, the precision is the number of significant digits printed.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">s</code></td>
<td d__="">The maximum number of bytes (not multibyte characters!) to be written.</td>
</tr>
</tbody>
</table>
<p d__="">If no number is specified in the precision after the decimal point, the precision is zero.</p>
<p d__="">If an <code s__="13">*</code> is specified after the decimal, something amazing happens! It means the <code s__="13">int</code> argument to <code s__="13">printf()</code> before the number to be printed holds the precision. You can use this if you don’t know the precision at compile time.</p>
<div class="sourceCode" id="cb559"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb559-1" d__=""><a href="#cb559-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> precision<span class="op" d__="">;</span></span>
<span id="cb559-2" d__=""><a href="#cb559-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> pi <span class="op" d__="">=</span> <span class="fl" d__="">3.14159265358979</span><span class="op" d__="">;</span></span>
<span id="cb559-3"><a href="#cb559-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb559-4" d__=""><a href="#cb559-4" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"Enter precision: "</span><span class="op" d__="">);</span> fflush<span class="op" d__="">(</span>stdout<span class="op" d__="">);</span></span>
<span id="cb559-5" d__=""><a href="#cb559-5" aria-hidden="true" tabindex="-1"></a>scanf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>precision<span class="op" d__="">);</span></span>
<span id="cb559-6"><a href="#cb559-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb559-7" d__=""><a href="#cb559-7" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%.*f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> precision<span class="op" d__="">,</span> pi<span class="op" d__="">);</span></span></code></pre></div>
<p d__="">Which gives:</p>
<div class="sourceCode" id="cb560"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb560-1" d__=""><a href="#cb560-1" aria-hidden="true" tabindex="-1"></a>Enter precision: 4</span>
<span id="cb560-2" d__=""><a href="#cb560-2" aria-hidden="true" tabindex="-1"></a>3.1416</span></code></pre></div>
<h4 data-number="23.10.0.5" id="field-width" d__=""><span class="header-section-number">23.10.0.5</span> Field Width</h4>
<p d__="">In front of the optional precision, you can indicate a field 
width. This is a decimal number that indicates how wide the region 
should be in which the argument is printed. The region is padding with 
leading (or trailing) spaces to make sure it’s wide enough.</p>
<p d__="">If the field width specified is too small to hold the output, it is ignored.</p>
<p d__="">As a preview, you can give a negative field width to justify the item the other direction.</p>
<p d__="">So let’s print a number in a field of width 10. We’ll put some
 angle brackets around it so we can see the padding spaces in the 
output.</p>
<div class="sourceCode" id="cb561"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb561-1" d__=""><a href="#cb561-1" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"&lt;&lt;</span><span class="sc" d__="">%10d</span><span class="st" d__="">&gt;&gt;</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="dv" d__="">3490</span><span class="op" d__="">);</span>   <span class="co" d__="">// right justified</span></span>
<span id="cb561-2" d__=""><a href="#cb561-2" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"&lt;&lt;</span><span class="sc" d__="">%-10d</span><span class="st" d__="">&gt;&gt;</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="dv" d__="">3490</span><span class="op" d__="">);</span>  <span class="co" d__="">// left justified</span></span></code></pre></div>
<div class="sourceCode" id="cb562"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb562-1" d__=""><a href="#cb562-1" aria-hidden="true" tabindex="-1"></a>&lt;&lt;      3490&gt;&gt;</span>
<span id="cb562-2" d__=""><a href="#cb562-2" aria-hidden="true" tabindex="-1"></a>&lt;&lt;3490      &gt;&gt;</span></code></pre></div>
<p d__="">Like with the precision, you can use an asterisk (<code s__="13">*</code>) as the field width</p>
<div class="sourceCode" id="cb563"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb563-1" d__=""><a href="#cb563-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> field_width<span class="op" d__="">;</span></span>
<span id="cb563-2" d__=""><a href="#cb563-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> val <span class="op" d__="">=</span> <span class="dv" d__="">3490</span><span class="op" d__="">;</span></span>
<span id="cb563-3"><a href="#cb563-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb563-4" d__=""><a href="#cb563-4" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"Enter field_width: "</span><span class="op" d__="">);</span> fflush<span class="op" d__="">(</span>stdout<span class="op" d__="">);</span></span>
<span id="cb563-5" d__=""><a href="#cb563-5" aria-hidden="true" tabindex="-1"></a>scanf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>field_width<span class="op" d__="">);</span></span>
<span id="cb563-6"><a href="#cb563-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb563-7" d__=""><a href="#cb563-7" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"&lt;&lt;</span><span class="sc" d__="">%*d</span><span class="st" d__="">&gt;&gt;</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> field_width<span class="op" d__="">,</span> val<span class="op" d__="">);</span></span></code></pre></div>
<h4 data-number="23.10.0.6" id="flags" d__=""><span class="header-section-number">23.10.0.6</span> Flags</h4>
<p d__="">Before the field width, you can put some optional flags that 
further control the output of the subsequent fields. We just saw that 
the <code s__="13">-</code> flag can be used to left- or right-justify fields. But there are plenty more!</p>
<table>
<colgroup>
<col style="width: 13%">
<col style="width: 86%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;" d__="">Flag</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">-</code></td>
<td d__="">For a field width, left justify in the field (right is default).</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">+</code></td>
<td d__="">If the number is signed, always prefix a <code s__="13">+</code> or <code s__="13">-</code> on the front.</td>
</tr>
<tr class="odd">
<td style="text-align: center;" d__="">[SPACE]</td>
<td d__="">If the number is signed, prefix a space for positive, or a <code s__="13">-</code> for negative.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">0</code></td>
<td d__="">Pad the right-justified field with leading zeros instead of leading spaces.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">#</code></td>
<td d__="">Print using an alternate form. See below.</td>
</tr>
</tbody>
</table>
<p d__="">For example, we could pad a hexadecimal number with leading zeros to a field width of 8 with:</p>
<div class="sourceCode" id="cb564"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb564-1" d__=""><a href="#cb564-1" aria-hidden="true" tabindex="-1"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%08x\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="bn" d__="">0x1234</span><span class="op" d__="">);</span>  <span class="co" d__="">// 00001234</span></span></code></pre></div>
<p d__="">The <code s__="13">#</code> “alternate form” result depends on the conversion specifier.</p>
<table>
<colgroup>
<col style="width: 22%">
<col style="width: 78%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;" d__="">Conversion Specifier</th>
<th d__="">Alternate Form (<code s__="13">#</code>) Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">o</code></td>
<td d__="">Increase precision of a non-zero number just enough to get one leading <code s__="13">0</code> on the octal number.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">b</code></td>
<td d__="">Prefix a non-zero number with <code s__="13">0b</code>.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">B</code></td>
<td d__="">Same as <code s__="13">b</code>, except capital <code s__="13">0B</code>.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">x</code></td>
<td d__="">Prefix a non-zero number with <code s__="13">0x</code>.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">X</code></td>
<td d__="">Same as <code s__="13">x</code>, except capital <code s__="13">0X</code>.</td>
</tr>
<tr class="even">
<td style="text-align: center;" d__=""><code s__="13">a</code>, <code s__="13">e</code>, <code s__="13">f</code></td>
<td d__="">Always print a decimal point, even if nothing follows it.</td>
</tr>
<tr class="odd">
<td style="text-align: center;" d__=""><code s__="13">A</code>, <code s__="13">E</code>, <code s__="13">F</code></td>
<td d__="">Identical to <code s__="13">a</code>, <code s__="13">e</code>, <code s__="13">f</code>.</td>
</tr>
<tr class="even">
<td style="text-align: center;" d__=""><code s__="13">g</code>, <code s__="13">G</code></td>
<td d__="">Always print a decimal point, even if nothing follows it, and keep trailing zeros.</td>
</tr>
</tbody>
</table>
<h4 data-number="23.10.0.7" id="sprintf-and-snprintf-details" d__=""><span class="header-section-number">23.10.0.7</span> <code s__="13">sprintf()</code> and <code s__="13">snprintf()</code> Details</h4>
<p d__="">Both <code s__="13">sprintf()</code> and <code s__="13">snprintf()</code> have the quality that if you pass in <code s__="13">NULL</code> as the buffer, nothing is written—but you can still check the return value to see how many characters <em>would</em> have been written.</p>
<p d__=""><code s__="13">snprintf()</code> <strong>always</strong> terminates the string with a <code s__="13">NUL</code> character. So if you try to write out more than the maximum specified characters, the universe ends.</p>
<p d__="">Just kidding. If you do, <code s__="13">snprintf()</code> will write <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="167"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="3"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi><mo>−</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container></span> characters so that it has enough room to write the terminator at the end.</p>
<h3 class="unnumbered unlisted" id="return-value-156" d__="">Return Value</h3>
<p d__="">Returns the number of characters outputted, or a negative number on error.</p>
<h3 class="unnumbered unlisted" id="example-159" d__="">Example</h3>
<div class="sourceCode" id="cb565"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb565-1"><a href="#cb565-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb565-2"><a href="#cb565-2"></a></span>
<span id="cb565-3" d__=""><a href="#cb565-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb565-4"><a href="#cb565-4"></a><span class="op" d__="">{</span></span>
<span id="cb565-5" d__=""><a href="#cb565-5"></a>    <span class="dt" d__="">int</span> a <span class="op" d__="">=</span> <span class="dv" d__="">100</span><span class="op" d__="">;</span></span>
<span id="cb565-6" d__=""><a href="#cb565-6"></a>    <span class="dt" d__="">float</span> b <span class="op" d__="">=</span> <span class="fl" d__="">2.717</span><span class="op" d__="">;</span></span>
<span id="cb565-7" d__=""><a href="#cb565-7"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>c <span class="op" d__="">=</span> <span class="st" d__="">"beej!"</span><span class="op" d__="">;</span></span>
<span id="cb565-8" d__=""><a href="#cb565-8"></a>    <span class="dt" d__="">char</span> d <span class="op" d__="">=</span> <span class="ch" d__="">'X'</span><span class="op" d__="">;</span></span>
<span id="cb565-9" d__=""><a href="#cb565-9"></a>    <span class="dt" d__="">int</span> e <span class="op" d__="">=</span> <span class="dv" d__="">5</span><span class="op" d__="">;</span></span>
<span id="cb565-10"><a href="#cb565-10"></a></span>
<span id="cb565-11" d__=""><a href="#cb565-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> a<span class="op" d__="">);</span> <span class="co" d__="">/* "100"      */</span></span>
<span id="cb565-12" d__=""><a href="#cb565-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> b<span class="op" d__="">);</span> <span class="co" d__="">/* "2.717000" */</span></span>
<span id="cb565-13" d__=""><a href="#cb565-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> c<span class="op" d__="">);</span> <span class="co" d__="">/* "beej!"    */</span></span>
<span id="cb565-14" d__=""><a href="#cb565-14"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> d<span class="op" d__="">);</span> <span class="co" d__="">/* "X"        */</span></span>
<span id="cb565-15" d__=""><a href="#cb565-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"110</span><span class="sc" d__="">%%\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span> <span class="co" d__="">/* "110%"     */</span></span>
<span id="cb565-16"><a href="#cb565-16"></a></span>
<span id="cb565-17" d__=""><a href="#cb565-17"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%10d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> a<span class="op" d__="">);</span>   <span class="co" d__="">/* "       100" */</span></span>
<span id="cb565-18" d__=""><a href="#cb565-18"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%-10d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> a<span class="op" d__="">);</span>  <span class="co" d__="">/* "100       " */</span></span>
<span id="cb565-19" d__=""><a href="#cb565-19"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%*d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> e<span class="op" d__="">,</span> a<span class="op" d__="">);</span> <span class="co" d__="">/* "  100"      */</span></span>
<span id="cb565-20" d__=""><a href="#cb565-20"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%.2f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> b<span class="op" d__="">);</span>   <span class="co" d__="">/* "2.72"       */</span></span>
<span id="cb565-21"><a href="#cb565-21"></a></span>
<span id="cb565-22" d__=""><a href="#cb565-22"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%hhd\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> d<span class="op" d__="">);</span> <span class="co" d__="">/* "88" &lt;-- ASCII code for 'X' */</span></span>
<span id="cb565-23"><a href="#cb565-23"></a></span>
<span id="cb565-24" d__=""><a href="#cb565-24"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%5d</span><span class="st"> </span><span class="sc" d__="">%5.2f</span><span class="st"> </span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> a<span class="op" d__="">,</span> b<span class="op" d__="">,</span> d<span class="op" d__="">);</span> <span class="co" d__="">/* "  100  2.72 X" */</span></span>
<span id="cb565-25"><a href="#cb565-25"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-148" d__="">See Also</h3>
<p d__=""><a href="#man-printf"><code s__="13" d__="">sprintf()</code></a>, <a href="#man-vprintf"><code s__="13" d__="">vprintf()</code></a></p>
<hr>
<h2 data-number="23.11" id="man-scanf" d__=""><span class="header-section-number">23.11</span> <code>scanf()</code>, <code>fscanf()</code>, <code>sscanf()</code></h2>
<p> </p>
<p d__="">Read formatted string, character, or numeric data from the console or from a file</p>
<h3 class="unnumbered unlisted" id="synopsis-159" d__="">Synopsis</h3>
<div class="sourceCode" id="cb566"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb566-1"><a href="#cb566-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb566-2"><a href="#cb566-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb566-3" d__=""><a href="#cb566-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> scanf<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>format<span class="op" d__="">,</span> <span class="op" d__="">...);</span></span>
<span id="cb566-4"><a href="#cb566-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb566-5" d__=""><a href="#cb566-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> fscanf<span class="op" d__="">(</span><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>format<span class="op" d__="">,</span> <span class="op" d__="">...);</span></span>
<span id="cb566-6"><a href="#cb566-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb566-7" d__=""><a href="#cb566-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> sscanf<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> format<span class="op" d__="">,</span> <span class="op" d__="">...);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-159" d__="">Description</h3>
<p d__="">These functions read formatted output from a variety of sources.</p>
<table>
<thead>
<tr class="header">
<th d__="">Function</th>
<th d__="">Input Source</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">scanf()</code></td>
<td d__="">Read from the console (keyboard by default, typically).</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">fscanf()</code></td>
<td d__="">Read from a file.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">sscanf()</code></td>
<td d__="">Read from a string.</td>
</tr>
</tbody>
</table>
<p d__="">The only differences between these is are the leading parameters that you pass to them before the <code s__="13">format</code> string.</p>
<table>
<thead>
<tr class="header">
<th d__="">Function</th>
<th d__="">What you pass before <code s__="13">format</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">scanf()</code></td>
<td d__="">Nothing comes before <code s__="13">format</code>.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">fscanf()</code></td>
<td d__="">Pass a <code s__="13">FILE*</code>.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">sscanf()</code></td>
<td d__="">Pass a <code s__="13">char*</code> to a buffer to read from.</td>
</tr>
</tbody>
</table>
<p d__="">The <code s__="13">scanf()</code> family of functions reads data from the console or from a <code s__="13">FILE</code> stream, parses it, and stores the results away in variables you provide in the argument list.</p>
<p d__="">The format string is very similar to that in <code s__="13">printf()</code> in that you can tell it to read a <code s__="13">"%d"</code>, for instance for an <code s__="13">int</code>.
 But it also has additional capabilities, most notably that it can eat 
up other characters in the input that you specify in the format string.</p>
<p d__="">But let’s start simple, and look at the most basic usage first
 before plunging into the depths of the function. We’ll start by reading
 an <code s__="13">int</code> from the keyboard:</p>
<div class="sourceCode" id="cb567"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb567-1" d__=""><a href="#cb567-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> a<span class="op" d__="">;</span></span>
<span id="cb567-2"><a href="#cb567-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb567-3" d__=""><a href="#cb567-3" aria-hidden="true" tabindex="-1"></a>scanf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>a<span class="op" d__="">);</span></span></code></pre></div>
<p d__=""><code s__="13">scanf()</code> obviously needs a pointer to the
 variable if it is going to change the variable itself, so we use the 
address-of operator to get the pointer.</p>
<p d__="">In this case, <code s__="13">scanf()</code> walks down the format string, finds a “<code s__="13">%d</code>”, and then knows it needs to read an integer and store it in the next variable in the argument list, <code s__="13">a</code>.</p>
<p d__="">Here are some of the other format specifiers you can put in the format string:</p>
<table>
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Format Specifier</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">%d</code></td>
<td d__="">Reads an integer to be stored in an <code s__="13">int</code>. This integer can be signed.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">%u</code></td>
<td d__="">Reads an integer to be stored in an <code s__="13">unsigned int</code>.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">%f</code></td>
<td d__="">Reads a floating point number, to be stored in a <code s__="13">float</code>.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">%s</code></td>
<td d__="">Reads a string up to the first whitespace character.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">%c</code></td>
<td d__="">Reads a <code s__="13">char</code>.</td>
</tr>
</tbody>
</table>
<p d__="">And that’s the end of the story!</p>
<p d__="">Ha! Just kidding. If you’ve just arrived from the <code s__="13">printf()</code> page, you know there’s a near-infinite amount of additional material.</p>
<h4 data-number="23.11.0.1" id="consuming-other-characters" d__=""><span class="header-section-number">23.11.0.1</span> Consuming Other Characters</h4>
<p d__=""><code s__="13">scanf()</code> will move along the format string matching any characters you include.</p>
<p d__="">For example, you could read a hyphenated date like so:</p>
<div class="sourceCode" id="cb568"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb568-1" d__=""><a href="#cb568-1" aria-hidden="true" tabindex="-1"></a>scanf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%u</span><span class="st" d__="">-</span><span class="sc" d__="">%u</span><span class="st" d__="">-</span><span class="sc" d__="">%u</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>yyyy<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>mm<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>dd<span class="op" d__="">);</span></span></code></pre></div>
<p d__="">In that case, <code s__="13">scanf()</code> will attempt to 
consume an unsigned decimal number, then a hyphen, then another unsigned
 number, then another hypen, then another unsigned number.</p>
<p d__="">If it fails to match at any point (e.g.&nbsp;the user entered “foo”), <code s__="13">scanf()</code> will bail without consuming the offending characters.</p>
<p d__="">And it will return the number of variables successfully converted. In the example above, if the user entered a valid string, <code s__="13">scanf()</code> would return <code s__="13">3</code>, one for each variable successfully read.</p>
<h4 data-number="23.11.0.2" id="problems-with-scanf" d__=""><span class="header-section-number">23.11.0.2</span> Problems with <code s__="13">scanf()</code></h4>
<p d__="">I (and the C FAQ and a lot of people) recommend <em>against</em> using <code s__="13">scanf()</code> to read directly from the keyboard. It’s too easy for it to stop consuming characters when the user enters some bad data.</p>
<p d__="">If you have data in a file and you’re confident it’s in good shape, <code s__="13">fscanf()</code> can be really useful.</p>
<p d__="">But in the case of the keyboard or file, you can always use <code s__="13">fgets()</code> to read a complete line into a buffer, and then use <code s__="13">sscanf()</code> to scan things out of the buffer. This gives you the best of both worlds.</p>
<h4 data-number="23.11.0.3" id="problems-with-sscanf" d__=""><span class="header-section-number">23.11.0.3</span> Problems with <code s__="13">sscanf()</code></h4>
<p d__="">A while back, a third-party programmer rose to fame for figuring out <a href="https://nee.lv/2021/02/28/How-I-cut-GTA-Online-loading-times-by-70/" d__="">how to cut <em>GTA Online</em> load times by 70%</a><a href="#fn48" class="footnote-ref" id="fnref48" role="doc-noteref"><sup s__="13" d__="">48</sup></a>.</p>
<p d__="">What they’d discovered was that the implementation of <code s__="13">sscanf()</code> first effectively calls <code s__="13">strlen()</code>… so even if you’re just using <code s__="13">sscanf()</code> to peel the first few characters off the string, it still runs all the way out to the end of the string first.</p>
<p d__="">On small strings, no big deal, but on large strings with repeated calls (which is what was happening in <em>GTA</em>) it got <em>sloooooooooowwwww</em>…</p>
<p d__="">So if you’re just converting a string to a number, consider <a href="#man-atoi"><code s__="13" d__="">atoi()</code></a>, <a href="#man-atof"><code s__="13" d__="">atof()</code></a>, or the <a href="#man-strtol"><code s__="13" d__="">strtol()</code></a> and <a href="#man-strtod"><code s__="13" d__="">strtod()</code></a> families of functions, instead.</p>
<p d__="">(The programmer <a href="https://www.polygon.com/2021/3/16/22334214/gta-online-loading-times-t0st-update-bug-bounty" d__="">collected a $10,000 bug bounty</a> for the effort.)</p>
<h4 data-number="23.11.0.4" id="the-deep-details" d__=""><span class="header-section-number">23.11.0.4</span> The Deep Details</h4>
<p d__="">Let’s check out what a <code s__="13">scanf()</code></p>
<p d__="">And here are some more codes, except these don’t tend to be used as often. You, of course, may use them as often as you wish!</p>
<p d__="">First, the format string. Like we mentioned, it can hold ordinary characters as well as <code s__="13">%</code> format specifiers. And whitespace characters.</p>
<p d__="">Whitespace characters have a special role: a whitespace character will cause <code s__="13">scanf()</code>
 to consume as many whitespace characters as it can up to the next 
non-whitespace character. You can use this to ignore all leading or 
trailing whitespace.</p>
<p d__="">Also, all format specifiers except for <code s__="13">s</code>, <code s__="13">c</code>, and <code s__="13">[</code> automatically consume leading whitespace.</p>
<p d__="">But I know what you’re thinking: the meat of this function is in the format specifiers. What do those look like?</p>
<p d__="">These consist of the following, in sequence:</p>
<ol type="1">
<li d__="">A <code s__="13">%</code> sign</li>
<li d__="">Optional: an <code s__="13">*</code> to suppress assignment—more later</li>
<li d__="">Optional: a field width—max characters to read</li>
<li d__="">Optional: length modifier, for specifying longer or shorter types</li>
<li d__="">A conversion specifier, like <code s__="13">d</code> or <code s__="13">f</code> indicating the type to read</li>
</ol>
<h4 data-number="23.11.0.5" id="the-conversion-specifier" d__=""><span class="header-section-number">23.11.0.5</span> The Conversion Specifier</h4>
<p d__="">Let’s start with the best and last: the <em>conversion specifier</em>.</p>
<p d__="">This is the part of the format specifier that tells us what type of variable <code s__="13">scanf()</code> should be reading into, like <code s__="13">%d</code> or <code s__="13">%f</code>.</p>
<p d__="">The binary conversion is new in C23!</p>
<table>
<colgroup>
<col style="width: 13%">
<col style="width: 86%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;" d__="">Conversion Specifier</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">d</code></td>
<td d__="">Matches a decimal <code s__="13">int</code>. Can have a leading sign.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">b</code></td>
<td d__="">Matches a binary (base 2) <code s__="13">unsigned int</code>. Can have a leading sign.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">i</code></td>
<td d__="">Like <code s__="13">d</code>, except will handle it if you put a leading <code s__="13">0x</code> (hex) or <code s__="13">0</code> (octal) or <code s__="13">0b</code> (binary) on the number.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">o</code></td>
<td d__="">Matches an octal (base 8) <code s__="13">unsigned int</code>. Leading zeros are ignored.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">u</code></td>
<td d__="">Matches a decimal <code s__="13">unsigned int</code>.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">x</code></td>
<td d__="">Matches a hex (base 16) <code s__="13">unsigned int</code>.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">f</code></td>
<td d__="">Match a floating point number (or scientific notation, or anything <code s__="13">strtod()</code> can handle).</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">c</code></td>
<td d__="">Match a <code s__="13">char</code>, or mutiple <code s__="13">char</code>s if a field width is given.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">s</code></td>
<td d__="">Match a sequence of non-whitespace <code s__="13">char</code>s.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">[</code></td>
<td d__="">Match a sequence of characters from a set. The set ends with <code s__="13">]</code>. More below.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">p</code></td>
<td d__="">Match a pointer, the opposite of <code s__="13">%p</code> for <code s__="13">printf()</code>.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">n</code></td>
<td d__="">Store the number of characters written so far in the given <code s__="13">int*</code>. Doesn’t consume anything.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">%</code></td>
<td d__="">Match a literal percent sign.</td>
</tr>
</tbody>
</table>
<p d__="">All of the following are equivalent to the <code s__="13">f</code> specifier: <code s__="13">a</code>, <code s__="13">e</code>, <code s__="13">g</code>, <code s__="13">A</code>, <code s__="13">E</code>, <code s__="13">F</code>, <code s__="13">G</code>.</p>
<p d__="">And capital <code s__="13">X</code> is equivalent to lowercase <code s__="13">x</code>.</p>
<h5 data-number="23.11.0.5.1" id="the-scanset-conversion-specifier" d__=""><span class="header-section-number">23.11.0.5.1</span> The Scanset <code s__="13">%[]</code> Conversion Specifier</h5>
<p d__="">This is about the weirdest format specifier there is. It allows you to specify a set of characters (the <em>scanset</em>) to be stored away (likely in an array of <code s__="13">char</code>s). Conversion stops when a character that is not in the set is matched.</p>
<p d__="">For example, <code s__="13">%[0-9]</code> means “match all numbers zero through nine.” And <code s__="13">%[AD-G34]</code> means “match A, D through G, 3, or 4”.</p>
<p d__="">Now, to convolute matters, you can tell <code s__="13">scanf()</code> to match characters that are <em>not</em> in the set by putting a caret (<code s__="13">^</code>) directly after the <code s__="13">%[</code> and following it with the set, like this: <code s__="13">%[^A-C]</code>, which means “match all characters that are <em>not</em> A through C.”</p>
<p d__="">To match a close square bracket, make it the first character in the set, like this: <code s__="13">%[]A-C]</code> or <code s__="13">%[^]A-C]</code>. (I added the “<code s__="13">A-C</code>” just so it was clear that the “<code s__="13">]</code>” was first in the set.)</p>
<p d__="">To match a hyphen, make it the last character in the set, e.g.&nbsp;to match A-through-C or hyphen: <code s__="13">%[A-C-]</code>.</p>
<p d__="">So if we wanted to match all letters <em>except</em> “%”, “^”, “]”, “B”, “C”, “D”, “E”, and “-”, we could use this format string: <code s__="13">%[^]%^B-E-]</code>.</p>
<p d__="">Got it? Now we can go onto the next func—no wait! There’s more! Yes, still more to know about <code s__="13">scanf()</code>. Does it never end? Try to imagine how I feel writing about it!</p>
<h4 data-number="23.11.0.6" id="the-length-modifier" d__=""><span class="header-section-number">23.11.0.6</span> The Length Modifier</h4>
<p d__="">So you know that “<code s__="13">%d</code>” stores into an <code s__="13">int</code>. But how do you store into a <code s__="13">long</code>, <code s__="13">short</code>, or <code s__="13">double</code>?</p>
<p d__="">Well, like in <code s__="13">printf()</code>, you can add a modifier before the type specifier to tell <code s__="13">scanf()</code> that you have a longer or shorter type. The following is a table of the possible modifiers:</p>
<table>
<colgroup>
<col style="width: 13%">
<col style="width: 24%">
<col style="width: 62%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;" d__="">Length Modifier</th>
<th style="text-align: center;" d__="">Conversion Specifier</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">hh</code></td>
<td style="text-align: center;" d__=""><code s__="13">b</code>, <code s__="13">d</code>, <code s__="13">i</code>, <code s__="13">o</code>, <code s__="13">u</code>, <code s__="13">x</code>, <code s__="13">X</code></td>
<td d__="">Convert input to <code s__="13">char</code> (signed or unsigned as appropriate) before printing.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">h</code></td>
<td style="text-align: center;" d__=""><code s__="13">b</code>, <code s__="13">d</code>, <code s__="13">i</code>, <code s__="13">o</code>, <code s__="13">u</code>, <code s__="13">x</code>, <code s__="13">X</code></td>
<td d__="">Convert input to <code s__="13">short int</code> (signed or unsigned as appropriate) before printing.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">l</code></td>
<td style="text-align: center;" d__=""><code s__="13">b</code>, <code s__="13">d</code>, <code s__="13">i</code>, <code s__="13">o</code>, <code s__="13">u</code>, <code s__="13">x</code>, <code s__="13">X</code></td>
<td d__="">Convert input to <code s__="13">long int</code> (signed or unsigned as appropriate).</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">ll</code></td>
<td style="text-align: center;" d__=""><code s__="13">b</code>, <code s__="13">d</code>, <code s__="13">i</code>, <code s__="13">o</code>, <code s__="13">u</code>, <code s__="13">x</code>, <code s__="13">X</code></td>
<td d__="">Convert input to <code s__="13">long long int</code> (signed or unsigned as appropriate).</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">j</code></td>
<td style="text-align: center;" d__=""><code s__="13">b</code>, <code s__="13">d</code>, <code s__="13">i</code>, <code s__="13">o</code>, <code s__="13">u</code>, <code s__="13">x</code>, <code s__="13">X</code></td>
<td d__="">Convert input to <code s__="13">intmax_t</code> or <code s__="13">uintmax_t</code> (as appropriate).</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">z</code></td>
<td style="text-align: center;" d__=""><code s__="13">b</code>, <code s__="13">d</code>, <code s__="13">i</code>, <code s__="13">o</code>, <code s__="13">u</code>, <code s__="13">x</code>, <code s__="13">X</code></td>
<td d__="">Convert input to <code s__="13">size_t</code>.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">t</code></td>
<td style="text-align: center;" d__=""><code s__="13">b</code>, <code s__="13">d</code>, <code s__="13">i</code>, <code s__="13">o</code>, <code s__="13">u</code>, <code s__="13">x</code>, <code s__="13">X</code></td>
<td d__="">Convert input to <code s__="13">ptrdiff_t</code>.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">L</code></td>
<td style="text-align: center;" d__=""><code s__="13">a</code>, <code s__="13">A</code>, <code s__="13">e</code>, <code s__="13">E</code>, <code s__="13">f</code>, <code s__="13">F</code>, <code s__="13">g</code>, <code s__="13">G</code></td>
<td d__="">Convert input to <code s__="13">long double</code>.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">l</code></td>
<td style="text-align: center;" d__=""><code s__="13">c</code>,<code s__="13">s</code>,<code s__="13">[</code></td>
<td d__="">Convert input to <code s__="13">wchar_t</code>, a wide character.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">l</code></td>
<td style="text-align: center;"><code s__="13" d__="">s</code></td>
<td d__="">Argument is in a <code s__="13">wchar_t*</code>, a wide character string.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">hh</code></td>
<td style="text-align: center;"><code s__="13" d__="">n</code></td>
<td d__="">Store result in <code s__="13">signed char*</code> argument.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">h</code></td>
<td style="text-align: center;"><code s__="13" d__="">n</code></td>
<td d__="">Store result in <code s__="13">short int*</code> argument.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">l</code></td>
<td style="text-align: center;"><code s__="13" d__="">n</code></td>
<td d__="">Store result in <code s__="13">long int*</code> argument.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">ll</code></td>
<td style="text-align: center;"><code s__="13" d__="">n</code></td>
<td d__="">Store result in <code s__="13">long long int*</code> argument.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">j</code></td>
<td style="text-align: center;"><code s__="13" d__="">n</code></td>
<td d__="">Store result in <code s__="13">intmax_t*</code> argument.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code s__="13" d__="">z</code></td>
<td style="text-align: center;"><code s__="13" d__="">n</code></td>
<td d__="">Store result in <code s__="13">size_t*</code> argument.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code s__="13" d__="">t</code></td>
<td style="text-align: center;"><code s__="13" d__="">n</code></td>
<td d__="">Store result in <code s__="13">ptrdiff_t*</code> argument.</td>
</tr>
</tbody>
</table>
<h4 data-number="23.11.0.7" id="field-widths" d__=""><span class="header-section-number">23.11.0.7</span> Field Widths</h4>
<p d__="">The field width generally allows you to specify a maximum 
number of characters to consume. If the thing you’re trying to match is 
shorter than the field width, that input will stop being processed 
before the field width is reached.</p>
<p d__="">So a string will stop being consumed when whitespace is found, even if fewer than the field width characters are matched.</p>
<p d__="">And a float will stop being consumed at the end of the number, even if fewer characters than the field width are matched.</p>
<p d__="">But <code s__="13">%c</code> is an interesting one—it doesn’t 
stop consuming characters on anything. So it’ll go exactly to the field 
width. (Or 1 character if no field width is given.)</p>
<h4 data-number="23.11.0.8" id="skip-input-with" d__=""><span class="header-section-number">23.11.0.8</span> Skip Input with <code s__="13">*</code></h4>
<p d__="">If you put an <code s__="13">*</code> in the format specifier, it tells <code s__="13">scanf()</code>
 do to the conversion specified, but not store it anywhere. It simply 
discards the data as it reads it. This is what you use if you want <code s__="13">scanf()</code> to eat some data but you don’t want to store it anywhere; you don’t give <code s__="13">scanf()</code> an argument for this conversion.</p>
<div class="sourceCode" id="cb569"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb569-1"><a href="#cb569-1" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">// Read 3 ints, but discard the middle one</span></span>
<span id="cb569-2" d__=""><a href="#cb569-2" aria-hidden="true" tabindex="-1"></a>scanf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d</span><span class="st"> </span><span class="sc" d__="">%*d</span><span class="st"> </span><span class="sc" d__="">%d</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>int1<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>int3<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="return-value-157" d__="">Return Value</h3>
<p d__=""><code s__="13">scanf()</code> returns the number of items 
assigned into variables. Since assignment into variables stops when 
given invalid input for a certain format specifier, this can tell you if
 you’ve input all your data correctly.</p>
<p d__="">Also, <code s__="13">scanf()</code> returns <code s__="13">EOF</code> on end-of-file.</p>
<h3 class="unnumbered unlisted" id="example-160" d__="">Example</h3>
<div class="sourceCode" id="cb570"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb570-1"><a href="#cb570-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb570-2"><a href="#cb570-2"></a></span>
<span id="cb570-3" d__=""><a href="#cb570-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb570-4"><a href="#cb570-4"></a><span class="op" d__="">{</span></span>
<span id="cb570-5" d__=""><a href="#cb570-5"></a>    <span class="dt" d__="">int</span> a<span class="op" d__="">;</span></span>
<span id="cb570-6" d__=""><a href="#cb570-6"></a>    <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> b<span class="op" d__="">;</span></span>
<span id="cb570-7" d__=""><a href="#cb570-7"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> c<span class="op" d__="">;</span></span>
<span id="cb570-8" d__=""><a href="#cb570-8"></a>    <span class="dt" d__="">float</span> d<span class="op" d__="">;</span></span>
<span id="cb570-9" d__=""><a href="#cb570-9"></a>    <span class="dt" d__="">double</span> e<span class="op" d__="">;</span></span>
<span id="cb570-10" d__=""><a href="#cb570-10"></a>    <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> f<span class="op" d__="">;</span></span>
<span id="cb570-11" d__=""><a href="#cb570-11"></a>    <span class="dt" d__="">char</span> s<span class="op" d__="">[</span><span class="dv" d__="">100</span><span class="op" d__="">];</span></span>
<span id="cb570-12"><a href="#cb570-12"></a></span>
<span id="cb570-13" d__=""><a href="#cb570-13"></a>    scanf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>a<span class="op" d__="">);</span>  <span class="co" d__="">// store an int</span></span>
<span id="cb570-14" d__=""><a href="#cb570-14"></a>    scanf<span class="op" d__="">(</span><span class="st" d__="">" </span><span class="sc" d__="">%d</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>a<span class="op" d__="">);</span> <span class="co" d__="">// eat any whitespace, then store an int</span></span>
<span id="cb570-15" d__=""><a href="#cb570-15"></a>    scanf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s</span><span class="st" d__="">"</span><span class="op" d__="">,</span> s<span class="op" d__="">);</span> <span class="co" d__="">// store a string</span></span>
<span id="cb570-16" d__=""><a href="#cb570-16"></a>    scanf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%Lf</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>f<span class="op" d__="">);</span> <span class="co" d__="">// store a long double</span></span>
<span id="cb570-17"><a href="#cb570-17"></a></span>
<span id="cb570-18"><a href="#cb570-18"></a>    <span class="co" d__="">// store an unsigned, read all whitespace, then store a long int:</span></span>
<span id="cb570-19" d__=""><a href="#cb570-19"></a>    scanf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%u</span><span class="st"> </span><span class="sc" d__="">%ld</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>c<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>b<span class="op" d__="">);</span></span>
<span id="cb570-20"><a href="#cb570-20"></a></span>
<span id="cb570-21"><a href="#cb570-21"></a>    <span class="co" d__="">// store an int, read whitespace, read "blendo", read whitespace,</span></span>
<span id="cb570-22"><a href="#cb570-22"></a>    <span class="co" d__="">// and store a float:</span></span>
<span id="cb570-23" d__=""><a href="#cb570-23"></a>    scanf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d</span><span class="st" d__=""> blendo </span><span class="sc" d__="">%f</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>a<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>d<span class="op" d__="">);</span></span>
<span id="cb570-24"><a href="#cb570-24"></a></span>
<span id="cb570-25"><a href="#cb570-25"></a>    <span class="co" d__="">// read all whitespace, then store all characters up to a newline</span></span>
<span id="cb570-26" d__=""><a href="#cb570-26"></a>    scanf<span class="op" d__="">(</span><span class="st" d__="">" %[^</span><span class="sc" d__="">\n</span><span class="st" d__="">]"</span><span class="op" d__="">,</span> s<span class="op" d__="">);</span></span>
<span id="cb570-27"><a href="#cb570-27"></a></span>
<span id="cb570-28"><a href="#cb570-28"></a>    <span class="co" d__="">// store a float, read (and ignore) an int, then store a double:</span></span>
<span id="cb570-29" d__=""><a href="#cb570-29"></a>    scanf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f</span><span class="st"> </span><span class="sc" d__="">%*d</span><span class="st"> </span><span class="sc" d__="">%lf</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>d<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>e<span class="op" d__="">);</span></span>
<span id="cb570-30"><a href="#cb570-30"></a></span>
<span id="cb570-31"><a href="#cb570-31"></a>    <span class="co" d__="">// store 10 characters:</span></span>
<span id="cb570-32" d__=""><a href="#cb570-32"></a>    scanf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%10c</span><span class="st" d__="">"</span><span class="op" d__="">,</span> s<span class="op" d__="">);</span></span>
<span id="cb570-33"><a href="#cb570-33"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-149" d__="">See Also</h3>
<p d__=""><a href="#man-scanf"><code s__="13" d__="">sscanf()</code></a>, <a href="#man-vscanf"><code s__="13" d__="">vscanf()</code></a>, <a href="#man-vscanf"><code s__="13" d__="">vsscanf()</code></a>, <a href="#man-vscanf"><code s__="13" d__="">vfscanf()</code></a></p>
<hr>
<h2 data-number="23.12" id="man-vprintf" d__=""><span class="header-section-number">23.12</span> <code>vprintf()</code>, <code>vfprintf()</code>, <code>vsprintf()</code>, <code>vsnprintf()</code></h2>
<p> </p>
<p d__=""><code s__="13">printf()</code> variants using variable argument lists (<code s__="13">va_list</code>)</p>
<h3 class="unnumbered unlisted" id="synopsis-160" d__="">Synopsis</h3>
<div class="sourceCode" id="cb571"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb571-1"><a href="#cb571-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb571-2"><a href="#cb571-2" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdarg.h&gt;</span></span>
<span id="cb571-3"><a href="#cb571-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb571-4" d__=""><a href="#cb571-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> vprintf<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> format<span class="op" d__="">,</span> <span class="dt" d__="">va_list</span> arg<span class="op" d__="">);</span></span>
<span id="cb571-5"><a href="#cb571-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb571-6" d__=""><a href="#cb571-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> vfprintf<span class="op" d__="">(</span><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> stream<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> format<span class="op" d__="">,</span></span>
<span id="cb571-7" d__=""><a href="#cb571-7" aria-hidden="true" tabindex="-1"></a>             <span class="dt" d__="">va_list</span> arg<span class="op" d__="">);</span></span>
<span id="cb571-8"><a href="#cb571-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb571-9" d__=""><a href="#cb571-9" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> vsprintf<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> format<span class="op" d__="">,</span> <span class="dt" d__="">va_list</span> arg<span class="op" d__="">);</span></span>
<span id="cb571-10"><a href="#cb571-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb571-11" d__=""><a href="#cb571-11" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> vsnprintf<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> format<span class="op" d__="">,</span></span>
<span id="cb571-12" d__=""><a href="#cb571-12" aria-hidden="true" tabindex="-1"></a>              <span class="dt" d__="">va_list</span> arg<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-160" d__="">Description</h3>
<p d__="">These are just like the <code s__="13">printf()</code> variants except instead of taking an actual variable number of arguments, they take a fixed number—the last of which is a <code s__="13">va_list</code> that refers to the variable arguments.</p>
<p d__="">Like with <code s__="13">printf()</code>, the different variants send output different places.</p>
<table>
<thead>
<tr class="header">
<th d__="">Function</th>
<th d__="">Output Destination</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">vprintf()</code></td>
<td d__="">Print to console (screen by default, typically).</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">vfprintf()</code></td>
<td d__="">Print to a file.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">vsprintf()</code></td>
<td d__="">Print to a string.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">vsnprintf()</code></td>
<td d__="">Print to a string (safely).</td>
</tr>
</tbody>
</table>
<p d__="">Both <code s__="13">vsprintf()</code> and <code s__="13">vsnprintf()</code> have the quality that if you pass in <code s__="13">NULL</code> as the buffer, nothing is written—but you can still check the return value to see how many characters <em>would</em> have been written.</p>
<p d__="">If you try to write out more than the maximum number of characters, <code s__="13">vsnprintf()</code> will graciously write only <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="168"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D45B TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="3"><mjx-c class="mjx-c31"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi><mo>−</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container></span> characters so that it has enough room to write the terminator at the end.</p>
<p d__="">As for why in the heck would you ever want to do this, the most common reason is to create your own specialized versions of <code s__="13">printf()</code>-type functions, piggybacking on all that <code s__="13">printf()</code> functionality goodness.</p>
<p d__="">See the example for an example, predictably.</p>
<h3 class="unnumbered unlisted" id="return-value-158" d__="">Return Value</h3>
<p d__=""><code s__="13">vprintf()</code> and <code s__="13">vfprintf()</code> return the number of characters printed, or a negative value on error.</p>
<p d__=""><code s__="13">vsprintf()</code> returns the number of 
characters printed to the buffer, not counting the NUL terminator, or a 
negative value if an error occurred.</p>
<p d__=""><code s__="13">vnsprintf()</code> returns the number of characters printed to the buffer. Or the number that <em>would</em> have been printed if the buffer had been large enough.</p>
<h3 class="unnumbered unlisted" id="example-161" d__="">Example</h3>
<p d__="">In this example, we make our own version of <code s__="13">printf()</code> called <code s__="13">logger()</code> that timestamps output. Notice how the calls to <code s__="13">logger()</code> have all the bells and whistles of <code s__="13">printf()</code>.</p>
<div class="sourceCode" id="cb572"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb572-1"><a href="#cb572-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb572-2"><a href="#cb572-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdarg.h&gt;</span></span>
<span id="cb572-3"><a href="#cb572-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb572-4"><a href="#cb572-4"></a></span>
<span id="cb572-5" d__=""><a href="#cb572-5"></a><span class="dt" d__="">int</span> logger<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span>format<span class="op" d__="">,</span> <span class="op" d__="">...)</span></span>
<span id="cb572-6"><a href="#cb572-6"></a><span class="op" d__="">{</span></span>
<span id="cb572-7" d__=""><a href="#cb572-7"></a>    <span class="dt" d__="">va_list</span> va<span class="op" d__="">;</span></span>
<span id="cb572-8" d__=""><a href="#cb572-8"></a>    <span class="dt" d__="">time_t</span> now_secs <span class="op" d__="">=</span> time<span class="op" d__="">(</span>NULL<span class="op" d__="">);</span></span>
<span id="cb572-9" d__=""><a href="#cb572-9"></a>    <span class="kw" d__="">struct</span> tm <span class="op" d__="">*</span>now <span class="op" d__="">=</span> gmtime<span class="op" d__="">(&amp;</span>now_secs<span class="op" d__="">);</span></span>
<span id="cb572-10"><a href="#cb572-10"></a></span>
<span id="cb572-11"><a href="#cb572-11"></a>    <span class="co" d__="">// Output timestamp in format "YYYY-MM-DD hh:mm:ss : "</span></span>
<span id="cb572-12" d__=""><a href="#cb572-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%04d</span><span class="st" d__="">-</span><span class="sc" d__="">%02d</span><span class="st" d__="">-</span><span class="sc" d__="">%02d</span><span class="st"> </span><span class="sc" d__="">%02d</span><span class="st" d__="">:</span><span class="sc" d__="">%02d</span><span class="st" d__="">:</span><span class="sc" d__="">%02d</span><span class="st" d__=""> : "</span><span class="op" d__="">,</span></span>
<span id="cb572-13" d__=""><a href="#cb572-13"></a>        now<span class="op" d__="">-&gt;</span>tm_year <span class="op" d__="">+</span> <span class="dv" d__="">1900</span><span class="op" d__="">,</span> now<span class="op" d__="">-&gt;</span>tm_mon <span class="op" d__="">+</span> <span class="dv" d__="">1</span><span class="op" d__="">,</span> now<span class="op" d__="">-&gt;</span>tm_mday<span class="op" d__="">,</span></span>
<span id="cb572-14" d__=""><a href="#cb572-14"></a>        now<span class="op" d__="">-&gt;</span>tm_hour<span class="op" d__="">,</span> now<span class="op" d__="">-&gt;</span>tm_min<span class="op" d__="">,</span> now<span class="op" d__="">-&gt;</span>tm_sec<span class="op" d__="">);</span></span>
<span id="cb572-15"><a href="#cb572-15"></a></span>
<span id="cb572-16" d__=""><a href="#cb572-16"></a>    va_start<span class="op" d__="">(</span>va<span class="op" d__="">,</span> format<span class="op" d__="">);</span></span>
<span id="cb572-17" d__=""><a href="#cb572-17"></a>    <span class="dt" d__="">int</span> result <span class="op" d__="">=</span> vprintf<span class="op" d__="">(</span>format<span class="op" d__="">,</span> va<span class="op" d__="">);</span></span>
<span id="cb572-18" d__=""><a href="#cb572-18"></a>    va_end<span class="op" d__="">(</span>va<span class="op" d__="">);</span></span>
<span id="cb572-19"><a href="#cb572-19"></a></span>
<span id="cb572-20" d__=""><a href="#cb572-20"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb572-21"><a href="#cb572-21"></a></span>
<span id="cb572-22" d__=""><a href="#cb572-22"></a>    <span class="cf" d__="">return</span> result<span class="op" d__="">;</span></span>
<span id="cb572-23"><a href="#cb572-23"></a><span class="op" d__="">}</span></span>
<span id="cb572-24"><a href="#cb572-24"></a></span>
<span id="cb572-25" d__=""><a href="#cb572-25"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb572-26"><a href="#cb572-26"></a><span class="op" d__="">{</span></span>
<span id="cb572-27" d__=""><a href="#cb572-27"></a>    <span class="dt" d__="">int</span> x <span class="op" d__="">=</span> <span class="dv" d__="">12</span><span class="op" d__="">;</span></span>
<span id="cb572-28" d__=""><a href="#cb572-28"></a>    <span class="dt" d__="">float</span> y <span class="op" d__="">=</span> <span class="fl" d__="">3.2</span><span class="op" d__="">;</span></span>
<span id="cb572-29"><a href="#cb572-29"></a></span>
<span id="cb572-30" d__=""><a href="#cb572-30"></a>    logger<span class="op" d__="">(</span><span class="st" d__="">"Hello!"</span><span class="op" d__="">);</span></span>
<span id="cb572-31" d__=""><a href="#cb572-31"></a>    logger<span class="op" d__="">(</span><span class="st" d__="">"x = </span><span class="sc" d__="">%d</span><span class="st" d__=""> and y = </span><span class="sc" d__="">%.2f</span><span class="st" d__="">"</span><span class="op" d__="">,</span> x<span class="op" d__="">,</span> y<span class="op" d__="">);</span></span>
<span id="cb572-32"><a href="#cb572-32"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb573"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb573-1" d__=""><a href="#cb573-1" aria-hidden="true" tabindex="-1"></a>2021-03-30 04:25:49 : Hello!</span>
<span id="cb573-2" d__=""><a href="#cb573-2" aria-hidden="true" tabindex="-1"></a>2021-03-30 04:25:49 : x = 12 and y = 3.20</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-150" d__="">See Also</h3>
<p><a href="#man-printf"><code s__="13" d__="">printf()</code></a></p>
<hr>
<h2 data-number="23.13" id="man-vscanf" d__=""><span class="header-section-number">23.13</span> <code>vscanf()</code>, <code>vfscanf()</code>, <code>vsscanf()</code></h2>
<p> </p>
<p d__=""><code s__="13">scanf()</code> variants using variable argument lists (<code s__="13">va_list</code>)</p>
<h3 class="unnumbered unlisted" id="synopsis-161" d__="">Synopsis</h3>
<div class="sourceCode" id="cb574"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb574-1"><a href="#cb574-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb574-2"><a href="#cb574-2" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdarg.h&gt;</span></span>
<span id="cb574-3"><a href="#cb574-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb574-4" d__=""><a href="#cb574-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> vscanf<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> format<span class="op" d__="">,</span> <span class="dt" d__="">va_list</span> arg<span class="op" d__="">);</span></span>
<span id="cb574-5"><a href="#cb574-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb574-6" d__=""><a href="#cb574-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> vfscanf<span class="op" d__="">(</span><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> stream<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> format<span class="op" d__="">,</span></span>
<span id="cb574-7" d__=""><a href="#cb574-7" aria-hidden="true" tabindex="-1"></a>            <span class="dt" d__="">va_list</span> arg<span class="op" d__="">);</span></span>
<span id="cb574-8"><a href="#cb574-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb574-9" d__=""><a href="#cb574-9" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> vsscanf<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> format<span class="op" d__="">,</span></span>
<span id="cb574-10" d__=""><a href="#cb574-10" aria-hidden="true" tabindex="-1"></a>            <span class="dt" d__="">va_list</span> arg<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-161" d__="">Description</h3>
<p d__="">These are just like the <code s__="13">scanf()</code> variants except instead of taking an actual variable number of arguments, they take a fixed number—the last of which is a <code s__="13">va_list</code> that refers to the variable arguments.</p>
<table>
<thead>
<tr class="header">
<th d__="">Function</th>
<th d__="">Input Source</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">vscanf()</code></td>
<td d__="">Read from the console (keyboard by default, typically).</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">vfscanf()</code></td>
<td d__="">Read from a file.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">vsscanf()</code></td>
<td d__="">Read from a string.</td>
</tr>
</tbody>
</table>
<p d__="">Like with the <code s__="13">vprintf()</code> functions, this would be a good way to add additional functionality that took advantage of the power <code s__="13">scanf()</code> has to offer.</p>
<h3 class="unnumbered unlisted" id="return-value-159" d__="">Return Value</h3>
<p d__="">Returns the number of items successfully scanned, or <code s__="13">EOF</code> on end-of-file or error.</p>
<h3 class="unnumbered unlisted" id="example-162" d__="">Example</h3>
<p d__="">I have to admit I was wracking my brain to think of when you’d ever want to use this. The best example I could find was <a href="https://stackoverflow.com/questions/17017331/c99-vscanf-for-dummies/17018046#17018046" d__="">one on Stack Overflow</a><a href="#fn49" class="footnote-ref" id="fnref49" role="doc-noteref"><sup s__="13" d__="">49</sup></a> that error-checks the return value from <code s__="13">scanf()</code> against the expected. A variant of that is shown below.</p>
<div class="sourceCode" id="cb575"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb575-1"><a href="#cb575-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb575-2"><a href="#cb575-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdarg.h&gt;</span></span>
<span id="cb575-3"><a href="#cb575-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;assert.h&gt;</span></span>
<span id="cb575-4"><a href="#cb575-4"></a></span>
<span id="cb575-5" d__=""><a href="#cb575-5"></a><span class="dt" d__="">int</span> error_check_scanf<span class="op" d__="">(</span><span class="dt" d__="">int</span> expected_count<span class="op" d__="">,</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>format<span class="op" d__="">,</span> <span class="op" d__="">...)</span></span>
<span id="cb575-6"><a href="#cb575-6"></a><span class="op" d__="">{</span></span>
<span id="cb575-7" d__=""><a href="#cb575-7"></a>    <span class="dt" d__="">va_list</span> va<span class="op" d__="">;</span></span>
<span id="cb575-8"><a href="#cb575-8"></a></span>
<span id="cb575-9" d__=""><a href="#cb575-9"></a>    va_start<span class="op" d__="">(</span>va<span class="op" d__="">,</span> format<span class="op" d__="">);</span></span>
<span id="cb575-10" d__=""><a href="#cb575-10"></a>    <span class="dt" d__="">int</span> count <span class="op" d__="">=</span> vscanf<span class="op" d__="">(</span>format<span class="op" d__="">,</span> va<span class="op" d__="">);</span></span>
<span id="cb575-11" d__=""><a href="#cb575-11"></a>    va_end<span class="op" d__="">(</span>va<span class="op" d__="">);</span></span>
<span id="cb575-12"><a href="#cb575-12"></a></span>
<span id="cb575-13"><a href="#cb575-13"></a>    <span class="co" d__="">// This line will crash the program if the condition is false:</span></span>
<span id="cb575-14" d__=""><a href="#cb575-14"></a>    assert<span class="op" d__="">(</span>count <span class="op" d__="">==</span> expected_count<span class="op" d__="">);</span></span>
<span id="cb575-15"><a href="#cb575-15"></a></span>
<span id="cb575-16" d__=""><a href="#cb575-16"></a>    <span class="cf" d__="">return</span> count<span class="op" d__="">;</span></span>
<span id="cb575-17"><a href="#cb575-17"></a><span class="op" d__="">}</span></span>
<span id="cb575-18"><a href="#cb575-18"></a></span>
<span id="cb575-19" d__=""><a href="#cb575-19"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb575-20"><a href="#cb575-20"></a><span class="op" d__="">{</span></span>
<span id="cb575-21" d__=""><a href="#cb575-21"></a>    <span class="dt" d__="">int</span> a<span class="op" d__="">,</span> b<span class="op" d__="">;</span></span>
<span id="cb575-22" d__=""><a href="#cb575-22"></a>    <span class="dt" d__="">float</span> c<span class="op" d__="">;</span></span>
<span id="cb575-23"><a href="#cb575-23"></a></span>
<span id="cb575-24" d__=""><a href="#cb575-24"></a>    error_check_scanf<span class="op" d__="">(</span><span class="dv" d__="">3</span><span class="op" d__="">,</span> <span class="st" d__="">"</span><span class="sc" d__="">%d</span><span class="st" d__="">, </span><span class="sc" d__="">%d</span><span class="st" d__="">/</span><span class="sc" d__="">%f</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>a<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>b<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>c<span class="op" d__="">);</span></span>
<span id="cb575-25" d__=""><a href="#cb575-25"></a>    error_check_scanf<span class="op" d__="">(</span><span class="dv" d__="">2</span><span class="op" d__="">,</span> <span class="st" d__="">"</span><span class="sc" d__="">%d</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>a<span class="op" d__="">);</span></span>
<span id="cb575-26"><a href="#cb575-26"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-151" d__="">See Also</h3>
<p><a href="#man-scanf"><code s__="13" d__="">scanf()</code></a></p>
<hr>
<h2 data-number="23.14" id="man-getc" d__=""><span class="header-section-number">23.14</span> <code>getc()</code>, <code>fgetc()</code>, <code>getchar()</code></h2>
<p> </p>
<p d__="">Get a single character from the console or from a file</p>
<h3 class="unnumbered unlisted" id="synopsis-162" d__="">Synopsis</h3>
<div class="sourceCode" id="cb576"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb576-1"><a href="#cb576-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb576-2"><a href="#cb576-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb576-3" d__=""><a href="#cb576-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> getc<span class="op" d__="">(</span><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">);</span></span>
<span id="cb576-4"><a href="#cb576-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb576-5" d__=""><a href="#cb576-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> fgetc<span class="op" d__="">(</span><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">);</span></span>
<span id="cb576-6"><a href="#cb576-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb576-7" d__=""><a href="#cb576-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> getchar<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-162" d__="">Description</h3>
<p d__="">All of these functions in one way or another, read a single character from the console or from a <code s__="13">FILE</code>. The differences are fairly minor, and here are the descriptions:</p>
<p d__=""><code s__="13">getc()</code> returns a character from the specified <code s__="13">FILE</code>. From a usage standpoint, it’s equivalent to the same <code s__="13">fgetc()</code> call, and <code s__="13">fgetc()</code> is a little more common to see. Only the implementation of the two functions differs.</p>
<p d__=""><code s__="13">fgetc()</code> returns a character from the specified <code s__="13">FILE</code>. From a usage standpoint, it’s equivalent to the same <code s__="13">getc()</code> call, except that <code s__="13">fgetc()</code> is a little more common to see. Only the implementation of the two functions differs.</p>
<p d__="">Yes, I cheated and used cut-n-paste to do that last paragraph.</p>
<p d__=""><code s__="13">getchar()</code> returns a character from <code s__="13">stdin</code>. In fact, it’s the same as calling <code s__="13">getc(stdin)</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-160" d__="">Return Value</h3>
<p d__="">All three functions return the <code s__="13">unsigned char</code> that they read, except it’s cast to an <code s__="13">int</code>.</p>
<p d__="">If end-of-file or an error is encountered, all three functions return <code s__="13">EOF</code>.</p>
<h3 class="unnumbered unlisted" id="example-163" d__="">Example</h3>
<p d__="">This example reads all the characters from a file, outputting only the letter ’b’s it finds..</p>
<div class="sourceCode" id="cb577"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb577-1"><a href="#cb577-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb577-2"><a href="#cb577-2"></a></span>
<span id="cb577-3" d__=""><a href="#cb577-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb577-4"><a href="#cb577-4"></a><span class="op" d__="">{</span></span>
<span id="cb577-5" d__=""><a href="#cb577-5"></a>    <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>fp<span class="op" d__="">;</span></span>
<span id="cb577-6" d__=""><a href="#cb577-6"></a>    <span class="dt" d__="">int</span> c<span class="op" d__="">;</span></span>
<span id="cb577-7"><a href="#cb577-7"></a></span>
<span id="cb577-8" d__=""><a href="#cb577-8"></a>    fp <span class="op" d__="">=</span> fopen<span class="op" d__="">(</span><span class="st" d__="">"spoon.txt"</span><span class="op" d__="">,</span> <span class="st" d__="">"r"</span><span class="op" d__="">);</span> <span class="co" d__="">// error check this!</span></span>
<span id="cb577-9"><a href="#cb577-9"></a></span>
<span id="cb577-10"><a href="#cb577-10"></a>    <span class="co" d__="">// this while-statement assigns into c, and then checks against EOF:</span></span>
<span id="cb577-11"><a href="#cb577-11"></a></span>
<span id="cb577-12" d__=""><a href="#cb577-12"></a>    <span class="cf" d__="">while</span><span class="op" d__="">((</span>c <span class="op" d__="">=</span> fgetc<span class="op" d__="">(</span>fp<span class="op" d__="">))</span> <span class="op" d__="">!=</span> EOF<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb577-13" d__=""><a href="#cb577-13"></a>        <span class="cf" d__="">if</span> <span class="op" d__="">(</span>c <span class="op" d__="">==</span> <span class="ch" d__="">'b'</span><span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb577-14" d__=""><a href="#cb577-14"></a>            putchar<span class="op" d__="">(</span>c<span class="op" d__="">);</span></span>
<span id="cb577-15"><a href="#cb577-15"></a>        <span class="op" d__="">}</span></span>
<span id="cb577-16"><a href="#cb577-16"></a>    <span class="op" d__="">}</span></span>
<span id="cb577-17"><a href="#cb577-17"></a></span>
<span id="cb577-18" d__=""><a href="#cb577-18"></a>    putchar<span class="op" d__="">(</span><span class="ch" d__="">'</span><span class="sc" d__="">\n</span><span class="ch" d__="">'</span><span class="op" d__="">);</span></span>
<span id="cb577-19"><a href="#cb577-19"></a></span>
<span id="cb577-20" d__=""><a href="#cb577-20"></a>    fclose<span class="op" d__="">(</span>fp<span class="op" d__="">);</span></span>
<span id="cb577-21"><a href="#cb577-21"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-152" d__="">See Also</h3>
<hr>
<h2 data-number="23.15" id="man-gets" d__=""><span class="header-section-number">23.15</span> <code>gets()</code>, <code>fgets()</code></h2>
<p> </p>
<p d__="">Read a string from console or file</p>
<h3 class="unnumbered unlisted" id="synopsis-163" d__="">Synopsis</h3>
<div class="sourceCode" id="cb578"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb578-1"><a href="#cb578-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb578-2"><a href="#cb578-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb578-3" d__=""><a href="#cb578-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> <span class="op" d__="">*</span>fgets<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span>s<span class="op" d__="">,</span> <span class="dt" d__="">int</span> size<span class="op" d__="">,</span> <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">);</span></span>
<span id="cb578-4" d__=""><a href="#cb578-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> <span class="op" d__="">*</span>gets<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span>s<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-163" d__="">Description</h3>
<p d__="">These are functions that will retrieve a newline-terminated 
string from the console or a file. In other normal words, it reads a 
line of text. The behavior is slightly different, and, as such, so is 
the usage. For instance, here is the usage of <code s__="13">gets()</code>:</p>
<p d__="">Don’t use <code s__="13">gets()</code>. In fact, as of C11, it ceases to exist! This is one of the rare cases of a function being <em>removed</em> from the standard.</p>
<p d__="">Admittedly, rationale would be useful, yes? For one thing, <code s__="13">gets()</code>
 doesn’t allow you to specify the length of the buffer to store the 
string in. This would allow people to keep entering data past the end of
 your buffer, and believe me, this would be Bad News.</p>
<p d__="">And that’s what the <code s__="13">size</code> parameter in <code s__="13">fgets()</code> is for. <code s__="13">fgets()</code> will read at most <code s__="13">size-1</code> characters and then stick a <code s__="13">NUL</code> terminator on after that.</p>
<p d__="">I was going to add another reason, but that’s basically the primary and only reason not to use <code s__="13">gets()</code>. As you might suspect, <code s__="13">fgets()</code> allows you to specify a maximum string length.</p>
<p d__="">One difference here between the two functions: <code s__="13">gets()</code> will devour and throw away the newline at the end of the line, while <code s__="13">fgets()</code> will store it at the end of your string (space permitting).</p>
<p d__="">Here’s an example of using <code s__="13">fgets()</code> from the console, making it behave more like <code s__="13">gets()</code> (with the exception of the newline inclusion):</p>
<div class="sourceCode" id="cb579"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb579-1" d__=""><a href="#cb579-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> s<span class="op" d__="">[</span><span class="dv" d__="">100</span><span class="op" d__="">];</span></span>
<span id="cb579-2" d__=""><a href="#cb579-2" aria-hidden="true" tabindex="-1"></a>gets<span class="op" d__="">(</span>s<span class="op" d__="">);</span>  <span class="co" d__="">// don't use this--read a line (from stdin)</span></span>
<span id="cb579-3" d__=""><a href="#cb579-3" aria-hidden="true" tabindex="-1"></a>fgets<span class="op" d__="">(</span>s<span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span><span class="op" d__="">(</span>s<span class="op" d__="">),</span> stdin<span class="op" d__="">);</span> <span class="co" d__="">// read a line from stdin</span></span></code></pre></div>
<p d__="">In this case, the <code s__="13">sizeof()</code> operator gives us the total size of the array in bytes, and since a <code s__="13">char</code> is a byte, it conveniently gives us the total size of the array.</p>
<p d__="">Of course, like I keep saying, the string returned from <code s__="13">fgets()</code>
 probably has a newline at the end that you might not want. You can 
write a short function to chop the newline off—in fact, let’s just roll 
that into our own version of <code s__="13">gets()</code></p>
<div class="sourceCode" id="cb580"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb580-1"><a href="#cb580-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb580-2"><a href="#cb580-2" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb580-3"><a href="#cb580-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb580-4" d__=""><a href="#cb580-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> <span class="op" d__="">*</span>ngets<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span>s<span class="op" d__="">,</span> <span class="dt" d__="">int</span> size<span class="op" d__="">)</span></span>
<span id="cb580-5"><a href="#cb580-5" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">{</span></span>
<span id="cb580-6" d__=""><a href="#cb580-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>rv <span class="op" d__="">=</span> fgets<span class="op" d__="">(</span>s<span class="op" d__="">,</span> size<span class="op" d__="">,</span> stdin<span class="op" d__="">);</span></span>
<span id="cb580-7"><a href="#cb580-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb580-8" d__=""><a href="#cb580-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>rv <span class="op" d__="">==</span> NULL<span class="op" d__="">)</span></span>
<span id="cb580-9" d__=""><a href="#cb580-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf" d__="">return</span> NULL<span class="op" d__="">;</span></span>
<span id="cb580-10"><a href="#cb580-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb580-11" d__=""><a href="#cb580-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>p <span class="op" d__="">=</span> strchr<span class="op" d__="">(</span>s<span class="op" d__="">,</span> <span class="ch" d__="">'</span><span class="sc" d__="">\n</span><span class="ch" d__="">'</span><span class="op" d__="">);</span>  <span class="co" d__="">// Find a newline</span></span>
<span id="cb580-12"><a href="#cb580-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb580-13" d__=""><a href="#cb580-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>p <span class="op" d__="">!=</span> NULL<span class="op" d__="">)</span>  <span class="co" d__="">// if there's a newline</span></span>
<span id="cb580-14" d__=""><a href="#cb580-14" aria-hidden="true" tabindex="-1"></a>        <span class="op" d__="">*</span>p <span class="op" d__="">=</span> <span class="ch" d__="">'</span><span class="sc" d__="">\0</span><span class="ch" d__="">'</span><span class="op" d__="">;</span>  <span class="co" d__="">// truncate the string there</span></span>
<span id="cb580-15"><a href="#cb580-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb580-16" d__=""><a href="#cb580-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf" d__="">return</span> s<span class="op" d__="">;</span></span>
<span id="cb580-17"><a href="#cb580-17" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">So, in summary, use <code s__="13">fgets()</code> to read a line of text from the keyboard or a file, and don’t use <code s__="13">gets()</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-161" d__="">Return Value</h3>
<p d__="">Both <code s__="13">gets()</code> and <code s__="13">fgets()</code> return a pointer to the string passed.</p>
<p d__="">On error or end-of-file, the functions return <code s__="13">NULL</code>.</p>
<h3 class="unnumbered unlisted" id="example-164" d__="">Example</h3>
<div class="sourceCode" id="cb581"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb581-1"><a href="#cb581-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb581-2"><a href="#cb581-2"></a></span>
<span id="cb581-3" d__=""><a href="#cb581-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb581-4"><a href="#cb581-4"></a><span class="op" d__="">{</span></span>
<span id="cb581-5" d__=""><a href="#cb581-5"></a>    <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>fp<span class="op" d__="">;</span></span>
<span id="cb581-6" d__=""><a href="#cb581-6"></a>    <span class="dt" d__="">char</span> s<span class="op" d__="">[</span><span class="dv" d__="">100</span><span class="op" d__="">];</span></span>
<span id="cb581-7"><a href="#cb581-7"></a></span>
<span id="cb581-8" d__=""><a href="#cb581-8"></a>    gets<span class="op" d__="">(</span>s<span class="op" d__="">);</span> <span class="co" d__="">// read from standard input (don't use this--use fgets()!)</span></span>
<span id="cb581-9"><a href="#cb581-9"></a></span>
<span id="cb581-10" d__=""><a href="#cb581-10"></a>    fgets<span class="op" d__="">(</span>s<span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span> s<span class="op" d__="">,</span> stdin<span class="op" d__="">);</span> <span class="co" d__="">// read 100 bytes from standard input</span></span>
<span id="cb581-11"><a href="#cb581-11"></a></span>
<span id="cb581-12" d__=""><a href="#cb581-12"></a>    fp <span class="op" d__="">=</span> fopen<span class="op" d__="">(</span><span class="st" d__="">"spoon.txt"</span><span class="op" d__="">,</span> <span class="st" d__="">"r"</span><span class="op" d__="">);</span> <span class="co" d__="">// (you should error-check this)</span></span>
<span id="cb581-13" d__=""><a href="#cb581-13"></a>    fgets<span class="op" d__="">(</span>s<span class="op" d__="">,</span> <span class="dv" d__="">100</span><span class="op" d__="">,</span> fp<span class="op" d__="">);</span> <span class="co" d__="">// read 100 bytes from the file datafile.dat</span></span>
<span id="cb581-14" d__=""><a href="#cb581-14"></a>    fclose<span class="op" d__="">(</span>fp<span class="op" d__="">);</span></span>
<span id="cb581-15"><a href="#cb581-15"></a></span>
<span id="cb581-16" d__=""><a href="#cb581-16"></a>    fgets<span class="op" d__="">(</span>s<span class="op" d__="">,</span> <span class="dv" d__="">20</span><span class="op" d__="">,</span> stdin<span class="op" d__="">);</span> <span class="co" d__="">// read a maximum of 20 bytes from stdin</span></span>
<span id="cb581-17"><a href="#cb581-17"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-153" d__="">See Also</h3>
<p d__=""><a href="#man-getc"><code s__="13" d__="">getc()</code></a>, <a href="#man-getc"><code s__="13" d__="">fgetc()</code></a>, <a href="#man-getc"><code s__="13" d__="">getchar()</code></a>, <a href="#man-puts"><code s__="13" d__="">puts()</code></a>, <a href="#man-puts"><code s__="13" d__="">fputs()</code></a>, <a href="#man-ungetc"><code s__="13" d__="">ungetc()</code></a></p>
<hr>
<h2 data-number="23.16" id="man-putc" d__=""><span class="header-section-number">23.16</span> <code>putc()</code>, <code>fputc()</code>, <code>putchar()</code></h2>
<p> </p>
<p d__="">Write a single character to the console or to a file</p>
<h3 class="unnumbered unlisted" id="synopsis-164" d__="">Synopsis</h3>
<div class="sourceCode" id="cb582"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb582-1"><a href="#cb582-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb582-2"><a href="#cb582-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb582-3" d__=""><a href="#cb582-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> putc<span class="op" d__="">(</span><span class="dt" d__="">int</span> c<span class="op" d__="">,</span> <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">);</span></span>
<span id="cb582-4"><a href="#cb582-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb582-5" d__=""><a href="#cb582-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> fputc<span class="op" d__="">(</span><span class="dt" d__="">int</span> c<span class="op" d__="">,</span> <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">);</span></span>
<span id="cb582-6"><a href="#cb582-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb582-7" d__=""><a href="#cb582-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> putchar<span class="op" d__="">(</span><span class="dt" d__="">int</span> c<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-164" d__="">Description</h3>
<p d__="">All three functions output a single character, either to the console or to a <code s__="13">FILE</code>.</p>
<p d__=""><code s__="13">putc()</code> takes a character argument, and outputs it to the specified <code s__="13">FILE</code>. <code s__="13">fputc()</code> does exactly the same thing, and differs from <code s__="13">putc()</code> in implementation only. Most people use <code s__="13">fputc()</code>.</p>
<p d__=""><code s__="13">putchar()</code> writes the character to the console, and is the same as calling <code s__="13">putc(c, stdout)</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-162" d__="">Return Value</h3>
<p d__="">All three functions return the character written on success, or <code s__="13">EOF</code> on error.</p>
<h3 class="unnumbered unlisted" id="example-165" d__="">Example</h3>
<p d__="">Print the alphabet:</p>
<div class="sourceCode" id="cb583"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb583-1"><a href="#cb583-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb583-2"><a href="#cb583-2"></a></span>
<span id="cb583-3" d__=""><a href="#cb583-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb583-4"><a href="#cb583-4"></a><span class="op" d__="">{</span></span>
<span id="cb583-5" d__=""><a href="#cb583-5"></a>    <span class="dt" d__="">char</span> i<span class="op" d__="">;</span></span>
<span id="cb583-6"><a href="#cb583-6"></a></span>
<span id="cb583-7" d__=""><a href="#cb583-7"></a>    <span class="cf" d__="">for</span><span class="op" d__="">(</span>i <span class="op" d__="">=</span> <span class="ch" d__="">'A'</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;=</span> <span class="ch" d__="">'Z'</span><span class="op" d__="">;</span> i<span class="op" d__="">++)</span></span>
<span id="cb583-8" d__=""><a href="#cb583-8"></a>        putchar<span class="op" d__="">(</span>i<span class="op" d__="">);</span></span>
<span id="cb583-9"><a href="#cb583-9"></a></span>
<span id="cb583-10" d__=""><a href="#cb583-10"></a>    putchar<span class="op" d__="">(</span><span class="ch" d__="">'</span><span class="sc" d__="">\n</span><span class="ch" d__="">'</span><span class="op" d__="">);</span> <span class="co" d__="">// put a newline at the end to make it pretty</span></span>
<span id="cb583-11"><a href="#cb583-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-154" d__="">See Also</h3>
<hr>
<h2 data-number="23.17" id="man-puts" d__=""><span class="header-section-number">23.17</span> <code>puts()</code>, <code>fputs()</code></h2>
<p></p>
<p d__="">Write a string to the console or to a file</p>
<h3 class="unnumbered unlisted" id="synopsis-165" d__="">Synopsis</h3>
<div class="sourceCode" id="cb584"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb584-1"><a href="#cb584-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb584-2"><a href="#cb584-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb584-3" d__=""><a href="#cb584-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> puts<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s<span class="op" d__="">);</span></span>
<span id="cb584-4"><a href="#cb584-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb584-5" d__=""><a href="#cb584-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> fputs<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s<span class="op" d__="">,</span> <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-165" d__="">Description</h3>
<p d__="">Both these functions output a NUL-terminated string. <code s__="13">puts()</code> outputs to the console, while <code s__="13">fputs()</code> allows you to specify the file for output.</p>
<h3 class="unnumbered unlisted" id="return-value-163" d__="">Return Value</h3>
<p d__="">Both functions return non-negative on success, or <code s__="13">EOF</code> on error.</p>
<h3 class="unnumbered unlisted" id="example-166" d__="">Example</h3>
<p d__="">Read strings from the console and save them in a file:</p>
<div class="sourceCode" id="cb585"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb585-1"><a href="#cb585-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb585-2"><a href="#cb585-2"></a></span>
<span id="cb585-3" d__=""><a href="#cb585-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb585-4"><a href="#cb585-4"></a><span class="op" d__="">{</span></span>
<span id="cb585-5" d__=""><a href="#cb585-5"></a>    <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>fp<span class="op" d__="">;</span></span>
<span id="cb585-6" d__=""><a href="#cb585-6"></a>    <span class="dt" d__="">char</span> s<span class="op" d__="">[</span><span class="dv" d__="">100</span><span class="op" d__="">];</span></span>
<span id="cb585-7"><a href="#cb585-7"></a></span>
<span id="cb585-8" d__=""><a href="#cb585-8"></a>    fp <span class="op" d__="">=</span> fopen<span class="op" d__="">(</span><span class="st" d__="">"somefile.txt"</span><span class="op" d__="">,</span> <span class="st" d__="">"w"</span><span class="op" d__="">);</span> <span class="co" d__="">// error check this!</span></span>
<span id="cb585-9"><a href="#cb585-9"></a></span>
<span id="cb585-10" d__=""><a href="#cb585-10"></a>    <span class="cf" d__="">while</span><span class="op" d__="">(</span>fgets<span class="op" d__="">(</span>s<span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span><span class="op" d__="">(</span>s<span class="op" d__="">),</span> stdin<span class="op" d__="">)</span> <span class="op" d__="">!=</span> NULL<span class="op" d__="">)</span> <span class="op" d__="">{</span> <span class="co" d__="">// read a string</span></span>
<span id="cb585-11" d__=""><a href="#cb585-11"></a>        fputs<span class="op" d__="">(</span>s<span class="op" d__="">,</span> fp<span class="op" d__="">);</span>  <span class="co" d__="">// write it to the file we opened</span></span>
<span id="cb585-12"><a href="#cb585-12"></a>    <span class="op" d__="">}</span></span>
<span id="cb585-13"><a href="#cb585-13"></a></span>
<span id="cb585-14" d__=""><a href="#cb585-14"></a>    fclose<span class="op" d__="">(</span>fp<span class="op" d__="">);</span></span>
<span id="cb585-15"><a href="#cb585-15"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-155" d__="">See Also</h3>
<hr>
<h2 data-number="23.18" id="man-ungetc"><span class="header-section-number" d__="">23.18</span> <code d__="">ungetc()</code></h2>
<p></p>
<p d__="">Pushes a character back into the input stream</p>
<h3 class="unnumbered unlisted" id="synopsis-166" d__="">Synopsis</h3>
<div class="sourceCode" id="cb586"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb586-1"><a href="#cb586-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb586-2"><a href="#cb586-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb586-3" d__=""><a href="#cb586-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> ungetc<span class="op" d__="">(</span><span class="dt" d__="">int</span> c<span class="op" d__="">,</span> <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-166" d__="">Description</h3>
<p d__="">You know how <code s__="13">getc()</code> reads the next 
character from a file stream? Well, this is the opposite of that—it 
pushes a character back into the file stream so that it will show up 
again on the very next read from the stream, as if you’d never gotten it
 from <code s__="13">getc()</code> in the first place.</p>
<p d__="">Why, in the name of all that is holy would you want to do 
that? Perhaps you have a stream of data that you’re reading a character 
at a time, and you won’t know to stop reading until you get a certain 
character, but you want to be able to read that character again later. 
You can read the character, see that it’s what you’re supposed to stop 
on, and then <code s__="13">ungetc()</code> it so it’ll show up on the next read.</p>
<p d__="">Yeah, that doesn’t happen very often, but there we are.</p>
<p d__="">Here’s the catch: the standard only guarantees that you’ll be able to push back <em>one character</em>. Some implementations might allow you to push back more, but there’s really no way to tell and still be portable.</p>
<h3 class="unnumbered unlisted" id="return-value-164" d__="">Return Value</h3>
<p d__="">On success, <code s__="13">ungetc()</code> returns the character you passed to it. On failure, it returns <code s__="13">EOF</code>.</p>
<h3 class="unnumbered unlisted" id="example-167" d__="">Example</h3>
<p d__="">This example reads a piece of punctuation, then everything 
after it up to the next piece of punctuation. It returns the leading 
punctuation, and stores the rest in a string.</p>
<div class="sourceCode" id="cb587"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb587-1"><a href="#cb587-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb587-2"><a href="#cb587-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb587-3"><a href="#cb587-3"></a></span>
<span id="cb587-4" d__=""><a href="#cb587-4"></a><span class="dt" d__="">int</span> read_punctstring<span class="op" d__="">(</span><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>fp<span class="op" d__="">,</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s<span class="op" d__="">)</span></span>
<span id="cb587-5"><a href="#cb587-5"></a><span class="op" d__="">{</span></span>
<span id="cb587-6" d__=""><a href="#cb587-6"></a>    <span class="dt" d__="">int</span> origpunct<span class="op" d__="">,</span> c<span class="op" d__="">;</span></span>
<span id="cb587-7"><a href="#cb587-7"></a>    </span>
<span id="cb587-8" d__=""><a href="#cb587-8"></a>    origpunct <span class="op" d__="">=</span> fgetc<span class="op" d__="">(</span>fp<span class="op" d__="">);</span></span>
<span id="cb587-9"><a href="#cb587-9"></a></span>
<span id="cb587-10" d__=""><a href="#cb587-10"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>origpunct <span class="op" d__="">==</span> EOF<span class="op" d__="">)</span>  <span class="co" d__="">// return EOF on end-of-file</span></span>
<span id="cb587-11" d__=""><a href="#cb587-11"></a>        <span class="cf" d__="">return</span> EOF<span class="op" d__="">;</span></span>
<span id="cb587-12"><a href="#cb587-12"></a></span>
<span id="cb587-13" d__=""><a href="#cb587-13"></a>    <span class="cf" d__="">while</span> <span class="op" d__="">(</span>c <span class="op" d__="">=</span> fgetc<span class="op" d__="">(</span>fp<span class="op" d__="">),</span> <span class="op" d__="">!</span>ispunct<span class="op" d__="">(</span>c<span class="op" d__="">)</span> <span class="op" d__="">&amp;&amp;</span> c <span class="op" d__="">!=</span> EOF<span class="op" d__="">)</span></span>
<span id="cb587-14" d__=""><a href="#cb587-14"></a>        <span class="op" d__="">*</span>s<span class="op" d__="">++</span> <span class="op" d__="">=</span> c<span class="op" d__="">;</span>  <span class="co" d__="">// save it in the string</span></span>
<span id="cb587-15"><a href="#cb587-15"></a></span>
<span id="cb587-16" d__=""><a href="#cb587-16"></a>    <span class="op" d__="">*</span>s <span class="op" d__="">=</span> <span class="ch" d__="">'</span><span class="sc" d__="">\0</span><span class="ch" d__="">'</span><span class="op" d__="">;</span> <span class="co" d__="">// nul-terminate the string</span></span>
<span id="cb587-17"><a href="#cb587-17"></a></span>
<span id="cb587-18"><a href="#cb587-18"></a>    <span class="co" d__="">// if we read punctuation last, ungetc it so we can fgetc it next</span></span>
<span id="cb587-19"><a href="#cb587-19"></a>    <span class="co" d__="">// time:</span></span>
<span id="cb587-20" d__=""><a href="#cb587-20"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>ispunct<span class="op" d__="">(</span>c<span class="op" d__="">))</span></span>
<span id="cb587-21" d__=""><a href="#cb587-21"></a>        ungetc<span class="op" d__="">(</span>c<span class="op" d__="">,</span> fp<span class="op" d__="">);</span></span>
<span id="cb587-22"><a href="#cb587-22"></a></span>
<span id="cb587-23" d__=""><a href="#cb587-23"></a>    <span class="cf" d__="">return</span> origpunct<span class="op" d__="">;</span></span>
<span id="cb587-24"><a href="#cb587-24"></a><span class="op" d__="">}</span></span>
<span id="cb587-25"><a href="#cb587-25"></a></span>
<span id="cb587-26" d__=""><a href="#cb587-26"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb587-27"><a href="#cb587-27"></a><span class="op" d__="">{</span></span>
<span id="cb587-28" d__=""><a href="#cb587-28"></a>    <span class="dt" d__="">char</span> s<span class="op" d__="">[</span><span class="dv" d__="">128</span><span class="op" d__="">];</span></span>
<span id="cb587-29" d__=""><a href="#cb587-29"></a>    <span class="dt" d__="">char</span> c<span class="op" d__="">;</span></span>
<span id="cb587-30"><a href="#cb587-30"></a></span>
<span id="cb587-31" d__=""><a href="#cb587-31"></a>    <span class="cf" d__="">while</span><span class="op" d__="">((</span>c <span class="op" d__="">=</span> read_punctstring<span class="op" d__="">(</span>stdin<span class="op" d__="">,</span> s<span class="op" d__="">))</span> <span class="op" d__="">!=</span> EOF<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb587-32" d__=""><a href="#cb587-32"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%c</span><span class="st" d__="">: </span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> c<span class="op" d__="">,</span> s<span class="op" d__="">);</span></span>
<span id="cb587-33"><a href="#cb587-33"></a>    <span class="op" d__="">}</span></span>
<span id="cb587-34"><a href="#cb587-34"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Sample Input:</p>
<div class="sourceCode" id="cb588"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb588-1" d__=""><a href="#cb588-1" aria-hidden="true" tabindex="-1"></a>!foo#bar*baz</span></code></pre></div>
<p d__="">Sample output:</p>
<div class="sourceCode" id="cb589"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb589-1" d__=""><a href="#cb589-1" aria-hidden="true" tabindex="-1"></a>!: foo</span>
<span id="cb589-2" d__=""><a href="#cb589-2" aria-hidden="true" tabindex="-1"></a>#: bar</span>
<span id="cb589-3" d__=""><a href="#cb589-3" aria-hidden="true" tabindex="-1"></a>*: baz</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-156" d__="">See Also</h3>
<p><a href="#man-getc"><code s__="13" d__="">fgetc()</code></a></p>
<hr>
<h2 data-number="23.19" id="man-fread"><span class="header-section-number" d__="">23.19</span> <code d__="">fread()</code></h2>
<p></p>
<p d__="">Read binary data from a file</p>
<h3 class="unnumbered unlisted" id="synopsis-167" d__="">Synopsis</h3>
<div class="sourceCode" id="cb590"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb590-1"><a href="#cb590-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb590-2"><a href="#cb590-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb590-3" d__=""><a href="#cb590-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">size_t</span> fread<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>p<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> size<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> nmemb<span class="op" d__="">,</span> <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-167" d__="">Description</h3>
<p d__="">You might remember that you can call <a href="#man-fopen"><code s__="13" d__="">fopen()</code></a> with the “<code s__="13">b</code>”
 flag in the open mode string to open the file in “binary” mode. Files 
open in not-binary (ASCII or text mode) can be read using standard 
character-oriented calls like <a href="#man-getc"><code s__="13" d__="">fgetc()</code></a> or <a href="#man-gets"><code s__="13" d__="">fgets()</code></a>. Files open in binary mode are typically read using the <code s__="13">fread()</code> function.</p>
<p d__="">All this function does is says, “Hey, read this many things 
where each thing is a certain number of bytes, and store the whole mess 
of them in memory starting at this pointer.”</p>
<p d__="">This can be very useful, believe me, when you want to do something like store 20 <code s__="13">int</code>s in a file.</p>
<p d__="">But wait—can’t you use <a href="#man-printf"><code s__="13" d__="">fprintf()</code></a> with the “<code s__="13">%d</code>” format specifier to save the <code s__="13">int</code>s
 to a text file and store them that way? Yes, sure. That has the 
advantage that a human can open the file and read the numbers. It has 
the disadvantage that it’s slower to convert the numbers from <code s__="13">int</code>s to text and that the numbers are likely to take more space in the file. (Remember, an <code s__="13">int</code> is likely 4 bytes, but the string “12345678” is 8 bytes.)</p>
<p d__="">So storing the binary data can certainly be more compact and faster to read.</p>
<h3 class="unnumbered unlisted" id="return-value-165" d__="">Return Value</h3>
<p d__="">This function returns the number of items successfully read. 
If all requested items are read, the return value will be equal to that 
of the parameter <code s__="13">nmemb</code>. If EOF occurs, the return value will be zero.</p>
<p d__="">To make you confused, it will also return zero if there’s an error. You can use the functions <a href="#man-feof"><code s__="13" d__="">feof()</code></a> or <a href="#man-feof"><code s__="13" d__="">ferror()</code></a> to tell which one really happened.</p>
<h3 class="unnumbered unlisted" id="example-168" d__="">Example</h3>
<p d__="">Read 10 numbers from a file and store them in an array:</p>
<div class="sourceCode" id="cb591"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb591-1"><a href="#cb591-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb591-2"><a href="#cb591-2"></a></span>
<span id="cb591-3" d__=""><a href="#cb591-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb591-4"><a href="#cb591-4"></a><span class="op" d__="">{</span></span>
<span id="cb591-5" d__=""><a href="#cb591-5"></a>    <span class="dt" d__="">int</span> i<span class="op" d__="">;</span></span>
<span id="cb591-6" d__=""><a href="#cb591-6"></a>    <span class="dt" d__="">int</span> n<span class="op" d__="">[</span><span class="dv" d__="">10</span><span class="op" d__="">]</span></span>
<span id="cb591-7" d__=""><a href="#cb591-7"></a>    <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>fp<span class="op" d__="">;</span></span>
<span id="cb591-8"><a href="#cb591-8"></a></span>
<span id="cb591-9" d__=""><a href="#cb591-9"></a>    fp <span class="op" d__="">=</span> fopen<span class="op" d__="">(</span><span class="st" d__="">"numbers.dat"</span><span class="op" d__="">,</span> <span class="st" d__="">"rb"</span><span class="op" d__="">);</span></span>
<span id="cb591-10" d__=""><a href="#cb591-10"></a>    fread<span class="op" d__="">(</span>n<span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span><span class="op" d__="">(</span><span class="dt" d__="">int</span><span class="op" d__="">),</span> <span class="dv" d__="">10</span><span class="op" d__="">,</span> fp<span class="op" d__="">);</span>  <span class="co" d__="">// read 10 ints</span></span>
<span id="cb591-11" d__=""><a href="#cb591-11"></a>    fclose<span class="op" d__="">(</span>fp<span class="op" d__="">);</span></span>
<span id="cb591-12"><a href="#cb591-12"></a></span>
<span id="cb591-13"><a href="#cb591-13"></a>    <span class="co" d__="">// print them out:</span></span>
<span id="cb591-14" d__=""><a href="#cb591-14"></a>    <span class="cf" d__="">for</span><span class="op" d__="">(</span>i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> <span class="dv" d__="">10</span><span class="op" d__="">;</span> i<span class="op" d__="">++)</span></span>
<span id="cb591-15" d__=""><a href="#cb591-15"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"n[</span><span class="sc" d__="">%d</span><span class="st" d__="">] == </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> i<span class="op" d__="">,</span> n<span class="op" d__="">[</span>i<span class="op" d__="">]);</span></span>
<span id="cb591-16"><a href="#cb591-16"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-157" d__="">See Also</h3>
<p d__=""><a href="#man-fopen"><code s__="13" d__="">fopen()</code></a>, <a href="#man-fwrite"><code s__="13" d__="">fwrite()</code></a>, <a href="#man-feof"><code s__="13" d__="">feof()</code></a>, <a href="#man-feof"><code s__="13" d__="">ferror()</code></a></p>
<hr>
<h2 data-number="23.20" id="man-fwrite"><span class="header-section-number" d__="">23.20</span> <code d__="">fwrite()</code></h2>
<p></p>
<p d__="">Write binary data to a file</p>
<h3 class="unnumbered unlisted" id="synopsis-168" d__="">Synopsis</h3>
<div class="sourceCode" id="cb592"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb592-1"><a href="#cb592-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb592-2"><a href="#cb592-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb592-3" d__=""><a href="#cb592-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">size_t</span> fwrite<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">void</span> <span class="op" d__="">*</span>p<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> size<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> nmemb<span class="op" d__="">,</span> <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-168" d__="">Description</h3>
<p d__="">This is the counterpart to the <a href="#man-fread"><code s__="13" d__="">fread()</code></a> function. It writes blocks of binary data to disk. For a description of what this means, see the entry for <a href="#man-fread"><code s__="13" d__="">fread()</code></a>.</p>
<h3 class="unnumbered unlisted" id="return-value-166" d__="">Return Value</h3>
<p d__=""><code s__="13">fwrite()</code> returns the number of items successfully written, which should hopefully be <code s__="13">nmemb</code> that you passed in. It’ll return zero on error.</p>
<h3 class="unnumbered unlisted" id="example-169" d__="">Example</h3>
<p d__="">Save 10 random numbers to a file:</p>
<div class="sourceCode" id="cb593"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb593-1"><a href="#cb593-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb593-2"><a href="#cb593-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb593-3"><a href="#cb593-3"></a></span>
<span id="cb593-4" d__=""><a href="#cb593-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb593-5"><a href="#cb593-5"></a><span class="op" d__="">{</span></span>
<span id="cb593-6" d__=""><a href="#cb593-6"></a>    <span class="dt" d__="">int</span> i<span class="op" d__="">;</span></span>
<span id="cb593-7" d__=""><a href="#cb593-7"></a>    <span class="dt" d__="">int</span> n<span class="op" d__="">[</span><span class="dv" d__="">10</span><span class="op" d__="">];</span></span>
<span id="cb593-8" d__=""><a href="#cb593-8"></a>    <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>fp<span class="op" d__="">;</span></span>
<span id="cb593-9"><a href="#cb593-9"></a></span>
<span id="cb593-10"><a href="#cb593-10"></a>    <span class="co" d__="">// populate the array with random numbers:</span></span>
<span id="cb593-11" d__=""><a href="#cb593-11"></a>    <span class="cf" d__="">for</span><span class="op" d__="">(</span>i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> <span class="dv" d__="">10</span><span class="op" d__="">;</span> i<span class="op" d__="">++)</span> <span class="op" d__="">{</span></span>
<span id="cb593-12" d__=""><a href="#cb593-12"></a>        n<span class="op" d__="">[</span>i<span class="op" d__="">]</span> <span class="op" d__="">=</span> rand<span class="op" d__="">();</span></span>
<span id="cb593-13" d__=""><a href="#cb593-13"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"n[</span><span class="sc" d__="">%d</span><span class="st" d__="">] = </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> i<span class="op" d__="">,</span> n<span class="op" d__="">[</span>i<span class="op" d__="">]);</span></span>
<span id="cb593-14"><a href="#cb593-14"></a>    <span class="op" d__="">}</span></span>
<span id="cb593-15"><a href="#cb593-15"></a></span>
<span id="cb593-16"><a href="#cb593-16"></a>    <span class="co" d__="">// save the random numbers (10 ints) to the file</span></span>
<span id="cb593-17" d__=""><a href="#cb593-17"></a>    fp <span class="op" d__="">=</span> fopen<span class="op" d__="">(</span><span class="st" d__="">"numbers.dat"</span><span class="op" d__="">,</span> <span class="st" d__="">"wb"</span><span class="op" d__="">);</span></span>
<span id="cb593-18" d__=""><a href="#cb593-18"></a>    fwrite<span class="op" d__="">(</span>n<span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span><span class="op" d__="">(</span><span class="dt" d__="">int</span><span class="op" d__="">),</span> <span class="dv" d__="">10</span><span class="op" d__="">,</span> fp<span class="op" d__="">);</span> <span class="co" d__="">// write 10 ints</span></span>
<span id="cb593-19" d__=""><a href="#cb593-19"></a>    fclose<span class="op" d__="">(</span>fp<span class="op" d__="">);</span></span>
<span id="cb593-20"><a href="#cb593-20"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-158" d__="">See Also</h3>
<p d__=""><a href="#man-fopen"><code s__="13" d__="">fopen()</code></a>, <a href="#man-fread"><code s__="13" d__="">fread()</code></a></p>
<hr>
<h2 data-number="23.21" id="man-fgetpos" d__=""><span class="header-section-number">23.21</span> <code>fgetpos()</code>, <code>fsetpos()</code></h2>
<p> </p>
<p d__="">Get the current position in a file, or set the current position in a file. Just like <code s__="13">ftell()</code> and <code s__="13">fseek()</code> for most systems</p>
<h3 class="unnumbered unlisted" id="synopsis-169" d__="">Synopsis</h3>
<div class="sourceCode" id="cb594"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb594-1"><a href="#cb594-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb594-2"><a href="#cb594-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb594-3" d__=""><a href="#cb594-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> fgetpos<span class="op" d__="">(</span><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">,</span> <span class="dt" d__="">fpos_t</span> <span class="op" d__="">*</span>pos<span class="op" d__="">);</span></span>
<span id="cb594-4"><a href="#cb594-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb594-5" d__=""><a href="#cb594-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> fsetpos<span class="op" d__="">(</span><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">,</span> <span class="dt" d__="">fpos_t</span> <span class="op" d__="">*</span>pos<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-169" d__="">Description</h3>
<p d__="">These functions are just like <code s__="13">ftell()</code> and <code s__="13">fseek()</code>, except instead of counting in bytes, they use an <em>opaque</em>
 data structure to hold positional information about the file. (Opaque, 
in this case, means you’re not supposed to know what the data type is 
made up of.)</p>
<p d__="">On virtually every system (and certainly every system that I know of), people don’t use these functions, using <code s__="13">ftell()</code> and <code s__="13">fseek()</code> instead. These functions exist just in case your system can’t remember file positions as a simple byte offset.</p>
<p d__="">Since the <code s__="13">pos</code> variable is opaque, you have to assign to it using the <code s__="13">fgetpos()</code> call itself. Then you save the value for later and use it to reset the position using <code s__="13">fsetpos()</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-167" d__="">Return Value</h3>
<p d__="">Both functions return zero on success, and <code s__="13">-1</code> on error.</p>
<h3 class="unnumbered unlisted" id="example-170" d__="">Example</h3>
<div class="sourceCode" id="cb595"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb595-1"><a href="#cb595-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb595-2"><a href="#cb595-2"></a></span>
<span id="cb595-3" d__=""><a href="#cb595-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb595-4"><a href="#cb595-4"></a><span class="op" d__="">{</span></span>
<span id="cb595-5" d__=""><a href="#cb595-5"></a>    <span class="dt" d__="">char</span> s<span class="op" d__="">[</span><span class="dv" d__="">100</span><span class="op" d__="">];</span></span>
<span id="cb595-6" d__=""><a href="#cb595-6"></a>    <span class="dt" d__="">fpos_t</span> pos<span class="op" d__="">;</span></span>
<span id="cb595-7" d__=""><a href="#cb595-7"></a>    <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>fp<span class="op" d__="">;</span></span>
<span id="cb595-8"><a href="#cb595-8"></a></span>
<span id="cb595-9" d__=""><a href="#cb595-9"></a>    fp <span class="op" d__="">=</span> fopen<span class="op" d__="">(</span><span class="st" d__="">"spoon.txt"</span><span class="op" d__="">,</span> <span class="st" d__="">"r"</span><span class="op" d__="">);</span></span>
<span id="cb595-10"><a href="#cb595-10"></a></span>
<span id="cb595-11" d__=""><a href="#cb595-11"></a>    fgets<span class="op" d__="">(</span>s<span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span><span class="op" d__="">(</span>s<span class="op" d__="">),</span> fp<span class="op" d__="">);</span> <span class="co" d__="">// read a line from the file</span></span>
<span id="cb595-12" d__=""><a href="#cb595-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s</span><span class="st" d__="">"</span><span class="op" d__="">,</span> s<span class="op" d__="">);</span></span>
<span id="cb595-13"><a href="#cb595-13"></a></span>
<span id="cb595-14" d__=""><a href="#cb595-14"></a>    fgetpos<span class="op" d__="">(</span>fp<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>pos<span class="op" d__="">);</span>   <span class="co" d__="">// save the position after the read</span></span>
<span id="cb595-15"><a href="#cb595-15"></a></span>
<span id="cb595-16" d__=""><a href="#cb595-16"></a>    fgets<span class="op" d__="">(</span>s<span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span><span class="op" d__="">(</span>s<span class="op" d__="">),</span> fp<span class="op" d__="">);</span> <span class="co" d__="">// read another line from the file</span></span>
<span id="cb595-17" d__=""><a href="#cb595-17"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s</span><span class="st" d__="">"</span><span class="op" d__="">,</span> s<span class="op" d__="">);</span></span>
<span id="cb595-18"><a href="#cb595-18"></a></span>
<span id="cb595-19" d__=""><a href="#cb595-19"></a>    fsetpos<span class="op" d__="">(</span>fp<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>pos<span class="op" d__="">);</span>   <span class="co" d__="">// now restore the position to where we saved</span></span>
<span id="cb595-20"><a href="#cb595-20"></a></span>
<span id="cb595-21" d__=""><a href="#cb595-21"></a>    fgets<span class="op" d__="">(</span>s<span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span><span class="op" d__="">(</span>s<span class="op" d__="">),</span> fp<span class="op" d__="">);</span> <span class="co" d__="">// read the earlier line again</span></span>
<span id="cb595-22" d__=""><a href="#cb595-22"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s</span><span class="st" d__="">"</span><span class="op" d__="">,</span> s<span class="op" d__="">);</span></span>
<span id="cb595-23"><a href="#cb595-23"></a></span>
<span id="cb595-24" d__=""><a href="#cb595-24"></a>    fclose<span class="op" d__="">(</span>fp<span class="op" d__="">);</span></span>
<span id="cb595-25"><a href="#cb595-25"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-159" d__="">See Also</h3>
<p d__=""><a href="#man-fseek"><code s__="13" d__="">fseek()</code></a>, <a href="#man-ftell"><code s__="13" d__="">ftell()</code></a>, <a href="#man-fseek"><code s__="13" d__="">rewind()</code></a></p>
<hr>
<h2 data-number="23.22" id="man-fseek" d__=""><span class="header-section-number">23.22</span> <code>fseek()</code>, <code>rewind()</code></h2>
<p> </p>
<p d__="">Position the file pointer in anticipition of the next read or write</p>
<h3 class="unnumbered unlisted" id="synopsis-170" d__="">Synopsis</h3>
<div class="sourceCode" id="cb596"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb596-1"><a href="#cb596-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb596-2"><a href="#cb596-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb596-3" d__=""><a href="#cb596-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> fseek<span class="op" d__="">(</span><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">,</span> <span class="dt" d__="">long</span> offset<span class="op" d__="">,</span> <span class="dt" d__="">int</span> whence<span class="op" d__="">);</span></span>
<span id="cb596-4"><a href="#cb596-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb596-5" d__=""><a href="#cb596-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> rewind<span class="op" d__="">(</span><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-170" d__="">Description</h3>
<p d__="">When doing reads and writes to a file, the OS keeps track of 
where you are in the file using a counter generically known as the file 
pointer. You can reposition the file pointer to a different point in the
 file using the <code s__="13">fseek()</code> call. Think of it as a way to randomly access you file.</p>
<p d__="">The first argument is the file in question, obviously. <code s__="13">offset</code> argument is the position that you want to seek to, and <code s__="13">whence</code> is what that offset is relative to.</p>
<p d__="">Of course, you probably like to think of the offset as being 
from the beginning of the file. I mean, “Seek to position 3490, that 
should be 3490 bytes from the beginning of the file.” Well, it <em>can</em> be, but it doesn’t have to be. Imagine the power you’re wielding here. Try to command your enthusiasm.</p>
<p d__="">You can set the value of <code s__="13">whence</code> to one of three things:</p>
<table>
<colgroup>
<col style="width: 15%">
<col style="width: 84%">
</colgroup>
<thead>
<tr class="header">
<th><code s__="13" d__="">whence</code></th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">SEEK_SET</code></td>
<td d__=""><code s__="13">offset</code> is relative to the beginning of 
the file. This is probably what you had in mind anyway, and is the most 
commonly used value for <code s__="13">whence</code>.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">SEEK_CUR</code></td>
<td d__=""><code s__="13">offset</code> is relative to the current file 
pointer position. So, in effect, you can say, “Move to my current 
position plus 30 bytes,” or, “move to my current position minus 20 
bytes.”</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">SEEK_END</code></td>
<td d__=""><code s__="13">offset</code> is relative to the end of the file. Just like <code s__="13">SEEK_SET</code> except from the other end of the file. Be sure to use negative values for <code s__="13">offset</code> if you want to back up from the end of the file, instead of going past the end into oblivion.</td>
</tr>
</tbody>
</table>
<p d__="">Speaking of seeking off the end of the file, can you do it? 
Sure thing. In fact, you can seek way off the end and then write a 
character; the file will be expanded to a size big enough to hold a 
bunch of zeros way out to that character.</p>
<p d__="">Now that the complicated function is out of the way, what’s this <code s__="13">rewind()</code> that I briefly mentioned? It repositions the file pointer at the beginning of the file:</p>
<div class="sourceCode" id="cb597"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb597-1" d__=""><a href="#cb597-1" aria-hidden="true" tabindex="-1"></a>fseek<span class="op" d__="">(</span>fp<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">,</span> SEEK_SET<span class="op" d__="">);</span> <span class="co" d__="">// same as rewind()</span></span>
<span id="cb597-2" d__=""><a href="#cb597-2" aria-hidden="true" tabindex="-1"></a>rewind<span class="op" d__="">(</span>fp<span class="op" d__="">);</span>             <span class="co" d__="">// same as fseek(fp, 0, SEEK_SET)</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="return-value-168" d__="">Return Value</h3>
<p d__="">For <code s__="13">fseek()</code>, on success zero is returned; <code s__="13">-1</code> is returned on failure.</p>
<p d__="">The call to <code s__="13">rewind()</code> never fails.</p>
<h3 class="unnumbered unlisted" id="example-171" d__="">Example</h3>
<div class="sourceCode" id="cb598"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb598-1"><a href="#cb598-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb598-2"><a href="#cb598-2"></a></span>
<span id="cb598-3" d__=""><a href="#cb598-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb598-4"><a href="#cb598-4"></a><span class="op" d__="">{</span></span>
<span id="cb598-5" d__=""><a href="#cb598-5"></a>    <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>fp<span class="op" d__="">;</span></span>
<span id="cb598-6"><a href="#cb598-6"></a></span>
<span id="cb598-7" d__=""><a href="#cb598-7"></a>    fp <span class="op" d__="">=</span> fopen<span class="op" d__="">(</span><span class="st" d__="">"spoon.txt"</span><span class="op" d__="">,</span> <span class="st" d__="">"r"</span><span class="op" d__="">);</span></span>
<span id="cb598-8"><a href="#cb598-8"></a></span>
<span id="cb598-9" d__=""><a href="#cb598-9"></a>    fseek<span class="op" d__="">(</span>fp<span class="op" d__="">,</span> <span class="dv" d__="">100</span><span class="op" d__="">,</span> SEEK_SET<span class="op" d__="">);</span> <span class="co" d__="">// seek to the 100th byte of the file</span></span>
<span id="cb598-10" d__=""><a href="#cb598-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"100: </span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> fgetc<span class="op" d__="">(</span>fp<span class="op" d__="">));</span></span>
<span id="cb598-11"><a href="#cb598-11"></a></span>
<span id="cb598-12" d__=""><a href="#cb598-12"></a>    fseek<span class="op" d__="">(</span>fp<span class="op" d__="">,</span> <span class="op" d__="">-</span><span class="dv" d__="">31</span><span class="op" d__="">,</span> SEEK_CUR<span class="op" d__="">);</span> <span class="co" d__="">// seek backward 30 bytes from the current pos</span></span>
<span id="cb598-13" d__=""><a href="#cb598-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"31 back: </span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> fgetc<span class="op" d__="">(</span>fp<span class="op" d__="">));</span></span>
<span id="cb598-14"><a href="#cb598-14"></a></span>
<span id="cb598-15" d__=""><a href="#cb598-15"></a>    fseek<span class="op" d__="">(</span>fp<span class="op" d__="">,</span> <span class="op" d__="">-</span><span class="dv" d__="">12</span><span class="op" d__="">,</span> SEEK_END<span class="op" d__="">);</span> <span class="co" d__="">// seek to the 10th byte before the end of file</span></span>
<span id="cb598-16" d__=""><a href="#cb598-16"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"12 from end: </span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> fgetc<span class="op" d__="">(</span>fp<span class="op" d__="">));</span></span>
<span id="cb598-17"><a href="#cb598-17"></a></span>
<span id="cb598-18" d__=""><a href="#cb598-18"></a>    fseek<span class="op" d__="">(</span>fp<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">,</span> SEEK_SET<span class="op" d__="">);</span>   <span class="co" d__="">// seek to the beginning of the file</span></span>
<span id="cb598-19" d__=""><a href="#cb598-19"></a>    rewind<span class="op" d__="">(</span>fp<span class="op" d__="">);</span>               <span class="co" d__="">// seek to the beginning of the file, too</span></span>
<span id="cb598-20" d__=""><a href="#cb598-20"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Beginning: </span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> fgetc<span class="op" d__="">(</span>fp<span class="op" d__="">));</span></span>
<span id="cb598-21"><a href="#cb598-21"></a></span>
<span id="cb598-22" d__=""><a href="#cb598-22"></a>    fclose<span class="op" d__="">(</span>fp<span class="op" d__="">);</span></span>
<span id="cb598-23"><a href="#cb598-23"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-160" d__="">See Also</h3>
<p d__=""><a href="#man-ftell"><code s__="13" d__="">ftell()</code></a>, <a href="#man-fgetpos"><code s__="13" d__="">fgetpos()</code></a>, <a href="#man-fgetpos"><code s__="13" d__="">fsetpos()</code></a></p>
<hr>
<h2 data-number="23.23" id="man-ftell"><span class="header-section-number" d__="">23.23</span> <code d__="">ftell()</code></h2>
<p></p>
<p d__="">Tells you where a particular file is about to read from or write to</p>
<h3 class="unnumbered unlisted" id="synopsis-171" d__="">Synopsis</h3>
<div class="sourceCode" id="cb599"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb599-1"><a href="#cb599-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb599-2"><a href="#cb599-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb599-3" d__=""><a href="#cb599-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> ftell<span class="op" d__="">(</span><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-171" d__="">Description</h3>
<p d__="">This function is the opposite of <a href="#man-fseek"><code s__="13" d__="">fseek()</code></a>. It tells you where in the file the next file operation will occur relative to the beginning of the file.</p>
<p d__="">It’s useful if you want to remember where you are in the file, <code s__="13">fseek()</code> somewhere else, and then come back later. You can take the return value from <code s__="13">ftell()</code> and feed it back into <code s__="13">fseek()</code> (with <code s__="13">whence</code> parameter set to <code s__="13">SEEK_SET</code>) when you want to return to your previous position.</p>
<h3 class="unnumbered unlisted" id="return-value-169" d__="">Return Value</h3>
<p d__="">Returns the current offset in the file, or <code s__="13">-1</code> on error.</p>
<h3 class="unnumbered unlisted" id="example-172" d__="">Example</h3>
<div class="sourceCode" id="cb600"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb600-1"><a href="#cb600-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb600-2"><a href="#cb600-2"></a></span>
<span id="cb600-3" d__=""><a href="#cb600-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb600-4"><a href="#cb600-4"></a><span class="op" d__="">{</span></span>
<span id="cb600-5" d__=""><a href="#cb600-5"></a>    <span class="dt" d__="">char</span> c<span class="op" d__="">[</span><span class="dv" d__="">6</span><span class="op" d__="">];</span></span>
<span id="cb600-6" d__=""><a href="#cb600-6"></a>    <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>fp<span class="op" d__="">;</span></span>
<span id="cb600-7"><a href="#cb600-7"></a></span>
<span id="cb600-8" d__=""><a href="#cb600-8"></a>    fp <span class="op" d__="">=</span> fopen<span class="op" d__="">(</span><span class="st" d__="">"spoon.txt"</span><span class="op" d__="">,</span> <span class="st" d__="">"r"</span><span class="op" d__="">);</span></span>
<span id="cb600-9"><a href="#cb600-9"></a></span>
<span id="cb600-10" d__=""><a href="#cb600-10"></a>    <span class="dt" d__="">long</span> pos<span class="op" d__="">;</span></span>
<span id="cb600-11"><a href="#cb600-11"></a></span>
<span id="cb600-12"><a href="#cb600-12"></a>    <span class="co" d__="">// seek ahead 10 bytes:</span></span>
<span id="cb600-13" d__=""><a href="#cb600-13"></a>    fseek<span class="op" d__="">(</span>fp<span class="op" d__="">,</span> <span class="dv" d__="">10</span><span class="op" d__="">,</span> SEEK_SET<span class="op" d__="">);</span></span>
<span id="cb600-14"><a href="#cb600-14"></a></span>
<span id="cb600-15"><a href="#cb600-15"></a>    <span class="co" d__="">// store the current position in variable "pos":</span></span>
<span id="cb600-16" d__=""><a href="#cb600-16"></a>    pos <span class="op" d__="">=</span> ftell<span class="op" d__="">(</span>fp<span class="op" d__="">);</span></span>
<span id="cb600-17"><a href="#cb600-17"></a></span>
<span id="cb600-18"><a href="#cb600-18"></a>    <span class="co" d__="">// Read some bytes</span></span>
<span id="cb600-19" d__=""><a href="#cb600-19"></a>    fread<span class="op" d__="">(</span>c<span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span> c  <span class="op" d__="">-</span> <span class="dv" d__="">1</span><span class="op" d__="">,</span> <span class="dv" d__="">1</span><span class="op" d__="">,</span> fp<span class="op" d__="">);</span></span>
<span id="cb600-20" d__=""><a href="#cb600-20"></a>    c<span class="op" d__="">[</span><span class="dv" d__="">5</span><span class="op" d__="">]</span> <span class="op" d__="">=</span> <span class="ch" d__="">'</span><span class="sc" d__="">\0</span><span class="ch" d__="">'</span><span class="op" d__="">;</span></span>
<span id="cb600-21" d__=""><a href="#cb600-21"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Read: </span><span class="sc" d__="">\"%s\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> c<span class="op" d__="">);</span></span>
<span id="cb600-22"><a href="#cb600-22"></a></span>
<span id="cb600-23"><a href="#cb600-23"></a>    <span class="co" d__="">// and return to the starting position, stored in "pos":</span></span>
<span id="cb600-24" d__=""><a href="#cb600-24"></a>    fseek<span class="op" d__="">(</span>fp<span class="op" d__="">,</span> pos<span class="op" d__="">,</span> SEEK_SET<span class="op" d__="">);</span></span>
<span id="cb600-25"><a href="#cb600-25"></a></span>
<span id="cb600-26"><a href="#cb600-26"></a>    <span class="co" d__="">// Read the same bytes again</span></span>
<span id="cb600-27" d__=""><a href="#cb600-27"></a>    fread<span class="op" d__="">(</span>c<span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span> c  <span class="op" d__="">-</span> <span class="dv" d__="">1</span><span class="op" d__="">,</span> <span class="dv" d__="">1</span><span class="op" d__="">,</span> fp<span class="op" d__="">);</span></span>
<span id="cb600-28" d__=""><a href="#cb600-28"></a>    c<span class="op" d__="">[</span><span class="dv" d__="">5</span><span class="op" d__="">]</span> <span class="op" d__="">=</span> <span class="ch" d__="">'</span><span class="sc" d__="">\0</span><span class="ch" d__="">'</span><span class="op" d__="">;</span></span>
<span id="cb600-29" d__=""><a href="#cb600-29"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Read: </span><span class="sc" d__="">\"%s\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> c<span class="op" d__="">);</span></span>
<span id="cb600-30"><a href="#cb600-30"></a></span>
<span id="cb600-31" d__=""><a href="#cb600-31"></a>    fclose<span class="op" d__="">(</span>fp<span class="op" d__="">);</span></span>
<span id="cb600-32"><a href="#cb600-32"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-161" d__="">See Also</h3>
<p d__=""><a href="#man-fseek"><code s__="13" d__="">fseek()</code></a>, <a href="#man-fseek"><code s__="13" d__="">rewind()</code></a>, <a href="#man-fgetpos"><code s__="13" d__="">fgetpos()</code></a>, <a href="#man-fgetpos"><code s__="13" d__="">fsetpos()</code></a></p>
<hr>
<h2 data-number="23.24" id="man-feof" d__=""><span class="header-section-number">23.24</span> <code>feof()</code>, <code>ferror()</code>, <code>clearerr()</code></h2>
<p> </p>
<p d__="">Determine if a file has reached end-of-file or if an error has occurred</p>
<h3 class="unnumbered unlisted" id="synopsis-172" d__="">Synopsis</h3>
<div class="sourceCode" id="cb601"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb601-1"><a href="#cb601-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb601-2"><a href="#cb601-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb601-3" d__=""><a href="#cb601-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> feof<span class="op" d__="">(</span><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">);</span></span>
<span id="cb601-4"><a href="#cb601-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb601-5" d__=""><a href="#cb601-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> ferror<span class="op" d__="">(</span><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">);</span></span>
<span id="cb601-6"><a href="#cb601-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb601-7" d__=""><a href="#cb601-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> clearerr<span class="op" d__="">(</span><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-172" d__="">Description</h3>
<p d__="">Each <code s__="13">FILE*</code> that you use to read and 
write data from and to a file contains flags that the system sets when 
certain events occur. If you get an error, it sets the error flag; if 
you reach the end of the file during a read, it sets the EOF flag. 
Pretty simple really.</p>
<p d__="">The functions <code s__="13">feof()</code> and <code s__="13">ferror()</code> give you a simple way to test these flags: they’ll return non-zero (true) if they’re set.</p>
<p d__="">Once the flags are set for a particular stream, they stay that way until you call <code s__="13">clearerr()</code> to clear them.</p>
<h3 class="unnumbered unlisted" id="return-value-170" d__="">Return Value</h3>
<p d__=""><code s__="13">feof()</code> and <code s__="13">ferror()</code> return non-zero (true) if the file has reached EOF or there has been an error, respectively.</p>
<h3 class="unnumbered unlisted" id="example-173" d__="">Example</h3>
<p d__="">Read binary data, checking for EOF or error:</p>
<div class="sourceCode" id="cb602"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb602-1"><a href="#cb602-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb602-2"><a href="#cb602-2"></a></span>
<span id="cb602-3" d__=""><a href="#cb602-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb602-4"><a href="#cb602-4"></a><span class="op" d__="">{</span></span>
<span id="cb602-5" d__=""><a href="#cb602-5"></a>    <span class="dt" d__="">int</span> a<span class="op" d__="">;</span></span>
<span id="cb602-6" d__=""><a href="#cb602-6"></a>    <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>fp<span class="op" d__="">;</span></span>
<span id="cb602-7"><a href="#cb602-7"></a></span>
<span id="cb602-8" d__=""><a href="#cb602-8"></a>    fp <span class="op" d__="">=</span> fopen<span class="op" d__="">(</span><span class="st" d__="">"numbers.dat"</span><span class="op" d__="">,</span> <span class="st" d__="">"r"</span><span class="op" d__="">);</span></span>
<span id="cb602-9"><a href="#cb602-9"></a></span>
<span id="cb602-10"><a href="#cb602-10"></a>    <span class="co" d__="">// read single ints at a time, stopping on EOF or error:</span></span>
<span id="cb602-11"><a href="#cb602-11"></a></span>
<span id="cb602-12" d__=""><a href="#cb602-12"></a>    <span class="cf" d__="">while</span><span class="op" d__="">(</span>fread<span class="op" d__="">(&amp;</span>a<span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span><span class="op" d__="">(</span><span class="dt" d__="">int</span><span class="op" d__="">),</span> <span class="dv" d__="">1</span><span class="op" d__="">,</span> fp<span class="op" d__="">),</span> <span class="op" d__="">!</span>feof<span class="op" d__="">(</span>fp<span class="op" d__="">)</span> <span class="op" d__="">&amp;&amp;</span> <span class="op" d__="">!</span>ferror<span class="op" d__="">(</span>fp<span class="op" d__="">))</span> <span class="op" d__="">{</span></span>
<span id="cb602-13" d__=""><a href="#cb602-13"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"Read </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> a<span class="op" d__="">);</span></span>
<span id="cb602-14"><a href="#cb602-14"></a>    <span class="op" d__="">}</span></span>
<span id="cb602-15"><a href="#cb602-15"></a></span>
<span id="cb602-16" d__=""><a href="#cb602-16"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>feof<span class="op" d__="">(</span>fp<span class="op" d__="">))</span></span>
<span id="cb602-17" d__=""><a href="#cb602-17"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"End of file was reached.</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb602-18"><a href="#cb602-18"></a></span>
<span id="cb602-19" d__=""><a href="#cb602-19"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>ferror<span class="op" d__="">(</span>fp<span class="op" d__="">))</span></span>
<span id="cb602-20" d__=""><a href="#cb602-20"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"An error occurred.</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb602-21"><a href="#cb602-21"></a></span>
<span id="cb602-22" d__=""><a href="#cb602-22"></a>    fclose<span class="op" d__="">(</span>fp<span class="op" d__="">);</span></span>
<span id="cb602-23"><a href="#cb602-23"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-162" d__="">See Also</h3>
<p d__=""><a href="#man-fopen"><code s__="13" d__="">fopen()</code></a>, <a href="#man-fread"><code s__="13" d__="">fread()</code></a></p>
<hr>
<h2 data-number="23.25" id="man-perror"><span class="header-section-number" d__="">23.25</span> <code d__="">perror()</code></h2>
<p></p>
<p d__="">Print the last error message to <code s__="13">stderr</code></p>
<h3 class="unnumbered unlisted" id="synopsis-173" d__="">Synopsis</h3>
<div class="sourceCode" id="cb603"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb603-1"><a href="#cb603-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb603-2"><a href="#cb603-2" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;errno.h&gt;</span><span class="pp">  </span><span class="co" d__="">// only if you want to directly use the "errno" var</span></span>
<span id="cb603-3"><a href="#cb603-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb603-4" d__=""><a href="#cb603-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> perror<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-173" d__="">Description</h3>
<p d__="">Many functions, when they encounter an error condition for whatever reason, will set a global variable called <code s__="13">errno</code> (in <code s__="13">&lt;errno.h&gt;</code>) for you. <code s__="13">errno</code> is just an interger representing a unique error.</p>
<p d__="">But to you, the user, some number isn’t generally very useful. For this reason, you can call <code s__="13">perror()</code> after an error occurs to print what error has actually happened in a nice human-readable string.</p>
<p d__="">And to help you along, you can pass a parameter, <code s__="13">s</code>, that will be prepended to the error string for you.</p>
<p d__="">One more clever trick you can do is check the value of the <code s__="13">errno</code> (you have to include <code s__="13">errno.h</code>
 to see it) for specific errors and have your code do different things. 
Perhaps you want to ignore certain errors but not others, for instance.</p>
<p d__="">The standard only defines three values for <code s__="13">errno</code>, but your system undoubtedly defines more. The three that are defined are:</p>
<table>
<thead>
<tr class="header">
<th><code s__="13" d__="">errno</code></th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">EDOM</code></td>
<td d__="">Math operation outside domain.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">EILSEQ</code></td>
<td d__="">Invalid sequence in multibyte to wide character encoding.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">ERANGE</code></td>
<td d__="">Result of operation doesn’t fit in specified type.</td>
</tr>
</tbody>
</table>
<p d__="">The catch is that different systems define different values for <code s__="13">errno</code>, so it’s not very portable beyond the above 3. The good news is that at least the values are <em>largely</em> portable between Unix-like systems, at least.</p>
<h3 class="unnumbered unlisted" id="return-value-171" d__="">Return Value</h3>
<p d__="">Returns nothing at all! Sorry!</p>
<h3 class="unnumbered unlisted" id="example-174" d__="">Example</h3>
<p d__=""><a href="#man-fseek"><code s__="13" d__="">fseek()</code></a> returns <code s__="13">-1</code> on error, and sets <code s__="13">errno</code>, so let’s use it. Seeking on <code s__="13">stdin</code> makes no sense, so it should generate an error:</p>
<div class="sourceCode" id="cb604"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb604-1"><a href="#cb604-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb604-2"><a href="#cb604-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;errno.h&gt;</span><span class="pp"> </span><span class="co" d__="">// must include this to see "errno" in this example</span></span>
<span id="cb604-3"><a href="#cb604-3"></a></span>
<span id="cb604-4" d__=""><a href="#cb604-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb604-5"><a href="#cb604-5"></a><span class="op" d__="">{</span></span>
<span id="cb604-6" d__=""><a href="#cb604-6"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>fseek<span class="op" d__="">(</span>stdin<span class="op" d__="">,</span> <span class="dv" d__="">10</span><span class="bu" d__="">L</span><span class="op" d__="">,</span> SEEK_SET<span class="op" d__="">)</span> <span class="op" d__="">&lt;</span> <span class="dv" d__="">0</span><span class="op" d__="">)</span></span>
<span id="cb604-7" d__=""><a href="#cb604-7"></a>        perror<span class="op" d__="">(</span><span class="st" d__="">"fseek"</span><span class="op" d__="">);</span></span>
<span id="cb604-8"><a href="#cb604-8"></a></span>
<span id="cb604-9" d__=""><a href="#cb604-9"></a>    fclose<span class="op" d__="">(</span>stdin<span class="op" d__="">);</span> <span class="co" d__="">// stop using this stream</span></span>
<span id="cb604-10"><a href="#cb604-10"></a></span>
<span id="cb604-11" d__=""><a href="#cb604-11"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>fseek<span class="op" d__="">(</span>stdin<span class="op" d__="">,</span> <span class="dv" d__="">20</span><span class="bu" d__="">L</span><span class="op" d__="">,</span> SEEK_CUR<span class="op" d__="">)</span> <span class="op" d__="">&lt;</span> <span class="dv" d__="">0</span><span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb604-12"><a href="#cb604-12"></a></span>
<span id="cb604-13"><a href="#cb604-13"></a>        <span class="co" d__="">// specifically check errno to see what kind of</span></span>
<span id="cb604-14"><a href="#cb604-14"></a>        <span class="co" d__="">// error happened...this works on Linux, but your</span></span>
<span id="cb604-15"><a href="#cb604-15"></a>        <span class="co" d__="">// mileage may vary on other systems!</span></span>
<span id="cb604-16"><a href="#cb604-16"></a></span>
<span id="cb604-17" d__=""><a href="#cb604-17"></a>        <span class="cf" d__="">if</span> <span class="op" d__="">(</span>errno <span class="op" d__="">==</span> EBADF<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb604-18" d__=""><a href="#cb604-18"></a>            perror<span class="op" d__="">(</span><span class="st" d__="">"fseek again, EBADF"</span><span class="op" d__="">);</span></span>
<span id="cb604-19"><a href="#cb604-19"></a>        <span class="op" d__="">}</span> <span class="cf" d__="">else</span> <span class="op" d__="">{</span></span>
<span id="cb604-20" d__=""><a href="#cb604-20"></a>            perror<span class="op" d__="">(</span><span class="st" d__="">"fseek again"</span><span class="op" d__="">);</span></span>
<span id="cb604-21"><a href="#cb604-21"></a>        <span class="op" d__="">}</span></span>
<span id="cb604-22"><a href="#cb604-22"></a>    <span class="op" d__="">}</span></span>
<span id="cb604-23"><a href="#cb604-23"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">And the output is:</p>
<div class="sourceCode" id="cb605"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb605-1" d__=""><a href="#cb605-1" aria-hidden="true" tabindex="-1"></a>fseek: Illegal seek</span>
<span id="cb605-2" d__=""><a href="#cb605-2" aria-hidden="true" tabindex="-1"></a>fseek again, EBADF: Bad file descriptor</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-163" d__="">See Also</h3>
<p d__=""><a href="#man-feof"><code s__="13" d__="">feof()</code></a>, <a href="#man-feof"><code s__="13" d__="">ferror()</code></a>, <a href="#man-strerror"><code s__="13" d__="">strerror()</code></a></p>
<!--
***
## `vprintf()`, `vfprintf()`, `vsprintf()`, `vsnprintf()` {#man-vprintf}

### Synopsis {.unnumbered .unlisted}
### Description {.unnumbered .unlisted}
### Return Value {.unnumbered .unlisted}
### Example {.unnumbered .unlisted}
### See Also {.unnumbered .unlisted}
[`sprintf()`](#man-printf),
-->
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="24" id="stdlib" d__=""><span class="header-section-number">24</span> <code>&lt;stdlib.h&gt;</code> Standard Library Functions</h1>
<p></p>
<p d__="">Some of the following functions have variants that handle different types: <code s__="13">atoi()</code>, <code s__="13">strtod()</code>, <code s__="13">strtol()</code>, <code s__="13">abs()</code>, and <code s__="13">div()</code>. Only a single one is listed here for brevity.</p>
<table>
<colgroup>
<col style="width: 26%">
<col style="width: 73%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Function</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#man-exit"><code s__="13" d__="">_Exit()</code></a></td>
<td d__="">Exit the currently-running program and don’t look back</td>
</tr>
<tr class="even">
<td><a href="#man-abort"><code s__="13" d__="">abort()</code></a></td>
<td d__="">Abruptly end program execution</td>
</tr>
<tr class="odd">
<td><a href="#man-abs"><code s__="13" d__="">abs()</code></a></td>
<td d__="">Compute the absolute value of an integer</td>
</tr>
<tr class="even">
<td><a href="#man-aligned_alloc"><code s__="13" d__="">aligned_alloc()</code></a></td>
<td d__="">Allocate specifically-aligned memory</td>
</tr>
<tr class="odd">
<td><a href="#man-atexit"><code s__="13" d__="">at_quick_exit()</code></a></td>
<td d__="">Set up handlers to run when the program quickly exits</td>
</tr>
<tr class="even">
<td><a href="#man-atexit"><code s__="13" d__="">atexit()</code></a></td>
<td d__="">Set up handlers to run when the program exits</td>
</tr>
<tr class="odd">
<td><a href="#man-atof"><code s__="13" d__="">atof()</code></a></td>
<td d__="">Convert a string to a floating point value</td>
</tr>
<tr class="even">
<td><a href="#man-atoi"><code s__="13" d__="">atoi()</code></a></td>
<td d__="">Convert an integer in a string into a integer type</td>
</tr>
<tr class="odd">
<td><a href="#man-bsearch"><code s__="13" d__="">bsearch()</code></a></td>
<td d__="">Binary Search (maybe) an array of objects</td>
</tr>
<tr class="even">
<td><a href="#man-malloc"><code s__="13" d__="">calloc()</code></a></td>
<td d__="">Allocate and clear memory for arbitrary use</td>
</tr>
<tr class="odd">
<td><a href="#man-div"><code s__="13" d__="">div()</code></a></td>
<td d__="">Compute the quotient and remainder of two numbers</td>
</tr>
<tr class="even">
<td><a href="#man-exit"><code s__="13" d__="">exit()</code></a></td>
<td d__="">Exit the currently-running program</td>
</tr>
<tr class="odd">
<td><a href="#man-free"><code s__="13" d__="">free()</code></a></td>
<td d__="">Free a memory region</td>
</tr>
<tr class="even">
<td><a href="#man-getenv"><code s__="13" d__="">getenv()</code></a></td>
<td d__="">Get the value of an environment variable</td>
</tr>
<tr class="odd">
<td><a href="https://beej.us/guide/bgclr/html/man-malloc"><code s__="13" d__="">malloc()</code></a></td>
<td d__="">Allocate memory for arbitrary use</td>
</tr>
<tr class="even">
<td><a href="#man-mblen"><code s__="13" d__="">mblen()</code></a></td>
<td d__="">Return the number of bytes in a multibyte character</td>
</tr>
<tr class="odd">
<td><a href="#man-mbstowcs"><code s__="13" d__="">mbstowcs()</code></a></td>
<td d__="">Convert a multibyte string to a wide character string</td>
</tr>
<tr class="even">
<td><a href="#man-mbtowc"><code s__="13" d__="">mbtowc()</code></a></td>
<td d__="">Convert a multibyte character to a wide character</td>
</tr>
<tr class="odd">
<td><a href="#man-qsort"><code s__="13" d__="">qsort()</code></a></td>
<td d__="">Quicksort (maybe) some data</td>
</tr>
<tr class="even">
<td><a href="#man-exit"><code s__="13" d__="">quick_exit()</code></a></td>
<td d__="">Exit the currently-running program quickly</td>
</tr>
<tr class="odd">
<td><a href="#man-rand"><code s__="13" d__="">rand()</code></a></td>
<td d__="">Return a pseudorandom number</td>
</tr>
<tr class="even">
<td><a href="#man-realloc"><code s__="13" d__="">realloc()</code></a></td>
<td d__="">Resize a previously allocated stretch of memory</td>
</tr>
<tr class="odd">
<td><a href="#man-srand"><code s__="13" d__="">srand()</code></a></td>
<td d__="">Seed the built-in pseudorandom number generator</td>
</tr>
<tr class="even">
<td><a href="#man-strtod"><code s__="13" d__="">strtod()</code></a></td>
<td d__="">Convert a string to a floating point number</td>
</tr>
<tr class="odd">
<td><a href="#man-strtol"><code s__="13" d__="">strtol()</code></a></td>
<td d__="">Convert a string to an integer</td>
</tr>
<tr class="even">
<td><a href="#man-system"><code s__="13" d__="">system()</code></a></td>
<td d__="">Run an external program</td>
</tr>
<tr class="odd">
<td><a href="#man-wcstombs"><code s__="13" d__="">wcstombs()</code></a></td>
<td d__="">Convert a wide character string to a multibyte string</td>
</tr>
<tr class="even">
<td><a href="#man-wctomb"><code s__="13" d__="">wctomb()</code></a></td>
<td d__="">Convert a wide character to a multibyte character</td>
</tr>
</tbody>
</table>
<p d__="">The <code s__="13">&lt;stdlib.h&gt;</code> header has all kinds of—dare I say—miscellaneous functions bundled into it. This functionality includes:</p>
<ul>
<li d__="">Conversions from numbers to strings</li>
<li d__="">Conversions from strings to numbers</li>
<li d__="">Pseudorandom number generation</li>
<li d__="">Dynamic memory allocation</li>
<li d__="">Various ways to exit the program</li>
<li d__="">Ability to run external programs</li>
<li d__="">Binary search (or some fast search)</li>
<li d__="">Quicksort (or some fast sort)</li>
<li d__="">Integer arithmetic functions</li>
<li d__="">Multibyte and wide character and string conversions</li>
</ul>
<p d__="">So, you know… a little of everything.</p>
<h2 data-number="24.1" id="stdlib.h-types-and-macros" d__=""><span class="header-section-number">24.1</span> <code>&lt;stdlib.h&gt;</code> Types and Macros</h2>
<p d__="">A couple new types and macros are introduced, though some of these might also be defined elsewhere:</p>
<p> </p>
<table>
<thead>
<tr class="header">
<th d__="">Type</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">size_t</code></td>
<td d__="">Returned from <code s__="13">sizeof</code> and used elsewhere</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">wchar_t</code></td>
<td d__="">For wide character operations</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">div_t</code></td>
<td d__="">For the <code s__="13">div()</code> function</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">ldiv_t</code></td>
<td d__="">For the <code s__="13">ldiv()</code> function</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">lldiv_t</code></td>
<td d__="">for the <code s__="13">lldiv()</code> function</td>
</tr>
</tbody>
</table>
<p d__="">And some macros:</p>
<p> </p>
<table>
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Type</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">NULL</code></td>
<td d__="">Our good pointer friend</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">EXIT_SUCCESS</code></td>
<td d__="">Good exit status when things go well</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">EXIT_FAILURE</code></td>
<td d__="">Good exit status when things go poorly</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">RAND_MAX</code></td>
<td d__="">The maximum value that can be returned by the <code s__="13">rand()</code> function</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">MB_CUR_MAX</code></td>
<td d__="">Maximum number of bytes in a multibyte character in the current locale</td>
</tr>
</tbody>
</table>
<p d__="">And there you have it. Just a lot of fun, useful functions in here. Let’s check ’em out!</p>
<hr>
<h2 data-number="24.2" id="man-atof"><span class="header-section-number" d__="">24.2</span> <code d__="">atof()</code></h2>
<p></p>
<p d__="">Convert a string to a floating point value</p>
<h3 class="unnumbered unlisted" id="synopsis-174" d__="">Synopsis</h3>
<div class="sourceCode" id="cb606"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb606-1"><a href="#cb606-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb606-2"><a href="#cb606-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb606-3" d__=""><a href="#cb606-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> atof<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>nptr<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-174" d__="">Description</h3>
<p d__="">This stood for <a href="http://man.cat-v.org/unix-1st/3/atof" d__="">“ASCII-To-Floating” back in the day</a><a href="#fn50" class="footnote-ref" id="fnref50" role="doc-noteref"><sup s__="13" d__="">50</sup></a>, but no one would dare to use such coarse language now.</p>
<p d__="">But the gist is the same: we’re going to convert a string with
 numbers and (optionally) a decimal point into a floating point value. 
Leading whitespace is ignored, and translation stops at the first 
invalid character.</p>
<p d__="">If the result doesn’t fit in a <code s__="13">double</code>, behavior is undefined.</p>
<p d__="">It generally works as if you’d called <a href="#man-strtod"><code s__="13" d__="">strtod()</code></a>:</p>
<div class="sourceCode" id="cb607"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb607-1" d__=""><a href="#cb607-1" aria-hidden="true" tabindex="-1"></a>strtod<span class="op" d__="">(</span>nptr<span class="op" d__="">,</span> NULL<span class="op" d__="">)</span></span></code></pre></div>
<p d__="">So check out <a href="#man-strtod" d__="">that reference page</a> for more info.</p>
<p d__="">In fact, <code s__="13">strtod()</code> is just better and you should probably use that.</p>
<h3 class="unnumbered unlisted" id="return-value-172" d__="">Return Value</h3>
<p d__="">Returns the string converted to a <code s__="13">double</code>.</p>
<h3 class="unnumbered unlisted" id="example-175" d__="">Example</h3>
<div class="sourceCode" id="cb608"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb608-1"><a href="#cb608-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb608-2"><a href="#cb608-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb608-3"><a href="#cb608-3"></a></span>
<span id="cb608-4" d__=""><a href="#cb608-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb608-5"><a href="#cb608-5"></a><span class="op" d__="">{</span></span>
<span id="cb608-6" d__=""><a href="#cb608-6"></a>    <span class="dt" d__="">double</span> x <span class="op" d__="">=</span> atof<span class="op" d__="">(</span><span class="st" d__="">"3.141593"</span><span class="op" d__="">);</span></span>
<span id="cb608-7"><a href="#cb608-7"></a></span>
<span id="cb608-8" d__=""><a href="#cb608-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> x<span class="op" d__="">);</span>  <span class="co" d__="">// 3.141593</span></span>
<span id="cb608-9"><a href="#cb608-9"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-164" d__="">See Also</h3>
<p d__=""><a href="#man-atoi"><code s__="13" d__="">atoi()</code></a>, <a href="#man-strtod"><code s__="13" d__="">strtod()</code></a></p>
<hr>
<h2 data-number="24.3" id="man-atoi" d__=""><span class="header-section-number">24.3</span> <code>atoi()</code>, <code>atol()</code>, <code>atoll()</code></h2>
<p> </p>
<p d__="">Convert an integer in a string into a integer type</p>
<h3 class="unnumbered unlisted" id="synopsis-175" d__="">Synopsis</h3>
<div class="sourceCode" id="cb609"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb609-1"><a href="#cb609-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb609-2"><a href="#cb609-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb609-3" d__=""><a href="#cb609-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> atoi<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>nptr<span class="op" d__="">);</span></span>
<span id="cb609-4"><a href="#cb609-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb609-5" d__=""><a href="#cb609-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">int</span> atol<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>nptr<span class="op" d__="">);</span></span>
<span id="cb609-6"><a href="#cb609-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb609-7" d__=""><a href="#cb609-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> atoll<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>nptr<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-175" d__="">Description</h3>
<p d__="">Back in the day, <code s__="13">atoi()</code> stood for <a href="http://man.cat-v.org/unix-1st/3/atoi" d__="">“ASCII-To_Integer”</a><a href="#fn51" class="footnote-ref" id="fnref51" role="doc-noteref"><sup s__="13" d__="">51</sup></a> but now the spec makes no mention of that.</p>
<p d__="">These functions take a string with a number in them and 
convert it to an integer of the specified return type. Leading 
whitespace is ignored. Translation stops at the first invalid character.</p>
<p d__="">If the result doesn’t fit in the return type, behavior is undefined.</p>
<p d__="">It generally works as if you’d called <a href="#man-strtol"><code s__="13" d__="">strtol()</code></a> family of functions:</p>
<div class="sourceCode" id="cb610"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb610-1" d__=""><a href="#cb610-1" aria-hidden="true" tabindex="-1"></a>atoi<span class="op" d__="">(</span>nptr<span class="op" d__="">)</span>                 <span class="co" d__="">// is basically the same as...</span></span>
<span id="cb610-2" d__=""><a href="#cb610-2" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">(</span><span class="dt" d__="">int</span><span class="op" d__="">)</span>strtol<span class="op" d__="">(</span>nptr<span class="op" d__="">,</span> NULL<span class="op" d__="">,</span> <span class="dv" d__="">10</span><span class="op" d__="">)</span></span>
<span id="cb610-3"><a href="#cb610-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb610-4" d__=""><a href="#cb610-4" aria-hidden="true" tabindex="-1"></a>atol<span class="op" d__="">(</span>nptr<span class="op" d__="">)</span>                 <span class="co" d__="">// is basically the same as...</span></span>
<span id="cb610-5" d__=""><a href="#cb610-5" aria-hidden="true" tabindex="-1"></a>strtol<span class="op" d__="">(</span>nptr<span class="op" d__="">,</span> NULL<span class="op" d__="">,</span> <span class="dv" d__="">10</span><span class="op" d__="">)</span></span>
<span id="cb610-6"><a href="#cb610-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb610-7" d__=""><a href="#cb610-7" aria-hidden="true" tabindex="-1"></a>atoll<span class="op" d__="">(</span>nptr<span class="op" d__="">)</span>                <span class="co" d__="">// is basically the same as...</span></span>
<span id="cb610-8" d__=""><a href="#cb610-8" aria-hidden="true" tabindex="-1"></a>strtoll<span class="op" d__="">(</span>nptr<span class="op" d__="">,</span> NULL<span class="op" d__="">,</span> <span class="dv" d__="">10</span><span class="op" d__="">)</span></span></code></pre></div>
<p d__="">Again, the <a href="#man-strtol"><code s__="13" d__="">strtol()</code></a> functions are generally better, so I recommend them instead of these.</p>
<h3 class="unnumbered unlisted" id="return-value-173" d__="">Return Value</h3>
<p d__="">Returns an integer result corresponding to the return type.</p>
<h3 class="unnumbered unlisted" id="example-176" d__="">Example</h3>
<div class="sourceCode" id="cb611"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb611-1"><a href="#cb611-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb611-2"><a href="#cb611-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb611-3"><a href="#cb611-3"></a></span>
<span id="cb611-4" d__=""><a href="#cb611-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb611-5"><a href="#cb611-5"></a><span class="op" d__="">{</span></span>
<span id="cb611-6" d__=""><a href="#cb611-6"></a>    <span class="dt" d__="">int</span> x <span class="op" d__="">=</span> atoi<span class="op" d__="">(</span><span class="st" d__="">"3490"</span><span class="op" d__="">);</span></span>
<span id="cb611-7"><a href="#cb611-7"></a></span>
<span id="cb611-8" d__=""><a href="#cb611-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> x<span class="op" d__="">);</span>  <span class="co" d__="">// 3490</span></span>
<span id="cb611-9"><a href="#cb611-9"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-165" d__="">See Also</h3>
<p d__=""><a href="#man-atof"><code s__="13" d__="">atof()</code></a>, <a href="#man-strtol"><code s__="13" d__="">strtol()</code></a></p>
<hr>
<h2 data-number="24.4" id="man-strtod" d__=""><span class="header-section-number">24.4</span> <code>strtod()</code>, <code>strtof()</code>, <code>strtold()</code></h2>
<p> </p>
<p d__="">Convert a string to a floating point number</p>
<h3 class="unnumbered unlisted" id="synopsis-176" d__="">Synopsis</h3>
<div class="sourceCode" id="cb612"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb612-1"><a href="#cb612-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb612-2"><a href="#cb612-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb612-3" d__=""><a href="#cb612-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> strtod<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> nptr<span class="op" d__="">,</span> <span class="dt" d__="">char</span> <span class="op" d__="">**</span> <span class="dt" d__="">restrict</span> endptr<span class="op" d__="">);</span></span>
<span id="cb612-4"><a href="#cb612-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb612-5" d__=""><a href="#cb612-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> strtof<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> nptr<span class="op" d__="">,</span> <span class="dt" d__="">char</span> <span class="op" d__="">**</span> <span class="dt" d__="">restrict</span> endptr<span class="op" d__="">);</span></span>
<span id="cb612-6"><a href="#cb612-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb612-7" d__=""><a href="#cb612-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> strtold<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> nptr<span class="op" d__="">,</span> <span class="dt" d__="">char</span> <span class="op" d__="">**</span> <span class="dt" d__="">restrict</span> endptr<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-176" d__="">Description</h3>
<p d__="">These are some neat functions that convert strings to floating
 point numbers (or even NaN or Infinity) and provide some error 
checking, besides.</p>
<p d__="">Firstly, leading whitespace is skipped.</p>
<p d__="">Then the functions attempt to convert characters into the 
floating point result. Finally, when an invalid character (or NUL 
character) is reached, they set <code s__="13">endptr</code> to point to the invalid character.</p>
<p d__="">Set <code s__="13">endptr</code> to <code s__="13">NULL</code> if you don’t care about where the first invalid character is.</p>
<p d__="">If you didn’t set <code s__="13">endptr</code> to <code s__="13">NULL</code>, it will point to a NUL character if the translation didn’t find any bad characters. That is:</p>
<div class="sourceCode" id="cb613"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb613-1" d__=""><a href="#cb613-1" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">if</span> <span class="op" d__="">(*</span>endptr <span class="op" d__="">==</span> <span class="ch" d__="">'</span><span class="sc" d__="">\0</span><span class="ch" d__="">'</span><span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb613-2" d__=""><a href="#cb613-2" aria-hidden="true" tabindex="-1"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"What a perfectly-formed number!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb613-3"><a href="#cb613-3" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span> <span class="cf" d__="">else</span> <span class="op" d__="">{</span></span>
<span id="cb613-4" d__=""><a href="#cb613-4" aria-hidden="true" tabindex="-1"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"I found badness in your number: </span><span class="sc" d__="">\"%s\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> endptr<span class="op" d__="">);</span></span>
<span id="cb613-5"><a href="#cb613-5" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">But guess what! You can also translate strings into special values, like NaN and Infinity!</p>
<p d__="">If <code s__="13">nptr</code> points to a string containing <code s__="13">INF</code> or <code s__="13">INFINITY</code> (upper or lowercase), the value for Infinity will be returned.</p>
<p d__="">If <code s__="13">nptr</code> points to a string containing <code s__="13">NAN</code>, then (a quiet, non-signalling) NaN will be returned. You can tag the <code s__="13">NAN</code> with a sequence of characters from the set <code s__="13">0</code>-<code s__="13">9</code>, <code s__="13">a</code>-<code s__="13">z</code>, <code s__="13">A</code>-<code s__="13">Z</code>, and <code s__="13">_</code> by enclosing them in parens:</p>
<div class="sourceCode" id="cb614"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb614-1" d__=""><a href="#cb614-1" aria-hidden="true" tabindex="-1"></a>NAN<span class="op" d__="">(</span>foobar_3490<span class="op" d__="">)</span></span></code></pre></div>
<p d__="">What your compiler does with this is implementation-defined, but it can be used to specify different kinds of NaN.</p>
<p d__="">You can also specify a number in hexadecimal with a power-of-two exponent (<span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="169"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-msup><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-script style="vertical-align: 0.363em;"><mjx-mi class="mjx-i" size="s" s__="13"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>2</mn><mi s__="13">x</mi></msup></math></mjx-assistive-mml></mjx-container></span>) if you lead with <code s__="13">0x</code> (or <code s__="13">0X</code>). For the exponent, use a <code s__="13">p</code> followed by a base 10 exponent. (You can’t use <code s__="13">e</code> because that’s a valid hex digit!)</p>
<p d__="">Example:</p>
<div class="sourceCode" id="cb615"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb615-1"><a href="#cb615-1" aria-hidden="true" tabindex="-1"></a><span class="fl" d__="">0xabc.123p15</span></span></code></pre></div>
<p d__="">Which computes to <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="170"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mn class="mjx-n"><mjx-c class="mjx-c30"></mjx-c></mjx-mn><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D465 TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44E TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D44F TEX-I"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D450 TEX-I"></mjx-c></mjx-mi><mjx-mn class="mjx-n"><mjx-c class="mjx-c2E"></mjx-c><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c32"></mjx-c><mjx-c class="mjx-c33"></mjx-c></mjx-mn><mjx-mo class="mjx-n" space="3"><mjx-c class="mjx-cD7"></mjx-c></mjx-mo><mjx-msup space="3"><mjx-mn class="mjx-n"><mjx-c class="mjx-c32"></mjx-c></mjx-mn><mjx-script style="vertical-align: 0.363em;"><mjx-texatom size="s" texclass="ORD" s__="13"><mjx-mn class="mjx-n"><mjx-c class="mjx-c31"></mjx-c><mjx-c class="mjx-c35"></mjx-c></mjx-mn></mjx-texatom></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn><mi>x</mi><mi>a</mi><mi>b</mi><mi>c</mi><mn>.123</mn><mo>×</mo><msup><mn>2</mn><mrow data-mjx-texclass="ORD" s__="13"><mn>15</mn></mrow></msup></math></mjx-assistive-mml></mjx-container></span>.</p>
<p d__="">You can put in <code s__="13">FLT_DECIMAL_DIG</code>, <code s__="13">DBL_DECIMAL_DIG</code>, or <code s__="13">LDBL_DECIMAL_DIG</code> digits and get a correctly-rounded result for the type.</p>
<h3 class="unnumbered unlisted" id="return-value-174" d__="">Return Value</h3>
<p d__="">Returns the converted number. If there was no number, returns <code s__="13">0</code>. <code s__="13">endptr</code> is set to point to the first invalid character, or the NUL terminator if all characters were consumed.</p>
<p d__="">If there’s an overflow, <code s__="13">HUGE_VAL</code>, <code s__="13">HUGE_VALF</code>, or <code s__="13">HUGE_VALL</code> is returned, signed like the input, and <code s__="13">errno</code> is set to <code s__="13">ERANGE</code>.</p>
<p d__="">If there’s an underflow, it returns the smallest number closest to zero with the input sign. <code s__="13">errno</code> may be set to <code s__="13">ERANGE</code>.</p>
<h3 class="unnumbered unlisted" id="example-177" d__="">Example</h3>
<div class="sourceCode" id="cb616"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb616-1"><a href="#cb616-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb616-2"><a href="#cb616-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb616-3"><a href="#cb616-3"></a></span>
<span id="cb616-4" d__=""><a href="#cb616-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb616-5"><a href="#cb616-5"></a><span class="op" d__="">{</span></span>
<span id="cb616-6" d__=""><a href="#cb616-6"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>inp <span class="op" d__="">=</span> <span class="st" d__="">"   123.4567beej"</span><span class="op" d__="">;</span></span>
<span id="cb616-7" d__=""><a href="#cb616-7"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>badchar<span class="op" d__="">;</span></span>
<span id="cb616-8"><a href="#cb616-8"></a></span>
<span id="cb616-9" d__=""><a href="#cb616-9"></a>    <span class="dt" d__="">double</span> val <span class="op" d__="">=</span> strtod<span class="op" d__="">(</span>inp<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>badchar<span class="op" d__="">);</span></span>
<span id="cb616-10"><a href="#cb616-10"></a></span>
<span id="cb616-11" d__=""><a href="#cb616-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Converted string to </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> val<span class="op" d__="">);</span></span>
<span id="cb616-12" d__=""><a href="#cb616-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Encountered bad characters: </span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> badchar<span class="op" d__="">);</span></span>
<span id="cb616-13"><a href="#cb616-13"></a></span>
<span id="cb616-14" d__=""><a href="#cb616-14"></a>    val <span class="op" d__="">=</span> strtod<span class="op" d__="">(</span><span class="st" d__="">"987.654321beej"</span><span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb616-15" d__=""><a href="#cb616-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Ignoring bad chars for result: </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> val<span class="op" d__="">);</span></span>
<span id="cb616-16"><a href="#cb616-16"></a></span>
<span id="cb616-17" d__=""><a href="#cb616-17"></a>    val <span class="op" d__="">=</span> strtod<span class="op" d__="">(</span><span class="st" d__="">"11.2233"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>badchar<span class="op" d__="">);</span></span>
<span id="cb616-18"><a href="#cb616-18"></a></span>
<span id="cb616-19" d__=""><a href="#cb616-19"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(*</span>badchar <span class="op" d__="">==</span> <span class="ch" d__="">'</span><span class="sc" d__="">\0</span><span class="ch" d__="">'</span><span class="op" d__="">)</span></span>
<span id="cb616-20" d__=""><a href="#cb616-20"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"No bad chars: </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> val<span class="op" d__="">);</span></span>
<span id="cb616-21"><a href="#cb616-21"></a>    <span class="cf" d__="">else</span></span>
<span id="cb616-22" d__=""><a href="#cb616-22"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"Found bad chars: </span><span class="sc" d__="">%f</span><span class="st" d__="">, </span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> val<span class="op" d__="">,</span> badchar<span class="op" d__="">);</span></span>
<span id="cb616-23"><a href="#cb616-23"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb617"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb617-1" d__=""><a href="#cb617-1" aria-hidden="true" tabindex="-1"></a>Converted string to 123.456700</span>
<span id="cb617-2" d__=""><a href="#cb617-2" aria-hidden="true" tabindex="-1"></a>Encountered bad characters: beej</span>
<span id="cb617-3" d__=""><a href="#cb617-3" aria-hidden="true" tabindex="-1"></a>Ignoring bad chars: 987.654321</span>
<span id="cb617-4" d__=""><a href="#cb617-4" aria-hidden="true" tabindex="-1"></a>No bad chars: 11.223300</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-166" d__="">See Also</h3>
<p d__=""><a href="#man-atof"><code s__="13" d__="">atof()</code></a>, <a href="#man-strtol"><code s__="13" d__="">strtol()</code></a></p>
<hr>
<h2 data-number="24.5" id="man-strtol" d__=""><span class="header-section-number">24.5</span> <code>strtol()</code>, <code>strtoll()</code>, <code>strtoul()</code>, <code>strtoull()</code></h2>
<p> </p>
<p d__="">Convert a string to an integer</p>
<h3 class="unnumbered unlisted" id="synopsis-177" d__="">Synopsis</h3>
<div class="sourceCode" id="cb618"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb618-1"><a href="#cb618-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb618-2"><a href="#cb618-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb618-3" d__=""><a href="#cb618-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">int</span> strtol<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> nptr<span class="op" d__="">,</span></span>
<span id="cb618-4" d__=""><a href="#cb618-4" aria-hidden="true" tabindex="-1"></a>                <span class="dt" d__="">char</span> <span class="op" d__="">**</span> <span class="dt" d__="">restrict</span> endptr<span class="op" d__="">,</span> <span class="dt" d__="">int</span> base<span class="op" d__="">);</span></span>
<span id="cb618-5"><a href="#cb618-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb618-6" d__=""><a href="#cb618-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> strtoll<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> nptr<span class="op" d__="">,</span></span>
<span id="cb618-7" d__=""><a href="#cb618-7" aria-hidden="true" tabindex="-1"></a>                      <span class="dt" d__="">char</span> <span class="op" d__="">**</span> <span class="dt" d__="">restrict</span> endptr<span class="op" d__="">,</span> <span class="dt" d__="">int</span> base<span class="op" d__="">);</span></span>
<span id="cb618-8"><a href="#cb618-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb618-9" d__=""><a href="#cb618-9" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> strtoul<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> nptr<span class="op" d__="">,</span></span>
<span id="cb618-10" d__=""><a href="#cb618-10" aria-hidden="true" tabindex="-1"></a>                          <span class="dt" d__="">char</span> <span class="op" d__="">**</span> <span class="dt" d__="">restrict</span> endptr<span class="op" d__="">,</span> <span class="dt" d__="">int</span> base<span class="op" d__="">);</span></span>
<span id="cb618-11"><a href="#cb618-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb618-12" d__=""><a href="#cb618-12" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> strtoull<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> nptr<span class="op" d__="">,</span></span>
<span id="cb618-13" d__=""><a href="#cb618-13" aria-hidden="true" tabindex="-1"></a>                                <span class="dt" d__="">char</span> <span class="op" d__="">**</span> <span class="dt" d__="">restrict</span> endptr<span class="op" d__="">,</span> <span class="dt" d__="">int</span> base<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-177" d__="">Description</h3>
<p d__="">These convert a string to an integer like <code s__="13">atoi()</code>, but they have a few more bells and whistles.</p>
<p d__="">Most notable, they can tell you where conversion started going
 wrong, i.e.&nbsp;where invalid characters, if any, appear. Leading 
spaces are ignored. A <code s__="13">+</code> or <code s__="13">-</code> sign may precede the number.</p>
<p d__="">The basic idea is that if things go well, these functions will
 return the integer values contained in the strings. And if you pass in 
the <code s__="13">char**</code> typed <code s__="13">endptr</code>, it’ll set it to point at the NUL at the end of the string.</p>
<p d__="">If things don’t go well, they’ll set <code s__="13">endptr</code> to point at the first character where things have gone awry. That is, if you’re converting a value <code s__="13">103z2!</code> in base 10, they’ll send <code s__="13">endptr</code> to point at the <code s__="13">z</code> because that’s the first non-numeric character.</p>
<p d__="">You can pass in <code s__="13">NULL</code> for <code s__="13">endptr</code> if you don’t care to do any of that kind of error checking.</p>
<p d__="">Wait—did I just say we could set the number base for the conversion? Yes! Yes, I did. Now <a href="https://en.wikipedia.org/wiki/Radix" d__="">number bases</a><a href="#fn52" class="footnote-ref" id="fnref52" role="doc-noteref"><sup s__="13" d__="">52</sup></a>
 are out of scope for this document, but certainly some of the more 
well-known are binary (base 2), octal (base 8), decimal (base 10), and 
hexadecimal (base 16).</p>
<p d__="">You can specify the number base for the conversion as the 
third parameter. Bases from 2 to 36 are supported, with case-insensitive
 digits running from <code s__="13">0</code> to <code s__="13">Z</code>.</p>
<p d__="">If you specify a base of <code s__="13">0</code>, the function will make an effort to determine it. It’ll default to base 10 except for a couple cases:</p>
<p d__="">The binary conversion is new in C23!</p>
<ul>
<li d__="">If the number has a leading <code s__="13">0b</code> or <code s__="13">0B</code>, it will be binary (base 2)</li>
<li d__="">If the number has a leading <code s__="13">0</code>, it will be octal (base 8)</li>
<li d__="">If the number has a leading <code s__="13">0x</code> or <code s__="13">0X</code>, it will be hex (base 16)</li>
</ul>
<p d__="">The locale might affect the behavior of these functions.</p>
<h3 class="unnumbered unlisted" id="return-value-175" d__="">Return Value</h3>
<p d__="">Returns the converted value.</p>
<p d__=""><code s__="13">endptr</code>, if not <code s__="13">NULL</code>
 is set to the first invalid character, or to the beginning of the 
string if no conversion was performed, or to the string terminal NUL if 
all characters were valid.</p>
<p d__="">If there’s overflow, one of these values will be returned: <code s__="13">LONG_MIN</code>, <code s__="13">LONG_MAX</code>, <code s__="13">LLONG_MIN</code>, <code s__="13">LLONG_MAX</code>, <code s__="13">ULONG_MAX</code>, <code s__="13">ULLONG_MAX</code>. And <code s__="13">errno</code> is set to <code s__="13">ERANGE</code>.</p>
<h3 class="unnumbered unlisted" id="example-178" d__="">Example</h3>
<div class="sourceCode" id="cb619"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb619-1"><a href="#cb619-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb619-2"><a href="#cb619-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb619-3"><a href="#cb619-3"></a></span>
<span id="cb619-4" d__=""><a href="#cb619-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb619-5"><a href="#cb619-5"></a><span class="op" d__="">{</span></span>
<span id="cb619-6"><a href="#cb619-6"></a>    <span class="co" d__="">// All output in decimal (base 10)</span></span>
<span id="cb619-7"><a href="#cb619-7"></a></span>
<span id="cb619-8" d__=""><a href="#cb619-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%ld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> strtol<span class="op" d__="">(</span><span class="st" d__="">"123"</span><span class="op" d__="">,</span> NULL<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">));</span>      <span class="co" d__="">// 123</span></span>
<span id="cb619-9" d__=""><a href="#cb619-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%ld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> strtol<span class="op" d__="">(</span><span class="st" d__="">"123"</span><span class="op" d__="">,</span> NULL<span class="op" d__="">,</span> <span class="dv" d__="">10</span><span class="op" d__="">));</span>     <span class="co" d__="">// 123</span></span>
<span id="cb619-10" d__=""><a href="#cb619-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%ld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> strtol<span class="op" d__="">(</span><span class="st" d__="">"101010"</span><span class="op" d__="">,</span> NULL<span class="op" d__="">,</span> <span class="dv" d__="">2</span><span class="op" d__="">));</span>   <span class="co" d__="">// binary, 42</span></span>
<span id="cb619-11" d__=""><a href="#cb619-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%ld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> strtol<span class="op" d__="">(</span><span class="st" d__="">"123"</span><span class="op" d__="">,</span> NULL<span class="op" d__="">,</span> <span class="dv" d__="">8</span><span class="op" d__="">));</span>      <span class="co" d__="">// octal, 83</span></span>
<span id="cb619-12" d__=""><a href="#cb619-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%ld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> strtol<span class="op" d__="">(</span><span class="st" d__="">"123"</span><span class="op" d__="">,</span> NULL<span class="op" d__="">,</span> <span class="dv" d__="">16</span><span class="op" d__="">));</span>     <span class="co" d__="">// hex, 291</span></span>
<span id="cb619-13"><a href="#cb619-13"></a></span>
<span id="cb619-14" d__=""><a href="#cb619-14"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%ld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> strtol<span class="op" d__="">(</span><span class="st" d__="">"0123"</span><span class="op" d__="">,</span> NULL<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">));</span>     <span class="co" d__="">// octal, 83</span></span>
<span id="cb619-15" d__=""><a href="#cb619-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%ld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> strtol<span class="op" d__="">(</span><span class="st" d__="">"0x123"</span><span class="op" d__="">,</span> NULL<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">));</span>    <span class="co" d__="">// hex, 291</span></span>
<span id="cb619-16"><a href="#cb619-16"></a></span>
<span id="cb619-17" d__=""><a href="#cb619-17"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>badchar<span class="op" d__="">;</span></span>
<span id="cb619-18" d__=""><a href="#cb619-18"></a>    <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> x <span class="op" d__="">=</span> strtol<span class="op" d__="">(</span><span class="st" d__="">"   1234beej"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>badchar<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">);</span></span>
<span id="cb619-19"><a href="#cb619-19"></a></span>
<span id="cb619-20" d__=""><a href="#cb619-20"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Value is </span><span class="sc" d__="">%ld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> x<span class="op" d__="">);</span>               <span class="co" d__="">// Value is 1234</span></span>
<span id="cb619-21" d__=""><a href="#cb619-21"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Bad chars at </span><span class="sc" d__="">\"%s\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> badchar<span class="op" d__="">);</span>  <span class="co" d__="">// Bad chars at "beej"</span></span>
<span id="cb619-22"><a href="#cb619-22"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb620"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb620-1" d__=""><a href="#cb620-1" aria-hidden="true" tabindex="-1"></a>123</span>
<span id="cb620-2" d__=""><a href="#cb620-2" aria-hidden="true" tabindex="-1"></a>123</span>
<span id="cb620-3" d__=""><a href="#cb620-3" aria-hidden="true" tabindex="-1"></a>42</span>
<span id="cb620-4" d__=""><a href="#cb620-4" aria-hidden="true" tabindex="-1"></a>83</span>
<span id="cb620-5" d__=""><a href="#cb620-5" aria-hidden="true" tabindex="-1"></a>291</span>
<span id="cb620-6" d__=""><a href="#cb620-6" aria-hidden="true" tabindex="-1"></a>83</span>
<span id="cb620-7" d__=""><a href="#cb620-7" aria-hidden="true" tabindex="-1"></a>291</span>
<span id="cb620-8" d__=""><a href="#cb620-8" aria-hidden="true" tabindex="-1"></a>Value is 1234</span>
<span id="cb620-9" d__=""><a href="#cb620-9" aria-hidden="true" tabindex="-1"></a>Bad chars at "beej"</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-167" d__="">See Also</h3>
<p d__=""><a href="#man-atoi"><code s__="13" d__="">atoi()</code></a>, <a href="#man-strtod"><code s__="13" d__="">strtod()</code></a>, <a href="#man-setlocale"><code s__="13" d__="">setlocale()</code></a>, <a href="#man-strtoimax"><code s__="13" d__="">strtoimax()</code></a>, <a href="#man-strtoimax"><code s__="13" d__="">strtoumax()</code></a></p>
<hr>
<h2 data-number="24.6" id="man-rand"><span class="header-section-number" d__="">24.6</span> <code d__="">rand()</code></h2>
<p></p>
<p d__="">Return a pseudorandom number</p>
<h3 class="unnumbered unlisted" id="synopsis-178" d__="">Synopsis</h3>
<div class="sourceCode" id="cb621"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb621-1"><a href="#cb621-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb621-2"><a href="#cb621-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb621-3" d__=""><a href="#cb621-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> rand<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-178" d__="">Description</h3>
<p d__="">This gives us back a pseudorandom number in the range <code s__="13">0</code> to <code s__="13">RAND_MAX</code>, inclusive. (<code s__="13">RAND_MAX</code> will be at least <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="171"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mn class="mjx-n"><mjx-c class="mjx-c33"></mjx-c><mjx-c class="mjx-c32"></mjx-c><mjx-c class="mjx-c37"></mjx-c><mjx-c class="mjx-c36"></mjx-c><mjx-c class="mjx-c37"></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>32767</mn></math></mjx-assistive-mml></mjx-container></span>.)</p>
<p d__="">If you want to force this to a certain range, the classic way to do this is to force it with the modulo operator <code s__="13">%</code>, although <a href="https://stackoverflow.com/questions/10984974/why-do-people-say-there-is-modulo-bias-when-using-a-random-number-generator" d__="">this introduces biases</a><a href="#fn53" class="footnote-ref" id="fnref53" role="doc-noteref"><sup s__="13" d__="">53</sup></a> if <code s__="13">RAND_MAX+1</code> is not a multiple of the number you’re modding by. Dealing with this is out of scope for this guide.</p>
<p d__="">If you want to to make a floating point number between <code s__="13">0</code> and <code s__="13">1</code> inclusive, you can divide the result by <code s__="13">RAND_MAX</code>. Or <code s__="13">RAND_MAX+1</code> if you don’t want to include <code s__="13">1</code>. But of course, there are out-of-scope <a href="https://mumble.net/~campbell/2014/04/28/uniform-random-float" d__="">problems with this, as well</a><a href="#fn54" class="footnote-ref" id="fnref54" role="doc-noteref"><sup s__="13" d__="">54</sup></a>.</p>
<p d__="">In short, <code s__="13">rand()</code> is a great way to get potentially poor random numbers with ease. Probably good enough for the game you’re writing.</p>
<p d__="">The spec elaborates:</p>
<blockquote>
<p d__="">There are no guarantees as to the quality of the random 
sequence produced and some implementations are known to produce 
sequences with distressingly non-random low-order bits. Applications 
with particular requirements should use a generator that is known to be 
sufficient for their needs.</p>
</blockquote>
<p d__="">Your system probably has a good random number generator on it if you need a stronger source. Linux users have <code s__="13">getrandom()</code>, for example, and Windows has <code s__="13">CryptGenRandom()</code>.</p>
<p d__="">For other more demanding random number work, you might find a library like the <a href="https://www.gnu.org/software/gsl/doc/html/rng.html" d__="">GNU Scientific Library</a><a href="#fn55" class="footnote-ref" id="fnref55" role="doc-noteref"><sup s__="13" d__="">55</sup></a> of use.</p>
<p d__="">With most implementations, the numbers produced by <code s__="13">rand()</code> will be the same from run to run. To get around this, you need to start it off in a different place by passing a <em>seed</em> into the random number generator. You can do this with <a href="#man-srand"><code s__="13" d__="">srand()</code></a>.</p>
<h3 class="unnumbered unlisted" id="return-value-176" d__="">Return Value</h3>
<p d__="">Returns a random number in the range <code s__="13">0</code> to <code s__="13">RAND_MAX</code>, inclusive.</p>
<h3 class="unnumbered unlisted" id="example-179" d__="">Example</h3>
<p d__="">Note that all of these examples don’t produce perfectly 
uniform distributions. But good enough for the untrained eye, and really
 common in general use when mediocre random number quality is 
acceptable.</p>
<div class="sourceCode" id="cb622"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb622-1"><a href="#cb622-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb622-2"><a href="#cb622-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb622-3"><a href="#cb622-3"></a></span>
<span id="cb622-4" d__=""><a href="#cb622-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb622-5"><a href="#cb622-5"></a><span class="op" d__="">{</span></span>
<span id="cb622-6" d__=""><a href="#cb622-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"RAND_MAX = </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> RAND_MAX<span class="op" d__="">);</span></span>
<span id="cb622-7"><a href="#cb622-7"></a></span>
<span id="cb622-8" d__=""><a href="#cb622-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"0 to 9: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> rand<span class="op" d__="">()</span> <span class="op" d__="">%</span> <span class="dv" d__="">10</span><span class="op" d__="">);</span></span>
<span id="cb622-9"><a href="#cb622-9"></a></span>
<span id="cb622-10" d__=""><a href="#cb622-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"10 to 44: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> rand<span class="op" d__="">()</span> <span class="op" d__="">%</span> <span class="dv" d__="">35</span> <span class="op" d__="">+</span> <span class="dv" d__="">10</span><span class="op" d__="">);</span></span>
<span id="cb622-11" d__=""><a href="#cb622-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"0 to 0.99999: </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> rand<span class="op" d__="">()</span> <span class="op" d__="">/</span> <span class="op" d__="">((</span><span class="dt" d__="">float</span><span class="op" d__="">)</span>RAND_MAX <span class="op" d__="">+</span> <span class="dv" d__="">1</span><span class="op" d__="">));</span></span>
<span id="cb622-12" d__=""><a href="#cb622-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"10.5 to 15.7: </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="fl" d__="">10.5</span> <span class="op" d__="">+</span> <span class="fl" d__="">5.2</span> <span class="op" d__="">*</span> rand<span class="op" d__="">()</span> <span class="op" d__="">/</span> <span class="op" d__="">(</span><span class="dt" d__="">float</span><span class="op" d__="">)</span>RAND_MAX<span class="op" d__="">);</span></span>
<span id="cb622-13"><a href="#cb622-13"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output on my system:</p>
<div class="sourceCode" id="cb623"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb623-1" d__=""><a href="#cb623-1" aria-hidden="true" tabindex="-1"></a>RAND_MAX = 2147483647</span>
<span id="cb623-2" d__=""><a href="#cb623-2" aria-hidden="true" tabindex="-1"></a>0 to 9: 3</span>
<span id="cb623-3" d__=""><a href="#cb623-3" aria-hidden="true" tabindex="-1"></a>10 to 44: 21</span>
<span id="cb623-4" d__=""><a href="#cb623-4" aria-hidden="true" tabindex="-1"></a>0 to 0.99999: 0.783099</span>
<span id="cb623-5" d__=""><a href="#cb623-5" aria-hidden="true" tabindex="-1"></a>10.5 to 15.7: 14.651888</span></code></pre></div>
<p d__="">Example of seeding the RNG with the time:</p>
<div class="sourceCode" id="cb624"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb624-1"><a href="#cb624-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb624-2"><a href="#cb624-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb624-3"><a href="#cb624-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb624-4"><a href="#cb624-4"></a></span>
<span id="cb624-5" d__=""><a href="#cb624-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb624-6"><a href="#cb624-6"></a><span class="op" d__="">{</span></span>
<span id="cb624-7"><a href="#cb624-7"></a>    <span class="co" d__="">// time(NULL) very likely returns the number of seconds since</span></span>
<span id="cb624-8"><a href="#cb624-8"></a>    <span class="co" d__="">// January 1, 1970:</span></span>
<span id="cb624-9"><a href="#cb624-9"></a></span>
<span id="cb624-10" d__=""><a href="#cb624-10"></a>    srand<span class="op" d__="">(</span>time<span class="op" d__="">(</span>NULL<span class="op" d__="">));</span></span>
<span id="cb624-11"><a href="#cb624-11"></a></span>
<span id="cb624-12" d__=""><a href="#cb624-12"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> <span class="dv" d__="">5</span><span class="op" d__="">;</span> i<span class="op" d__="">++)</span></span>
<span id="cb624-13" d__=""><a href="#cb624-13"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> rand<span class="op" d__="">());</span></span>
<span id="cb624-14"><a href="#cb624-14"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-168" d__="">See Also</h3>
<p><a href="#man-srand"><code s__="13" d__="">srand()</code></a></p>
<hr>
<h2 data-number="24.7" id="man-srand"><span class="header-section-number" d__="">24.7</span> <code d__="">srand()</code></h2>
<p></p>
<p d__="">Seed the built-in pseudorandom number generator</p>
<h3 class="unnumbered unlisted" id="synopsis-179" d__="">Synopsis</h3>
<div class="sourceCode" id="cb625"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb625-1"><a href="#cb625-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb625-2"><a href="#cb625-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb625-3" d__=""><a href="#cb625-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> srand<span class="op" d__="">(</span><span class="dt" d__="">unsigned</span> <span class="dt" d__="">int</span> seed<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-179" d__="">Description</h3>
<p d__="">The dirty little secret of pseudorandom number generation is 
that they’re completely deterministic. There’s nothing random about 
them. They just look random.</p>
<p d__="">If you use <code s__="13">rand()</code> and run your program several times, you might notice something <em>fishy</em>: they produce the same random numbers over and over again.</p>
<p d__="">To mix it up, we need to give the pseudorandom number generator a new “starting point”, if you will. We call that the <em>seed</em>.
 It’s just a number, but it is used as the basic for subsequent number 
generation. Give a different seed, and you’ll get a different sequence 
of random numbers. Give the same seed, and you’ll get the same sequence 
of random numbers corresponding to it<a href="#fn56" class="footnote-ref" id="fnref56" role="doc-noteref"><sup s__="13" d__="">56</sup></a>.</p>
<p d__="">So if you call <code s__="13">srand(3490)</code> before you start generating numbers with <code s__="13">rand()</code>, you’ll get the same sequence every time. <code s__="13">srand(37)</code> would also give you the same sequence every time, but it would be a different sequence than the one you got with <code s__="13">srand(3490)</code>.</p>
<p d__="">But if you can’t hardcode the seed (because that would give you the same sequence every time), how are you supposed to do this?</p>
<p d__="">It’s really common to use the number of seconds since January 1, 1970 (this date is known as the <a href="https://en.wikipedia.org/wiki/Unix_time"><em d__="">Unix epoch</em></a><a href="#fn57" class="footnote-ref" id="fnref57" role="doc-noteref"><sup s__="13" d__="">57</sup></a>)
 to seed the generator. This sounds pretty arbitrary except for the fact
 that it’s exactly the value most implementations return from the 
library call <code s__="13">time(NULL)</code><a href="#fn58" class="footnote-ref" id="fnref58" role="doc-noteref"><sup s__="13" d__="">58</sup></a>.</p>
<p d__="">We’ll do that in the example.</p>
<p d__="">If you don’t call <code s__="13">srand()</code>, it’s as if you called <code s__="13">srand(1)</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-177" d__="">Return Value</h3>
<p d__="">Returns nothing!</p>
<h3 class="unnumbered unlisted" id="example-180" d__="">Example</h3>
<div class="sourceCode" id="cb626"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb626-1"><a href="#cb626-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb626-2"><a href="#cb626-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb626-3"><a href="#cb626-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span><span class="pp">    </span><span class="co" d__="">// for the time() call</span></span>
<span id="cb626-4"><a href="#cb626-4"></a></span>
<span id="cb626-5" d__=""><a href="#cb626-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb626-6"><a href="#cb626-6"></a><span class="op" d__="">{</span></span>
<span id="cb626-7" d__=""><a href="#cb626-7"></a>    srand<span class="op" d__="">(</span>time<span class="op" d__="">(</span>NULL<span class="op" d__="">));</span></span>
<span id="cb626-8"><a href="#cb626-8"></a></span>
<span id="cb626-9" d__=""><a href="#cb626-9"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> <span class="dv" d__="">5</span><span class="op" d__="">;</span> i<span class="op" d__="">++)</span></span>
<span id="cb626-10" d__=""><a href="#cb626-10"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> rand<span class="op" d__="">()</span> <span class="op" d__="">%</span> <span class="dv" d__="">32</span><span class="op" d__="">);</span></span>
<span id="cb626-11"><a href="#cb626-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb627"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb627-1" d__=""><a href="#cb627-1" aria-hidden="true" tabindex="-1"></a>4</span>
<span id="cb627-2" d__=""><a href="#cb627-2" aria-hidden="true" tabindex="-1"></a>20</span>
<span id="cb627-3" d__=""><a href="#cb627-3" aria-hidden="true" tabindex="-1"></a>22</span>
<span id="cb627-4" d__=""><a href="#cb627-4" aria-hidden="true" tabindex="-1"></a>14</span>
<span id="cb627-5" d__=""><a href="#cb627-5" aria-hidden="true" tabindex="-1"></a>9</span></code></pre></div>
<p d__="">Output from a subsequent run:</p>
<div class="sourceCode" id="cb628"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb628-1" d__=""><a href="#cb628-1" aria-hidden="true" tabindex="-1"></a>19</span>
<span id="cb628-2" d__=""><a href="#cb628-2" aria-hidden="true" tabindex="-1"></a>0</span>
<span id="cb628-3" d__=""><a href="#cb628-3" aria-hidden="true" tabindex="-1"></a>31</span>
<span id="cb628-4" d__=""><a href="#cb628-4" aria-hidden="true" tabindex="-1"></a>31</span>
<span id="cb628-5" d__=""><a href="#cb628-5" aria-hidden="true" tabindex="-1"></a>24</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-169" d__="">See Also</h3>
<p d__=""><a href="#man-rand"><code s__="13" d__="">rand()</code></a>, <a href="#man-time"><code s__="13" d__="">time()</code></a></p>
<hr>
<h2 data-number="24.8" id="man-aligned_alloc"><span class="header-section-number" d__="">24.8</span> <code d__="">aligned_alloc()</code></h2>
<p></p>
<p d__="">Allocate specifically-aligned memory</p>
<h3 class="unnumbered unlisted" id="synopsis-180" d__="">Synopsis</h3>
<div class="sourceCode" id="cb629"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb629-1"><a href="#cb629-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb629-2"><a href="#cb629-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb629-3" d__=""><a href="#cb629-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> <span class="op" d__="">*</span>aligned_alloc<span class="op" d__="">(</span><span class="dt" d__="">size_t</span> alignment<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> size<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-180" d__="">Description</h3>
<p d__="">Maybe you wanted <a href="#man-malloc"><code s__="13" d__="">malloc()</code></a> or <a href="#man-malloc"><code s__="13" d__="">calloc()</code></a> instead of this. But if you’re sure you don’t, read on!</p>
<p d__="">Normally you don’t have to think about this, since <code s__="13">malloc()</code> and <code s__="13">realloc()</code> both provide memory regions that are suitably <a href="https://en.wikipedia.org/wiki/Data_structure_alignment" d__="">aligned</a><a href="#fn59" class="footnote-ref" id="fnref59" role="doc-noteref"><sup s__="13" d__="">59</sup></a> for use with any data type.</p>
<p d__="">But if you need a more specific alignment, you can specify it with this function.</p>
<p d__="">When you’re done using the memory region, be sure to free it with a call to <a href="#man-free"><code s__="13" d__="">free()</code></a>.</p>
<p d__="">Don’t pass in <code s__="13">0</code> for the size. It probably won’t do anything you want.</p>
<p d__="">In case you’re wondering, all dynamically-allocated memory is 
automatically freed by the system when the program ends. That said, it’s
 considered to be <em>Good Form</em> to explicitly <code s__="13">free()</code> everything you allocate. This way other programmers don’t think you were being sloppy.</p>
<h3 class="unnumbered unlisted" id="return-value-178" d__="">Return Value</h3>
<p d__="">Returns a pointer to the newly-allocated memory, aligned as specified. Returns <code s__="13">NULL</code> if something goes wrong.</p>
<h3 class="unnumbered unlisted" id="example-181" d__="">Example</h3>
<div class="sourceCode" id="cb630"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb630-1"><a href="#cb630-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb630-2"><a href="#cb630-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb630-3"><a href="#cb630-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdint.h&gt;</span></span>
<span id="cb630-4"><a href="#cb630-4"></a></span>
<span id="cb630-5" d__=""><a href="#cb630-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb630-6"><a href="#cb630-6"></a><span class="op" d__="">{</span></span>
<span id="cb630-7" d__=""><a href="#cb630-7"></a>    <span class="dt" d__="">int</span> <span class="op" d__="">*</span>p <span class="op" d__="">=</span> aligned_alloc<span class="op" d__="">(</span><span class="dv" d__="">256</span><span class="op" d__="">,</span> <span class="dv" d__="">10</span> <span class="op" d__="">*</span> <span class="kw" d__="">sizeof</span><span class="op" d__="">(</span><span class="dt" d__="">int</span><span class="op" d__="">));</span></span>
<span id="cb630-8"><a href="#cb630-8"></a></span>
<span id="cb630-9"><a href="#cb630-9"></a>    <span class="co" d__="">// Just for fun, let's convert to intptr_t and mod with 256</span></span>
<span id="cb630-10"><a href="#cb630-10"></a>    <span class="co" d__="">// to make sure we're actually aligned on a 256-byte boundary.</span></span>
<span id="cb630-11"><a href="#cb630-11"></a>    <span class="co" d__="">//</span></span>
<span id="cb630-12"><a href="#cb630-12"></a>    <span class="co" d__="">// This is probably some kind of implementation-defined</span></span>
<span id="cb630-13"><a href="#cb630-13"></a>    <span class="co" d__="">// behavior, but I'll bet it works.</span></span>
<span id="cb630-14"><a href="#cb630-14"></a></span>
<span id="cb630-15" d__=""><a href="#cb630-15"></a>    <span class="dt" d__="">intptr_t</span> ip <span class="op" d__="">=</span> <span class="op" d__="">(</span><span class="dt" d__="">intptr_t</span><span class="op" d__="">)</span>p<span class="op" d__="">;</span></span>
<span id="cb630-16"><a href="#cb630-16"></a></span>
<span id="cb630-17" d__=""><a href="#cb630-17"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%ld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ip <span class="op" d__="">%</span> <span class="dv" d__="">256</span><span class="op" d__="">);</span>   <span class="co" d__="">// 0!</span></span>
<span id="cb630-18"><a href="#cb630-18"></a></span>
<span id="cb630-19"><a href="#cb630-19"></a>    <span class="co" d__="">// Free it up</span></span>
<span id="cb630-20" d__=""><a href="#cb630-20"></a>    free<span class="op" d__="">(</span>p<span class="op" d__="">);</span></span>
<span id="cb630-21"><a href="#cb630-21"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-170" d__="">See Also</h3>
<p d__=""><a href="#man-malloc"><code s__="13" d__="">malloc()</code></a>, <a href="#man-malloc"><code s__="13" d__="">calloc()</code></a>, <a href="#man-free"><code s__="13" d__="">free()</code></a></p>
<hr>
<h2 data-number="24.9" id="man-malloc" d__=""><span class="header-section-number">24.9</span> <code>calloc()</code>, <code>malloc()</code></h2>
<p> </p>
<p d__="">Allocate memory for arbitrary use</p>
<h3 class="unnumbered unlisted" id="synopsis-181" d__="">Synopsis</h3>
<div class="sourceCode" id="cb631"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb631-1"><a href="#cb631-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb631-2"><a href="#cb631-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb631-3" d__=""><a href="#cb631-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> <span class="op" d__="">*</span>calloc<span class="op" d__="">(</span><span class="dt" d__="">size_t</span> nmemb<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> size<span class="op" d__="">);</span></span>
<span id="cb631-4"><a href="#cb631-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb631-5" d__=""><a href="#cb631-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> <span class="op" d__="">*</span>malloc<span class="op" d__="">(</span><span class="dt" d__="">size_t</span> size<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-181" d__="">Description</h3>
<p d__="">Both of these functions allocate memory for general-purpose 
use. It will be aligned such that it’s useable for storing any data 
type.</p>
<p d__=""><code s__="13">malloc()</code> allocates exactly the specified
 number of bytes of memory in a contiguous block. The memory might be 
full of garbage data. (You can clear it with <a href="#man-memset"><code s__="13" d__="">memset()</code></a>, if you wish.)</p>
<p d__=""><code s__="13">calloc()</code> is different in that it allocates space for <code s__="13">nmemb</code> objects of <code s__="13">size</code> bytes each. (You can do the same with <code s__="13">malloc()</code>, but you have to do the multiplication yourself.)</p>
<p d__=""><code s__="13">calloc()</code> has an additional feature: it clears all the memory to <code s__="13">0</code>.</p>
<p d__="">So if you’re planning to zero the memory anyway, <code s__="13">calloc()</code> is probably the way to go. If you’re not, you can avoid that overhead by calling <code s__="13">malloc()</code>.</p>
<p d__="">When you’re done using the memory region, free it with a call to <code s__="13">free()</code>.</p>
<p d__="">Don’t pass in <code s__="13">0</code> for the size. It probably won’t do anything you want.</p>
<p d__="">In case you’re wondering, all dynamically-allocated memory is 
automatically freed by the system when the program ends. That said, it’s
 considered to be <em>Good Form</em> to explicitly <code s__="13">free()</code> everything you allocate. This way other programmers don’t think you were being sloppy.</p>
<h3 class="unnumbered unlisted" id="return-value-179" d__="">Return Value</h3>
<p d__="">Both functions return a pointer to the shiny, newly-allocated memory. Or <code s__="13">NULL</code> if something’s gone awry.</p>
<h3 class="unnumbered unlisted" id="example-182" d__="">Example</h3>
<p d__="">Comparison of <code s__="13">malloc()</code> and <code s__="13">calloc()</code> for allocating 5 <code s__="13">int</code>s:</p>
<div class="sourceCode" id="cb632"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb632-1"><a href="#cb632-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb632-2"><a href="#cb632-2"></a></span>
<span id="cb632-3" d__=""><a href="#cb632-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb632-4"><a href="#cb632-4"></a><span class="op" d__="">{</span></span>
<span id="cb632-5"><a href="#cb632-5"></a>    <span class="co" d__="">// Allocate space for 5 ints</span></span>
<span id="cb632-6" d__=""><a href="#cb632-6"></a>    <span class="dt" d__="">int</span> <span class="op" d__="">*</span>p <span class="op" d__="">=</span> malloc<span class="op" d__="">(</span><span class="dv" d__="">5</span> <span class="op" d__="">*</span> <span class="kw" d__="">sizeof</span><span class="op" d__="">(</span><span class="dt" d__="">int</span><span class="op" d__="">));</span></span>
<span id="cb632-7"><a href="#cb632-7"></a></span>
<span id="cb632-8" d__=""><a href="#cb632-8"></a>    p<span class="op" d__="">[</span><span class="dv" d__="">0</span><span class="op" d__="">]</span> <span class="op" d__="">=</span> <span class="dv" d__="">12</span><span class="op" d__="">;</span></span>
<span id="cb632-9" d__=""><a href="#cb632-9"></a>    p<span class="op" d__="">[</span><span class="dv" d__="">1</span><span class="op" d__="">]</span> <span class="op" d__="">=</span> <span class="dv" d__="">30</span><span class="op" d__="">;</span></span>
<span id="cb632-10"><a href="#cb632-10"></a></span>
<span id="cb632-11"><a href="#cb632-11"></a>    <span class="co" d__="">// Allocate space for 5 ints</span></span>
<span id="cb632-12"><a href="#cb632-12"></a>    <span class="co" d__="">// (Also clear that memory to 0)</span></span>
<span id="cb632-13" d__=""><a href="#cb632-13"></a>    <span class="dt" d__="">int</span> <span class="op" d__="">*</span>q <span class="op" d__="">=</span> calloc<span class="op" d__="">(</span><span class="dv" d__="">5</span><span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span><span class="op" d__="">(</span><span class="dt" d__="">int</span><span class="op" d__="">));</span></span>
<span id="cb632-14"><a href="#cb632-14"></a></span>
<span id="cb632-15" d__=""><a href="#cb632-15"></a>    q<span class="op" d__="">[</span><span class="dv" d__="">0</span><span class="op" d__="">]</span> <span class="op" d__="">=</span> <span class="dv" d__="">12</span><span class="op" d__="">;</span></span>
<span id="cb632-16" d__=""><a href="#cb632-16"></a>    q<span class="op" d__="">[</span><span class="dv" d__="">1</span><span class="op" d__="">]</span> <span class="op" d__="">=</span> <span class="dv" d__="">30</span><span class="op" d__="">;</span></span>
<span id="cb632-17"><a href="#cb632-17"></a></span>
<span id="cb632-18"><a href="#cb632-18"></a>    <span class="co" d__="">// All done</span></span>
<span id="cb632-19" d__=""><a href="#cb632-19"></a>    free<span class="op" d__="">(</span>p<span class="op" d__="">);</span></span>
<span id="cb632-20" d__=""><a href="#cb632-20"></a>    free<span class="op" d__="">(</span>q<span class="op" d__="">);</span></span>
<span id="cb632-21"><a href="#cb632-21"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-171" d__="">See Also</h3>
<p d__=""><a href="#man-aligned_alloc"><code s__="13" d__="">aligned_alloc()</code></a>, <a href="#man-free"><code s__="13" d__="">free()</code></a></p>
<hr>
<h2 data-number="24.10" id="man-free"><span class="header-section-number" d__="">24.10</span> <code d__="">free()</code></h2>
<p></p>
<p d__="">Free a memory region</p>
<h3 class="unnumbered unlisted" id="synopsis-182" d__="">Synopsis</h3>
<div class="sourceCode" id="cb633"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb633-1"><a href="#cb633-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb633-2"><a href="#cb633-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb633-3" d__=""><a href="#cb633-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> free<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>ptr<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-182" d__="">Description</h3>
<p d__="">You know that pointer you got back from <code s__="13">malloc()</code>, <code s__="13">calloc()</code>, or <code s__="13">aligned_alloc()</code>? You pass that pointer to <code s__="13">free()</code> to free the memory associated with it.</p>
<p d__="">If you don’t do this, the memory will stay allocated FOREVER AND EVER! (Well, until your program exits, anyway.)</p>
<p d__="">Fun fact: <code s__="13">free(NULL)</code> does nothing. You can safely call that. Sometimes it’s convenient.</p>
<p d__="">Don’t <code s__="13">free()</code> a pointer that’s already been <code s__="13">free()</code>d.&nbsp;Don’t <code s__="13">free()</code> a pointer that you didn’t get back from one of the allocation functions. It would be <em>Bad</em><a href="#fn60" class="footnote-ref" id="fnref60" role="doc-noteref"><sup s__="13" d__="">60</sup></a>.</p>
<h3 class="unnumbered unlisted" id="return-value-180" d__="">Return Value</h3>
<p d__="">Returns nothing!</p>
<h3 class="unnumbered unlisted" id="example-183" d__="">Example</h3>
<div class="sourceCode" id="cb634"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb634-1"><a href="#cb634-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb634-2"><a href="#cb634-2"></a></span>
<span id="cb634-3" d__=""><a href="#cb634-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb634-4"><a href="#cb634-4"></a><span class="op" d__="">{</span></span>
<span id="cb634-5"><a href="#cb634-5"></a>    <span class="co" d__="">// Allocate space for 5 ints</span></span>
<span id="cb634-6" d__=""><a href="#cb634-6"></a>    <span class="dt" d__="">int</span> <span class="op" d__="">*</span>p <span class="op" d__="">=</span> malloc<span class="op" d__="">(</span><span class="dv" d__="">5</span> <span class="op" d__="">*</span> <span class="kw" d__="">sizeof</span><span class="op" d__="">(</span><span class="dt" d__="">int</span><span class="op" d__="">));</span></span>
<span id="cb634-7"><a href="#cb634-7"></a></span>
<span id="cb634-8" d__=""><a href="#cb634-8"></a>    p<span class="op" d__="">[</span><span class="dv" d__="">0</span><span class="op" d__="">]</span> <span class="op" d__="">=</span> <span class="dv" d__="">12</span><span class="op" d__="">;</span></span>
<span id="cb634-9" d__=""><a href="#cb634-9"></a>    p<span class="op" d__="">[</span><span class="dv" d__="">1</span><span class="op" d__="">]</span> <span class="op" d__="">=</span> <span class="dv" d__="">30</span><span class="op" d__="">;</span></span>
<span id="cb634-10"><a href="#cb634-10"></a></span>
<span id="cb634-11"><a href="#cb634-11"></a>    <span class="co" d__="">// Free that space</span></span>
<span id="cb634-12" d__=""><a href="#cb634-12"></a>    free<span class="op" d__="">(</span>p<span class="op" d__="">);</span></span>
<span id="cb634-13"><a href="#cb634-13"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-172" d__="">See Also</h3>
<p d__=""><a href="#man-malloc"><code s__="13" d__="">malloc()</code></a>, <a href="#man-malloc"><code s__="13" d__="">calloc()</code></a>, <a href="#man-aligned_alloc"><code s__="13" d__="">aligned_alloc()</code></a></p>
<hr>
<h2 data-number="24.11" id="man-realloc"><span class="header-section-number" d__="">24.11</span> <code d__="">realloc()</code></h2>
<p></p>
<p d__="">Resize a previously allocated stretch of memory</p>
<h3 class="unnumbered unlisted" id="synopsis-183" d__="">Synopsis</h3>
<div class="sourceCode" id="cb635"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb635-1"><a href="#cb635-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb635-2"><a href="#cb635-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb635-3" d__=""><a href="#cb635-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> <span class="op" d__="">*</span>realloc<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>ptr<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> size<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-183" d__="">Description</h3>
<p d__="">This takes a pointer to some memory previously allocated with <code s__="13">malloc()</code> or <code s__="13">calloc()</code> and resizes it to the new size.</p>
<p d__="">If the new size is smaller than the old size, any data larger than the new size is discarded.</p>
<p d__="">If the new size is larger than the old size, the new larger part is uninitialized. (You can clear it with <a href="#man-memset"><code s__="13" d__="">memset()</code></a>.)</p>
<p d__="">Important note: the memory might move! If you resize, the 
system might need to relocate the memory to a larger continguous chunk. 
If this happens, <code s__="13">realloc()</code> will copy the old data to the new location for you.</p>
<p d__="">Because of this, it’s important to save the returned value to 
your pointer to update it to the new location if things move. (Also, be 
sure to error-check so that you don’t overwrite your old pointer with <code s__="13">NULL</code>, leaking the memory.)</p>
<p d__="">You can also <code s__="13">relloc()</code> memory allocated with <code s__="13">aligned_alloc()</code>, but it will potentially lose its alignment if the block is moved.</p>
<h3 class="unnumbered unlisted" id="return-value-181" d__="">Return Value</h3>
<p d__="">Returns a pointer to the resized memory region. This might be equivalent to the <code s__="13">ptr</code> passed in, or it might be some other location.</p>
<h3 class="unnumbered unlisted" id="example-184" d__="">Example</h3>
<div class="sourceCode" id="cb636"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb636-1"><a href="#cb636-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb636-2"><a href="#cb636-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb636-3"><a href="#cb636-3"></a></span>
<span id="cb636-4" d__=""><a href="#cb636-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb636-5"><a href="#cb636-5"></a><span class="op" d__="">{</span></span>
<span id="cb636-6"><a href="#cb636-6"></a>    <span class="co" d__="">// Allocate space for 5 ints</span></span>
<span id="cb636-7" d__=""><a href="#cb636-7"></a>    <span class="dt" d__="">int</span> <span class="op" d__="">*</span>p <span class="op" d__="">=</span> malloc<span class="op" d__="">(</span><span class="dv" d__="">5</span> <span class="op" d__="">*</span> <span class="kw" d__="">sizeof</span><span class="op" d__="">(</span><span class="dt" d__="">int</span><span class="op" d__="">));</span></span>
<span id="cb636-8"><a href="#cb636-8"></a></span>
<span id="cb636-9" d__=""><a href="#cb636-9"></a>    p<span class="op" d__="">[</span><span class="dv" d__="">0</span><span class="op" d__="">]</span> <span class="op" d__="">=</span> <span class="dv" d__="">12</span><span class="op" d__="">;</span></span>
<span id="cb636-10" d__=""><a href="#cb636-10"></a>    p<span class="op" d__="">[</span><span class="dv" d__="">1</span><span class="op" d__="">]</span> <span class="op" d__="">=</span> <span class="dv" d__="">30</span><span class="op" d__="">;</span></span>
<span id="cb636-11"><a href="#cb636-11"></a></span>
<span id="cb636-12"><a href="#cb636-12"></a>    <span class="co" d__="">// Reallocate for 10 bytes</span></span>
<span id="cb636-13" d__=""><a href="#cb636-13"></a>    <span class="dt" d__="">int</span> <span class="op" d__="">*</span>new_p <span class="op" d__="">=</span> realloc<span class="op" d__="">(</span>p<span class="op" d__="">,</span> <span class="dv" d__="">10</span> <span class="op" d__="">*</span> <span class="kw" d__="">sizeof</span><span class="op" d__="">(</span><span class="dt" d__="">int</span><span class="op" d__="">));</span></span>
<span id="cb636-14"><a href="#cb636-14"></a></span>
<span id="cb636-15" d__=""><a href="#cb636-15"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>new_p <span class="op" d__="">==</span> NULL<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb636-16" d__=""><a href="#cb636-16"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"Error reallocing</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb636-17"><a href="#cb636-17"></a>    <span class="op" d__="">}</span> <span class="cf" d__="">else</span> <span class="op" d__="">{</span></span>
<span id="cb636-18" d__=""><a href="#cb636-18"></a>        p <span class="op" d__="">=</span> new_p<span class="op" d__="">;</span>  <span class="co" d__="">// It's good; let's keep it</span></span>
<span id="cb636-19" d__=""><a href="#cb636-19"></a>        p<span class="op" d__="">[</span><span class="dv" d__="">7</span><span class="op" d__="">]</span> <span class="op" d__="">=</span> <span class="dv" d__="">99</span><span class="op" d__="">;</span></span>
<span id="cb636-20"><a href="#cb636-20"></a>    <span class="op" d__="">}</span></span>
<span id="cb636-21"><a href="#cb636-21"></a></span>
<span id="cb636-22"><a href="#cb636-22"></a>    <span class="co" d__="">// All done</span></span>
<span id="cb636-23" d__=""><a href="#cb636-23"></a>    free<span class="op" d__="">(</span>p<span class="op" d__="">);</span></span>
<span id="cb636-24"><a href="#cb636-24"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-173" d__="">See Also</h3>
<p d__=""><a href="#man-malloc"><code s__="13" d__="">malloc()</code></a>, <a href="#man-malloc"><code s__="13" d__="">calloc()</code></a></p>
<hr>
<h2 data-number="24.12" id="man-abort"><span class="header-section-number" d__="">24.12</span> <code d__="">abort()</code></h2>
<p></p>
<p d__="">Abruptly end program execution</p>
<h3 class="unnumbered unlisted" id="synopsis-184" d__="">Synopsis</h3>
<div class="sourceCode" id="cb637"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb637-1"><a href="#cb637-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb637-2"><a href="#cb637-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb637-3" d__=""><a href="#cb637-3" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">_Noreturn</span> <span class="dt" d__="">void</span> abort<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-184" d__="">Description</h3>
<p d__="">This ends program execution <em>abnormally</em> and immediately. Use this in rare, unexpected circumstances.</p>
<p d__="">Open streams might not be flushed. Temporary files created might not be removed. Exit handlers are not called.</p>
<p d__="">A non-zero exit status is returned to the environment.</p>
<p d__="">On some systems, <code s__="13">abort()</code> might <a href="https://en.wikipedia.org/wiki/Core_dump" d__="">dump core</a><a href="#fn61" class="footnote-ref" id="fnref61" role="doc-noteref"><sup s__="13" d__="">61</sup></a>, but this is outside the scope of the spec.</p>
<p d__="">You can cause the equivalent of an <code s__="13">abort()</code> by calling <code s__="13">raise(SIGABRT)</code>, but I don’t know why you’d do that.</p>
<p d__="">The only portable way to stop an <code s__="13">abort()</code> call midway is to use <code s__="13">signal()</code> to catch <code s__="13">SIGABRT</code> and then <code s__="13">exit()</code> in the signal handler.</p>
<h3 class="unnumbered unlisted" id="return-value-182" d__="">Return Value</h3>
<p d__="">This function never returns.</p>
<h3 class="unnumbered unlisted" id="example-185" d__="">Example</h3>
<div class="sourceCode" id="cb638"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb638-1"><a href="#cb638-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb638-2"><a href="#cb638-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb638-3"><a href="#cb638-3"></a></span>
<span id="cb638-4" d__=""><a href="#cb638-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb638-5"><a href="#cb638-5"></a><span class="op" d__="">{</span></span>
<span id="cb638-6" d__=""><a href="#cb638-6"></a>    <span class="dt" d__="">int</span> bad_thing <span class="op" d__="">=</span> <span class="dv" d__="">1</span><span class="op" d__="">;</span></span>
<span id="cb638-7"><a href="#cb638-7"></a></span>
<span id="cb638-8" d__=""><a href="#cb638-8"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>bad_thing<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb638-9" d__=""><a href="#cb638-9"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"This should never have happened!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb638-10" d__=""><a href="#cb638-10"></a>        fflush<span class="op" d__="">(</span>stdout<span class="op" d__="">);</span>  <span class="co" d__="">// Make sure the message goes out</span></span>
<span id="cb638-11" d__=""><a href="#cb638-11"></a>        abort<span class="op" d__="">();</span></span>
<span id="cb638-12"><a href="#cb638-12"></a>    <span class="op" d__="">}</span></span>
<span id="cb638-13"><a href="#cb638-13"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">On my system, this outputs:</p>
<div class="sourceCode" id="cb639"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb639-1" d__=""><a href="#cb639-1" aria-hidden="true" tabindex="-1"></a>This should never have happened!</span>
<span id="cb639-2" d__=""><a href="#cb639-2" aria-hidden="true" tabindex="-1"></a>zsh: abort (core dumped)  ./foo</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-174" d__="">See Also</h3>
<p><a href="#man-signal"><code s__="13" d__="">signal()</code></a></p>
<hr>
<h2 data-number="24.13" id="man-atexit" d__=""><span class="header-section-number">24.13</span> <code>atexit()</code>, <code>at_quick_exit()</code></h2>
<p> </p>
<p d__="">Set up handlers to run when the program exits</p>
<h3 class="unnumbered unlisted" id="synopsis-185" d__="">Synopsis</h3>
<div class="sourceCode" id="cb640"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb640-1"><a href="#cb640-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb640-2"><a href="#cb640-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb640-3" d__=""><a href="#cb640-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> atexit<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">(*</span>func<span class="op" d__="">)(</span><span class="dt" d__="">void</span><span class="op" d__="">));</span></span>
<span id="cb640-4"><a href="#cb640-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb640-5" d__=""><a href="#cb640-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> at_quick_exit<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">(*</span>func<span class="op" d__="">)(</span><span class="dt" d__="">void</span><span class="op" d__="">));</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-185" d__="">Description</h3>
<p d__="">When the program does a normal exit with <code s__="13">exit()</code> or returns from <code s__="13">main()</code>, it looks for previously-registered handlers to call on the way out. These handlers are registered with the <code s__="13">atexit()</code> call.</p>
<p d__="">Think of it like, “Hey, when you’re about to exit, do these extra things.”</p>
<p d__="">For the <code s__="13">quick_exit()</code> call, you can use the <code s__="13">at_quick_exit()</code> function to register handlers for that<a href="#fn62" class="footnote-ref" id="fnref62" role="doc-noteref"><sup s__="13" d__="">62</sup></a>. There’s no crossover in handlers from <code s__="13">exit()</code> to <code s__="13">quick_exit()</code>, i.e.&nbsp;for a call to one, none of the other’s handlers will fire.</p>
<p d__="">You can register multiple handlers to fire—at least 32 handlers are supported by both <code s__="13">exit()</code> and <code s__="13">quick_exit()</code>.</p>
<p d__="">The argument <code s__="13">func</code> to the functions looks
 a little weird—it’s a pointer to a function to call. Basically just put
 the function name to call in there (without parentheses after). See the
 example, below.</p>
<p d__="">If you call <code s__="13">atexit()</code> from inside your <code s__="13">atexit()</code> handler (or equivalent in your <code s__="13">at_quick_exit()</code> handler), it’s unspecified if it will get called. So get them all registered before you exit.</p>
<p d__="">When exiting, the functions will be called in the reverse order they were registered.</p>
<h3 class="unnumbered unlisted" id="return-value-183" d__="">Return Value</h3>
<p d__="">These functions return <code s__="13">0</code> on success, or nonzero on failure.</p>
<h3 class="unnumbered unlisted" id="example-186" d__="">Example</h3>
<p d__=""><code s__="13">atexit()</code>:</p>
<div class="sourceCode" id="cb641"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb641-1"><a href="#cb641-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb641-2"><a href="#cb641-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb641-3"><a href="#cb641-3"></a></span>
<span id="cb641-4" d__=""><a href="#cb641-4"></a><span class="dt" d__="">void</span> exit_handler_1<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb641-5"><a href="#cb641-5"></a><span class="op" d__="">{</span></span>
<span id="cb641-6" d__=""><a href="#cb641-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Exit handler 1 called!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb641-7"><a href="#cb641-7"></a><span class="op" d__="">}</span></span>
<span id="cb641-8"><a href="#cb641-8"></a></span>
<span id="cb641-9" d__=""><a href="#cb641-9"></a><span class="dt" d__="">void</span> exit_handler_2<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb641-10"><a href="#cb641-10"></a><span class="op" d__="">{</span></span>
<span id="cb641-11" d__=""><a href="#cb641-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Exit handler 2 called!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb641-12"><a href="#cb641-12"></a><span class="op" d__="">}</span></span>
<span id="cb641-13"><a href="#cb641-13"></a></span>
<span id="cb641-14" d__=""><a href="#cb641-14"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb641-15"><a href="#cb641-15"></a><span class="op" d__="">{</span></span>
<span id="cb641-16" d__=""><a href="#cb641-16"></a>    atexit<span class="op" d__="">(</span>exit_handler_1<span class="op" d__="">);</span></span>
<span id="cb641-17" d__=""><a href="#cb641-17"></a>    atexit<span class="op" d__="">(</span>exit_handler_2<span class="op" d__="">);</span></span>
<span id="cb641-18"><a href="#cb641-18"></a></span>
<span id="cb641-19" d__=""><a href="#cb641-19"></a>    exit<span class="op" d__="">(</span><span class="dv" d__="">0</span><span class="op" d__="">);</span></span>
<span id="cb641-20"><a href="#cb641-20"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">For the output:</p>
<div class="sourceCode" id="cb642"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb642-1" d__=""><a href="#cb642-1" aria-hidden="true" tabindex="-1"></a>Exit handler 2 called!</span>
<span id="cb642-2" d__=""><a href="#cb642-2" aria-hidden="true" tabindex="-1"></a>Exit handler 1 called!</span></code></pre></div>
<p d__="">And a similar example with <code s__="13">quick_exit()</code>:</p>
<div class="sourceCode" id="cb643"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb643-1"><a href="#cb643-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb643-2"><a href="#cb643-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb643-3"><a href="#cb643-3"></a></span>
<span id="cb643-4" d__=""><a href="#cb643-4"></a><span class="dt" d__="">void</span> exit_handler_1<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb643-5"><a href="#cb643-5"></a><span class="op" d__="">{</span></span>
<span id="cb643-6" d__=""><a href="#cb643-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Exit handler 1 called!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb643-7"><a href="#cb643-7"></a><span class="op" d__="">}</span></span>
<span id="cb643-8"><a href="#cb643-8"></a></span>
<span id="cb643-9" d__=""><a href="#cb643-9"></a><span class="dt" d__="">void</span> exit_handler_2<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb643-10"><a href="#cb643-10"></a><span class="op" d__="">{</span></span>
<span id="cb643-11" d__=""><a href="#cb643-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Exit handler 2 called!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb643-12"><a href="#cb643-12"></a><span class="op" d__="">}</span></span>
<span id="cb643-13"><a href="#cb643-13"></a></span>
<span id="cb643-14" d__=""><a href="#cb643-14"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb643-15"><a href="#cb643-15"></a><span class="op" d__="">{</span></span>
<span id="cb643-16" d__=""><a href="#cb643-16"></a>    at_quick_exit<span class="op" d__="">(</span>exit_handler_1<span class="op" d__="">);</span></span>
<span id="cb643-17" d__=""><a href="#cb643-17"></a>    at_quick_exit<span class="op" d__="">(</span>exit_handler_2<span class="op" d__="">);</span></span>
<span id="cb643-18"><a href="#cb643-18"></a></span>
<span id="cb643-19" d__=""><a href="#cb643-19"></a>    quick_exit<span class="op" d__="">(</span><span class="dv" d__="">0</span><span class="op" d__="">);</span></span>
<span id="cb643-20"><a href="#cb643-20"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-175" d__="">See Also</h3>
<p d__=""><a href="#man-exit"><code s__="13" d__="">exit()</code></a>, <a href="#man-exit"><code s__="13" d__="">quick_exit()</code></a></p>
<hr>
<h2 data-number="24.14" id="man-exit" d__=""><span class="header-section-number">24.14</span> <code>exit()</code>, <code>quick_exit()</code>, <code>_Exit()</code></h2>
<p> </p>
<p d__="">Exit the currently-running program</p>
<h3 class="unnumbered unlisted" id="synopsis-186" d__="">Synopsis</h3>
<div class="sourceCode" id="cb644"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb644-1"><a href="#cb644-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb644-2"><a href="#cb644-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb644-3" d__=""><a href="#cb644-3" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">_Noreturn</span> <span class="dt" d__="">void</span> exit<span class="op" d__="">(</span><span class="dt" d__="">int</span> status<span class="op" d__="">);</span></span>
<span id="cb644-4"><a href="#cb644-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb644-5" d__=""><a href="#cb644-5" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">_Noreturn</span> <span class="dt" d__="">void</span> quick_exit<span class="op" d__="">(</span><span class="dt" d__="">int</span> status<span class="op" d__="">);</span></span>
<span id="cb644-6"><a href="#cb644-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb644-7" d__=""><a href="#cb644-7" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">_Noreturn</span> <span class="dt" d__="">void</span> _Exit<span class="op" d__="">(</span><span class="dt" d__="">int</span> status<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-186" d__="">Description</h3>
<p d__="">All these functions cause the program to exit, with various levels of cleanup performed.</p>
<p d__=""><code s__="13">exit()</code> does the most cleanup and is the most normal exit.</p>
<p d__=""><code s__="13">quick_exit()</code> is the second most.</p>
<p d__=""><code s__="13">_Exit()</code> unceremoniously drops everything and ragequits on the spot.</p>
<p d__="">Calling either of <code s__="13">exit()</code> or <code s__="13">quick_exit()</code> causes their respective <code s__="13">atexit()</code> or <code s__="13">at_quick_exit()</code> handlers to be called in the reverse order in which they were registered.</p>
<p d__=""><code s__="13">exit()</code> will flush all streams and delete all temporary files.</p>
<p d__=""><code s__="13">quick_exit()</code> or <code s__="13">_Exit()</code> might not perform that nicety.</p>
<p d__=""><code s__="13">_Exit()</code> doesn’t call any of the at-exit handlers, either.</p>
<p d__="">For all functions, the exit <code s__="13">status</code> is returned to the environment.</p>
<p d__="">Defined exit statuses are:</p>
<table>
<thead>
<tr class="header">
<th d__="">Status</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">EXIT_SUCCESS</code></td>
<td d__="">Typically returned when good things happen</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">0</code></td>
<td d__="">Same as <code s__="13">EXIT_SUCCESS</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">EXIT_FAILURE</code></td>
<td d__="">Oh noes! Definitely failure!</td>
</tr>
<tr class="even">
<td d__="">Any positive value</td>
<td d__="">Generally indicates another failure of some kind</td>
</tr>
</tbody>
</table>
<p d__="">OS X note: <code s__="13">quick_exit()</code> is not supported.</p>
<h3 class="unnumbered unlisted" id="return-value-184" d__="">Return Value</h3>
<p d__="">None of these functions ever return.</p>
<h3 class="unnumbered unlisted" id="example-187" d__="">Example</h3>
<div class="sourceCode" id="cb645"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb645-1"><a href="#cb645-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb645-2"><a href="#cb645-2"></a></span>
<span id="cb645-3" d__=""><a href="#cb645-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb645-4"><a href="#cb645-4"></a><span class="op" d__="">{</span></span>
<span id="cb645-5" d__=""><a href="#cb645-5"></a>    <span class="dt" d__="">int</span> contrived_exit_type <span class="op" d__="">=</span> <span class="dv" d__="">1</span><span class="op" d__="">;</span></span>
<span id="cb645-6"><a href="#cb645-6"></a></span>
<span id="cb645-7" d__=""><a href="#cb645-7"></a>    <span class="cf" d__="">switch</span><span class="op" d__="">(</span>contrived_exit_type<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb645-8"><a href="#cb645-8"></a>        <span class="cf" d__="">case</span> <span class="dv" d__="">1</span><span class="op" d__="">:</span></span>
<span id="cb645-9" d__=""><a href="#cb645-9"></a>            exit<span class="op" d__="">(</span>EXIT_SUCCESS<span class="op" d__="">);</span></span>
<span id="cb645-10"><a href="#cb645-10"></a></span>
<span id="cb645-11"><a href="#cb645-11"></a>        <span class="cf" d__="">case</span> <span class="dv" d__="">2</span><span class="op" d__="">:</span></span>
<span id="cb645-12"><a href="#cb645-12"></a>            <span class="co" d__="">// Not supported in OS X</span></span>
<span id="cb645-13" d__=""><a href="#cb645-13"></a>            quick_exit<span class="op" d__="">(</span>EXIT_SUCCESS<span class="op" d__="">);</span></span>
<span id="cb645-14"><a href="#cb645-14"></a></span>
<span id="cb645-15"><a href="#cb645-15"></a>        <span class="cf" d__="">case</span> <span class="dv" d__="">3</span><span class="op" d__="">:</span></span>
<span id="cb645-16" d__=""><a href="#cb645-16"></a>            _Exit<span class="op" d__="">(</span><span class="dv" d__="">2</span><span class="op" d__="">);</span></span>
<span id="cb645-17"><a href="#cb645-17"></a>    <span class="op" d__="">}</span></span>
<span id="cb645-18"><a href="#cb645-18"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-176" d__="">See Also</h3>
<p d__=""><a href="#man-atexit"><code s__="13" d__="">atexit()</code></a>, <a href="#man-atexit"><code s__="13" d__="">at_quick_exit()</code></a></p>
<hr>
<h2 data-number="24.15" id="man-getenv"><span class="header-section-number" d__="">24.15</span> <code d__="">getenv()</code></h2>
<p></p>
<p d__="">Get the value of an environment variable</p>
<h3 class="unnumbered unlisted" id="synopsis-187" d__="">Synopsis</h3>
<div class="sourceCode" id="cb646"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb646-1"><a href="#cb646-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb646-2"><a href="#cb646-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb646-3" d__=""><a href="#cb646-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> <span class="op" d__="">*</span>getenv<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>name<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-187" d__="">Description</h3>
<p d__="">The environment often provides variables that are set before the program run that you can access at runtime.</p>
<p d__="">Of course the exact details are system dependent, but these 
variables are key/value pairs, and you can get the value by passing the 
key to <code s__="13">getenv()</code> as the <code s__="13">name</code> parameter.</p>
<p d__="">You’re not allowed to overwrite the string that’s returned.</p>
<p d__="">This is pretty limited in the standard, but your OS often provides better functionality.</p>
<h3 class="unnumbered unlisted" id="return-value-185" d__="">Return Value</h3>
<p d__="">Returns a pointer to the environment variable value, or <code s__="13">NULL</code> if the variable doesn’t exist.</p>
<h3 class="unnumbered unlisted" id="example-188" d__="">Example</h3>
<div class="sourceCode" id="cb647"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb647-1"><a href="#cb647-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb647-2"><a href="#cb647-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb647-3"><a href="#cb647-3"></a></span>
<span id="cb647-4" d__=""><a href="#cb647-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb647-5"><a href="#cb647-5"></a><span class="op" d__="">{</span></span>
<span id="cb647-6" d__=""><a href="#cb647-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"PATH is </span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> getenv<span class="op" d__="">(</span><span class="st" d__="">"PATH"</span><span class="op" d__="">));</span></span>
<span id="cb647-7"><a href="#cb647-7"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output (truncated in my case):</p>
<div class="sourceCode" id="cb648"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb648-1" d__=""><a href="#cb648-1" aria-hidden="true" tabindex="-1"></a>PATH is /usr/bin:/usr/local/bin:/usr/sbin:/home/beej/.cargo/bin [...]</span></code></pre></div>
<!--
### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<hr>
<h2 data-number="24.16" id="man-system"><span class="header-section-number" d__="">24.16</span> <code d__="">system()</code></h2>
<p></p>
<p d__="">Run an external program</p>
<h3 class="unnumbered unlisted" id="synopsis-188" d__="">Synopsis</h3>
<div class="sourceCode" id="cb649"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb649-1"><a href="#cb649-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb649-2"><a href="#cb649-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb649-3" d__=""><a href="#cb649-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> system<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>string<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-188" d__="">Description</h3>
<p d__="">This will run an external program and then return to the caller.</p>
<p d__="">The manner in which it runs the program is system-defined, but
 typically you can pass something to it just like you’d run on the 
command line, searching the <code s__="13">PATH</code>, etc.</p>
<p d__="">Not all systems have this capability, but you can test for it by passing <code s__="13">NULL</code> to <code s__="13">system()</code> and seeing if it returns 0 (no command processor is available) or non-zero (a command processor is available! Yay!)</p>
<p d__="">If you’re getting user input and passing it to the <code s__="13">system()</code>
 call, be extremely careful to escape all special shell characters 
(everything that’s not alphanumeric) with a backslash to keep a villain 
from running something you don’t want them to.</p>
<h3 class="unnumbered unlisted" id="return-value-186" d__="">Return Value</h3>
<p d__="">If <code s__="13">NULL</code> is passed, returns nonzero if a command processor is available (i.e.&nbsp;<code s__="13">system()</code> will work at all).</p>
<p d__="">Otherwise returns an implementation-defined value.</p>
<h3 class="unnumbered unlisted" id="example-189" d__="">Example</h3>
<div class="sourceCode" id="cb650"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb650-1"><a href="#cb650-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb650-2"><a href="#cb650-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb650-3"><a href="#cb650-3"></a></span>
<span id="cb650-4" d__=""><a href="#cb650-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb650-5"><a href="#cb650-5"></a><span class="op" d__="">{</span></span>
<span id="cb650-6" d__=""><a href="#cb650-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Here's a directory listing:</span><span class="sc" d__="">\n\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb650-7"><a href="#cb650-7"></a></span>
<span id="cb650-8" d__=""><a href="#cb650-8"></a>    system<span class="op" d__="">(</span><span class="st" d__="">"ls -l"</span><span class="op" d__="">);</span>   <span class="co" d__="">// Run this command and return</span></span>
<span id="cb650-9"><a href="#cb650-9"></a></span>
<span id="cb650-10" d__=""><a href="#cb650-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">\n</span><span class="st" d__="">All done!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb650-11"><a href="#cb650-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb651"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb651-1" d__=""><a href="#cb651-1" aria-hidden="true" tabindex="-1"></a>Here's a directory listing:</span>
<span id="cb651-2"><a href="#cb651-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb651-3" d__=""><a href="#cb651-3" aria-hidden="true" tabindex="-1"></a>total 92</span>
<span id="cb651-4" d__=""><a href="#cb651-4" aria-hidden="true" tabindex="-1"></a>drwxr-xr-x 3 beej beej  4096 Oct 14 21:38 bin</span>
<span id="cb651-5" d__=""><a href="#cb651-5" aria-hidden="true" tabindex="-1"></a>drwxr-xr-x 2 beej beej  4096 Dec 20 20:07 examples</span>
<span id="cb651-6" d__=""><a href="#cb651-6" aria-hidden="true" tabindex="-1"></a>-rwxr-xr-x 1 beej beej 16656 Feb 23 21:49 foo</span>
<span id="cb651-7" d__=""><a href="#cb651-7" aria-hidden="true" tabindex="-1"></a>-rw-rw-rw- 1 beej beej   155 Feb 23 21:49 foo.c</span>
<span id="cb651-8" d__=""><a href="#cb651-8" aria-hidden="true" tabindex="-1"></a>-rw-r--r-- 1 beej beej  1350 Jan 27 22:11 Makefile</span>
<span id="cb651-9" d__=""><a href="#cb651-9" aria-hidden="true" tabindex="-1"></a>-rw-r--r-- 1 beej beej  4644 Jan 18 09:12 README.md</span>
<span id="cb651-10" d__=""><a href="#cb651-10" aria-hidden="true" tabindex="-1"></a>drwxr-xr-x 3 beej beej  4096 Feb 23 20:21 src</span>
<span id="cb651-11" d__=""><a href="#cb651-11" aria-hidden="true" tabindex="-1"></a>drwxr-xr-x 6 beej beej  4096 Feb 21 20:24 stage</span>
<span id="cb651-12" d__=""><a href="#cb651-12" aria-hidden="true" tabindex="-1"></a>drwxr-xr-x 2 beej beej  4096 Sep 27 20:54 translations</span>
<span id="cb651-13" d__=""><a href="#cb651-13" aria-hidden="true" tabindex="-1"></a>drwxr-xr-x 2 beej beej  4096 Sep 27 20:54 website</span>
<span id="cb651-14"><a href="#cb651-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb651-15" d__=""><a href="#cb651-15" aria-hidden="true" tabindex="-1"></a>All done!</span></code></pre></div>
<!--
### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<hr>
<h2 data-number="24.17" id="man-bsearch"><span class="header-section-number" d__="">24.17</span> <code d__="">bsearch()</code></h2>
<p></p>
<p d__="">Binary Search (maybe) an array of objects</p>
<h3 class="unnumbered unlisted" id="synopsis-189" d__="">Synopsis</h3>
<div class="sourceCode" id="cb652"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb652-1"><a href="#cb652-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb652-2"><a href="#cb652-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb652-3"><a href="#cb652-3" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">// Pre-C23:</span></span>
<span id="cb652-4"><a href="#cb652-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb652-5" d__=""><a href="#cb652-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> <span class="op" d__="">*</span>bsearch<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">void</span> <span class="op" d__="">*</span>key<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">void</span> <span class="op" d__="">*</span>base<span class="op" d__="">,</span></span>
<span id="cb652-6" d__=""><a href="#cb652-6" aria-hidden="true" tabindex="-1"></a>              <span class="dt" d__="">size_t</span> nmemb<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> size<span class="op" d__="">,</span></span>
<span id="cb652-7" d__=""><a href="#cb652-7" aria-hidden="true" tabindex="-1"></a>              <span class="dt" d__="">int</span> <span class="op" d__="">(*</span>compar<span class="op" d__="">)(</span><span class="dt" d__="">const</span> <span class="dt" d__="">void</span> <span class="op" d__="">*,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">void</span> <span class="op" d__="">*));</span></span>
<span id="cb652-8"><a href="#cb652-8" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">// C23:</span></span>
<span id="cb652-9"><a href="#cb652-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb652-10" d__=""><a href="#cb652-10" aria-hidden="true" tabindex="-1"></a>QVoid <span class="op" d__="">*</span>bsearch<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">void</span> <span class="op" d__="">*</span>key<span class="op" d__="">,</span> QVoid <span class="op" d__="">*</span>base<span class="op" d__="">,</span></span>
<span id="cb652-11" d__=""><a href="#cb652-11" aria-hidden="true" tabindex="-1"></a>               <span class="dt" d__="">size_t</span> nmemb<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> size<span class="op" d__="">,</span></span>
<span id="cb652-12" d__=""><a href="#cb652-12" aria-hidden="true" tabindex="-1"></a>               <span class="dt" d__="">int</span> <span class="op" d__="">(*</span>compar<span class="op" d__="">)(</span><span class="dt" d__="">const</span> <span class="dt" d__="">void</span> <span class="op" d__="">*,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">void</span> <span class="op" d__="">*));</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-189" d__="">Description</h3>
<p d__="">This crazy-looking function searches an array for a value.</p>
<p d__="">It probably is a binary search or some fast, efficient search. But the spec doesn’t really say.</p>
<p d__="">However, the array must be sorted! So binary search seems likely.</p>
<ul>
<li d__=""><code s__="13">key</code> is a pointer to the value to find.</li>
<li d__=""><code s__="13">base</code> is a pointer to the start of the array—the array must be sorted!</li>
<li d__=""><code s__="13">nmemb</code> is the number of elements in the array.</li>
<li d__=""><code s__="13">size</code> is the <code s__="13">sizeof</code> each element in the array.</li>
<li d__=""><code s__="13">compar</code> is a pointer to a function that will compare the key against other values.</li>
</ul>
<p d__="">The comparison function takes the key as the first argument 
and the value to compare against as the second. It should return a 
negative number if the key is less than the value, <code s__="13">0</code> if the key equals the value, and a positive number if the key is greater than the value.</p>
<p d__="">This is commonly computed by taking the difference between the key and the value to be compared. If subtraction is supported.</p>
<p d__="">The return value from the <a href="#man-strcmp"><code s__="13" d__="">strcmp()</code></a> function can be used for comparing strings.</p>
<p d__="">Again, the array must be sorted according to the order of the comparison function before running <code s__="13">bsearch()</code>. Luckily for you, you can just call <a href="#man-qsort"><code s__="13" d__="">qsort()</code></a> with the same comparison function to get this done.</p>
<p d__="">It’s a general-purpose function—it’ll search any type of array
 for anything. The catch is you have to write the comparison function.</p>
<p d__="">And that’s not as scary as it looks. Jump down to the example</p>
<h3 class="unnumbered unlisted" id="return-value-187" d__="">Return Value</h3>
<p d__="">The function returns a pointer to the found value, or <code s__="13">NULL</code> if it can’t be found.</p>
<p d__="">New in C23: If <code s__="13">base</code> is <code s__="13">const</code>, the return type of the <code s__="13">bsearch()</code> function will also be <code s__="13">const</code>.</p>
<h3 class="unnumbered unlisted" id="example-190" d__="">Example</h3>
<div class="sourceCode" id="cb653"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb653-1"><a href="#cb653-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb653-2"><a href="#cb653-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb653-3"><a href="#cb653-3"></a></span>
<span id="cb653-4" d__=""><a href="#cb653-4"></a><span class="dt" d__="">int</span> compar<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">void</span> <span class="op" d__="">*</span>key<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">void</span> <span class="op" d__="">*</span>value<span class="op" d__="">)</span></span>
<span id="cb653-5"><a href="#cb653-5"></a><span class="op" d__="">{</span></span>
<span id="cb653-6" d__=""><a href="#cb653-6"></a>    <span class="dt" d__="">const</span> <span class="dt" d__="">int</span> <span class="op" d__="">*</span>k <span class="op" d__="">=</span> key<span class="op" d__="">,</span> <span class="op" d__="">*</span>v <span class="op" d__="">=</span> value<span class="op" d__="">;</span>  <span class="co" d__="">// Need ints, not voids</span></span>
<span id="cb653-7"><a href="#cb653-7"></a></span>
<span id="cb653-8" d__=""><a href="#cb653-8"></a>    <span class="cf" d__="">return</span> <span class="op" d__="">*</span>k <span class="op" d__="">-</span> <span class="op" d__="">*</span>v<span class="op" d__="">;</span></span>
<span id="cb653-9"><a href="#cb653-9"></a><span class="op" d__="">}</span></span>
<span id="cb653-10"><a href="#cb653-10"></a></span>
<span id="cb653-11" d__=""><a href="#cb653-11"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb653-12"><a href="#cb653-12"></a><span class="op" d__="">{</span></span>
<span id="cb653-13" d__=""><a href="#cb653-13"></a>    <span class="dt" d__="">int</span> a<span class="op" d__="">[</span><span class="dv" d__="">9</span><span class="op" d__="">]</span> <span class="op" d__="">=</span> <span class="op" d__="">{</span><span class="dv" d__="">2</span><span class="op" d__="">,</span> <span class="dv" d__="">6</span><span class="op" d__="">,</span> <span class="dv" d__="">9</span><span class="op" d__="">,</span> <span class="dv" d__="">12</span><span class="op" d__="">,</span> <span class="dv" d__="">13</span><span class="op" d__="">,</span> <span class="dv" d__="">18</span><span class="op" d__="">,</span> <span class="dv" d__="">20</span><span class="op" d__="">,</span> <span class="dv" d__="">32</span><span class="op" d__="">,</span> <span class="dv" d__="">47</span><span class="op" d__="">};</span></span>
<span id="cb653-14"><a href="#cb653-14"></a></span>
<span id="cb653-15" d__=""><a href="#cb653-15"></a>    <span class="dt" d__="">int</span> <span class="op" d__="">*</span>r<span class="op" d__="">,</span> key<span class="op" d__="">;</span></span>
<span id="cb653-16"><a href="#cb653-16"></a></span>
<span id="cb653-17" d__=""><a href="#cb653-17"></a>    key <span class="op" d__="">=</span> <span class="dv" d__="">12</span><span class="op" d__="">;</span>  <span class="co" d__="">// 12 is in there</span></span>
<span id="cb653-18" d__=""><a href="#cb653-18"></a>    r <span class="op" d__="">=</span> bsearch<span class="op" d__="">(&amp;</span>key<span class="op" d__="">,</span> a<span class="op" d__="">,</span> <span class="dv" d__="">9</span><span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span><span class="op" d__="">(</span><span class="dt" d__="">int</span><span class="op" d__="">),</span> compar<span class="op" d__="">);</span></span>
<span id="cb653-19" d__=""><a href="#cb653-19"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Found </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">*</span>r<span class="op" d__="">);</span></span>
<span id="cb653-20"><a href="#cb653-20"></a></span>
<span id="cb653-21" d__=""><a href="#cb653-21"></a>    key <span class="op" d__="">=</span> <span class="dv" d__="">30</span><span class="op" d__="">;</span>  <span class="co" d__="">// Won't find a 30</span></span>
<span id="cb653-22" d__=""><a href="#cb653-22"></a>    r <span class="op" d__="">=</span> bsearch<span class="op" d__="">(&amp;</span>key<span class="op" d__="">,</span> a<span class="op" d__="">,</span> <span class="dv" d__="">9</span><span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span><span class="op" d__="">(</span><span class="dt" d__="">int</span><span class="op" d__="">),</span> compar<span class="op" d__="">);</span></span>
<span id="cb653-23" d__=""><a href="#cb653-23"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>r <span class="op" d__="">==</span> NULL<span class="op" d__="">)</span></span>
<span id="cb653-24" d__=""><a href="#cb653-24"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"Didn't find 30</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb653-25"><a href="#cb653-25"></a></span>
<span id="cb653-26"><a href="#cb653-26"></a>    <span class="co" d__="">// Searching with an unnamed key, pointer to 32</span></span>
<span id="cb653-27" d__=""><a href="#cb653-27"></a>    r <span class="op" d__="">=</span> bsearch<span class="op" d__="">(&amp;(</span><span class="dt" d__="">int</span><span class="op" d__="">){</span><span class="dv" d__="">32</span><span class="op" d__="">},</span> a<span class="op" d__="">,</span> <span class="dv" d__="">9</span><span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span><span class="op" d__="">(</span><span class="dt" d__="">int</span><span class="op" d__="">),</span> compar<span class="op" d__="">);</span></span>
<span id="cb653-28" d__=""><a href="#cb653-28"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Found </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">*</span>r<span class="op" d__="">);</span>  <span class="co" d__="">// Found it</span></span>
<span id="cb653-29"><a href="#cb653-29"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb654"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb654-1" d__=""><a href="#cb654-1" aria-hidden="true" tabindex="-1"></a>Found 12</span>
<span id="cb654-2" d__=""><a href="#cb654-2" aria-hidden="true" tabindex="-1"></a>Didn't find 30</span>
<span id="cb654-3" d__=""><a href="#cb654-3" aria-hidden="true" tabindex="-1"></a>Found 32</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-177" d__="">See Also</h3>
<p d__=""><a href="#man-strcmp"><code s__="13" d__="">strcmp()</code></a>, <a href="#man-qsort"><code s__="13" d__="">qsort()</code></a></p>
<hr>
<h2 data-number="24.18" id="man-qsort"><span class="header-section-number" d__="">24.18</span> <code d__="">qsort()</code></h2>
<p></p>
<p d__="">Quicksort (maybe) some data</p>
<h3 class="unnumbered unlisted" id="synopsis-190" d__="">Synopsis</h3>
<div class="sourceCode" id="cb655"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb655-1"><a href="#cb655-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb655-2"><a href="#cb655-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb655-3" d__=""><a href="#cb655-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> qsort<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>base<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> nmemb<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> size<span class="op" d__="">,</span></span>
<span id="cb655-4" d__=""><a href="#cb655-4" aria-hidden="true" tabindex="-1"></a>           <span class="dt" d__="">int</span> <span class="op" d__="">(*</span>compar<span class="op" d__="">)(</span><span class="dt" d__="">const</span> <span class="dt" d__="">void</span> <span class="op" d__="">*,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">void</span> <span class="op" d__="">*));</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-190" d__="">Description</h3>
<p d__="">This function will quicksort (or some other sort, probably speedy) an array of data in-place<a href="#fn63" class="footnote-ref" id="fnref63" role="doc-noteref"><sup s__="13" d__="">63</sup></a>.</p>
<p d__="">Like <code s__="13">bsearch()</code>, it’s data-agnostic. Any data for which you can define a relative ordering can be sorted, whether <code s__="13">int</code>s, <code s__="13">struct</code>s, or anything else.</p>
<p d__="">Also like <code s__="13">bsearch()</code>, you have to give a comparison function to do the actual compare.</p>
<ul>
<li d__=""><code s__="13">base</code> is a pointer to the start of the array to be sorted.</li>
<li d__=""><code s__="13">nmemb</code> is the number of elements in the array.</li>
<li d__=""><code s__="13">size</code> is the <code s__="13">sizeof</code> each element.</li>
<li d__=""><code s__="13">compar</code> is a pointer to the comparison function.</li>
</ul>
<p d__="">The comparison function takes pointers to two elements of the 
array as arguments and compares them. It should return a negative number
 if the first argument is less than the second, <code s__="13">0</code> if they are equal, and a positive number if the first argument is greater than the second.</p>
<p d__="">This is commonly computed by taking the difference between the first argument and the second. If subtraction is supported.</p>
<p d__="">The return value from the <a href="#man-strcmp"><code s__="13" d__="">strcmp()</code></a> function can provide sort order for strings.</p>
<p d__="">If you have to sort a <code s__="13">struct</code>, just subtract the specific field you want to sort by.</p>
<p d__="">This comparison function can be used by <a href="#man-bsearch"><code s__="13" d__="">bsearch()</code></a> to do searches after the list is sorted.</p>
<p d__="">To reverse the sort, subtract the second argument from the first, i.e. negate the return value from <code s__="13">compar()</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-188" d__="">Return Value</h3>
<p d__="">Returns nothing!</p>
<h3 class="unnumbered unlisted" id="example-191" d__="">Example</h3>
<div class="sourceCode" id="cb656"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb656-1"><a href="#cb656-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb656-2"><a href="#cb656-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb656-3"><a href="#cb656-3"></a></span>
<span id="cb656-4" d__=""><a href="#cb656-4"></a><span class="dt" d__="">int</span> compar<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">void</span> <span class="op" d__="">*</span>elem0<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">void</span> <span class="op" d__="">*</span>elem1<span class="op" d__="">)</span></span>
<span id="cb656-5"><a href="#cb656-5"></a><span class="op" d__="">{</span></span>
<span id="cb656-6" d__=""><a href="#cb656-6"></a>    <span class="dt" d__="">const</span> <span class="dt" d__="">int</span> <span class="op" d__="">*</span>x <span class="op" d__="">=</span> elem0<span class="op" d__="">,</span> <span class="op" d__="">*</span>y <span class="op" d__="">=</span> elem1<span class="op" d__="">;</span>  <span class="co" d__="">// Need ints, not voids</span></span>
<span id="cb656-7"><a href="#cb656-7"></a></span>
<span id="cb656-8" d__=""><a href="#cb656-8"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(*</span>x <span class="op" d__="">&gt;</span> <span class="op" d__="">*</span>y<span class="op" d__="">)</span> <span class="cf" d__="">return</span> <span class="dv" d__="">1</span><span class="op" d__="">;</span></span>
<span id="cb656-9" d__=""><a href="#cb656-9"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(*</span>x <span class="op" d__="">&lt;</span> <span class="op" d__="">*</span>y<span class="op" d__="">)</span> <span class="cf" d__="">return</span> <span class="op" d__="">-</span><span class="dv" d__="">1</span><span class="op" d__="">;</span></span>
<span id="cb656-10"><a href="#cb656-10"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb656-11"><a href="#cb656-11"></a><span class="op" d__="">}</span></span>
<span id="cb656-12"><a href="#cb656-12"></a></span>
<span id="cb656-13" d__=""><a href="#cb656-13"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb656-14"><a href="#cb656-14"></a><span class="op" d__="">{</span></span>
<span id="cb656-15" d__=""><a href="#cb656-15"></a>    <span class="dt" d__="">int</span> a<span class="op" d__="">[</span><span class="dv" d__="">9</span><span class="op" d__="">]</span> <span class="op" d__="">=</span> <span class="op" d__="">{</span><span class="dv" d__="">14</span><span class="op" d__="">,</span> <span class="dv" d__="">2</span><span class="op" d__="">,</span> <span class="dv" d__="">3</span><span class="op" d__="">,</span> <span class="dv" d__="">17</span><span class="op" d__="">,</span> <span class="dv" d__="">10</span><span class="op" d__="">,</span> <span class="dv" d__="">8</span><span class="op" d__="">,</span> <span class="dv" d__="">6</span><span class="op" d__="">,</span> <span class="dv" d__="">1</span><span class="op" d__="">,</span> <span class="dv" d__="">13</span><span class="op" d__="">};</span></span>
<span id="cb656-16"><a href="#cb656-16"></a></span>
<span id="cb656-17"><a href="#cb656-17"></a>    <span class="co" d__="">// Sort the list</span></span>
<span id="cb656-18"><a href="#cb656-18"></a></span>
<span id="cb656-19" d__=""><a href="#cb656-19"></a>    qsort<span class="op" d__="">(</span>a<span class="op" d__="">,</span> <span class="dv" d__="">9</span><span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span><span class="op" d__="">(</span><span class="dt" d__="">int</span><span class="op" d__="">),</span> compar<span class="op" d__="">);</span></span>
<span id="cb656-20"><a href="#cb656-20"></a></span>
<span id="cb656-21"><a href="#cb656-21"></a>    <span class="co" d__="">// Print sorted list</span></span>
<span id="cb656-22"><a href="#cb656-22"></a></span>
<span id="cb656-23" d__=""><a href="#cb656-23"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> <span class="dv" d__="">9</span><span class="op" d__="">;</span> i<span class="op" d__="">++)</span></span>
<span id="cb656-24" d__=""><a href="#cb656-24"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d</span><span class="st" d__=""> "</span><span class="op" d__="">,</span> a<span class="op" d__="">[</span>i<span class="op" d__="">]);</span></span>
<span id="cb656-25"><a href="#cb656-25"></a></span>
<span id="cb656-26" d__=""><a href="#cb656-26"></a>    putchar<span class="op" d__="">(</span><span class="ch" d__="">'</span><span class="sc" d__="">\n</span><span class="ch" d__="">'</span><span class="op" d__="">);</span></span>
<span id="cb656-27"><a href="#cb656-27"></a></span>
<span id="cb656-28"><a href="#cb656-28"></a>    <span class="co" d__="">// Use the same compar() function to binary search</span></span>
<span id="cb656-29"><a href="#cb656-29"></a>    <span class="co" d__="">// for 17 (passed in as an unnamed object)</span></span>
<span id="cb656-30"><a href="#cb656-30"></a></span>
<span id="cb656-31" d__=""><a href="#cb656-31"></a>    <span class="dt" d__="">int</span> <span class="op" d__="">*</span>r <span class="op" d__="">=</span> bsearch<span class="op" d__="">(&amp;(</span><span class="dt" d__="">int</span><span class="op" d__="">){</span><span class="dv" d__="">17</span><span class="op" d__="">},</span> a<span class="op" d__="">,</span> <span class="dv" d__="">9</span><span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span><span class="op" d__="">(</span><span class="dt" d__="">int</span><span class="op" d__="">),</span> compar<span class="op" d__="">);</span></span>
<span id="cb656-32" d__=""><a href="#cb656-32"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Found </span><span class="sc" d__="">%d</span><span class="st" d__="">!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">*</span>r<span class="op" d__="">);</span></span>
<span id="cb656-33"><a href="#cb656-33"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb657"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb657-1" d__=""><a href="#cb657-1" aria-hidden="true" tabindex="-1"></a>1 2 3 6 8 10 13 14 17</span>
<span id="cb657-2" d__=""><a href="#cb657-2" aria-hidden="true" tabindex="-1"></a>Found 17!</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-178" d__="">See Also</h3>
<p d__=""><a href="#man-strcmp"><code s__="13" d__="">strcmp()</code></a>, <a href="#man-bsearch"><code s__="13" d__="">bsearch()</code></a></p>
<hr>
<h2 data-number="24.19" id="man-abs" d__=""><span class="header-section-number">24.19</span> <code>abs()</code>, <code>labs()</code>, <code>llabs()</code></h2>
<p> </p>
<p d__="">Compute the absolute value of an integer</p>
<h3 class="unnumbered unlisted" id="synopsis-191" d__="">Synopsis</h3>
<div class="sourceCode" id="cb658"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb658-1"><a href="#cb658-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb658-2"><a href="#cb658-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb658-3" d__=""><a href="#cb658-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> abs<span class="op" d__="">(</span><span class="dt" d__="">int</span> j<span class="op" d__="">);</span></span>
<span id="cb658-4"><a href="#cb658-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb658-5" d__=""><a href="#cb658-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">int</span> labs<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">int</span> j<span class="op" d__="">);</span></span>
<span id="cb658-6"><a href="#cb658-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb658-7" d__=""><a href="#cb658-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> llabs<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> j<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-191" d__="">Description</h3>
<p d__="">Compute the absolute value of <code s__="13">j</code>. If you don’t remember, that’s how far from zero <code s__="13">j</code> is.</p>
<p d__="">In other words, if <code s__="13">j</code> is negative, return it as a positive. If it’s positive, return it as a positive. Always be positive. Enjoy life.</p>
<p d__="">If the result cannot be represented, the behavior is undefined. Be especially aware of the upper half of unsigned numbers.</p>
<h3 class="unnumbered unlisted" id="return-value-189" d__="">Return Value</h3>
<p d__="">Returns the absolute value of <code s__="13">j</code>, <span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="172"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c class="mjx-c1D457 TEX-I"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c class="mjx-c7C"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo data-mjx-texclass="ORD" stretchy="false">|</mo><mi>j</mi><mo data-mjx-texclass="ORD" stretchy="false">|</mo></math></mjx-assistive-mml></mjx-container></span>.</p>
<h3 class="unnumbered unlisted" id="example-192" d__="">Example</h3>
<div class="sourceCode" id="cb659"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb659-1"><a href="#cb659-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb659-2"><a href="#cb659-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb659-3"><a href="#cb659-3"></a></span>
<span id="cb659-4" d__=""><a href="#cb659-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb659-5"><a href="#cb659-5"></a><span class="op" d__="">{</span></span>
<span id="cb659-6" d__=""><a href="#cb659-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"|-2| = </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> abs<span class="op" d__="">(-</span><span class="dv" d__="">2</span><span class="op" d__="">));</span></span>
<span id="cb659-7" d__=""><a href="#cb659-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"|4|  = </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> abs<span class="op" d__="">(</span><span class="dv" d__="">4</span><span class="op" d__="">));</span></span>
<span id="cb659-8"><a href="#cb659-8"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb660"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb660-1" d__=""><a href="#cb660-1" aria-hidden="true" tabindex="-1"></a>|-2| = 2</span>
<span id="cb660-2" d__=""><a href="#cb660-2" aria-hidden="true" tabindex="-1"></a>|4|  = 4</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-179" d__="">See Also</h3>
<p><a href="#man-fabs"><code s__="13" d__="">fabs()</code></a></p>
<hr>
<h2 data-number="24.20" id="man-div" d__=""><span class="header-section-number">24.20</span> <code>div()</code>, <code>ldiv()</code>, <code>lldiv()</code></h2>
<p> </p>
<p d__="">Compute the quotient and remainder of two numbers</p>
<h3 class="unnumbered unlisted" id="synopsis-192" d__="">Synopsis</h3>
<div class="sourceCode" id="cb661"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb661-1"><a href="#cb661-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb661-2"><a href="#cb661-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb661-3" d__=""><a href="#cb661-3" aria-hidden="true" tabindex="-1"></a>div_t div<span class="op" d__="">(</span><span class="dt" d__="">int</span> numer<span class="op" d__="">,</span> <span class="dt" d__="">int</span> denom<span class="op" d__="">);</span></span>
<span id="cb661-4"><a href="#cb661-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb661-5" d__=""><a href="#cb661-5" aria-hidden="true" tabindex="-1"></a>ldiv_t ldiv<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">int</span> numer<span class="op" d__="">,</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> denom<span class="op" d__="">);</span></span>
<span id="cb661-6"><a href="#cb661-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb661-7" d__=""><a href="#cb661-7" aria-hidden="true" tabindex="-1"></a>lldiv_t lldiv<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> numer<span class="op" d__="">,</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> denom<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-192" d__="">Description</h3>
<p d__="">These functions get you the quotient and remainder of a pair of numbers in one go.</p>
<p d__="">They return a structure that has two fields, <code s__="13">quot</code>, and <code s__="13">rem</code>, the types of which match types of <code s__="13">numer</code> and <code s__="13">denom</code>. Note how each function returns a different variant of <code s__="13">div_t</code>.</p>
<p d__="">These <code s__="13">div_t</code> variants are equivalent to the following:</p>
<div class="sourceCode" id="cb662"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb662-1"><a href="#cb662-1" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">typedef</span> <span class="kw" d__="">struct</span> <span class="op" d__="">{</span></span>
<span id="cb662-2" d__=""><a href="#cb662-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">int</span> quot<span class="op" d__="">,</span> rem<span class="op" d__="">;</span></span>
<span id="cb662-3" d__=""><a href="#cb662-3" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span> div_t<span class="op" d__="">;</span></span>
<span id="cb662-4"><a href="#cb662-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb662-5"><a href="#cb662-5" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">typedef</span> <span class="kw" d__="">struct</span> <span class="op" d__="">{</span></span>
<span id="cb662-6" d__=""><a href="#cb662-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> quot<span class="op" d__="">,</span> rem<span class="op" d__="">;</span></span>
<span id="cb662-7" d__=""><a href="#cb662-7" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span> ldiv_t<span class="op" d__="">;</span></span>
<span id="cb662-8"><a href="#cb662-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb662-9"><a href="#cb662-9" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">typedef</span> <span class="kw" d__="">struct</span> <span class="op" d__="">{</span></span>
<span id="cb662-10" d__=""><a href="#cb662-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> quot<span class="op" d__="">,</span> rem<span class="op" d__="">;</span></span>
<span id="cb662-11" d__=""><a href="#cb662-11" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span> lldiv_t<span class="op" d__="">;</span></span></code></pre></div>
<p d__="">Why use these instead of the division operator?</p>
<p d__="">The C99 Rationale says:</p>
<blockquote>
<p d__="">Because C89 had implementation-defined semantics for division of signed integers when negative operands were involved, <code s__="13">div</code> and <code s__="13">ldiv</code>, and <code s__="13">lldiv</code>
 in C99, were invented to provide well-specified semantics for signed 
integer division and remainder operations. The semantics were adopted to
 be the same as in Fortran. Since these functions return both the 
quotient and the remainder, they also serve as a convenient way of 
efficiently modeling underlying hardware that computes both results as 
part of the same operation. Table 7.2 summarizes the semantics of these 
functions.</p>
</blockquote>
<p d__="">Indeed, K&amp;R2 (C89) says:</p>
<blockquote>
<p d__="">The direction of truncation for <code s__="13">/</code> and the sign of the result for <code s__="13">%</code> are machine-dependent for negative operands […]</p>
</blockquote>
<p d__="">The Rationale then goes on to spell out what the signs of the 
quotient and remainder will be given the signs of a numerator and 
denominator when using the <code s__="13">div()</code> functions:</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;"><code s__="13" d__="">numer</code></th>
<th style="text-align: center;"><code s__="13" d__="">denom</code></th>
<th style="text-align: center;"><code s__="13" d__="">quot</code></th>
<th style="text-align: center;"><code s__="13" d__="">rem</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="173"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo d__="">+</mo></math></mjx-assistive-mml></mjx-container></span></td>
<td style="text-align: center;"><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="174"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo d__="">+</mo></math></mjx-assistive-mml></mjx-container></span></td>
<td style="text-align: center;"><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="175"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo d__="">+</mo></math></mjx-assistive-mml></mjx-container></span></td>
<td style="text-align: center;"><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="176"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo d__="">+</mo></math></mjx-assistive-mml></mjx-container></span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="177"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo d__="">−</mo></math></mjx-assistive-mml></mjx-container></span></td>
<td style="text-align: center;"><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="178"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo d__="">+</mo></math></mjx-assistive-mml></mjx-container></span></td>
<td style="text-align: center;"><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="179"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo d__="">−</mo></math></mjx-assistive-mml></mjx-container></span></td>
<td style="text-align: center;"><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="180"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo d__="">−</mo></math></mjx-assistive-mml></mjx-container></span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="181"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo d__="">+</mo></math></mjx-assistive-mml></mjx-container></span></td>
<td style="text-align: center;"><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="182"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo d__="">−</mo></math></mjx-assistive-mml></mjx-container></span></td>
<td style="text-align: center;"><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="183"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo d__="">−</mo></math></mjx-assistive-mml></mjx-container></span></td>
<td style="text-align: center;"><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="184"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo d__="">+</mo></math></mjx-assistive-mml></mjx-container></span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="185"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo d__="">−</mo></math></mjx-assistive-mml></mjx-container></span></td>
<td style="text-align: center;"><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="186"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo d__="">−</mo></math></mjx-assistive-mml></mjx-container></span></td>
<td style="text-align: center;"><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="187"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2B"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo d__="">+</mo></math></mjx-assistive-mml></mjx-container></span></td>
<td style="text-align: center;"><span class="math inline"><mjx-container class="MathJax CtxtMenu_Attached_0" jax="CHTML" style="font-size: 115.7%; position: relative;" tabindex="0" ctxtmenu_counter="188"><mjx-math class="MJX-TEX" aria-hidden="true"><mjx-mo class="mjx-n"><mjx-c class="mjx-c2212"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo d__="">−</mo></math></mjx-assistive-mml></mjx-container></span></td>
</tr>
</tbody>
</table>
<h3 class="unnumbered unlisted" id="return-value-190" d__="">Return Value</h3>
<p d__="">A <code s__="13">div_t</code>, <code s__="13">ldiv_t</code>, or <code s__="13">lldiv_t</code> structure with the <code s__="13">quot</code> and <code s__="13">rem</code> fields loaded with the quotient and remainder of the operation of <code s__="13">numer/denom</code>.</p>
<h3 class="unnumbered unlisted" id="example-193" d__="">Example</h3>
<div class="sourceCode" id="cb663"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb663-1"><a href="#cb663-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb663-2"><a href="#cb663-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb663-3"><a href="#cb663-3"></a></span>
<span id="cb663-4" d__=""><a href="#cb663-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb663-5"><a href="#cb663-5"></a><span class="op" d__="">{</span></span>
<span id="cb663-6" d__=""><a href="#cb663-6"></a>    div_t d <span class="op" d__="">=</span> div<span class="op" d__="">(</span><span class="dv" d__="">64</span><span class="op" d__="">,</span> <span class="op" d__="">-</span><span class="dv" d__="">7</span><span class="op" d__="">);</span></span>
<span id="cb663-7"><a href="#cb663-7"></a></span>
<span id="cb663-8" d__=""><a href="#cb663-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"64 / -7 = </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> d<span class="op" d__="">.</span>quot<span class="op" d__="">);</span></span>
<span id="cb663-9" d__=""><a href="#cb663-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"64 </span><span class="sc" d__="">%%</span><span class="st" d__=""> -7 = </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> d<span class="op" d__="">.</span>rem<span class="op" d__="">);</span></span>
<span id="cb663-10"><a href="#cb663-10"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb664"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb664-1" d__=""><a href="#cb664-1" aria-hidden="true" tabindex="-1"></a>64 / -7 = -9</span>
<span id="cb664-2" d__=""><a href="#cb664-2" aria-hidden="true" tabindex="-1"></a>64 % -7 = 1</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-180" d__="">See Also</h3>
<p d__=""><a href="#man-fmod"><code s__="13" d__="">fmod()</code></a>, <a href="#man-remainder"><code s__="13" d__="">remainder()</code></a></p>
<hr>
<h2 data-number="24.21" id="man-mblen"><span class="header-section-number" d__="">24.21</span> <code d__="">mblen()</code></h2>
<p></p>
<p d__="">Return the number of bytes in a multibyte character</p>
<h3 class="unnumbered unlisted" id="synopsis-193" d__="">Synopsis</h3>
<div class="sourceCode" id="cb665"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb665-1"><a href="#cb665-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb665-2"><a href="#cb665-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb665-3" d__=""><a href="#cb665-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> mblen<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-193" d__="">Description</h3>
<p d__="">If you have a multibyte character in a string, this will tell you how many bytes long it is.</p>
<p d__=""><code s__="13">n</code> is the maximum number of bytes <code s__="13">mblen()</code> will scan before giving up.</p>
<p d__="">If <code s__="13">s</code> is a <code s__="13">NULL</code> 
pointer, tests if this encoding has state dependency, as noted in the 
return value, below. It also resets the state, if there is one.</p>
<p d__="">The behavior of this function is influenced by the locale.</p>
<h3 class="unnumbered unlisted" id="return-value-191" d__="">Return Value</h3>
<p d__="">Returns the number of bytes used to encode this character, or <code s__="13">-1</code> if there is no valid multibyte character in the next <code s__="13">n</code> bytes.</p>
<p d__="">Or, if <code s__="13">s</code> is NULL, returns true if this encoding has state dependency.</p>
<h3 class="unnumbered unlisted" id="example-194" d__="">Example</h3>
<p d__="">For the example, I used my extended character set to put 
Unicode characters in the source. If this doesn’t work for you, use the <code s__="13">\uXXXX</code> escape.</p>
<div class="sourceCode" id="cb666"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb666-1"><a href="#cb666-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb666-2"><a href="#cb666-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb666-3"><a href="#cb666-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;locale.h&gt;</span></span>
<span id="cb666-4"><a href="#cb666-4"></a></span>
<span id="cb666-5" d__=""><a href="#cb666-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb666-6"><a href="#cb666-6"></a><span class="op" d__="">{</span></span>
<span id="cb666-7" d__=""><a href="#cb666-7"></a>    setlocale<span class="op" d__="">(</span>LC_ALL<span class="op" d__="">,</span> <span class="st" d__="">""</span><span class="op" d__="">);</span></span>
<span id="cb666-8"><a href="#cb666-8"></a></span>
<span id="cb666-9" d__=""><a href="#cb666-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"State dependency: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> mblen<span class="op" d__="">(</span>NULL<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">));</span></span>
<span id="cb666-10" d__=""><a href="#cb666-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Bytes for €: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> mblen<span class="op" d__="">(</span><span class="st" d__="">"€"</span><span class="op" d__="">,</span> <span class="dv" d__="">5</span><span class="op" d__="">));</span></span>
<span id="cb666-11" d__=""><a href="#cb666-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Bytes for </span><span class="sc" d__="">\u00e9</span><span class="st" d__="">: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> mblen<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">\u00e9</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="dv" d__="">5</span><span class="op" d__="">));</span>  <span class="co" d__="">// \u00e9 == é</span></span>
<span id="cb666-12" d__=""><a href="#cb666-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Bytes for &amp;: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> mblen<span class="op" d__="">(</span><span class="st" d__="">"&amp;"</span><span class="op" d__="">,</span> <span class="dv" d__="">5</span><span class="op" d__="">));</span></span>
<span id="cb666-13"><a href="#cb666-13"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output (in my case, the encoding is UTF-8, but your mileage may vary):</p>
<div class="sourceCode" id="cb667"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb667-1" d__=""><a href="#cb667-1" aria-hidden="true" tabindex="-1"></a>State dependency: 0</span>
<span id="cb667-2" d__=""><a href="#cb667-2" aria-hidden="true" tabindex="-1"></a>Bytes for €: 3</span>
<span id="cb667-3" d__=""><a href="#cb667-3" aria-hidden="true" tabindex="-1"></a>Bytes for é: 2</span>
<span id="cb667-4" d__=""><a href="#cb667-4" aria-hidden="true" tabindex="-1"></a>Bytes for &amp;: 1</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-181" d__="">See Also</h3>
<p d__=""><a href="#man-mbtowc"><code s__="13" d__="">mbtowc()</code></a>, <a href="#man-mbstowcs"><code s__="13" d__="">mbstowcs())</code></a>, <a href="#man-setlocale"><code s__="13" d__="">setlocale()</code></a></p>
<hr>
<h2 data-number="24.22" id="man-mbtowc"><span class="header-section-number" d__="">24.22</span> <code d__="">mbtowc()</code></h2>
<p></p>
<p d__="">Convert a multibyte character to a wide character</p>
<h3 class="unnumbered unlisted" id="synopsis-194" d__="">Synopsis</h3>
<div class="sourceCode" id="cb668"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb668-1"><a href="#cb668-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb668-2"><a href="#cb668-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb668-3" d__=""><a href="#cb668-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> mbtowc<span class="op" d__="">(</span><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> pwc<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-194" d__="">Description</h3>
<p d__="">If you have a multibyte character, this function will convert it to a wide character and stored at the address pointed to by <code s__="13">pwc</code>. Up to <code s__="13">n</code> bytes of the multibyte character will be analyzed.</p>
<p d__="">If <code s__="13">pwc</code> is <code s__="13">NULL</code>, the resulting character will not be stored. (Useful for just getting the return value.)</p>
<p d__="">If <code s__="13">s</code> is a <code s__="13">NULL</code> 
pointer, tests if this encoding has state dependency, as noted in the 
return value, below. It also resets the state, if there is one.</p>
<p d__="">The behavior of this function is influenced by the locale.</p>
<h3 class="unnumbered unlisted" id="return-value-192" d__="">Return Value</h3>
<p d__="">Returns the number of bytes used in the encoded wide character, or <code s__="13">-1</code> if there is no valid multibyte character in the next <code s__="13">n</code> bytes.</p>
<p d__="">Returns <code s__="13">0</code> if <code s__="13">s</code> points to the NUL character.</p>
<p d__="">Or, if <code s__="13">s</code> is NULL, returns true if this encoding has state dependency.</p>
<h3 class="unnumbered unlisted" id="example-195" d__="">Example</h3>
<div class="sourceCode" id="cb669"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb669-1"><a href="#cb669-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb669-2"><a href="#cb669-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb669-3"><a href="#cb669-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;locale.h&gt;</span></span>
<span id="cb669-4"><a href="#cb669-4"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb669-5"><a href="#cb669-5"></a></span>
<span id="cb669-6" d__=""><a href="#cb669-6"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb669-7"><a href="#cb669-7"></a><span class="op" d__="">{</span></span>
<span id="cb669-8" d__=""><a href="#cb669-8"></a>    setlocale<span class="op" d__="">(</span>LC_ALL<span class="op" d__="">,</span> <span class="st" d__="">""</span><span class="op" d__="">);</span></span>
<span id="cb669-9"><a href="#cb669-9"></a></span>
<span id="cb669-10" d__=""><a href="#cb669-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"State dependency: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> mbtowc<span class="op" d__="">(</span>NULL<span class="op" d__="">,</span> NULL<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">));</span></span>
<span id="cb669-11"><a href="#cb669-11"></a></span>
<span id="cb669-12" d__=""><a href="#cb669-12"></a>    <span class="dt" d__="">wchar_t</span> wc<span class="op" d__="">;</span></span>
<span id="cb669-13" d__=""><a href="#cb669-13"></a>    <span class="dt" d__="">int</span> bytes<span class="op" d__="">;</span></span>
<span id="cb669-14"><a href="#cb669-14"></a></span>
<span id="cb669-15" d__=""><a href="#cb669-15"></a>    bytes <span class="op" d__="">=</span> mbtowc<span class="op" d__="">(&amp;</span>wc<span class="op" d__="">,</span> <span class="st" d__="">"€"</span><span class="op" d__="">,</span> <span class="dv" d__="">5</span><span class="op" d__="">);</span></span>
<span id="cb669-16"><a href="#cb669-16"></a></span>
<span id="cb669-17" d__=""><a href="#cb669-17"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"L'</span><span class="sc" d__="">%lc</span><span class="st" d__="">' takes </span><span class="sc" d__="">%d</span><span class="st" d__=""> bytes as multibyte char '€'</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> wc<span class="op" d__="">,</span> bytes<span class="op" d__="">);</span></span>
<span id="cb669-18"><a href="#cb669-18"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output on my system:</p>
<div class="sourceCode" id="cb670"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb670-1" d__=""><a href="#cb670-1" aria-hidden="true" tabindex="-1"></a>State dependency: 0</span>
<span id="cb670-2" d__=""><a href="#cb670-2" aria-hidden="true" tabindex="-1"></a>L'€' takes 3 bytes as multibyte char '€'</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-182" d__="">See Also</h3>
<p d__=""><a href="#man-mblen"><code s__="13" d__="">mblen()</code></a>, <a href="#man-mbstowcs"><code s__="13" d__="">mbstowcs()</code></a>, <a href="#man-wcstombs"><code s__="13" d__="">wcstombs()</code></a>, <a href="#man-setlocale"><code s__="13" d__="">setlocale()</code></a></p>
<hr>
<h2 data-number="24.23" id="man-wctomb"><span class="header-section-number" d__="">24.23</span> <code d__="">wctomb()</code></h2>
<p></p>
<p d__="">Convert a wide character to a multibyte character</p>
<h3 class="unnumbered unlisted" id="synopsis-195" d__="">Synopsis</h3>
<div class="sourceCode" id="cb671"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb671-1"><a href="#cb671-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb671-2"><a href="#cb671-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb671-3" d__=""><a href="#cb671-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> wctomb<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span>s<span class="op" d__="">,</span> <span class="dt" d__="">wchar_t</span> wc<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-195" d__="">Description</h3>
<p d__="">If you have your hands on a wide character, you can use this to make it multibyte.</p>
<p d__="">The wide character <code s__="13">wc</code> is stored as a multibyte character in the string pointed to by <code s__="13">s</code>. The buffer <code s__="13">s</code> points to should be at least <code s__="13">MB_CUR_MAX</code> characters long. Note that <code s__="13">MB_CUR_MAX</code> changes with locale.</p>
<p d__="">If <code s__="13">wc</code> is a NUL wide character, a NUL is stored in <code s__="13">s</code> after the bytes needed to reset the shift state (if any).</p>
<p d__="">If <code s__="13">s</code> is a <code s__="13">NULL</code> 
pointer, tests if this encoding has state dependency, as noted in the 
return value, below. It also resets the state, if there is one.</p>
<p d__="">The behavior of this function is influenced by the locale.</p>
<h3 class="unnumbered unlisted" id="return-value-193" d__="">Return Value</h3>
<p d__="">Returns the number of bytes used in the encoded multibyte character, or <code s__="13">-1</code> if <code s__="13">wc</code> does not correspond to any valid multibyte character.</p>
<p d__="">Or, if <code s__="13">s</code> is NULL, returns true if this encoding has state dependency.</p>
<h3 class="unnumbered unlisted" id="example-196" d__="">Example</h3>
<div class="sourceCode" id="cb672"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb672-1"><a href="#cb672-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb672-2"><a href="#cb672-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb672-3"><a href="#cb672-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;locale.h&gt;</span></span>
<span id="cb672-4"><a href="#cb672-4"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb672-5"><a href="#cb672-5"></a></span>
<span id="cb672-6" d__=""><a href="#cb672-6"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb672-7"><a href="#cb672-7"></a><span class="op" d__="">{</span></span>
<span id="cb672-8" d__=""><a href="#cb672-8"></a>    setlocale<span class="op" d__="">(</span>LC_ALL<span class="op" d__="">,</span> <span class="st" d__="">""</span><span class="op" d__="">);</span></span>
<span id="cb672-9"><a href="#cb672-9"></a></span>
<span id="cb672-10" d__=""><a href="#cb672-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"State dependency: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> mbtowc<span class="op" d__="">(</span>NULL<span class="op" d__="">,</span> NULL<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">));</span></span>
<span id="cb672-11"><a href="#cb672-11"></a></span>
<span id="cb672-12" d__=""><a href="#cb672-12"></a>    <span class="dt" d__="">int</span> bytes<span class="op" d__="">;</span></span>
<span id="cb672-13" d__=""><a href="#cb672-13"></a>    <span class="dt" d__="">char</span> mb<span class="op" d__="">[</span>MB_CUR_MAX <span class="op" d__="">+</span> <span class="dv" d__="">1</span><span class="op" d__="">];</span></span>
<span id="cb672-14"><a href="#cb672-14"></a></span>
<span id="cb672-15" d__=""><a href="#cb672-15"></a>    bytes <span class="op" d__="">=</span> wctomb<span class="op" d__="">(</span>mb<span class="op" d__="">,</span> <span class="ch" d__="">L'€'</span><span class="op" d__="">);</span></span>
<span id="cb672-16" d__=""><a href="#cb672-16"></a>    mb<span class="op" d__="">[</span>bytes<span class="op" d__="">]</span> <span class="op" d__="">=</span> <span class="ch" d__="">'</span><span class="sc" d__="">\0</span><span class="ch" d__="">'</span><span class="op" d__="">;</span></span>
<span id="cb672-17"><a href="#cb672-17"></a></span>
<span id="cb672-18" d__=""><a href="#cb672-18"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"L'€' takes </span><span class="sc" d__="">%d</span><span class="st" d__=""> bytes as multibyte char '</span><span class="sc" d__="">%s</span><span class="st" d__="">'</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> bytes<span class="op" d__="">,</span> mb<span class="op" d__="">);</span></span>
<span id="cb672-19"><a href="#cb672-19"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output on my system:</p>
<div class="sourceCode" id="cb673"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb673-1" d__=""><a href="#cb673-1" aria-hidden="true" tabindex="-1"></a>State dependency: 0</span>
<span id="cb673-2" d__=""><a href="#cb673-2" aria-hidden="true" tabindex="-1"></a>L'€' takes 3 bytes as multibyte char '€'</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-183" d__="">See Also</h3>
<p d__=""><a href="#man-mbtowc"><code s__="13" d__="">mbtowc()</code></a>, <a href="#man-mbstowcs"><code s__="13" d__="">mbstowcs()</code></a>, <a href="#man-wcstombs"><code s__="13" d__="">wcstombs()</code></a>, <a href="#man-setlocale"><code s__="13" d__="">setlocale()</code></a></p>
<hr>
<h2 data-number="24.24" id="man-mbstowcs"><span class="header-section-number" d__="">24.24</span> <code d__="">mbstowcs()</code></h2>
<p></p>
<p d__="">Convert a multibyte string to a wide character string</p>
<h3 class="unnumbered unlisted" id="synopsis-196" d__="">Synopsis</h3>
<div class="sourceCode" id="cb674"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb674-1"><a href="#cb674-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb674-2"><a href="#cb674-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb674-3" d__=""><a href="#cb674-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">size_t</span> mbstowcs<span class="op" d__="">(</span><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> pwcs<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-196" d__="">Description</h3>
<p d__="">If you have a multibyte string (AKA a regular string), you can convert it wto a wide character string with this function.</p>
<p d__="">At most <code s__="13">n</code> wide characters are written to the destination <code s__="13">pwcs</code> from the source <code s__="13">s</code>.</p>
<p d__="">A NUL character is stored as a wide NUL character.</p>
<p d__="">Non-portable POSIX extension: if you’re using a POSIX-complaint library, this function allows <code s__="13">pwcs</code> to be <code s__="13">NULL</code>
 if you’re only interested in the return value. Most notably, this will 
give you the number of characters in a multibyte string (as opposed to <a href="#man-strlen"><code s__="13" d__="">strlen()</code></a> which counts the bytes.)</p>
<h3 class="unnumbered unlisted" id="return-value-194" d__="">Return Value</h3>
<p d__="">Returns the number of wide characters written to the destination <code s__="13">pwcs</code>.</p>
<p d__="">If an invalid multibyte character was found, returns <code s__="13">(size_t)(-1)</code>.</p>
<p d__="">If the return value is <code s__="13">n</code>, it means the result was <em>not</em> NUL-terminated.</p>
<h3 class="unnumbered unlisted" id="example-197" d__="">Example</h3>
<p d__="">This source uses an extended character set. If your compiler doesn’t support it, you’ll have to replace them with <code s__="13">\u</code> escapes.</p>
<div class="sourceCode" id="cb675"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb675-1"><a href="#cb675-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb675-2"><a href="#cb675-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb675-3"><a href="#cb675-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;locale.h&gt;</span></span>
<span id="cb675-4"><a href="#cb675-4"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb675-5"><a href="#cb675-5"></a></span>
<span id="cb675-6" d__=""><a href="#cb675-6"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb675-7"><a href="#cb675-7"></a><span class="op" d__="">{</span></span>
<span id="cb675-8" d__=""><a href="#cb675-8"></a>    setlocale<span class="op" d__="">(</span>LC_ALL<span class="op" d__="">,</span> <span class="st" d__="">""</span><span class="op" d__="">);</span></span>
<span id="cb675-9"><a href="#cb675-9"></a></span>
<span id="cb675-10" d__=""><a href="#cb675-10"></a>    <span class="dt" d__="">wchar_t</span> wcs<span class="op" d__="">[</span><span class="dv" d__="">128</span><span class="op" d__="">];</span></span>
<span id="cb675-11" d__=""><a href="#cb675-11"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s <span class="op" d__="">=</span> <span class="st" d__="">"€200 for this spoon?"</span><span class="op" d__="">;</span>  <span class="co" d__="">// 20 characters</span></span>
<span id="cb675-12"><a href="#cb675-12"></a></span>
<span id="cb675-13" d__=""><a href="#cb675-13"></a>    <span class="dt" d__="">size_t</span> char_count<span class="op" d__="">,</span> byte_count<span class="op" d__="">;</span></span>
<span id="cb675-14"><a href="#cb675-14"></a></span>
<span id="cb675-15" d__=""><a href="#cb675-15"></a>    char_count <span class="op" d__="">=</span> mbstowcs<span class="op" d__="">(</span>wcs<span class="op" d__="">,</span> s<span class="op" d__="">,</span> <span class="dv" d__="">128</span><span class="op" d__="">);</span></span>
<span id="cb675-16" d__=""><a href="#cb675-16"></a>    byte_count <span class="op" d__="">=</span> strlen<span class="op" d__="">(</span>s<span class="op" d__="">);</span></span>
<span id="cb675-17"><a href="#cb675-17"></a></span>
<span id="cb675-18" d__=""><a href="#cb675-18"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Wide string: L</span><span class="sc" d__="">\"%ls\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> wcs<span class="op" d__="">);</span></span>
<span id="cb675-19" d__=""><a href="#cb675-19"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Char count : </span><span class="sc" d__="">%zu\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> char_count<span class="op" d__="">);</span>    <span class="co" d__="">// 20</span></span>
<span id="cb675-20" d__=""><a href="#cb675-20"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Byte count : </span><span class="sc" d__="">%zu\n\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> byte_count<span class="op" d__="">);</span>  <span class="co" d__="">// 22 on my system</span></span>
<span id="cb675-21"><a href="#cb675-21"></a></span>
<span id="cb675-22"><a href="#cb675-22"></a>    <span class="co" d__="">// POSIX Extension that allows you to pass NULL for</span></span>
<span id="cb675-23"><a href="#cb675-23"></a>    <span class="co" d__="">// the destination so you can just use the return</span></span>
<span id="cb675-24"><a href="#cb675-24"></a>    <span class="co" d__="">// value (which is the character count of the string, </span></span>
<span id="cb675-25"><a href="#cb675-25"></a>    <span class="co" d__="">// if no errors have occurred)</span></span>
<span id="cb675-26"><a href="#cb675-26"></a></span>
<span id="cb675-27" d__=""><a href="#cb675-27"></a>    s <span class="op" d__="">=</span> <span class="st" d__="">"§¶°±π€•"</span><span class="op" d__="">;</span>  <span class="co" d__="">// 7 characters</span></span>
<span id="cb675-28"><a href="#cb675-28"></a></span>
<span id="cb675-29" d__=""><a href="#cb675-29"></a>    char_count <span class="op" d__="">=</span> mbstowcs<span class="op" d__="">(</span>NULL<span class="op" d__="">,</span> s<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">);</span>  <span class="co" d__="">// POSIX-only, nonportable</span></span>
<span id="cb675-30" d__=""><a href="#cb675-30"></a>    byte_count <span class="op" d__="">=</span> strlen<span class="op" d__="">(</span>s<span class="op" d__="">);</span></span>
<span id="cb675-31"><a href="#cb675-31"></a></span>
<span id="cb675-32" d__=""><a href="#cb675-32"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Multibyte str: </span><span class="sc" d__="">\"%s\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> s<span class="op" d__="">);</span></span>
<span id="cb675-33" d__=""><a href="#cb675-33"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Char count   : </span><span class="sc" d__="">%zu\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> char_count<span class="op" d__="">);</span>  <span class="co" d__="">// 7</span></span>
<span id="cb675-34" d__=""><a href="#cb675-34"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Byte count   : </span><span class="sc" d__="">%zu\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> byte_count<span class="op" d__="">);</span>  <span class="co" d__="">// 16 on my system</span></span>
<span id="cb675-35"><a href="#cb675-35"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output on my system (byte count will depend on your encoding):</p>
<div class="sourceCode" id="cb676"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb676-1" d__=""><a href="#cb676-1" aria-hidden="true" tabindex="-1"></a>Wide string: L"€200 for this spoon?"</span>
<span id="cb676-2" d__=""><a href="#cb676-2" aria-hidden="true" tabindex="-1"></a>Char count : 20</span>
<span id="cb676-3" d__=""><a href="#cb676-3" aria-hidden="true" tabindex="-1"></a>Byte count : 22</span>
<span id="cb676-4"><a href="#cb676-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb676-5" d__=""><a href="#cb676-5" aria-hidden="true" tabindex="-1"></a>Multibyte str: "§¶°±π€•"</span>
<span id="cb676-6" d__=""><a href="#cb676-6" aria-hidden="true" tabindex="-1"></a>Char count   : 7</span>
<span id="cb676-7" d__=""><a href="#cb676-7" aria-hidden="true" tabindex="-1"></a>Byte count   : 16</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-184" d__="">See Also</h3>
<p d__=""><a href="#man-mblen"><code s__="13" d__="">mblen()</code></a>, <a href="#man-mbtowc"><code s__="13" d__="">mbtowc()</code></a>, <a href="#man-wcstombs"><code s__="13" d__="">wcstombs()</code></a>, <a href="#man-setlocale"><code s__="13" d__="">setlocale()</code></a></p>
<hr>
<h2 data-number="24.25" id="man-wcstombs"><span class="header-section-number" d__="">24.25</span> <code d__="">wcstombs()</code></h2>
<p></p>
<p d__="">Convert a wide character string to a multibyte string</p>
<h3 class="unnumbered unlisted" id="synopsis-197" d__="">Synopsis</h3>
<div class="sourceCode" id="cb677"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb677-1"><a href="#cb677-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb677-2"><a href="#cb677-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb677-3" d__=""><a href="#cb677-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">size_t</span> wcstombs<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> pwcs<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-197" d__="">Description</h3>
<p d__="">If you have a wide character string and you want it as multibyte string, this is the function for you!</p>
<p d__="">It’ll take the wide characters pointed to by <code s__="13">pwcs</code> and convert them to multibyte characters stored in <code s__="13">s</code>. No more than <code s__="13">n</code> bytes will be written to <code s__="13">s</code>.</p>
<p d__="">Non-portable POSIX extension: if you’re using a POSIX-complaint library, this function allows <code s__="13">s</code> to be <code s__="13">NULL</code>
 if you’re only interested in the return value. Most notably, this will 
give you the number of bytes needed to encode the wide characters in a 
multibyte string.</p>
<h3 class="unnumbered unlisted" id="return-value-195" d__="">Return Value</h3>
<p d__="">Returns the number of bytes written to <code s__="13">s</code>, or <code s__="13">(size_t)(-1)</code> if one of the characters can’t be encoded into a multibyte string.</p>
<p d__="">If the return value is <code s__="13">n</code>, it means the result was <em>not</em> NUL-terminated.</p>
<h3 class="unnumbered unlisted" id="example-198" d__="">Example</h3>
<p d__="">This source uses an extended character set. If your compiler doesn’t support it, you’ll have to replace them with <code s__="13">\u</code> escapes.</p>
<div class="sourceCode" id="cb678"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb678-1"><a href="#cb678-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb678-2"><a href="#cb678-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb678-3"><a href="#cb678-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;locale.h&gt;</span></span>
<span id="cb678-4"><a href="#cb678-4"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb678-5"><a href="#cb678-5"></a></span>
<span id="cb678-6" d__=""><a href="#cb678-6"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb678-7"><a href="#cb678-7"></a><span class="op" d__="">{</span></span>
<span id="cb678-8" d__=""><a href="#cb678-8"></a>    setlocale<span class="op" d__="">(</span>LC_ALL<span class="op" d__="">,</span> <span class="st" d__="">""</span><span class="op" d__="">);</span></span>
<span id="cb678-9"><a href="#cb678-9"></a></span>
<span id="cb678-10" d__=""><a href="#cb678-10"></a>    <span class="dt" d__="">char</span> mbs<span class="op" d__="">[</span><span class="dv" d__="">128</span><span class="op" d__="">];</span></span>
<span id="cb678-11" d__=""><a href="#cb678-11"></a>    <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>wcs <span class="op" d__="">=</span> <span class="st" d__="">L"€200 for this spoon?"</span><span class="op" d__="">;</span>  <span class="co" d__="">// 20 characters</span></span>
<span id="cb678-12"><a href="#cb678-12"></a></span>
<span id="cb678-13" d__=""><a href="#cb678-13"></a>    <span class="dt" d__="">size_t</span> byte_count<span class="op" d__="">;</span></span>
<span id="cb678-14"><a href="#cb678-14"></a></span>
<span id="cb678-15" d__=""><a href="#cb678-15"></a>    byte_count <span class="op" d__="">=</span> wcstombs<span class="op" d__="">(</span>mbs<span class="op" d__="">,</span> wcs<span class="op" d__="">,</span> <span class="dv" d__="">128</span><span class="op" d__="">);</span></span>
<span id="cb678-16"><a href="#cb678-16"></a></span>
<span id="cb678-17" d__=""><a href="#cb678-17"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Wide string: L</span><span class="sc" d__="">\"%ls\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> wcs<span class="op" d__="">);</span></span>
<span id="cb678-18" d__=""><a href="#cb678-18"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Multibyte  : </span><span class="sc" d__="">\"%s\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> mbs<span class="op" d__="">);</span></span>
<span id="cb678-19" d__=""><a href="#cb678-19"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Byte count : </span><span class="sc" d__="">%zu\n\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> byte_count<span class="op" d__="">);</span>  <span class="co" d__="">// 22 on my system</span></span>
<span id="cb678-20"><a href="#cb678-20"></a></span>
<span id="cb678-21"><a href="#cb678-21"></a>    <span class="co" d__="">// POSIX Extension that allows you to pass NULL for</span></span>
<span id="cb678-22"><a href="#cb678-22"></a>    <span class="co" d__="">// the destination so you can just use the return</span></span>
<span id="cb678-23"><a href="#cb678-23"></a>    <span class="co" d__="">// value (which is the character count of the string, </span></span>
<span id="cb678-24"><a href="#cb678-24"></a>    <span class="co" d__="">// if no errors have occurred)</span></span>
<span id="cb678-25"><a href="#cb678-25"></a></span>
<span id="cb678-26" d__=""><a href="#cb678-26"></a>    wcs <span class="op" d__="">=</span> <span class="st" d__="">L"§¶°±π€•"</span><span class="op" d__="">;</span>  <span class="co" d__="">// 7 characters</span></span>
<span id="cb678-27"><a href="#cb678-27"></a></span>
<span id="cb678-28" d__=""><a href="#cb678-28"></a>    byte_count <span class="op" d__="">=</span> wcstombs<span class="op" d__="">(</span>NULL<span class="op" d__="">,</span> wcs<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">);</span>  <span class="co" d__="">// POSIX-only, nonportable</span></span>
<span id="cb678-29"><a href="#cb678-29"></a></span>
<span id="cb678-30" d__=""><a href="#cb678-30"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Wide string: L</span><span class="sc" d__="">\"%ls\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> wcs<span class="op" d__="">);</span></span>
<span id="cb678-31" d__=""><a href="#cb678-31"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Byte count : </span><span class="sc" d__="">%zu\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> byte_count<span class="op" d__="">);</span>  <span class="co" d__="">// 16 on my system</span></span>
<span id="cb678-32"><a href="#cb678-32"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output on my system (byte count will depend on your encoding):</p>
<div class="sourceCode" id="cb679"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb679-1" d__=""><a href="#cb679-1" aria-hidden="true" tabindex="-1"></a>Wide string: L"€200 for this spoon?"</span>
<span id="cb679-2" d__=""><a href="#cb679-2" aria-hidden="true" tabindex="-1"></a>Multibyte  : "€200 for this spoon?"</span>
<span id="cb679-3" d__=""><a href="#cb679-3" aria-hidden="true" tabindex="-1"></a>Byte count : 22</span>
<span id="cb679-4"><a href="#cb679-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb679-5" d__=""><a href="#cb679-5" aria-hidden="true" tabindex="-1"></a>Wide string: L"§¶°±π€•"</span>
<span id="cb679-6" d__=""><a href="#cb679-6" aria-hidden="true" tabindex="-1"></a>Byte count : 16</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-185" d__="">See Also</h3>
<p d__=""><a href="#man-mblen"><code s__="13" d__="">mblen()</code></a>, <a href="#man-wctomb"><code s__="13" d__="">wctomb()</code></a>, <a href="#man-mbstowcs"><code s__="13" d__="">mbstowcs()</code></a>, <a href="#man-setlocale"><code s__="13" d__="">setlocale()</code></a></p>
<hr>
<h2 data-number="24.26" id="man-memalignment"><span class="header-section-number" d__="">24.26</span> <code d__="">memalignment()</code></h2>
<p></p>
<h3 class="unnumbered unlisted" id="synopsis-198" d__="">Synopsis</h3>
<p d__="">New in C23!</p>
<div class="sourceCode" id="cb680"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb680-1"><a href="#cb680-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb680-2"><a href="#cb680-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb680-3" d__=""><a href="#cb680-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">size_t</span> memalignment<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">void</span> <span class="op" d__="">*</span> p<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-198" d__="">Description</h3>
<p d__="">This function will give you the memory alignment (in bytes) of the object pointed to.</p>
<p d__="">The idea is that we’re going to get the same information as we get with <a href="#man-alignof"><code s__="13" d__="">alignof</code></a>, except we can do it with an untyped <code s__="13">void*</code>.</p>
<p d__="">And you might want to do this because misaligned data could be slower or unusable on various platforms.</p>
<h3 class="unnumbered unlisted" id="return-value-196" d__="">Return Value</h3>
<p d__="">Returns the integer alignment of <code s__="13">p</code>, which will be a power of 2. Returns <code s__="13">0</code> if <code s__="13">NULL</code> is passed in.</p>
<p d__=""><code s__="13">0</code> means the pointer can’t be used to access an object of any type.</p>
<h3 class="unnumbered unlisted" id="example-199" d__="">Example</h3>
<p d__="">(Caveat: none of my compilers support this function yet, so the code is largely untested.)</p>
<p d__="">The proposal for this feature suggests that a macro might be 
useful for determining if a pointer is well-aligned for a particular 
type, so we’ll just steal that as an example:</p>
<div class="sourceCode" id="cb681"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb681-1"><a href="#cb681-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb681-2"><a href="#cb681-2" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdalign.h&gt;</span></span>
<span id="cb681-3"><a href="#cb681-3" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb681-4"><a href="#cb681-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb681-5"><a href="#cb681-5" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#define isaligned</span><span class="op" d__="">(</span><span class="pp" d__="">P</span><span class="op" d__="">,</span><span class="pp" d__=""> T</span><span class="op" d__="">)</span><span class="pp"> </span><span class="op" d__="">(</span><span class="pp" d__="">memalignment </span><span class="op" d__="">(</span><span class="pp" d__="">P</span><span class="op" d__="">)</span><span class="pp"> </span><span class="op" d__="">&gt;=</span><span class="pp"> </span><span class="kw" d__="">alignof</span><span class="op" d__="">(</span><span class="pp" d__="">T</span><span class="op" d__="">))</span></span>
<span id="cb681-6"><a href="#cb681-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb681-7" d__=""><a href="#cb681-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> check<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>p<span class="op" d__="">)</span></span>
<span id="cb681-8"><a href="#cb681-8" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">{</span></span>
<span id="cb681-9" d__=""><a href="#cb681-9" aria-hidden="true" tabindex="-1"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%lu</span><span class="st"> </span><span class="sc" d__="">%lu\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> memalignment<span class="op" d__="">(</span>p<span class="op" d__="">),</span> <span class="kw" d__="">alignof</span><span class="op" d__="">(</span><span class="dt" d__="">int</span><span class="op" d__="">));</span></span>
<span id="cb681-10" d__=""><a href="#cb681-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>isaligned<span class="op" d__="">(</span>p<span class="op" d__="">,</span> <span class="dt" d__="">int</span><span class="op" d__="">))</span> <span class="op" d__="">{</span></span>
<span id="cb681-11" d__=""><a href="#cb681-11" aria-hidden="true" tabindex="-1"></a>        puts<span class="op" d__="">(</span><span class="st" d__="">"The pointer p is well-aligned for an int! :)"</span><span class="op" d__="">);</span></span>
<span id="cb681-12"><a href="#cb681-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb681-13"><a href="#cb681-13" aria-hidden="true" tabindex="-1"></a>        <span class="co" d__="">// So I'm happy doing this:</span></span>
<span id="cb681-14"><a href="#cb681-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb681-15" d__=""><a href="#cb681-15" aria-hidden="true" tabindex="-1"></a>        <span class="dt" d__="">int</span> <span class="op" d__="">*</span>i <span class="op" d__="">=</span> p<span class="op" d__="">;</span></span>
<span id="cb681-16" d__=""><a href="#cb681-16" aria-hidden="true" tabindex="-1"></a>        <span class="op" d__="">*</span>i <span class="op" d__="">=</span> <span class="dv" d__="">3490</span><span class="op" d__="">;</span></span>
<span id="cb681-17"><a href="#cb681-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb681-18"><a href="#cb681-18" aria-hidden="true" tabindex="-1"></a>    <span class="op" d__="">}</span> <span class="cf" d__="">else</span></span>
<span id="cb681-19" d__=""><a href="#cb681-19" aria-hidden="true" tabindex="-1"></a>        puts<span class="op" d__="">(</span><span class="st" d__="">"The pointer p is poorly-aligned for an int! :("</span><span class="op" d__="">);</span></span>
<span id="cb681-20"><a href="#cb681-20" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span>
<span id="cb681-21"><a href="#cb681-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb681-22" d__=""><a href="#cb681-22" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb681-23"><a href="#cb681-23" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">{</span></span>
<span id="cb681-24" d__=""><a href="#cb681-24" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>p <span class="op" d__="">=</span> malloc<span class="op" d__="">(</span><span class="dv" d__="">10</span><span class="op" d__="">);</span></span>
<span id="cb681-25"><a href="#cb681-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb681-26" d__=""><a href="#cb681-26" aria-hidden="true" tabindex="-1"></a>    check<span class="op" d__="">(</span>p<span class="op" d__="">);</span></span>
<span id="cb681-27" d__=""><a href="#cb681-27" aria-hidden="true" tabindex="-1"></a>    check<span class="op" d__="">(</span>p <span class="op" d__="">+</span> <span class="dv" d__="">1</span><span class="op" d__="">);</span></span>
<span id="cb681-28"><a href="#cb681-28" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-186" d__="">See Also</h3>
<p d__=""><a href="#man-alignof"><code s__="13" d__="">alignof()</code></a>, <a href="#man-alignas"><code s__="13" d__="">alignas()</code></a>, <a href="#man-max_align_t"><code s__="13" d__="">max_align_t</code></a></p>
<!--
***
## `example()`, `example()`, `example()` {#man-example}

### Synopsis {.unnumbered .unlisted}

``` {.c}
```

### Description {.unnumbered .unlisted}

### Return Value {.unnumbered .unlisted}

### Example {.unnumbered .unlisted}

``` {.c .numberLines}
```

### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="25" id="stdnoreturn" d__=""><span class="header-section-number">25</span> <code>&lt;stdnoreturn.h&gt;</code> Macros for Non-Returning Functions</h1>
<p></p>
<p d__="">This header provides a macro <code s__="13">noreturn</code> that is a handy alias for <code s__="13">_Noreturn</code>.</p>
<p d__="">Use this macro to indicate to the compiler that a function 
will never return to the caller. It’s undefined behavior if the 
so-marked function does return.</p>
<p d__="">Here’s a usage example:</p>
<div class="sourceCode" id="cb682"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb682-1"><a href="#cb682-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb682-2"><a href="#cb682-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb682-3"><a href="#cb682-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdnoreturn.h&gt;</span></span>
<span id="cb682-4"><a href="#cb682-4"></a></span>
<span id="cb682-5" d__=""><a href="#cb682-5"></a>noreturn <span class="dt" d__="">void</span> foo<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span> <span class="co" d__="">// This function should never return!</span></span>
<span id="cb682-6"><a href="#cb682-6"></a><span class="op" d__="">{</span></span>
<span id="cb682-7" d__=""><a href="#cb682-7"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Happy days</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb682-8"><a href="#cb682-8"></a></span>
<span id="cb682-9" d__=""><a href="#cb682-9"></a>    exit<span class="op" d__="">(</span><span class="dv" d__="">1</span><span class="op" d__="">);</span>            <span class="co" d__="">// And it doesn't return--it exits here!</span></span>
<span id="cb682-10"><a href="#cb682-10"></a><span class="op" d__="">}</span></span>
<span id="cb682-11"><a href="#cb682-11"></a></span>
<span id="cb682-12" d__=""><a href="#cb682-12"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb682-13"><a href="#cb682-13"></a><span class="op" d__="">{</span></span>
<span id="cb682-14" d__=""><a href="#cb682-14"></a>    foo<span class="op" d__="">();</span></span>
<span id="cb682-15"><a href="#cb682-15"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">That’s all there is to it.</p>
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="26" id="stringref" d__=""><span class="header-section-number">26</span> <code>&lt;string.h&gt;</code> String Manipulation</h1>
<p></p>
<table>
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Function</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#man-memcpy"><code s__="13" d__="">memccpy()</code></a></td>
<td d__="">Copy a region of memory to another, stopping at a specified character.</td>
</tr>
<tr class="even">
<td><a href="#man-strchr"><code s__="13" d__="">memchr()</code></a></td>
<td d__="">Find the first occurrence of a character in memory.</td>
</tr>
<tr class="odd">
<td><a href="#man-strcmp"><code s__="13" d__="">memcmp()</code></a></td>
<td d__="">Compare two regions of memory.</td>
</tr>
<tr class="even">
<td><a href="#man-memcpy"><code s__="13" d__="">memcpy()</code></a></td>
<td d__="">Copy a region of memory to another.</td>
</tr>
<tr class="odd">
<td><a href="#man-memcpy"><code s__="13" d__="">memmove()</code></a></td>
<td d__="">Move a (potentially overlapping) region of memory.</td>
</tr>
<tr class="even">
<td><a href="#man-memset"><code s__="13" d__="">memset()</code></a></td>
<td d__="">Set a region of memory to a value.</td>
</tr>
<tr class="odd">
<td><a href="#man-memset"><code s__="13" d__="">memset_explicit()</code></a></td>
<td d__="">Set a region of memory to a value in a manner that cannot be optimized away.</td>
</tr>
<tr class="even">
<td><a href="#man-strcat"><code s__="13" d__="">strcat()</code></a></td>
<td d__="">Concatenate (join) two strings together.</td>
</tr>
<tr class="odd">
<td><a href="#man-strchr"><code s__="13" d__="">strchr()</code></a></td>
<td d__="">Find the first occurrence of a character in a string.</td>
</tr>
<tr class="even">
<td><a href="#man-strcmp"><code s__="13" d__="">strcmp()</code></a></td>
<td d__="">Compare two strings.</td>
</tr>
<tr class="odd">
<td><a href="#man-strcoll"><code s__="13" d__="">strcoll()</code></a></td>
<td d__="">Compare two strings accounting for locale.</td>
</tr>
<tr class="even">
<td><a href="#man-strcpy"><code s__="13" d__="">strcpy()</code></a></td>
<td d__="">Copy a string.</td>
</tr>
<tr class="odd">
<td><a href="#man-strspn"><code s__="13" d__="">strcspn()</code></a></td>
<td d__="">Find length of a string not consisting of a set of characters.</td>
</tr>
<tr class="even">
<td><a href="#man-strdup"><code s__="13" d__="">strdup()</code></a></td>
<td d__="">Duplicate a string on the heap.</td>
</tr>
<tr class="odd">
<td><a href="#man-strerror"><code s__="13" d__="">strerror()</code></a></td>
<td d__="">Return a human-readable error message for a given code.</td>
</tr>
<tr class="even">
<td><a href="#man-strlen"><code s__="13" d__="">strlen()</code></a></td>
<td d__="">Return the length of a string.</td>
</tr>
<tr class="odd">
<td><a href="#man-strcat"><code s__="13" d__="">strncat()</code></a></td>
<td d__="">Concatenate (join) two strings, length-limited.</td>
</tr>
<tr class="even">
<td><a href="#man-strcmp"><code s__="13" d__="">strncmp()</code></a></td>
<td d__="">Compare two strings, length-limited.</td>
</tr>
<tr class="odd">
<td><a href="#man-strcpy"><code s__="13" d__="">strncpy()</code></a></td>
<td d__="">Copy two strings, length-limited.</td>
</tr>
<tr class="even">
<td><a href="#man-strdup"><code s__="13" d__="">strndup()</code></a></td>
<td d__="">Duplicate a string on the heap, length-limited.</td>
</tr>
<tr class="odd">
<td><a href="#man-strpbrk"><code s__="13" d__="">strpbrk()</code></a></td>
<td d__="">Search a string for one of a set of character.</td>
</tr>
<tr class="even">
<td><a href="#man-strchr"><code s__="13" d__="">strrchr()</code></a></td>
<td d__="">Find the last occurrence of a character in a string.</td>
</tr>
<tr class="odd">
<td><a href="#man-strspn"><code s__="13" d__="">strspn()</code></a></td>
<td d__="">Find length of a string consisting of a set of characters.</td>
</tr>
<tr class="even">
<td><a href="#man-strstr"><code s__="13" d__="">strstr()</code></a></td>
<td d__="">Find a substring in a string.</td>
</tr>
<tr class="odd">
<td><a href="#man-strtok"><code s__="13" d__="">strtok()</code></a></td>
<td d__="">Tokenize a string.</td>
</tr>
<tr class="even">
<td><a href="#man-strxfrm"><code s__="13" d__="">strxfrm()</code></a></td>
<td d__="">Prepare a string for comparison as if by <code s__="13">strcoll()</code>.</td>
</tr>
</tbody>
</table>
<p d__="">As has been mentioned earlier in the guide, a string in C is a sequence of bytes in memory, terminated by a NUL character (‘<code s__="13">\0</code>’). The NUL at the end is important, since it lets all these string functions (and <code s__="13">printf()</code> and <code s__="13">puts()</code> and everything else that deals with a string) know where the end of the string actually is.</p>
<p d__="">Fortunately, when you operate on a string using one of these 
many functions available to you, they add the NUL terminator on for you,
 so you actually rarely have to keep track of it yourself. (Sometimes 
you do, especially if you’re building a string from scratch a character 
at a time or something.)</p>
<p d__="">In this section you’ll find functions for pulling substrings 
out of strings, concatenating strings together, getting the length of a 
string, and so forth and so on.</p>
<hr>
<h2 data-number="26.1" id="man-memcpy" d__=""><span class="header-section-number">26.1</span> <code>memcpy()</code>, <code>memccpy()</code>, <code>memmove()</code></h2>
<p> </p>
<p d__="">Copy bytes of memory from one location to another</p>
<h3 class="unnumbered unlisted" id="synopsis-199" d__="">Synopsis</h3>
<p d__=""><code s__="13">memccpy()</code> is new in C23!</p>
<div class="sourceCode" id="cb683"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb683-1"><a href="#cb683-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb683-2"><a href="#cb683-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb683-3" d__=""><a href="#cb683-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> <span class="op" d__="">*</span>memcpy<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s1<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">void</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s2<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">);</span></span>
<span id="cb683-4"><a href="#cb683-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb683-5" d__=""><a href="#cb683-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> <span class="op" d__="">*</span>memccpy<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s1<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">void</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s2<span class="op" d__="">,</span> <span class="dt" d__="">int</span> c<span class="op" d__="">,</span></span>
<span id="cb683-6" d__=""><a href="#cb683-6" aria-hidden="true" tabindex="-1"></a>              <span class="dt" d__="">size_t</span> n<span class="op" d__="">);</span></span>
<span id="cb683-7"><a href="#cb683-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb683-8" d__=""><a href="#cb683-8" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> <span class="op" d__="">*</span>memmove<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>s1<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">void</span> <span class="op" d__="">*</span>s2<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-199" d__="">Description</h3>
<p d__="">These functions copy memory—as many bytes as you want! From source to destination for as many bytes as you specify!</p>
<p d__=""><code s__="13">memccpy()</code> gives you the additional option of stopping after a certain character is encountered in the source.</p>
<p d__="">The main difference between the <code s__="13">memcpy()</code> variants and <code s__="13">memmove()</code> is that the former cannot safely copy overlapping memory regions, whereas the latter can.</p>
<p d__="">I’m not sure why you’d want to ever use <code s__="13">memcpy()</code> instead of <code s__="13">memmove()</code>, but I’ll bet it’s possibly more performant.</p>
<p d__="">The parameters are in a particular order: destination first, then source. I remember this order because it behaves like an “<code s__="13">=</code>” assignment: the destination is on the left.</p>
<h3 class="unnumbered unlisted" id="return-value-197" d__="">Return Value</h3>
<p d__="">Both functions return whatever you passed in for parameter <code s__="13">s1</code> for your convenience.</p>
<h3 class="unnumbered unlisted" id="example-200" d__="">Example</h3>
<div class="sourceCode" id="cb684"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb684-1"><a href="#cb684-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb684-2"><a href="#cb684-2"></a></span>
<span id="cb684-3" d__=""><a href="#cb684-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb684-4"><a href="#cb684-4"></a><span class="op" d__="">{</span></span>
<span id="cb684-5" d__=""><a href="#cb684-5"></a>    <span class="dt" d__="">char</span> s<span class="op" d__="">[</span><span class="dv" d__="">100</span><span class="op" d__="">]</span> <span class="op" d__="">=</span> <span class="st" d__="">"Goats"</span><span class="op" d__="">;</span></span>
<span id="cb684-6" d__=""><a href="#cb684-6"></a>    <span class="dt" d__="">char</span> t<span class="op" d__="">[</span><span class="dv" d__="">100</span><span class="op" d__="">];</span></span>
<span id="cb684-7"><a href="#cb684-7"></a></span>
<span id="cb684-8" d__=""><a href="#cb684-8"></a>    memcpy<span class="op" d__="">(</span>t<span class="op" d__="">,</span> s<span class="op" d__="">,</span> <span class="dv" d__="">6</span><span class="op" d__="">);</span>       <span class="co" d__="">// Copy non-overlapping memory</span></span>
<span id="cb684-9"><a href="#cb684-9"></a></span>
<span id="cb684-10" d__=""><a href="#cb684-10"></a>    memmove<span class="op" d__="">(</span>s <span class="op" d__="">+</span> <span class="dv" d__="">2</span><span class="op" d__="">,</span> s<span class="op" d__="">,</span> <span class="dv" d__="">6</span><span class="op" d__="">);</span>  <span class="co" d__="">// Copy overlapping memory</span></span>
<span id="cb684-11"><a href="#cb684-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-187" d__="">See Also</h3>
<p d__=""><a href="#man-strcpy"><code s__="13" d__="">strcpy()</code></a>, <a href="#man-strcpy"><code s__="13" d__="">strncpy()</code></a></p>
<hr>
<h2 data-number="26.2" id="man-strcpy" d__=""><span class="header-section-number">26.2</span> <code>strcpy()</code>, <code>strncpy()</code></h2>
<p> </p>
<p d__="">Copy a string</p>
<h3 class="unnumbered unlisted" id="synopsis-200" d__="">Synopsis</h3>
<div class="sourceCode" id="cb685"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb685-1"><a href="#cb685-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb685-2"><a href="#cb685-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb685-3" d__=""><a href="#cb685-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> <span class="op" d__="">*</span>strcpy<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span>dest<span class="op" d__="">,</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>src<span class="op" d__="">);</span></span>
<span id="cb685-4"><a href="#cb685-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb685-5" d__=""><a href="#cb685-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> <span class="op" d__="">*</span>strncpy<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span>dest<span class="op" d__="">,</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>src<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-200" d__="">Description</h3>
<p d__="">These functions copy a string from one address to another, stopping at the NUL terminator on the <code s__="13">src</code>string.</p>
<p d__=""><code s__="13">strncpy()</code> is just like <code s__="13">strcpy()</code>, except only the first <code s__="13">n</code> characters are actually copied. Beware that if you hit the limit, <code s__="13">n</code> before you get a NUL terminator on the <code s__="13">src</code> string, your <code s__="13">dest</code> string won’t be NUL-terminated. Beware! BEWARE!</p>
<p d__="">(If the <code s__="13">src</code> string has fewer than <code s__="13">n</code> characters, it works just like <code s__="13">strcpy()</code>.)</p>
<p d__="">You can terminate the string yourself by sticking the <code s__="13">'\0'</code> in there yourself:</p>
<div class="sourceCode" id="cb686"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb686-1" d__=""><a href="#cb686-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> s<span class="op" d__="">[</span><span class="dv" d__="">10</span><span class="op" d__="">];</span></span>
<span id="cb686-2" d__=""><a href="#cb686-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> foo <span class="op" d__="">=</span> <span class="st" d__="">"My hovercraft is full of eels."</span><span class="op" d__="">;</span> <span class="co" d__="">// more than 10 chars</span></span>
<span id="cb686-3"><a href="#cb686-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb686-4" d__=""><a href="#cb686-4" aria-hidden="true" tabindex="-1"></a>strncpy<span class="op" d__="">(</span>s<span class="op" d__="">,</span> foo<span class="op" d__="">,</span> <span class="dv" d__="">9</span><span class="op" d__="">);</span> <span class="co" d__="">// only copy 9 chars into positions 0-8</span></span>
<span id="cb686-5" d__=""><a href="#cb686-5" aria-hidden="true" tabindex="-1"></a>s<span class="op" d__="">[</span><span class="dv" d__="">9</span><span class="op" d__="">]</span> <span class="op" d__="">=</span> <span class="ch" d__="">'</span><span class="sc" d__="">\0</span><span class="ch" d__="">'</span><span class="op" d__="">;</span>        <span class="co" d__="">// position 9 gets the terminator</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="return-value-198" d__="">Return Value</h3>
<p d__="">Both functions return <code s__="13">dest</code> for your convenience, at no extra charge.</p>
<h3 class="unnumbered unlisted" id="example-201" d__="">Example</h3>
<div class="sourceCode" id="cb687"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb687-1"><a href="#cb687-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb687-2"><a href="#cb687-2"></a></span>
<span id="cb687-3" d__=""><a href="#cb687-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb687-4"><a href="#cb687-4"></a><span class="op" d__="">{</span></span>
<span id="cb687-5" d__=""><a href="#cb687-5"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>src <span class="op" d__="">=</span> <span class="st" d__="">"hockey hockey hockey hockey hockey hockey hockey hockey"</span><span class="op" d__="">;</span></span>
<span id="cb687-6" d__=""><a href="#cb687-6"></a>    <span class="dt" d__="">char</span> dest<span class="op" d__="">[</span><span class="dv" d__="">20</span><span class="op" d__="">];</span></span>
<span id="cb687-7"><a href="#cb687-7"></a></span>
<span id="cb687-8" d__=""><a href="#cb687-8"></a>    <span class="dt" d__="">int</span> len<span class="op" d__="">;</span></span>
<span id="cb687-9"><a href="#cb687-9"></a></span>
<span id="cb687-10" d__=""><a href="#cb687-10"></a>    strcpy<span class="op" d__="">(</span>dest<span class="op" d__="">,</span> <span class="st" d__="">"I like "</span><span class="op" d__="">);</span> <span class="co" d__="">// dest is now "I like "</span></span>
<span id="cb687-11"><a href="#cb687-11"></a></span>
<span id="cb687-12" d__=""><a href="#cb687-12"></a>    len <span class="op" d__="">=</span> strlen<span class="op" d__="">(</span>dest<span class="op" d__="">);</span></span>
<span id="cb687-13"><a href="#cb687-13"></a></span>
<span id="cb687-14"><a href="#cb687-14"></a>    <span class="co" d__="">// tricky, but let's use some pointer arithmetic and math to append</span></span>
<span id="cb687-15"><a href="#cb687-15"></a>    <span class="co" d__="">// as much of src as possible onto the end of dest, -1 on the length to</span></span>
<span id="cb687-16"><a href="#cb687-16"></a>    <span class="co" d__="">// leave room for the terminator:</span></span>
<span id="cb687-17" d__=""><a href="#cb687-17"></a>    strncpy<span class="op" d__="">(</span>dest<span class="op" d__="">+</span>len<span class="op" d__="">,</span> src<span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span><span class="op" d__="">(</span>dest<span class="op" d__="">)-</span>len<span class="op" d__="">-</span><span class="dv" d__="">1</span><span class="op" d__="">);</span></span>
<span id="cb687-18"><a href="#cb687-18"></a></span>
<span id="cb687-19"><a href="#cb687-19"></a>    <span class="co" d__="">// remember that sizeof() returns the size of the array in bytes</span></span>
<span id="cb687-20"><a href="#cb687-20"></a>    <span class="co" d__="">// and a char is a byte:</span></span>
<span id="cb687-21" d__=""><a href="#cb687-21"></a>    dest<span class="op" d__="">[</span><span class="kw" d__="">sizeof</span><span class="op" d__="">(</span>dest<span class="op" d__="">)-</span><span class="dv" d__="">1</span><span class="op" d__="">]</span> <span class="op" d__="">=</span> <span class="ch" d__="">'</span><span class="sc" d__="">\0</span><span class="ch" d__="">'</span><span class="op" d__="">;</span> <span class="co" d__="">// terminate</span></span>
<span id="cb687-22"><a href="#cb687-22"></a></span>
<span id="cb687-23"><a href="#cb687-23"></a>    <span class="co" d__="">// dest is now:       v null terminator</span></span>
<span id="cb687-24"><a href="#cb687-24"></a>    <span class="co" d__="">// I like hockey hocke </span></span>
<span id="cb687-25"><a href="#cb687-25"></a>    <span class="co" d__="">// 01234567890123456789012345</span></span>
<span id="cb687-26"><a href="#cb687-26"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-188" d__="">See Also</h3>
<p d__=""><a href="#man-memcpy"><code s__="13" d__="">memcpy()</code></a>, <a href="#man-strcat"><code s__="13" d__="">strcat()</code></a>, <a href="#man-strcat"><code s__="13" d__="">strncat()</code></a></p>
<hr>
<h2 data-number="26.3" id="man-strdup" d__=""><span class="header-section-number">26.3</span> <code>strdup()</code>, <code>strndup()</code></h2>
<p> </p>
<p d__="">Duplicate a string on the heap</p>
<h3 class="unnumbered unlisted" id="synopsis-201" d__="">Synopsis</h3>
<p d__="">New in C23!</p>
<div class="sourceCode" id="cb688"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb688-1"><a href="#cb688-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb688-2"><a href="#cb688-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb688-3" d__=""><a href="#cb688-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> <span class="op" d__="">*</span>strdup<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s<span class="op" d__="">);</span></span>
<span id="cb688-4"><a href="#cb688-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb688-5" d__=""><a href="#cb688-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> <span class="op" d__="">*</span>strndup<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> size<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-201" d__="">Description</h3>
<p d__="">This is like <code s__="13">strcpy()</code>, except it allocates space for the new string, just as if it had been done with <a href="#man-malloc"><code s__="13" d__="">malloc()</code></a>.</p>
<p d__="">The pointer to the duplicate string it returns should be freed up with a call to <a href="#man-free"><code s__="13" d__="">free()</code></a> once you’re done with it.</p>
<p d__=""><code s__="13">strndup()</code> works the same way, except you can limit the number of bytes duplicated. <code s__="13">strndup()</code> always produces a NUL-terminated string.</p>
<h3 class="unnumbered unlisted" id="return-value-199" d__="">Return Value</h3>
<p d__="">Both functions return a pointer to the newly created string, or <code s__="13">NULL</code> if the memory for the duplicate cannot be allocated.</p>
<h3 class="unnumbered unlisted" id="example-202" d__="">Example</h3>
<p d__="">Here’s an example that duplicates a string and then capitalizes the first letter of the duplicate.</p>
<div class="sourceCode" id="cb689"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb689-1"><a href="#cb689-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb689-2"><a href="#cb689-2" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb689-3"><a href="#cb689-3" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb689-4"><a href="#cb689-4" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;ctype.h&gt;</span></span>
<span id="cb689-5"><a href="#cb689-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb689-6" d__=""><a href="#cb689-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> <span class="op" d__="">*</span>dup_cap<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s<span class="op" d__="">)</span></span>
<span id="cb689-7"><a href="#cb689-7" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">{</span></span>
<span id="cb689-8" d__=""><a href="#cb689-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>d <span class="op" d__="">=</span> strdup<span class="op" d__="">(</span>s<span class="op" d__="">);</span></span>
<span id="cb689-9"><a href="#cb689-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb689-10" d__=""><a href="#cb689-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>d <span class="op" d__="">!=</span> NULL<span class="op" d__="">)</span></span>
<span id="cb689-11" d__=""><a href="#cb689-11" aria-hidden="true" tabindex="-1"></a>        d<span class="op" d__="">[</span><span class="dv" d__="">0</span><span class="op" d__="">]</span> <span class="op" d__="">=</span> toupper<span class="op" d__="">(</span>d<span class="op" d__="">[</span><span class="dv" d__="">0</span><span class="op" d__="">]);</span></span>
<span id="cb689-12"><a href="#cb689-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb689-13" d__=""><a href="#cb689-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf" d__="">return</span> d<span class="op" d__="">;</span></span>
<span id="cb689-14"><a href="#cb689-14" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span>
<span id="cb689-15"><a href="#cb689-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb689-16" d__=""><a href="#cb689-16" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb689-17"><a href="#cb689-17" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">{</span></span>
<span id="cb689-18" d__=""><a href="#cb689-18" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s <span class="op" d__="">=</span> dup_cap<span class="op" d__="">(</span><span class="st" d__="">"hello, world!"</span><span class="op" d__="">);</span></span>
<span id="cb689-19"><a href="#cb689-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb689-20" d__=""><a href="#cb689-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>s <span class="op" d__="">!=</span> NULL<span class="op" d__="">)</span></span>
<span id="cb689-21" d__=""><a href="#cb689-21" aria-hidden="true" tabindex="-1"></a>        puts<span class="op" d__="">(</span>s<span class="op" d__="">);</span>  <span class="co" d__="">// Hello, world!</span></span>
<span id="cb689-22"><a href="#cb689-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf" d__="">else</span></span>
<span id="cb689-23" d__=""><a href="#cb689-23" aria-hidden="true" tabindex="-1"></a>        puts<span class="op" d__="">(</span><span class="st" d__="">"Error duplicating string"</span><span class="op" d__="">);</span></span>
<span id="cb689-24"><a href="#cb689-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb689-25" d__=""><a href="#cb689-25" aria-hidden="true" tabindex="-1"></a>    free<span class="op" d__="">(</span>s<span class="op" d__="">);</span></span>
<span id="cb689-26"><a href="#cb689-26" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-189" d__="">See Also</h3>
<p d__=""><a href="#man-strcpy"><code s__="13" d__="">strcpy()</code></a>, <a href="#man-strcpy"><code s__="13" d__="">strncpy()</code></a>, <a href="#man-malloc"><code s__="13" d__="">malloc()</code></a>, <a href="#man-free"><code s__="13" d__="">free()</code></a></p>
<hr>
<h2 data-number="26.4" id="man-strcat" d__=""><span class="header-section-number">26.4</span> <code>strcat()</code>, <code>strncat()</code></h2>
<p> </p>
<p d__="">Concatenate two strings into a single string</p>
<h3 class="unnumbered unlisted" id="synopsis-202" d__="">Synopsis</h3>
<div class="sourceCode" id="cb690"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb690-1"><a href="#cb690-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb690-2"><a href="#cb690-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb690-3" d__=""><a href="#cb690-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> strcat<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>dest<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>src<span class="op" d__="">);</span></span>
<span id="cb690-4"><a href="#cb690-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb690-5" d__=""><a href="#cb690-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> strncat<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>dest<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>src<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-202" d__="">Description</h3>
<p d__="">“Concatenate”, for those not in the know, means to “stick 
together”. These functions take two strings, and stick them together, 
storing the result in the first string.</p>
<p d__="">These functions don’t take the size of the first string into 
account when it does the concatenation. What this means in practical 
terms is that you can try to stick a 2 megabyte string into a 10 byte 
space. This will lead to unintended consequences, unless you intended to
 lead to unintended consequences, in which case it will lead to intended
 unintended consequences.</p>
<p d__="">Technical banter aside, your boss and/or professor will be irate.</p>
<p d__="">If you want to make sure you don’t overrun the first string, 
be sure to check the lengths of the strings first and use some highly 
technical subtraction to make sure things fit.</p>
<p d__="">You can actually only concatenate the first <code s__="13">n</code> characters of the second string by using <code s__="13">strncat()</code> and specifying the maximum number of characters to copy.</p>
<h3 class="unnumbered unlisted" id="return-value-200" d__="">Return Value</h3>
<p d__="">Both functions return a pointer to the destination string, like most of the string-oriented functions.</p>
<h3 class="unnumbered unlisted" id="example-203" d__="">Example</h3>
<div class="sourceCode" id="cb691"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb691-1"><a href="#cb691-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb691-2"><a href="#cb691-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb691-3"><a href="#cb691-3"></a></span>
<span id="cb691-4" d__=""><a href="#cb691-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb691-5"><a href="#cb691-5"></a><span class="op" d__="">{</span></span>
<span id="cb691-6" d__=""><a href="#cb691-6"></a>    <span class="dt" d__="">char</span> dest<span class="op" d__="">[</span><span class="dv" d__="">30</span><span class="op" d__="">]</span> <span class="op" d__="">=</span> <span class="st" d__="">"Hello"</span><span class="op" d__="">;</span></span>
<span id="cb691-7" d__=""><a href="#cb691-7"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>src <span class="op" d__="">=</span> <span class="st" d__="">", World!"</span><span class="op" d__="">;</span></span>
<span id="cb691-8" d__=""><a href="#cb691-8"></a>    <span class="dt" d__="">char</span> numbers<span class="op" d__="">[]</span> <span class="op" d__="">=</span> <span class="st" d__="">"12345678"</span><span class="op" d__="">;</span></span>
<span id="cb691-9"><a href="#cb691-9"></a></span>
<span id="cb691-10" d__=""><a href="#cb691-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"dest before strcat: </span><span class="sc" d__="">\"%s\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> dest<span class="op" d__="">);</span> <span class="co" d__="">// "Hello"</span></span>
<span id="cb691-11"><a href="#cb691-11"></a></span>
<span id="cb691-12" d__=""><a href="#cb691-12"></a>    strcat<span class="op" d__="">(</span>dest<span class="op" d__="">,</span> src<span class="op" d__="">);</span></span>
<span id="cb691-13" d__=""><a href="#cb691-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"dest after strcat:  </span><span class="sc" d__="">\"%s\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> dest<span class="op" d__="">);</span> <span class="co" d__="">// "Hello, world!"</span></span>
<span id="cb691-14"><a href="#cb691-14"></a></span>
<span id="cb691-15" d__=""><a href="#cb691-15"></a>    strncat<span class="op" d__="">(</span>dest<span class="op" d__="">,</span> numbers<span class="op" d__="">,</span> <span class="dv" d__="">3</span><span class="op" d__="">);</span> <span class="co" d__="">// strcat first 3 chars of numbers</span></span>
<span id="cb691-16" d__=""><a href="#cb691-16"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"dest after strncat: </span><span class="sc" d__="">\"%s\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> dest<span class="op" d__="">);</span> <span class="co" d__="">// "Hello, world!123"</span></span>
<span id="cb691-17"><a href="#cb691-17"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Notice I mixed and matched pointer and array notation there with <code s__="13">src</code> and <code s__="13">numbers</code>; this is just fine with string functions.</p>
<h3 class="unnumbered unlisted" id="see-also-190" d__="">See Also</h3>
<p><a href="#man-strlen"><code s__="13" d__="">strlen()</code></a></p>
<hr>
<h2 data-number="26.5" id="man-strcmp" d__=""><span class="header-section-number">26.5</span> <code>strcmp()</code>, <code>strncmp()</code>, <code>memcmp()</code></h2>
<p> </p>
<p d__="">Compare two strings or memory regions and return a difference</p>
<h3 class="unnumbered unlisted" id="synopsis-203" d__="">Synopsis</h3>
<div class="sourceCode" id="cb692"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb692-1"><a href="#cb692-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb692-2"><a href="#cb692-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb692-3" d__=""><a href="#cb692-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> strcmp<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s1<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s2<span class="op" d__="">);</span></span>
<span id="cb692-4"><a href="#cb692-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb692-5" d__=""><a href="#cb692-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> strncmp<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s1<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s2<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">);</span></span>
<span id="cb692-6"><a href="#cb692-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb692-7" d__=""><a href="#cb692-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> memcmp<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">void</span> <span class="op" d__="">*</span>s1<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">void</span> <span class="op" d__="">*</span>s2<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-203" d__="">Description</h3>
<p d__="">All these functions compare chunks of bytes in memory.</p>
<p d__=""><code s__="13">strcmp()</code> and <code s__="13">strncmp()</code> operate on NUL-terminated strings, whereas <code s__="13">memcmp()</code> will compare the number of bytes you specify, brazenly ignoring any NUL characters it finds along the way.</p>
<p d__=""><code s__="13">strcmp()</code> compares the entire string down to the end, while <code s__="13">strncmp()</code> only compares the first <code s__="13">n</code> characters of the strings.</p>
<p d__="">It’s a little funky what they return. Basically it’s a 
difference of the strings, so if the strings are the same, it’ll return 
zero (since the difference is zero). It’ll return non-zero if the 
strings differ; basically it will find the first mismatched character 
and return less-than zero if that character in <code s__="13">s1</code> is less than the corresponding character in <code s__="13">s2</code>. It’ll return greater-than zero if that character in <code s__="13">s1</code> is greater than that in <code s__="13">s2</code>.</p>
<p d__="">So if they return <code s__="13">0</code>, the comparison was equal (i.e.&nbsp;the difference was <code s__="13">0</code>.)</p>
<p d__="">These functions can be used as comparison functions for <a href="#man-qsort"><code s__="13" d__="">qsort()</code></a> if you have an array of <code s__="13">char*</code>s you want to sort.</p>
<h3 class="unnumbered unlisted" id="return-value-201" d__="">Return Value</h3>
<p d__="">Returns zero if the strings or memory are the same, less-than zero if the first different character in <code s__="13">s1</code> is less than that in <code s__="13">s2</code>, or greater-than zero if the first difference character in <code s__="13">s1</code> is greater than than in <code s__="13">s2</code>.</p>
<h3 class="unnumbered unlisted" id="example-204" d__="">Example</h3>
<div class="sourceCode" id="cb693"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb693-1"><a href="#cb693-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb693-2"><a href="#cb693-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb693-3"><a href="#cb693-3"></a></span>
<span id="cb693-4" d__=""><a href="#cb693-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb693-5"><a href="#cb693-5"></a><span class="op" d__="">{</span></span>
<span id="cb693-6" d__=""><a href="#cb693-6"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s1 <span class="op" d__="">=</span> <span class="st" d__="">"Muffin"</span><span class="op" d__="">;</span></span>
<span id="cb693-7" d__=""><a href="#cb693-7"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s2 <span class="op" d__="">=</span> <span class="st" d__="">"Muffin Sandwich"</span><span class="op" d__="">;</span></span>
<span id="cb693-8" d__=""><a href="#cb693-8"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s3 <span class="op" d__="">=</span> <span class="st" d__="">"Muffin"</span><span class="op" d__="">;</span></span>
<span id="cb693-9"><a href="#cb693-9"></a></span>
<span id="cb693-10" d__=""><a href="#cb693-10"></a>    <span class="dt" d__="">int</span> r1 <span class="op" d__="">=</span> strcmp<span class="op" d__="">(</span><span class="st" d__="">"Biscuits"</span><span class="op" d__="">,</span> <span class="st" d__="">"Kittens"</span><span class="op" d__="">);</span></span>
<span id="cb693-11" d__=""><a href="#cb693-11"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> r1<span class="op" d__="">);</span> <span class="co" d__="">// prints &lt; 0 since 'B' &lt; 'K'</span></span>
<span id="cb693-12"><a href="#cb693-12"></a></span>
<span id="cb693-13" d__=""><a href="#cb693-13"></a>    <span class="dt" d__="">int</span> r2 <span class="op" d__="">=</span> strcmp<span class="op" d__="">(</span><span class="st" d__="">"Kittens"</span><span class="op" d__="">,</span> <span class="st" d__="">"Biscuits"</span><span class="op" d__="">);</span></span>
<span id="cb693-14" d__=""><a href="#cb693-14"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> r2<span class="op" d__="">);</span> <span class="co" d__="">// prints &gt; 0 since 'K' &gt; 'B'</span></span>
<span id="cb693-15"><a href="#cb693-15"></a></span>
<span id="cb693-16" d__=""><a href="#cb693-16"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>strcmp<span class="op" d__="">(</span>s1<span class="op" d__="">,</span> s2<span class="op" d__="">)</span> <span class="op" d__="">==</span> <span class="dv" d__="">0</span><span class="op" d__="">)</span></span>
<span id="cb693-17" d__=""><a href="#cb693-17"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"This won't get printed because the strings differ</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb693-18"><a href="#cb693-18"></a></span>
<span id="cb693-19" d__=""><a href="#cb693-19"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>strcmp<span class="op" d__="">(</span>s1<span class="op" d__="">,</span> s3<span class="op" d__="">)</span> <span class="op" d__="">==</span> <span class="dv" d__="">0</span><span class="op" d__="">)</span></span>
<span id="cb693-20" d__=""><a href="#cb693-20"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"This will print because s1 and s3 are the same</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb693-21"><a href="#cb693-21"></a></span>
<span id="cb693-22"><a href="#cb693-22"></a>    <span class="co" d__="">// this is a little weird...but if the strings are the same, it'll</span></span>
<span id="cb693-23"><a href="#cb693-23"></a>    <span class="co" d__="">// return zero, which can also be thought of as "false". Not-false</span></span>
<span id="cb693-24"><a href="#cb693-24"></a>    <span class="co" d__="">// is "true", so (!strcmp()) will be true if the strings are the</span></span>
<span id="cb693-25"><a href="#cb693-25"></a>    <span class="co" d__="">// same. yes, it's odd, but you see this all the time in the wild</span></span>
<span id="cb693-26"><a href="#cb693-26"></a>    <span class="co" d__="">// so you might as well get used to it:</span></span>
<span id="cb693-27"><a href="#cb693-27"></a></span>
<span id="cb693-28" d__=""><a href="#cb693-28"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(!</span>strcmp<span class="op" d__="">(</span>s1<span class="op" d__="">,</span> s3<span class="op" d__="">))</span></span>
<span id="cb693-29" d__=""><a href="#cb693-29"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"The strings are the same!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb693-30"><a href="#cb693-30"></a></span>
<span id="cb693-31" d__=""><a href="#cb693-31"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(!</span>strncmp<span class="op" d__="">(</span>s1<span class="op" d__="">,</span> s2<span class="op" d__="">,</span> <span class="dv" d__="">6</span><span class="op" d__="">))</span></span>
<span id="cb693-32" d__=""><a href="#cb693-32"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"The first 6 characters of s1 and s2 are the same</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb693-33"><a href="#cb693-33"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-191" d__="">See Also</h3>
<p d__=""><a href="#man-strcmp"><code s__="13" d__="">memcmp()</code></a>, <a href="#man-qsort"><code s__="13" d__="">qsort()</code></a></p>
<hr>
<h2 data-number="26.6" id="man-strcoll"><span class="header-section-number" d__="">26.6</span> <code d__="">strcoll()</code></h2>
<p></p>
<p d__="">Compare two strings accounting for locale</p>
<h3 class="unnumbered unlisted" id="synopsis-204" d__="">Synopsis</h3>
<div class="sourceCode" id="cb694"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb694-1"><a href="#cb694-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb694-2"><a href="#cb694-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb694-3" d__=""><a href="#cb694-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> strcoll<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s1<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s2<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-204" d__="">Description</h3>
<p d__="">This is basically <code s__="13">strcmp()</code>, except that it handles accented characters better depending on the locale.</p>
<p d__="">For example, my <code s__="13">strcmp()</code> reports that the character “é” (with accent) is greater than “f”. But that’s hardly useful for alphabetizing.</p>
<p d__="">By setting the <code s__="13">LC_COLLATE</code> locale value (either by name or via <code s__="13">LC_ALL</code>), you can have <code s__="13">strcoll()</code> sort in a way that’s more meaningful by the current locale. For example, by having “é” appear sanely <em>before</em> “f”.</p>
<p d__="">It’s also a lot slower than <code s__="13">strcmp()</code> so use it only if you have to. See <a href="#man-strxfrm"><code s__="13" d__="">strxfrm()</code></a> for a potential speedup.</p>
<h3 class="unnumbered unlisted" id="return-value-202" d__="">Return Value</h3>
<p d__="">Like the other string comparison functions, <code s__="13">strcoll()</code> returns a negative value if <code s__="13">s1</code> is less than <code s__="13">s2</code>, or a positive value if <code s__="13">s1</code> is greater than <code s__="13">s2</code>. Or <code s__="13">0</code> if they are equal.</p>
<h3 class="unnumbered unlisted" id="example-205" d__="">Example</h3>
<div class="sourceCode" id="cb695"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb695-1"><a href="#cb695-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb695-2"><a href="#cb695-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb695-3"><a href="#cb695-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;locale.h&gt;</span></span>
<span id="cb695-4"><a href="#cb695-4"></a></span>
<span id="cb695-5" d__=""><a href="#cb695-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb695-6"><a href="#cb695-6"></a><span class="op" d__="">{</span></span>
<span id="cb695-7" d__=""><a href="#cb695-7"></a>    setlocale<span class="op" d__="">(</span>LC_ALL<span class="op" d__="">,</span> <span class="st" d__="">""</span><span class="op" d__="">);</span></span>
<span id="cb695-8"><a href="#cb695-8"></a></span>
<span id="cb695-9"><a href="#cb695-9"></a>    <span class="co" d__="">// If your source character set doesn't support "é" in a string</span></span>
<span id="cb695-10"><a href="#cb695-10"></a>    <span class="co" d__="">// you can replace it with `\u00e9`, the Unicode code point</span></span>
<span id="cb695-11"><a href="#cb695-11"></a>    <span class="co" d__="">// for "é".</span></span>
<span id="cb695-12"><a href="#cb695-12"></a></span>
<span id="cb695-13" d__=""><a href="#cb695-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> strcmp<span class="op" d__="">(</span><span class="st" d__="">"é"</span><span class="op" d__="">,</span> <span class="st" d__="">"f"</span><span class="op" d__="">));</span>   <span class="co" d__="">// Reports é &gt; f, yuck.</span></span>
<span id="cb695-14" d__=""><a href="#cb695-14"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> strcoll<span class="op" d__="">(</span><span class="st" d__="">"é"</span><span class="op" d__="">,</span> <span class="st" d__="">"f"</span><span class="op" d__="">));</span>  <span class="co" d__="">// Reports é &lt; f, yay!</span></span>
<span id="cb695-15"><a href="#cb695-15"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-192" d__="">See Also</h3>
<p><a href="#man-strcmp"><code s__="13" d__="">strcmp()</code></a></p>
<hr>
<h2 data-number="26.7" id="man-strxfrm"><span class="header-section-number" d__="">26.7</span> <code d__="">strxfrm()</code></h2>
<p></p>
<p d__="">Transform a string for comparing based on locale</p>
<h3 class="unnumbered unlisted" id="synopsis-205" d__="">Synopsis</h3>
<div class="sourceCode" id="cb696"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb696-1"><a href="#cb696-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb696-2"><a href="#cb696-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb696-3" d__=""><a href="#cb696-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">size_t</span> strxfrm<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s1<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s2<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-205" d__="">Description</h3>
<p d__="">This is a strange little function, so bear with me.</p>
<p d__="">Firstly, if you haven’t done so, get familiar with <a href="#man-strcoll"><code s__="13" d__="">strcoll()</code></a> because this is closely related to that.</p>
<p d__="">OK! Now that you’re back, you can think of <code s__="13">strxfrm()</code> as the first part of the <code s__="13">strcoll()</code> internals. Basically, <code s__="13">strcoll()</code> has to transform a string into a form that can be compared with <code s__="13">strcmp()</code>. And it does this with <code s__="13">strxfrm()</code> for both strings every time you call it.</p>
<p d__=""><code s__="13">strxform()</code> takes string <code s__="13">s2</code> and transforms it (readies it for <code s__="13">strcmp()</code>) storing the result in <code s__="13">s1</code>. It writes no more than <code s__="13">n</code> bytes, protecting us from terrible buffer overflows.</p>
<p d__="">But hang on—there’s another mode! If you pass <code s__="13">NULL</code> for <code s__="13">s1</code> and <code s__="13">0</code> for <code s__="13">n</code>, it will return the number of bytes that the transformed string <em>would have</em> used<a href="#fn64" class="footnote-ref" id="fnref64" role="doc-noteref"><sup s__="13" d__="">64</sup></a>. This is useful if you need to allocate some space to hold the transformed string before you <code s__="13">strcmp()</code> it against another.</p>
<p d__="">What I’m getting at, not to be too blunt, is that <code s__="13">strcoll()</code> is slow compared to <code s__="13">strcmp()</code>. It does a lot of extra work running <code s__="13">strxfrm()</code> on all its strings.</p>
<p d__="">In fact, we can see how it works by writing our own like this:</p>
<div class="sourceCode" id="cb697"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb697-1" d__=""><a href="#cb697-1"></a><span class="dt" d__="">int</span> my_strcoll<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span>s1<span class="op" d__="">,</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s2<span class="op" d__="">)</span></span>
<span id="cb697-2"><a href="#cb697-2"></a><span class="op" d__="">{</span></span>
<span id="cb697-3"><a href="#cb697-3"></a>    <span class="co" d__="">// Use n = 0 to just get the lengths of the transformed strings</span></span>
<span id="cb697-4" d__=""><a href="#cb697-4"></a>    <span class="dt" d__="">int</span> len1 <span class="op" d__="">=</span> strxfrm<span class="op" d__="">(</span>NULL<span class="op" d__="">,</span> s1<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">)</span> <span class="op" d__="">+</span> <span class="dv" d__="">1</span><span class="op" d__="">;</span></span>
<span id="cb697-5" d__=""><a href="#cb697-5"></a>    <span class="dt" d__="">int</span> len2 <span class="op" d__="">=</span> strxfrm<span class="op" d__="">(</span>NULL<span class="op" d__="">,</span> s2<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">)</span> <span class="op" d__="">+</span> <span class="dv" d__="">1</span><span class="op" d__="">;</span></span>
<span id="cb697-6"><a href="#cb697-6"></a></span>
<span id="cb697-7"><a href="#cb697-7"></a>    <span class="co" d__="">// Allocate enough room for each</span></span>
<span id="cb697-8" d__=""><a href="#cb697-8"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>d1 <span class="op" d__="">=</span> malloc<span class="op" d__="">(</span>len1<span class="op" d__="">);</span></span>
<span id="cb697-9" d__=""><a href="#cb697-9"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>d2 <span class="op" d__="">=</span> malloc<span class="op" d__="">(</span>len2<span class="op" d__="">);</span></span>
<span id="cb697-10"><a href="#cb697-10"></a></span>
<span id="cb697-11"><a href="#cb697-11"></a>    <span class="co" d__="">// Transform the strings for comparison</span></span>
<span id="cb697-12" d__=""><a href="#cb697-12"></a>    strxfrm<span class="op" d__="">(</span>d1<span class="op" d__="">,</span> s1<span class="op" d__="">,</span> len1<span class="op" d__="">);</span></span>
<span id="cb697-13" d__=""><a href="#cb697-13"></a>    strxfrm<span class="op" d__="">(</span>d2<span class="op" d__="">,</span> s2<span class="op" d__="">,</span> len2<span class="op" d__="">);</span></span>
<span id="cb697-14"><a href="#cb697-14"></a></span>
<span id="cb697-15"><a href="#cb697-15"></a>    <span class="co" d__="">// Compare the transformed strings</span></span>
<span id="cb697-16" d__=""><a href="#cb697-16"></a>    <span class="dt" d__="">int</span> result <span class="op" d__="">=</span> strcmp<span class="op" d__="">(</span>d1<span class="op" d__="">,</span> d2<span class="op" d__="">);</span></span>
<span id="cb697-17"><a href="#cb697-17"></a></span>
<span id="cb697-18"><a href="#cb697-18"></a>    <span class="co" d__="">// Free up the transformed strings</span></span>
<span id="cb697-19" d__=""><a href="#cb697-19"></a>    free<span class="op" d__="">(</span>d2<span class="op" d__="">);</span></span>
<span id="cb697-20" d__=""><a href="#cb697-20"></a>    free<span class="op" d__="">(</span>d1<span class="op" d__="">);</span></span>
<span id="cb697-21"><a href="#cb697-21"></a></span>
<span id="cb697-22" d__=""><a href="#cb697-22"></a>    <span class="cf" d__="">return</span> result<span class="op" d__="">;</span></span>
<span id="cb697-23"><a href="#cb697-23"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">You see on lines 12, 13, and 16, above how we transform the two input strings and then call <code s__="13">strcmp()</code> on the result.</p>
<p d__="">So why do we have this function? Can’t we just call <code s__="13">strcoll()</code> and be done with it?</p>
<p d__="">The idea is that if you have one string that you’re going to 
be comparing against a whole lot of other ones, maybe you just want to 
transform that string one time, then use the faster <code s__="13">strcmp()</code> saving yourself a bunch of the work we had to do in the function, above.</p>
<p d__="">We’ll do that in the example.</p>
<h3 class="unnumbered unlisted" id="return-value-203" d__="">Return Value</h3>
<p d__="">Returns the number of bytes in the transformed sequence. If the value is greater than <code s__="13">n</code>, the results in <code s__="13">s1</code> are meaningless.</p>
<h3 class="unnumbered unlisted" id="example-206" d__="">Example</h3>
<div class="sourceCode" id="cb698"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb698-1"><a href="#cb698-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb698-2"><a href="#cb698-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb698-3"><a href="#cb698-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;locale.h&gt;</span></span>
<span id="cb698-4"><a href="#cb698-4"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb698-5"><a href="#cb698-5"></a></span>
<span id="cb698-6"><a href="#cb698-6"></a><span class="co" d__="">// Transform a string for comparison, returning a malloc'd</span></span>
<span id="cb698-7"><a href="#cb698-7"></a><span class="co" d__="">// result</span></span>
<span id="cb698-8" d__=""><a href="#cb698-8"></a><span class="dt" d__="">char</span> <span class="op" d__="">*</span>get_xfrm_str<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span>s<span class="op" d__="">)</span></span>
<span id="cb698-9"><a href="#cb698-9"></a><span class="op" d__="">{</span></span>
<span id="cb698-10" d__=""><a href="#cb698-10"></a>    <span class="dt" d__="">int</span> len <span class="op" d__="">=</span> strxfrm<span class="op" d__="">(</span>NULL<span class="op" d__="">,</span> s<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">)</span> <span class="op" d__="">+</span> <span class="dv" d__="">1</span><span class="op" d__="">;</span></span>
<span id="cb698-11" d__=""><a href="#cb698-11"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>d <span class="op" d__="">=</span> malloc<span class="op" d__="">(</span>len<span class="op" d__="">);</span></span>
<span id="cb698-12"><a href="#cb698-12"></a></span>
<span id="cb698-13" d__=""><a href="#cb698-13"></a>    strxfrm<span class="op" d__="">(</span>d<span class="op" d__="">,</span> s<span class="op" d__="">,</span> len<span class="op" d__="">);</span></span>
<span id="cb698-14"><a href="#cb698-14"></a></span>
<span id="cb698-15" d__=""><a href="#cb698-15"></a>    <span class="cf" d__="">return</span> d<span class="op" d__="">;</span></span>
<span id="cb698-16"><a href="#cb698-16"></a><span class="op" d__="">}</span></span>
<span id="cb698-17"><a href="#cb698-17"></a></span>
<span id="cb698-18"><a href="#cb698-18"></a><span class="co" d__="">// Does half the work of a regular strcoll() because the second</span></span>
<span id="cb698-19"><a href="#cb698-19"></a><span class="co" d__="">// string arrives already transformed.</span></span>
<span id="cb698-20" d__=""><a href="#cb698-20"></a><span class="dt" d__="">int</span> half_strcoll<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span>s1<span class="op" d__="">,</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s2_transformed<span class="op" d__="">)</span></span>
<span id="cb698-21"><a href="#cb698-21"></a><span class="op" d__="">{</span></span>
<span id="cb698-22" d__=""><a href="#cb698-22"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s1_transformed <span class="op" d__="">=</span> get_xfrm_str<span class="op" d__="">(</span>s1<span class="op" d__="">);</span></span>
<span id="cb698-23"><a href="#cb698-23"></a></span>
<span id="cb698-24" d__=""><a href="#cb698-24"></a>    <span class="dt" d__="">int</span> result <span class="op" d__="">=</span> strcmp<span class="op" d__="">(</span>s1_transformed<span class="op" d__="">,</span> s2_transformed<span class="op" d__="">);</span></span>
<span id="cb698-25"><a href="#cb698-25"></a></span>
<span id="cb698-26" d__=""><a href="#cb698-26"></a>    free<span class="op" d__="">(</span>s1_transformed<span class="op" d__="">);</span></span>
<span id="cb698-27"><a href="#cb698-27"></a></span>
<span id="cb698-28" d__=""><a href="#cb698-28"></a>    <span class="cf" d__="">return</span> result<span class="op" d__="">;</span></span>
<span id="cb698-29"><a href="#cb698-29"></a><span class="op" d__="">}</span></span>
<span id="cb698-30"><a href="#cb698-30"></a></span>
<span id="cb698-31" d__=""><a href="#cb698-31"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb698-32"><a href="#cb698-32"></a><span class="op" d__="">{</span></span>
<span id="cb698-33" d__=""><a href="#cb698-33"></a>    setlocale<span class="op" d__="">(</span>LC_ALL<span class="op" d__="">,</span> <span class="st" d__="">""</span><span class="op" d__="">);</span></span>
<span id="cb698-34"><a href="#cb698-34"></a></span>
<span id="cb698-35"><a href="#cb698-35"></a>    <span class="co" d__="">// Pre-transform the string to compare against</span></span>
<span id="cb698-36" d__=""><a href="#cb698-36"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s <span class="op" d__="">=</span> get_xfrm_str<span class="op" d__="">(</span><span class="st" d__="">"éfg"</span><span class="op" d__="">);</span></span>
<span id="cb698-37"><a href="#cb698-37"></a></span>
<span id="cb698-38"><a href="#cb698-38"></a>    <span class="co" d__="">// Repeatedly compare against "éfg" </span></span>
<span id="cb698-39" d__=""><a href="#cb698-39"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> half_strcoll<span class="op" d__="">(</span><span class="st" d__="">"fgh"</span><span class="op" d__="">,</span> s<span class="op" d__="">));</span>  <span class="co" d__="">// "fgh" &gt; "éfg"</span></span>
<span id="cb698-40" d__=""><a href="#cb698-40"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> half_strcoll<span class="op" d__="">(</span><span class="st" d__="">"àbc"</span><span class="op" d__="">,</span> s<span class="op" d__="">));</span>  <span class="co" d__="">// "àbc" &lt; "éfg"</span></span>
<span id="cb698-41" d__=""><a href="#cb698-41"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> half_strcoll<span class="op" d__="">(</span><span class="st" d__="">"ĥij"</span><span class="op" d__="">,</span> s<span class="op" d__="">));</span>  <span class="co" d__="">// "ĥij" &gt; "éfg"</span></span>
<span id="cb698-42"><a href="#cb698-42"></a>    </span>
<span id="cb698-43" d__=""><a href="#cb698-43"></a>    free<span class="op" d__="">(</span>s<span class="op" d__="">);</span></span>
<span id="cb698-44"><a href="#cb698-44"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-193" d__="">See Also</h3>
<p><a href="#man-strcoll"><code s__="13" d__="">strcoll()</code></a></p>
<hr>
<h2 data-number="26.8" id="man-strchr" d__=""><span class="header-section-number">26.8</span> <code>strchr()</code>, <code>strrchr()</code>, <code>memchr()</code></h2>
<p> </p>
<p d__="">Find a character in a string</p>
<h3 class="unnumbered unlisted" id="synopsis-206" d__="">Synopsis</h3>
<div class="sourceCode" id="cb699"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb699-1"><a href="#cb699-1" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">// Pre-C23:</span></span>
<span id="cb699-2"><a href="#cb699-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb699-3"><a href="#cb699-3" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb699-4"><a href="#cb699-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb699-5" d__=""><a href="#cb699-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> <span class="op" d__="">*</span>strchr<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span>str<span class="op" d__="">,</span> <span class="dt" d__="">int</span> c<span class="op" d__="">);</span></span>
<span id="cb699-6"><a href="#cb699-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb699-7" d__=""><a href="#cb699-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> <span class="op" d__="">*</span>strrchr<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span>str<span class="op" d__="">,</span> <span class="dt" d__="">int</span> c<span class="op" d__="">);</span></span>
<span id="cb699-8"><a href="#cb699-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb699-9" d__=""><a href="#cb699-9" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> <span class="op" d__="">*</span>memchr<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">void</span> <span class="op" d__="">*</span>s<span class="op" d__="">,</span> <span class="dt" d__="">int</span> c<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">);</span></span>
<span id="cb699-10"><a href="#cb699-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb699-11"><a href="#cb699-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb699-12"><a href="#cb699-12" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">// C23:</span></span>
<span id="cb699-13"><a href="#cb699-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb699-14" d__=""><a href="#cb699-14" aria-hidden="true" tabindex="-1"></a>QChar <span class="op" d__="">*</span>strchr<span class="op" d__="">(</span>QChar <span class="op" d__="">*</span>s<span class="op" d__="">,</span> <span class="dt" d__="">int</span> c<span class="op" d__="">);</span></span>
<span id="cb699-15"><a href="#cb699-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb699-16" d__=""><a href="#cb699-16" aria-hidden="true" tabindex="-1"></a>QChar <span class="op" d__="">*</span>strrchr<span class="op" d__="">(</span>QChar <span class="op" d__="">*</span>s<span class="op" d__="">,</span> <span class="dt" d__="">int</span> c<span class="op" d__="">);</span></span>
<span id="cb699-17"><a href="#cb699-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb699-18" d__=""><a href="#cb699-18" aria-hidden="true" tabindex="-1"></a>QVoid <span class="op" d__="">*</span>memchr<span class="op" d__="">(</span>QVoid <span class="op" d__="">*</span>s<span class="op" d__="">,</span> <span class="dt" d__="">int</span> c<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-206" d__="">Description</h3>
<p d__="">The functions <code s__="13">strchr()</code> and <code s__="13">strrchr</code> find the first or last occurrence of a letter in a string, respectively. (The extra “r” in <code s__="13">strrchr()</code>
 stands for “reverse”–it looks starting at the end of the string and 
working backward.) Each function returns a pointer to the char in 
question, or <code s__="13">NULL</code> if the letter isn’t found in the string.</p>
<p d__=""><code s__="13">memchr()</code> is similar, except that instead
 of stopping on the first NUL character, it continues searching for 
however many bytes you specify.</p>
<p d__="">Quite straightforward.</p>
<p d__="">One thing you can do if you want to find the next occurrence 
of the letter after finding the first, is call the function again with 
the previous return value plus one. (Remember pointer arithmetic?) Or 
minus one if you’re looking in reverse. Don’t accidentally go off the 
end of the string!</p>
<h3 class="unnumbered unlisted" id="return-value-204" d__="">Return Value</h3>
<p d__="">Returns a pointer to the occurrence of the letter in the string, or <code s__="13">NULL</code> if the letter is not found.</p>
<h3 class="unnumbered unlisted" id="example-207" d__="">Example</h3>
<div class="sourceCode" id="cb700"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb700-1"><a href="#cb700-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb700-2"><a href="#cb700-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb700-3"><a href="#cb700-3"></a></span>
<span id="cb700-4" d__=""><a href="#cb700-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb700-5"><a href="#cb700-5"></a><span class="op" d__="">{</span></span>
<span id="cb700-6"><a href="#cb700-6"></a>    <span class="co" d__="">// "Hello, world!"</span></span>
<span id="cb700-7"><a href="#cb700-7"></a>    <span class="co" d__="">//       ^  ^   ^</span></span>
<span id="cb700-8"><a href="#cb700-8"></a>    <span class="co" d__="">//       A  B   C</span></span>
<span id="cb700-9"><a href="#cb700-9"></a></span>
<span id="cb700-10" d__=""><a href="#cb700-10"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>str <span class="op" d__="">=</span> <span class="st" d__="">"Hello, world!"</span><span class="op" d__="">;</span></span>
<span id="cb700-11" d__=""><a href="#cb700-11"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>p<span class="op" d__="">;</span></span>
<span id="cb700-12"><a href="#cb700-12"></a></span>
<span id="cb700-13" d__=""><a href="#cb700-13"></a>    p <span class="op" d__="">=</span> strchr<span class="op" d__="">(</span>str<span class="op" d__="">,</span> <span class="ch" d__="">','</span><span class="op" d__="">);</span>       <span class="co" d__="">// p now points at position A</span></span>
<span id="cb700-14" d__=""><a href="#cb700-14"></a>    p <span class="op" d__="">=</span> strrchr<span class="op" d__="">(</span>str<span class="op" d__="">,</span> <span class="ch" d__="">'o'</span><span class="op" d__="">);</span>      <span class="co" d__="">// p now points at position B</span></span>
<span id="cb700-15"><a href="#cb700-15"></a></span>
<span id="cb700-16" d__=""><a href="#cb700-16"></a>    p <span class="op" d__="">=</span> memchr<span class="op" d__="">(</span>str<span class="op" d__="">,</span> <span class="ch" d__="">'!'</span><span class="op" d__="">,</span> <span class="dv" d__="">13</span><span class="op" d__="">);</span>   <span class="co" d__="">// p now points at position C</span></span>
<span id="cb700-17"><a href="#cb700-17"></a></span>
<span id="cb700-18"><a href="#cb700-18"></a>    <span class="co" d__="">// repeatedly find all occurrences of the letter 'B'</span></span>
<span id="cb700-19" d__=""><a href="#cb700-19"></a>    str <span class="op" d__="">=</span> <span class="st" d__="">"A BIG BROWN BAT BIT BEEJ"</span><span class="op" d__="">;</span></span>
<span id="cb700-20"><a href="#cb700-20"></a></span>
<span id="cb700-21" d__=""><a href="#cb700-21"></a>    <span class="cf" d__="">for</span><span class="op" d__="">(</span>p <span class="op" d__="">=</span> strchr<span class="op" d__="">(</span>str<span class="op" d__="">,</span> <span class="ch" d__="">'B'</span><span class="op" d__="">);</span> p <span class="op" d__="">!=</span> NULL<span class="op" d__="">;</span> p <span class="op" d__="">=</span> strchr<span class="op" d__="">(</span>p <span class="op" d__="">+</span> <span class="dv" d__="">1</span><span class="op" d__="">,</span> <span class="ch" d__="">'B'</span><span class="op" d__="">))</span> <span class="op" d__="">{</span></span>
<span id="cb700-22" d__=""><a href="#cb700-22"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"Found a 'B' here: </span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> p<span class="op" d__="">);</span></span>
<span id="cb700-23"><a href="#cb700-23"></a>    <span class="op" d__="">}</span></span>
<span id="cb700-24"><a href="#cb700-24"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb701"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb701-1" d__=""><a href="#cb701-1" aria-hidden="true" tabindex="-1"></a>Found a 'B' here: BIG BROWN BAT BIT BEEJ</span>
<span id="cb701-2" d__=""><a href="#cb701-2" aria-hidden="true" tabindex="-1"></a>Found a 'B' here: BROWN BAT BIT BEEJ</span>
<span id="cb701-3" d__=""><a href="#cb701-3" aria-hidden="true" tabindex="-1"></a>Found a 'B' here: BAT BIT BEEJ</span>
<span id="cb701-4" d__=""><a href="#cb701-4" aria-hidden="true" tabindex="-1"></a>Found a 'B' here: BIT BEEJ</span>
<span id="cb701-5" d__=""><a href="#cb701-5" aria-hidden="true" tabindex="-1"></a>Found a 'B' here: BEEJ</span></code></pre></div>
<!--
### See Also {.unnumbered .unlisted}
-->
<hr>
<h2 data-number="26.9" id="man-strspn" d__=""><span class="header-section-number">26.9</span> <code>strspn()</code>, <code>strcspn()</code></h2>
<p> </p>
<p d__="">Return the length of a string consisting entirely of a set of characters, or of not a set of characters</p>
<h3 class="unnumbered unlisted" id="synopsis-207" d__="">Synopsis</h3>
<div class="sourceCode" id="cb702"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb702-1"><a href="#cb702-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb702-2"><a href="#cb702-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb702-3" d__=""><a href="#cb702-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">size_t</span> strspn<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span>str<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>accept<span class="op" d__="">);</span></span>
<span id="cb702-4"><a href="#cb702-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb702-5" d__=""><a href="#cb702-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">size_t</span> strcspn<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span>str<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>reject<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-207" d__="">Description</h3>
<p d__=""><code s__="13">strspn()</code> will tell you the length of a string consisting entirely of the set of characters in <code s__="13">accept</code>. That is, it starts walking down <code s__="13">str</code> until it finds a character that is <em>not</em> in the set (that is, a character that is not to be accepted), and returns the length of the string so far.</p>
<p d__=""><code s__="13">strcspn()</code> works much the same way, except that it walks down <code s__="13">str</code> until it finds a character in the <code s__="13">reject</code> set (that is, a character that is to be rejected.) It then returns the length of the string so far.</p>
<h3 class="unnumbered unlisted" id="return-value-205" d__="">Return Value</h3>
<p d__="">The length of the string consisting of all characters in <code s__="13">accept</code> (for <code s__="13">strspn()</code>), or the length of the string consisting of all characters except <code s__="13">reject</code> (for <code s__="13">strcspn()</code>).</p>
<h3 class="unnumbered unlisted" id="example-208" d__="">Example</h3>
<div class="sourceCode" id="cb703"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb703-1"><a href="#cb703-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb703-2"><a href="#cb703-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb703-3"><a href="#cb703-3"></a></span>
<span id="cb703-4" d__=""><a href="#cb703-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb703-5"><a href="#cb703-5"></a><span class="op" d__="">{</span></span>
<span id="cb703-6" d__=""><a href="#cb703-6"></a>    <span class="dt" d__="">char</span> str1<span class="op" d__="">[]</span> <span class="op" d__="">=</span> <span class="st" d__="">"a banana"</span><span class="op" d__="">;</span></span>
<span id="cb703-7" d__=""><a href="#cb703-7"></a>    <span class="dt" d__="">char</span> str2<span class="op" d__="">[]</span> <span class="op" d__="">=</span> <span class="st" d__="">"the bolivian navy on maenuvers in the south pacific"</span><span class="op" d__="">;</span></span>
<span id="cb703-8" d__=""><a href="#cb703-8"></a>    <span class="dt" d__="">int</span> n<span class="op" d__="">;</span></span>
<span id="cb703-9"><a href="#cb703-9"></a></span>
<span id="cb703-10"><a href="#cb703-10"></a>    <span class="co" d__="">// how many letters in str1 until we reach something that's not a vowel?</span></span>
<span id="cb703-11" d__=""><a href="#cb703-11"></a>    n <span class="op" d__="">=</span> strspn<span class="op" d__="">(</span>str1<span class="op" d__="">,</span> <span class="st" d__="">"aeiou"</span><span class="op" d__="">);</span></span>
<span id="cb703-12" d__=""><a href="#cb703-12"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> n<span class="op" d__="">);</span>  <span class="co" d__="">// n == 1, just "a"</span></span>
<span id="cb703-13"><a href="#cb703-13"></a></span>
<span id="cb703-14"><a href="#cb703-14"></a>    <span class="co" d__="">// how many letters in str1 until we reach something that's not a, b,</span></span>
<span id="cb703-15"><a href="#cb703-15"></a>    <span class="co" d__="">// or space?</span></span>
<span id="cb703-16" d__=""><a href="#cb703-16"></a>    n <span class="op" d__="">=</span> strspn<span class="op" d__="">(</span>str1<span class="op" d__="">,</span> <span class="st" d__="">"ab "</span><span class="op" d__="">);</span></span>
<span id="cb703-17" d__=""><a href="#cb703-17"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> n<span class="op" d__="">);</span>  <span class="co" d__="">// n == 4, "a ba"</span></span>
<span id="cb703-18"><a href="#cb703-18"></a></span>
<span id="cb703-19"><a href="#cb703-19"></a>    <span class="co" d__="">// how many letters in str2 before we get a "y"?</span></span>
<span id="cb703-20" d__=""><a href="#cb703-20"></a>    n <span class="op" d__="">=</span> strcspn<span class="op" d__="">(</span>str2<span class="op" d__="">,</span> <span class="st" d__="">"y"</span><span class="op" d__="">);</span></span>
<span id="cb703-21" d__=""><a href="#cb703-21"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> n<span class="op" d__="">);</span>  <span class="co" d__="">// n = 16, "the bolivian nav"</span></span>
<span id="cb703-22"><a href="#cb703-22"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-194" d__="">See Also</h3>
<p d__=""><a href="#man-strchr"><code s__="13" d__="">strchr()</code></a>, <a href="#man-strchr"><code s__="13" d__="">strrchr()</code></a></p>
<hr>
<h2 data-number="26.10" id="man-strpbrk"><span class="header-section-number" d__="">26.10</span> <code d__="">strpbrk()</code></h2>
<p></p>
<p d__="">Search a string for one of a set of characters</p>
<h3 class="unnumbered unlisted" id="synopsis-208" d__="">Synopsis</h3>
<div class="sourceCode" id="cb704"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb704-1"><a href="#cb704-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb704-2"><a href="#cb704-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb704-3"><a href="#cb704-3" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">// Pre-C23:</span></span>
<span id="cb704-4"><a href="#cb704-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb704-5" d__=""><a href="#cb704-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> <span class="op" d__="">*</span>strpbrk<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s1<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s2<span class="op" d__="">);</span></span>
<span id="cb704-6"><a href="#cb704-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb704-7"><a href="#cb704-7" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">// C23:</span></span>
<span id="cb704-8"><a href="#cb704-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb704-9" d__=""><a href="#cb704-9" aria-hidden="true" tabindex="-1"></a>QChar <span class="op" d__="">*</span>strpbrk<span class="op" d__="">(</span>QChar <span class="op" d__="">*</span>s1<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s2<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-208" d__="">Description</h3>
<p d__="">This function searches string <code s__="13">s1</code> for any of the characters that are found in string <code s__="13">s2</code>.</p>
<p d__="">It’s just like how <code s__="13">strchr()</code> searches for a specific character in a string, except it will match <em>any</em> of the characters found in <code s__="13">s2</code>.</p>
<p d__="">Think of the power!</p>
<h3 class="unnumbered unlisted" id="return-value-206" d__="">Return Value</h3>
<p d__="">Returns a pointer to the first character matched in <code s__="13">s1</code>, or NULL if the string isn’t found.</p>
<h3 class="unnumbered unlisted" id="example-209" d__="">Example</h3>
<div class="sourceCode" id="cb705"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb705-1"><a href="#cb705-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb705-2"><a href="#cb705-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb705-3"><a href="#cb705-3"></a></span>
<span id="cb705-4" d__=""><a href="#cb705-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb705-5"><a href="#cb705-5"></a><span class="op" d__="">{</span></span>
<span id="cb705-6"><a href="#cb705-6"></a>    <span class="co" d__="">//  p points here after strpbrk</span></span>
<span id="cb705-7"><a href="#cb705-7"></a>    <span class="co" d__="">//              v</span></span>
<span id="cb705-8" d__=""><a href="#cb705-8"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s1 <span class="op" d__="">=</span> <span class="st" d__="">"Hello, world!"</span><span class="op" d__="">;</span></span>
<span id="cb705-9" d__=""><a href="#cb705-9"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s2 <span class="op" d__="">=</span> <span class="st" d__="">"dow!"</span><span class="op" d__="">;</span>  <span class="co" d__="">// Match any of these chars</span></span>
<span id="cb705-10"><a href="#cb705-10"></a></span>
<span id="cb705-11" d__=""><a href="#cb705-11"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>p <span class="op" d__="">=</span> strpbrk<span class="op" d__="">(</span>s1<span class="op" d__="">,</span> s2<span class="op" d__="">);</span>  <span class="co" d__="">// p points to the o</span></span>
<span id="cb705-12"><a href="#cb705-12"></a></span>
<span id="cb705-13" d__=""><a href="#cb705-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> p<span class="op" d__="">);</span>  <span class="co" d__="">// "o, world!"</span></span>
<span id="cb705-14"><a href="#cb705-14"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-195" d__="">See Also</h3>
<p d__=""><a href="#man-strchr"><code s__="13" d__="">strchr()</code></a>, <a href="#man-strchr"><code s__="13" d__="">memchr()</code></a></p>
<hr>
<h2 data-number="26.11" id="man-strstr"><span class="header-section-number" d__="">26.11</span> <code d__="">strstr()</code></h2>
<p></p>
<p d__="">Find a string in another string</p>
<h3 class="unnumbered unlisted" id="synopsis-209" d__="">Synopsis</h3>
<div class="sourceCode" id="cb706"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb706-1"><a href="#cb706-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb706-2"><a href="#cb706-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb706-3"><a href="#cb706-3" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">// Pre-C23:</span></span>
<span id="cb706-4"><a href="#cb706-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb706-5" d__=""><a href="#cb706-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> <span class="op" d__="">*</span>strstr<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>str<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>substr<span class="op" d__="">);</span></span>
<span id="cb706-6"><a href="#cb706-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb706-7"><a href="#cb706-7" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">// C23:</span></span>
<span id="cb706-8"><a href="#cb706-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb706-9" d__=""><a href="#cb706-9" aria-hidden="true" tabindex="-1"></a>QChar <span class="op" d__="">*</span>strstr<span class="op" d__="">(</span>QChar <span class="op" d__="">*</span>s1<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s2<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-209" d__="">Description</h3>
<p d__="">Let’s say you have a big long string, and you want to find a 
word, or whatever substring strikes your fancy, inside the first string.
 Then <code s__="13">strstr()</code> is for you! It’ll return a pointer to the <code s__="13">substr</code> within the <code s__="13">str</code>!</p>
<h3 class="unnumbered unlisted" id="return-value-207" d__="">Return Value</h3>
<p d__="">You get back a pointer to the occurrence of the <code s__="13">substr</code> inside the <code s__="13">str</code>, or <code s__="13">NULL</code> if the substring can’t be found.</p>
<h3 class="unnumbered unlisted" id="example-210" d__="">Example</h3>
<div class="sourceCode" id="cb707"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb707-1"><a href="#cb707-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb707-2"><a href="#cb707-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb707-3"><a href="#cb707-3"></a></span>
<span id="cb707-4" d__=""><a href="#cb707-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb707-5"><a href="#cb707-5"></a><span class="op" d__="">{</span></span>
<span id="cb707-6" d__=""><a href="#cb707-6"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>str <span class="op" d__="">=</span> <span class="st" d__="">"The quick brown fox jumped over the lazy dogs."</span><span class="op" d__="">;</span></span>
<span id="cb707-7" d__=""><a href="#cb707-7"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>p<span class="op" d__="">;</span></span>
<span id="cb707-8"><a href="#cb707-8"></a></span>
<span id="cb707-9" d__=""><a href="#cb707-9"></a>    p <span class="op" d__="">=</span> strstr<span class="op" d__="">(</span>str<span class="op" d__="">,</span> <span class="st" d__="">"lazy"</span><span class="op" d__="">);</span></span>
<span id="cb707-10" d__=""><a href="#cb707-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> p <span class="op" d__="">==</span> NULL<span class="op" d__="">?</span> <span class="st" d__="">"null"</span><span class="op" d__="">:</span> p<span class="op" d__="">);</span> <span class="co" d__="">// "lazy dogs."</span></span>
<span id="cb707-11"><a href="#cb707-11"></a></span>
<span id="cb707-12"><a href="#cb707-12"></a>    <span class="co" d__="">// p is NULL after this, since the string "wombat" isn't in str:</span></span>
<span id="cb707-13" d__=""><a href="#cb707-13"></a>    p <span class="op" d__="">=</span> strstr<span class="op" d__="">(</span>str<span class="op" d__="">,</span> <span class="st" d__="">"wombat"</span><span class="op" d__="">);</span></span>
<span id="cb707-14" d__=""><a href="#cb707-14"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> p <span class="op" d__="">==</span> NULL<span class="op" d__="">?</span> <span class="st" d__="">"null"</span><span class="op" d__="">:</span> p<span class="op" d__="">);</span> <span class="co" d__="">// "null"</span></span>
<span id="cb707-15"><a href="#cb707-15"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-196" d__="">See Also</h3>
<p d__=""><a href="#man-strchr"><code s__="13" d__="">strchr()</code></a>, <a href="#man-strchr"><code s__="13" d__="">strrchr()</code></a>, <a href="#man-strspn"><code s__="13" d__="">strspn()</code></a>, <a href="#man-strspn"><code s__="13" d__="">strcspn()</code></a></p>
<hr>
<h2 data-number="26.12" id="man-strtok"><span class="header-section-number" d__="">26.12</span> <code d__="">strtok()</code></h2>
<p></p>
<p d__="">Tokenize a string</p>
<h3 class="unnumbered unlisted" id="synopsis-210" d__="">Synopsis</h3>
<div class="sourceCode" id="cb708"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb708-1"><a href="#cb708-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb708-2"><a href="#cb708-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb708-3" d__=""><a href="#cb708-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> <span class="op" d__="">*</span>strtok<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span>str<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>delim<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-210" d__="">Description</h3>
<p d__="">If you have a string that has a bunch of separators in it, and
 you want to break that string up into individual pieces, this function 
can do it for you.</p>
<p d__="">The usage is a little bit weird, but at least whenever you see the function in the wild, it’s consistently weird.</p>
<p d__="">Basically, the first time you call it, you pass the string, <code s__="13">str</code> that you want to break up in as the first argument. For each subsequent call to get more tokens out of the string, you pass <code s__="13">NULL</code>. This is a little weird, but <code s__="13">strtok()</code> remembers the string you originally passed in, and continues to strip tokens off for you.</p>
<p d__="">Note that it does this by actually putting a NUL terminator 
after the token, and then returning a pointer to the start of the token.
 So the original string you pass in is destroyed, as it were. If you 
need to preserve the string, be sure to pass a copy of it to <code s__="13">strtok()</code> so the original isn’t destroyed.</p>
<h3 class="unnumbered unlisted" id="return-value-208" d__="">Return Value</h3>
<p d__="">A pointer to the next token. If you’re out of tokens, <code s__="13">NULL</code> is returned.</p>
<h3 class="unnumbered unlisted" id="example-211" d__="">Example</h3>
<div class="sourceCode" id="cb709"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb709-1"><a href="#cb709-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb709-2"><a href="#cb709-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb709-3"><a href="#cb709-3"></a></span>
<span id="cb709-4" d__=""><a href="#cb709-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb709-5"><a href="#cb709-5"></a><span class="op" d__="">{</span></span>
<span id="cb709-6"><a href="#cb709-6"></a>    <span class="co" d__="">// break up the string into a series of space or</span></span>
<span id="cb709-7"><a href="#cb709-7"></a>    <span class="co" d__="">// punctuation-separated words</span></span>
<span id="cb709-8" d__=""><a href="#cb709-8"></a>    <span class="dt" d__="">char</span> str<span class="op" d__="">[]</span> <span class="op" d__="">=</span> <span class="st" d__="">"Where is my bacon, dude?"</span><span class="op" d__="">;</span></span>
<span id="cb709-9" d__=""><a href="#cb709-9"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>token<span class="op" d__="">;</span></span>
<span id="cb709-10"><a href="#cb709-10"></a></span>
<span id="cb709-11"><a href="#cb709-11"></a>    <span class="co" d__="">// Note that the following if-do-while construct is very very</span></span>
<span id="cb709-12"><a href="#cb709-12"></a>    <span class="co" d__="">// very very very common to see when using strtok().</span></span>
<span id="cb709-13"><a href="#cb709-13"></a></span>
<span id="cb709-14"><a href="#cb709-14"></a>    <span class="co" d__="">// grab the first token (making sure there is a first token!)</span></span>
<span id="cb709-15" d__=""><a href="#cb709-15"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">((</span>token <span class="op" d__="">=</span> strtok<span class="op" d__="">(</span>str<span class="op" d__="">,</span> <span class="st" d__="">".,?! "</span><span class="op" d__="">))</span> <span class="op" d__="">!=</span> NULL<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb709-16"><a href="#cb709-16"></a>        <span class="cf" d__="">do</span> <span class="op" d__="">{</span></span>
<span id="cb709-17" d__=""><a href="#cb709-17"></a>            printf<span class="op" d__="">(</span><span class="st" d__="">"Word: </span><span class="sc" d__="">\"%s\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> token<span class="op" d__="">);</span></span>
<span id="cb709-18"><a href="#cb709-18"></a></span>
<span id="cb709-19"><a href="#cb709-19"></a>            <span class="co" d__="">// now, the while continuation condition grabs the</span></span>
<span id="cb709-20"><a href="#cb709-20"></a>            <span class="co" d__="">// next token (by passing NULL as the first param)</span></span>
<span id="cb709-21"><a href="#cb709-21"></a>            <span class="co" d__="">// and continues if the token's not NULL:</span></span>
<span id="cb709-22" d__=""><a href="#cb709-22"></a>        <span class="op" d__="">}</span> <span class="cf" d__="">while</span> <span class="op" d__="">((</span>token <span class="op" d__="">=</span> strtok<span class="op" d__="">(</span>NULL<span class="op" d__="">,</span> <span class="st" d__="">".,?! "</span><span class="op" d__="">))</span> <span class="op" d__="">!=</span> NULL<span class="op" d__="">);</span></span>
<span id="cb709-23"><a href="#cb709-23"></a>    <span class="op" d__="">}</span></span>
<span id="cb709-24"><a href="#cb709-24"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb710"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb710-1" d__=""><a href="#cb710-1" aria-hidden="true" tabindex="-1"></a>Word: "Where"</span>
<span id="cb710-2" d__=""><a href="#cb710-2" aria-hidden="true" tabindex="-1"></a>Word: "is"</span>
<span id="cb710-3" d__=""><a href="#cb710-3" aria-hidden="true" tabindex="-1"></a>Word: "my"</span>
<span id="cb710-4" d__=""><a href="#cb710-4" aria-hidden="true" tabindex="-1"></a>Word: "bacon"</span>
<span id="cb710-5" d__=""><a href="#cb710-5" aria-hidden="true" tabindex="-1"></a>Word: "dude"</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-197" d__="">See Also</h3>
<p d__=""><a href="#man-strchr"><code s__="13" d__="">strchr()</code></a>, <a href="#man-strchr"><code s__="13" d__="">strrchr()</code></a>, <a href="#man-strspn"><code s__="13" d__="">strspn()</code></a>, <a href="#man-strspn"><code s__="13" d__="">strcspn()</code></a></p>
<hr>
<h2 data-number="26.13" id="man-memset" d__=""><span class="header-section-number">26.13</span> <code>memset()</code>, `memset_explicit</h2>
<p> </p>
<p d__="">Set a region of memory to a certain value</p>
<h3 class="unnumbered unlisted" id="synopsis-211" d__="">Synopsis</h3>
<p d__=""><code s__="13">memset_explicit()</code> is new in C23!</p>
<div class="sourceCode" id="cb711"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb711-1"><a href="#cb711-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb711-2"><a href="#cb711-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb711-3" d__=""><a href="#cb711-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> <span class="op" d__="">*</span>memset<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>s<span class="op" d__="">,</span> <span class="dt" d__="">int</span> c<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">);</span></span>
<span id="cb711-4"><a href="#cb711-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb711-5" d__=""><a href="#cb711-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> <span class="op" d__="">*</span>memset_explicit<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>s<span class="op" d__="">,</span> <span class="dt" d__="">int</span> c<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-211" d__="">Description</h3>
<p d__="">This function is what you use to set a region of memory to a particular value, namely <code s__="13">c</code> converted into <code s__="13">unsigned char</code>.</p>
<p d__="">The most common usage is to zero out an array or <code s__="13">struct</code>.</p>
<p d__=""><code s__="13">memset_explicit()</code> only differs in that it will never be optimized away (like <code s__="13">memset()</code>
 might be). The idea is that you could use it to most-definitely remove 
sensitive information (like passwords) from memory before any nasty 
hackers get their hands on it.</p>
<h3 class="unnumbered unlisted" id="return-value-209" d__="">Return Value</h3>
<p d__=""><code s__="13">memset()</code> and <code s__="13">memset_explicit()</code> return whatever you passed in as <code s__="13">s</code> for happy convenience.</p>
<h3 class="unnumbered unlisted" id="example-212" d__="">Example</h3>
<div class="sourceCode" id="cb712"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb712-1"><a href="#cb712-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb712-2"><a href="#cb712-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb712-3"><a href="#cb712-3"></a></span>
<span id="cb712-4" d__=""><a href="#cb712-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb712-5"><a href="#cb712-5"></a><span class="op" d__="">{</span></span>
<span id="cb712-6" d__=""><a href="#cb712-6"></a>    <span class="kw" d__="">struct</span> banana <span class="op" d__="">{</span></span>
<span id="cb712-7" d__=""><a href="#cb712-7"></a>        <span class="dt" d__="">float</span> ripeness<span class="op" d__="">;</span></span>
<span id="cb712-8" d__=""><a href="#cb712-8"></a>        <span class="dt" d__="">char</span> <span class="op" d__="">*</span>peel_color<span class="op" d__="">;</span></span>
<span id="cb712-9" d__=""><a href="#cb712-9"></a>        <span class="dt" d__="">int</span> grams<span class="op" d__="">;</span></span>
<span id="cb712-10"><a href="#cb712-10"></a>    <span class="op" d__="">};</span></span>
<span id="cb712-11"><a href="#cb712-11"></a></span>
<span id="cb712-12" d__=""><a href="#cb712-12"></a>    <span class="kw" d__="">struct</span> banana b<span class="op" d__="">;</span></span>
<span id="cb712-13"><a href="#cb712-13"></a></span>
<span id="cb712-14" d__=""><a href="#cb712-14"></a>    memset<span class="op" d__="">(&amp;</span>b<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span> b<span class="op" d__="">);</span></span>
<span id="cb712-15"><a href="#cb712-15"></a></span>
<span id="cb712-16" d__=""><a href="#cb712-16"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> b<span class="op" d__="">.</span>ripeness <span class="op" d__="">==</span> <span class="fl" d__="">0.0</span><span class="op" d__="">);</span>     <span class="co" d__="">// True</span></span>
<span id="cb712-17" d__=""><a href="#cb712-17"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> b<span class="op" d__="">.</span>peel_color <span class="op" d__="">==</span> NULL<span class="op" d__="">);</span>  <span class="co" d__="">// True</span></span>
<span id="cb712-18" d__=""><a href="#cb712-18"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> b<span class="op" d__="">.</span>grams <span class="op" d__="">==</span> <span class="dv" d__="">0</span><span class="op" d__="">);</span>          <span class="co" d__="">// True</span></span>
<span id="cb712-19"><a href="#cb712-19"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-198" d__="">See Also</h3>
<p d__=""><a href="#man-memcpy"><code s__="13" d__="">memcpy()</code></a>, <a href="#man-memcpy"><code s__="13" d__="">memmove()</code></a></p>
<hr>
<h2 data-number="26.14" id="man-strerror"><span class="header-section-number" d__="">26.14</span> <code d__="">strerror()</code></h2>
<p></p>
<p d__="">Get a string version of an error number</p>
<h3 class="unnumbered unlisted" id="synopsis-212" d__="">Synopsis</h3>
<div class="sourceCode" id="cb713"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb713-1"><a href="#cb713-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb713-2"><a href="#cb713-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb713-3" d__=""><a href="#cb713-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> <span class="op" d__="">*</span>strerror<span class="op" d__="">(</span><span class="dt" d__="">int</span> errnum<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-212" d__="">Description</h3>
<p d__="">This function ties closely into <code s__="13">perror()</code> (which prints a human-readable error message corresponding to <code s__="13">errno</code>). But instead of printing, <code s__="13">strerror()</code> returns a pointer to the locale-specific error message string.</p>
<p d__="">So if you ever need that string back for some reason (e.g.&nbsp;you’re going to <code s__="13">fprintf()</code> it to a file or something), this function will give it to you. All you need to do is pass in <code s__="13">errno</code> as an argument. (Recall that <code s__="13">errno</code> gets set as an error status by a variety of functions.)</p>
<p d__="">You can actually pass in any integer for <code s__="13">errnum</code> you want. The function will return <em>some</em> message, even if the number doesn’t correspond to any known value for <code s__="13">errno</code>.</p>
<p d__="">The values of <code s__="13">errno</code> and the strings returned by <code s__="13">strerror()</code> are system-dependent.</p>
<h3 class="unnumbered unlisted" id="return-value-210" d__="">Return Value</h3>
<p d__="">A string error message corresponding to the given error number.</p>
<p d__="">You are not allowed to modify the returned string.</p>
<h3 class="unnumbered unlisted" id="example-213" d__="">Example</h3>
<div class="sourceCode" id="cb714"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb714-1"><a href="#cb714-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb714-2"><a href="#cb714-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb714-3"><a href="#cb714-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;errno.h&gt;</span></span>
<span id="cb714-4"><a href="#cb714-4"></a></span>
<span id="cb714-5" d__=""><a href="#cb714-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb714-6"><a href="#cb714-6"></a><span class="op" d__="">{</span></span>
<span id="cb714-7" d__=""><a href="#cb714-7"></a>    <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>fp <span class="op" d__="">=</span> fopen<span class="op" d__="">(</span><span class="st" d__="">"NONEXISTENT_FILE.TXT"</span><span class="op" d__="">,</span> <span class="st" d__="">"r"</span><span class="op" d__="">);</span></span>
<span id="cb714-8"><a href="#cb714-8"></a></span>
<span id="cb714-9" d__=""><a href="#cb714-9"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>fp <span class="op" d__="">==</span> NULL<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb714-10" d__=""><a href="#cb714-10"></a>        <span class="dt" d__="">char</span> <span class="op" d__="">*</span>errmsg <span class="op" d__="">=</span> strerror<span class="op" d__="">(</span>errno<span class="op" d__="">);</span></span>
<span id="cb714-11" d__=""><a href="#cb714-11"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"Error </span><span class="sc" d__="">%d</span><span class="st" d__=""> opening file: </span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> errno<span class="op" d__="">,</span> errmsg<span class="op" d__="">);</span></span>
<span id="cb714-12"><a href="#cb714-12"></a>    <span class="op" d__="">}</span></span>
<span id="cb714-13"><a href="#cb714-13"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb715"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb715-1" d__=""><a href="#cb715-1" aria-hidden="true" tabindex="-1"></a>Error 2 opening file: No such file or directory</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-199" d__="">See Also</h3>
<p><a href="#man-perror"><code s__="13" d__="">perror()</code></a></p>
<hr>
<h2 data-number="26.15" id="man-strlen"><span class="header-section-number" d__="">26.15</span> <code d__="">strlen()</code></h2>
<p></p>
<p d__="">Returns the length of a string</p>
<h3 class="unnumbered unlisted" id="synopsis-213" d__="">Synopsis</h3>
<div class="sourceCode" id="cb716"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb716-1"><a href="#cb716-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb716-2"><a href="#cb716-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb716-3" d__=""><a href="#cb716-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">size_t</span> strlen<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-213" d__="">Description</h3>
<p d__="">This function returns the length of the passed null-terminated
 string (not counting the NUL character at the end). It does this by 
walking down the string and counting the bytes until the NUL character, 
so it’s a little time consuming. If you have to get the length of the 
same string repeatedly, save it off in a variable somewhere.</p>
<h3 class="unnumbered unlisted" id="return-value-211" d__="">Return Value</h3>
<p d__="">Returns the number of bytes in the string. Note that this 
might be different than the number of characters in a multibyte string.</p>
<h3 class="unnumbered unlisted" id="example-214" d__="">Example</h3>
<div class="sourceCode" id="cb717"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb717-1"><a href="#cb717-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb717-2"><a href="#cb717-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span></span>
<span id="cb717-3"><a href="#cb717-3"></a></span>
<span id="cb717-4" d__=""><a href="#cb717-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb717-5"><a href="#cb717-5"></a><span class="op" d__="">{</span></span>
<span id="cb717-6" d__=""><a href="#cb717-6"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s <span class="op" d__="">=</span> <span class="st" d__="">"Hello, world!"</span><span class="op" d__="">;</span> <span class="co" d__="">// 13 characters</span></span>
<span id="cb717-7"><a href="#cb717-7"></a></span>
<span id="cb717-8"><a href="#cb717-8"></a>    <span class="co" d__="">// prints "The string is 13 characters long.":</span></span>
<span id="cb717-9"><a href="#cb717-9"></a></span>
<span id="cb717-10" d__=""><a href="#cb717-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"The string is </span><span class="sc" d__="">%zu</span><span class="st" d__=""> characters long.</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> strlen<span class="op" d__="">(</span>s<span class="op" d__="">));</span></span>
<span id="cb717-11"><a href="#cb717-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-200" d__="">See Also</h3>
<!--
***
## `vprintf()`, `vfprintf()`, `vsprintf()`, `vsnprintf()` {#man-vprintf}

### Synopsis {.unnumbered .unlisted}
### Description {.unnumbered .unlisted}
### Return Value {.unnumbered .unlisted}
### Example {.unnumbered .unlisted}
### See Also {.unnumbered .unlisted}
[`sprintf()`](#man-printf),
-->
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="27" id="tgmath" d__=""><span class="header-section-number">27</span> <code>&lt;tgmath.h&gt;</code> Type-Generic Math Functions</h1>
<p></p>
<p d__="">These are type-generic macros that are wrappers around the math functions in <a href="#math"><code s__="13" d__="">&lt;math.h&gt;</code></a> and <a href="#complex"><code s__="13" d__="">&lt;complex.h&gt;</code></a>. This header includes both of those.</p>
<p d__="">But on the surface, you can think of them as being able to use, say, the <code s__="13">sqrt()</code> function with any type without needed to think about if it’s <code s__="13">double</code> or <code s__="13">long double</code> or even <code s__="13">complex</code>.</p>
<p d__="">These are the defined macros—some of them don’t have a 
counterpart in the real or complex space. Type suffixes are omitted in 
the table on the Real and Complex columns. None of the generic macros 
have type suffixes.</p>
<p> </p>
<table>
<thead>
<tr class="header">
<th d__="">Real Function</th>
<th d__="">Complex Function</th>
<th d__="">Generic Macro</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">acos</code></td>
<td><code s__="13" d__="">cacos</code></td>
<td><code s__="13" d__="">acos</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">asin</code></td>
<td><code s__="13" d__="">casin</code></td>
<td><code s__="13" d__="">asin</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">atan</code></td>
<td><code s__="13" d__="">catan</code></td>
<td><code s__="13" d__="">atan</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">acosh</code></td>
<td><code s__="13" d__="">cacosh</code></td>
<td><code s__="13" d__="">acosh</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">asinh</code></td>
<td><code s__="13" d__="">casinh</code></td>
<td><code s__="13" d__="">asinh</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">atanh</code></td>
<td><code s__="13" d__="">catanh</code></td>
<td><code s__="13" d__="">atanh</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">cos</code></td>
<td><code s__="13" d__="">ccos</code></td>
<td><code s__="13" d__="">cos</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">sin</code></td>
<td><code s__="13" d__="">csin</code></td>
<td><code s__="13" d__="">sin</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">tan</code></td>
<td><code s__="13" d__="">ctan</code></td>
<td><code s__="13" d__="">tan</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">cosh</code></td>
<td><code s__="13" d__="">ccosh</code></td>
<td><code s__="13" d__="">cosh</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">sinh</code></td>
<td><code s__="13" d__="">csinh</code></td>
<td><code s__="13" d__="">sinh</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">tanh</code></td>
<td><code s__="13" d__="">ctanh</code></td>
<td><code s__="13" d__="">tanh</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">exp</code></td>
<td><code s__="13" d__="">cexp</code></td>
<td><code s__="13" d__="">exp</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">log</code></td>
<td><code s__="13" d__="">clog</code></td>
<td><code s__="13" d__="">log</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">pow</code></td>
<td><code s__="13" d__="">cpow</code></td>
<td><code s__="13" d__="">pow</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">sqrt</code></td>
<td><code s__="13" d__="">csqrt</code></td>
<td><code s__="13" d__="">sqrt</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">fabs</code></td>
<td><code s__="13" d__="">cabs</code></td>
<td><code s__="13" d__="">fabs</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">atan2</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">atan2</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">fdim</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">fdim</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">cbrt</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">cbrt</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">floor</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">floor</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">ceil</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">ceil</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">fma</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">fma</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">copysign</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">copysign</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">fmax</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">fmax</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">erf</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">erf</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">fmin</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">fmin</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">erfc</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">erfc</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">fmod</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">fmod</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">exp2</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">exp2</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">frexp</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">frexp</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">expm1</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">expm1</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">hypot</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">hypot</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">ilogb</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">ilogb</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">ldexp</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">ldexp</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">lgamma</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">lgamma</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">llrint</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">llrint</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">llround</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">llround</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">log10</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">log10</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">log1p</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">log1p</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">log2</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">log2</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">logb</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">logb</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">lrint</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">lrint</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">lround</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">lround</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">nearbyint</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">nearbyint</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">nextafter</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">nextafter</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">nexttoward</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">nexttoward</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">remainder</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">remainder</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">remquo</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">remquo</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">rint</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">rint</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">round</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">round</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">scalbn</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">scalbn</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">scalbln</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">scalbln</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">tgamma</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">tgamma</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">trunc</code></td>
<td d__="">—</td>
<td><code s__="13" d__="">trunc</code></td>
</tr>
<tr class="even">
<td d__="">—</td>
<td><code s__="13" d__="">carg</code></td>
<td><code s__="13" d__="">carg</code></td>
</tr>
<tr class="odd">
<td d__="">—</td>
<td><code s__="13" d__="">cimag</code></td>
<td><code s__="13" d__="">cimag</code></td>
</tr>
<tr class="even">
<td d__="">—</td>
<td><code s__="13" d__="">conj</code></td>
<td><code s__="13" d__="">conj</code></td>
</tr>
<tr class="odd">
<td d__="">—</td>
<td><code s__="13" d__="">cproj</code></td>
<td><code s__="13" d__="">cproj</code></td>
</tr>
<tr class="even">
<td d__="">—</td>
<td><code s__="13" d__="">creal</code></td>
<td><code s__="13" d__="">creal</code></td>
</tr>
</tbody>
</table>
<h2 data-number="27.1" id="example-215" d__=""><span class="header-section-number">27.1</span> Example</h2>
<p d__="">Here’s an example where we call the type-generic <code s__="13">sqrt()</code> function on a variety of types.</p>
<div class="sourceCode" id="cb718"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb718-1"><a href="#cb718-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb718-2"><a href="#cb718-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;tgmath.h&gt;</span></span>
<span id="cb718-3"><a href="#cb718-3"></a></span>
<span id="cb718-4" d__=""><a href="#cb718-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb718-5"><a href="#cb718-5"></a><span class="op" d__="">{</span></span>
<span id="cb718-6" d__=""><a href="#cb718-6"></a>    <span class="dt" d__="">double</span> x <span class="op" d__="">=</span> <span class="fl" d__="">12.8</span><span class="op" d__="">;</span></span>
<span id="cb718-7" d__=""><a href="#cb718-7"></a>    <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> y <span class="op" d__="">=</span> <span class="fl" d__="">34.9</span><span class="op" d__="">;</span></span>
<span id="cb718-8" d__=""><a href="#cb718-8"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z <span class="op" d__="">=</span> <span class="dv" d__="">1</span> <span class="op" d__="">+</span> <span class="dv" d__="">2</span> <span class="op" d__="">*</span> I<span class="op" d__="">;</span></span>
<span id="cb718-9"><a href="#cb718-9"></a></span>
<span id="cb718-10" d__=""><a href="#cb718-10"></a>    <span class="dt" d__="">double</span> x_result<span class="op" d__="">;</span></span>
<span id="cb718-11" d__=""><a href="#cb718-11"></a>    <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> y_result<span class="op" d__="">;</span></span>
<span id="cb718-12" d__=""><a href="#cb718-12"></a>    <span class="dt" d__="">double</span> <span class="dt" d__="">complex</span> z_result<span class="op" d__="">;</span></span>
<span id="cb718-13"><a href="#cb718-13"></a></span>
<span id="cb718-14"><a href="#cb718-14"></a>    <span class="co" d__="">// We call the same sqrt() function--it's type-generic!</span></span>
<span id="cb718-15" d__=""><a href="#cb718-15"></a>    x_result <span class="op" d__="">=</span> sqrt<span class="op" d__="">(</span>x<span class="op" d__="">);</span></span>
<span id="cb718-16" d__=""><a href="#cb718-16"></a>    y_result <span class="op" d__="">=</span> sqrt<span class="op" d__="">(</span>y<span class="op" d__="">);</span></span>
<span id="cb718-17" d__=""><a href="#cb718-17"></a>    z_result <span class="op" d__="">=</span> sqrt<span class="op" d__="">(</span>z<span class="op" d__="">);</span></span>
<span id="cb718-18"><a href="#cb718-18"></a></span>
<span id="cb718-19" d__=""><a href="#cb718-19"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"x_result: </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> x_result<span class="op" d__="">);</span></span>
<span id="cb718-20" d__=""><a href="#cb718-20"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"y_result: </span><span class="sc" d__="">%Lf\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> y_result<span class="op" d__="">);</span></span>
<span id="cb718-21" d__=""><a href="#cb718-21"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"z_result: </span><span class="sc" d__="">%f</span><span class="st" d__=""> + </span><span class="sc" d__="">%f</span><span class="st" d__="">i</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> creal<span class="op" d__="">(</span>z_result<span class="op" d__="">),</span> cimag<span class="op" d__="">(</span>z_result<span class="op" d__="">));</span></span>
<span id="cb718-22"><a href="#cb718-22"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb719"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb719-1" d__=""><a href="#cb719-1" aria-hidden="true" tabindex="-1"></a>x_result: 3.577709</span>
<span id="cb719-2" d__=""><a href="#cb719-2" aria-hidden="true" tabindex="-1"></a>y_result: 5.907622</span>
<span id="cb719-3" d__=""><a href="#cb719-3" aria-hidden="true" tabindex="-1"></a>z_result: 1.272020 + 0.786151i</span></code></pre></div>
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="28" id="threads" d__=""><span class="header-section-number">28</span> <code>&lt;threads.h&gt;</code> Multithreading Functions</h1>
<p></p>
<table>
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Function</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#man-call_once"><code s__="13" d__="">call_once()</code></a></td>
<td d__="">Call a function one time no matter how many threads try</td>
</tr>
<tr class="even">
<td><a href="#man-cnd_broadcast"><code s__="13" d__="">cnd_broadcast()</code></a></td>
<td d__="">Wake up all threads waiting on a condition variable</td>
</tr>
<tr class="odd">
<td><a href="#man-cnd_destroy"><code s__="13" d__="">cnd_destroy()</code></a></td>
<td d__="">Free up resources from a condition variable</td>
</tr>
<tr class="even">
<td><a href="#man-cnd_init"><code s__="13" d__="">cnd_init()</code></a></td>
<td d__="">Initialize a condition variable to make it ready for use</td>
</tr>
<tr class="odd">
<td><a href="#man-cnd_signal"><code s__="13" d__="">cnd_signal()</code></a></td>
<td d__="">Wake up a thread waiting on a condition variable</td>
</tr>
<tr class="even">
<td><a href="#man-cnd_timedwait"><code s__="13" d__="">cnd_timedwait()</code></a></td>
<td d__="">Wait on a condition variable with a timeout</td>
</tr>
<tr class="odd">
<td><a href="#man-cnd_wait"><code s__="13" d__="">cnd_wait()</code></a></td>
<td d__="">Wait for a signal on a condition variable</td>
</tr>
<tr class="even">
<td><a href="#man-mtx_destroy"><code s__="13" d__="">mtx_destroy()</code></a></td>
<td d__="">Cleanup a mutex when done with it</td>
</tr>
<tr class="odd">
<td><a href="#man-mtx_init"><code s__="13" d__="">mtx_init()</code></a></td>
<td d__="">Initialize a mutex for use</td>
</tr>
<tr class="even">
<td><a href="#man-mtx_lock"><code s__="13" d__="">mtx_lock()</code></a></td>
<td d__="">Acquire a lock on a mutex</td>
</tr>
<tr class="odd">
<td><a href="#man-mtx_timedlock"><code s__="13" d__="">mtx_timedlock()</code></a></td>
<td d__="">Lock a mutex allowing for timeout</td>
</tr>
<tr class="even">
<td><a href="#man-mtx_trylock"><code s__="13" d__="">mtx_trylock()</code></a></td>
<td d__="">Try to lock a mutex, returning if not possible</td>
</tr>
<tr class="odd">
<td><a href="#man-mtx_unlock"><code s__="13" d__="">mtx_unlock()</code></a></td>
<td d__="">Free a mutex when you’re done with the critical section</td>
</tr>
<tr class="even">
<td><a href="#man-thrd_create"><code s__="13" d__="">thrd_create()</code></a></td>
<td d__="">Create a new thread of execution</td>
</tr>
<tr class="odd">
<td><a href="#man-thrd_current"><code s__="13" d__="">thrd_current()</code></a></td>
<td d__="">Get the ID of the calling thread</td>
</tr>
<tr class="even">
<td><a href="#man-thrd_detach"><code s__="13" d__="">thrd_detach()</code></a></td>
<td d__="">Automatically clean up threads when they exit</td>
</tr>
<tr class="odd">
<td><a href="#man-thrd_equal"><code s__="13" d__="">thrd_equal()</code></a></td>
<td d__="">Compare two thread descriptors for equality</td>
</tr>
<tr class="even">
<td><a href="#man-thrd_exit"><code s__="13" d__="">thrd_exit()</code></a></td>
<td d__="">Stop and exit this thread</td>
</tr>
<tr class="odd">
<td><a href="#man-thrd_join"><code s__="13" d__="">thrd_join()</code></a></td>
<td d__="">Wait for a thread to exit</td>
</tr>
<tr class="even">
<td><a href="#man-thrd_yield"><code s__="13" d__="">thrd_yield()</code></a></td>
<td d__="">Stop running that other threads might run</td>
</tr>
<tr class="odd">
<td><a href="#man-tss_create"><code s__="13" d__="">tss_create()</code></a></td>
<td d__="">Create new thread-specific storage</td>
</tr>
<tr class="even">
<td><a href="#man-tss_delete"><code s__="13" d__="">tss_delete()</code></a></td>
<td d__="">Clean up a thread-specific storage variable</td>
</tr>
<tr class="odd">
<td><a href="#man-tss_get"><code s__="13" d__="">tss_get()</code></a></td>
<td d__="">Get thread-specific data</td>
</tr>
<tr class="even">
<td><a href="#man-tss_set"><code s__="13" d__="">tss_set()</code></a></td>
<td d__="">Set thread-specific data</td>
</tr>
</tbody>
</table>
<p d__="">We have a bunch of good things at our disposal with this one:</p>
<ul>
<li d__="">Threads</li>
<li d__="">Mutexes</li>
<li d__="">Condition Variables</li>
<li d__="">Thread-Specific Storage</li>
<li d__="">And, last but not least, the always-fun <code s__="13">call_once()</code> function!</li>
</ul>
<p d__="">Enjoy!</p>
<hr>
<h2 data-number="28.1" id="man-call_once"><span class="header-section-number" d__="">28.1</span> <code d__="">call_once()</code></h2>
<p></p>
<p d__="">Call a function one time no matter how many threads try</p>
<h3 class="unnumbered unlisted" id="synopsis-214" d__="">Synopsis</h3>
<div class="sourceCode" id="cb720"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb720-1"><a href="#cb720-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb720-2"><a href="#cb720-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb720-3" d__=""><a href="#cb720-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> call_once<span class="op" d__="">(</span>once_flag <span class="op" d__="">*</span>flag<span class="op" d__="">,</span> <span class="dt" d__="">void</span> <span class="op" d__="">(*</span>func<span class="op" d__="">)(</span><span class="dt" d__="">void</span><span class="op" d__="">));</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-214" d__="">Description</h3>
<p d__="">If you have a bunch of threads running over the same piece of 
code that calls a function, but you only want that function to run one 
time, <code s__="13">call_once()</code> can help you out.</p>
<p d__="">The catch is the function that is called doesn’t return anything and takes no arguments.</p>
<p d__="">If you need more than that, you’ll have to set a threadsafe flag such as <code s__="13">atomic_flag</code>, or one that you protect with a mutex.</p>
<p d__="">To use this, you need to pass it a pointer to a function to execute, <code s__="13">func</code>, and also a pointer to a flag of type <code s__="13">once_flag</code>.</p>
<p d__=""><code s__="13">once_flag</code> is an opaque type, so all you need to know is that you initialize it to the value <code s__="13">ONCE_FLAG_INIT</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-212" d__="">Return Value</h3>
<p d__="">Returns nothing.</p>
<h3 class="unnumbered unlisted" id="example-216" d__="">Example</h3>
<div class="sourceCode" id="cb721"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb721-1"><a href="#cb721-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb721-2"><a href="#cb721-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb721-3"><a href="#cb721-3"></a></span>
<span id="cb721-4" d__=""><a href="#cb721-4"></a>once_flag of <span class="op" d__="">=</span> ONCE_FLAG_INIT<span class="op" d__="">;</span>  <span class="co" d__="">// Initialize it like this</span></span>
<span id="cb721-5"><a href="#cb721-5"></a></span>
<span id="cb721-6" d__=""><a href="#cb721-6"></a><span class="dt" d__="">void</span> run_once_function<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb721-7"><a href="#cb721-7"></a><span class="op" d__="">{</span></span>
<span id="cb721-8" d__=""><a href="#cb721-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"I'll only run once!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb721-9"><a href="#cb721-9"></a><span class="op" d__="">}</span></span>
<span id="cb721-10"><a href="#cb721-10"></a></span>
<span id="cb721-11" d__=""><a href="#cb721-11"></a><span class="dt" d__="">int</span> run<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb721-12"><a href="#cb721-12"></a><span class="op" d__="">{</span></span>
<span id="cb721-13" d__=""><a href="#cb721-13"></a>    <span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span>arg<span class="op" d__="">;</span></span>
<span id="cb721-14"><a href="#cb721-14"></a></span>
<span id="cb721-15" d__=""><a href="#cb721-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Thread running!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb721-16"><a href="#cb721-16"></a></span>
<span id="cb721-17" d__=""><a href="#cb721-17"></a>    call_once<span class="op" d__="">(&amp;</span>of<span class="op" d__="">,</span> run_once_function<span class="op" d__="">);</span></span>
<span id="cb721-18"><a href="#cb721-18"></a></span>
<span id="cb721-19"><a href="#cb721-19"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb721-20"><a href="#cb721-20"></a><span class="op" d__="">}</span></span>
<span id="cb721-21"><a href="#cb721-21"></a></span>
<span id="cb721-22"><a href="#cb721-22"></a><span class="pp" d__="">#define THREAD_COUNT </span><span class="dv" d__="">5</span></span>
<span id="cb721-23"><a href="#cb721-23"></a></span>
<span id="cb721-24" d__=""><a href="#cb721-24"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb721-25"><a href="#cb721-25"></a><span class="op" d__="">{</span></span>
<span id="cb721-26" d__=""><a href="#cb721-26"></a>    thrd_t t<span class="op" d__="">[</span>THREAD_COUNT<span class="op" d__="">];</span></span>
<span id="cb721-27"><a href="#cb721-27"></a></span>
<span id="cb721-28" d__=""><a href="#cb721-28"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span></span>
<span id="cb721-29" d__=""><a href="#cb721-29"></a>        thrd_create<span class="op" d__="">(</span>t <span class="op" d__="">+</span> i<span class="op" d__="">,</span> run<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb721-30"><a href="#cb721-30"></a></span>
<span id="cb721-31" d__=""><a href="#cb721-31"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span></span>
<span id="cb721-32" d__=""><a href="#cb721-32"></a>        thrd_join<span class="op" d__="">(</span>t<span class="op" d__="">[</span>i<span class="op" d__="">],</span> NULL<span class="op" d__="">);</span></span>
<span id="cb721-33"><a href="#cb721-33"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output (might vary per run):</p>
<div class="sourceCode" id="cb722"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb722-1" d__=""><a href="#cb722-1" aria-hidden="true" tabindex="-1"></a>Thread running!</span>
<span id="cb722-2" d__=""><a href="#cb722-2" aria-hidden="true" tabindex="-1"></a>Thread running!</span>
<span id="cb722-3" d__=""><a href="#cb722-3" aria-hidden="true" tabindex="-1"></a>I'll only run once!</span>
<span id="cb722-4" d__=""><a href="#cb722-4" aria-hidden="true" tabindex="-1"></a>Thread running!</span>
<span id="cb722-5" d__=""><a href="#cb722-5" aria-hidden="true" tabindex="-1"></a>Thread running!</span>
<span id="cb722-6" d__=""><a href="#cb722-6" aria-hidden="true" tabindex="-1"></a>Thread running!</span></code></pre></div>
<!--
### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<hr>
<h2 data-number="28.2" id="man-cnd_broadcast"><span class="header-section-number" d__="">28.2</span> <code d__="">cnd_broadcast()</code></h2>
<p></p>
<p d__="">Wake up all threads waiting on a condition variable</p>
<h3 class="unnumbered unlisted" id="synopsis-215" d__="">Synopsis</h3>
<div class="sourceCode" id="cb723"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb723-1"><a href="#cb723-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb723-2"><a href="#cb723-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb723-3" d__=""><a href="#cb723-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> cnd_broadcast<span class="op" d__="">(</span>cnd_t <span class="op" d__="">*</span>cond<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-215" d__="">Description</h3>
<p d__="">This is just like <code s__="13">cnd_signal()</code> in that 
it wakes up threads that are waiting on a condition variable…. except 
instead of just rousing one thread, it wakes them all.</p>
<p d__="">Of course, only one will get the mutex, and the rest will have
 to wait their turn. But instead of being asleep waiting for a signal, 
they’ll be asleep waiting to reacquire the mutex. They’re rearin’ to go,
 in other words.</p>
<p d__="">This can make a difference in a specific set of circumstances where <code s__="13">cnd_signal()</code> might leave you hanging.</p>
<p d__="">If you’re relying on subsequent threads to issue the next <code s__="13">cnd_signal()</code>, but you have the <code s__="13">cnd_wait()</code> in a <code s__="13">while</code> loop<a href="#fn65" class="footnote-ref" id="fnref65" role="doc-noteref"><sup s__="13" d__="">65</sup></a> that doesn’t allow any threads to escape, you’ll be stuck. No more threads will be woken up from the wait.</p>
<p d__="">But if you <code s__="13">cnd_broadcast()</code>, all the threads will be woken, and presumably at least one of them will be allowed to escape the <code s__="13">while</code> loop, freeing it up to broadcast the next wakeup when its work is done.</p>
<h3 class="unnumbered unlisted" id="return-value-213" d__="">Return Value</h3>
<p d__="">Returns <code s__="13">thrd_success</code> or <code s__="13">thrd_error</code> depending on how well things went.</p>
<h3 class="unnumbered unlisted" id="example-217" d__="">Example</h3>
<p d__="">In the example below, we launch a bunch of threads, but 
they’re only allowed to run if their ID matches the current ID. If it 
doesn’t, they go back to waiting.</p>
<p d__="">If you <code s__="13">cnd_signal()</code> to wake the next 
thread, it might not be the one with the proper ID to run. If it’s not, 
it goes back to sleep and we hang (because no thread is awake to hit <code s__="13">cnd_signal()</code> again).</p>
<p d__="">But if you <code s__="13">cnd_broadcast()</code> to wake them all, then they’ll all try (one after another) to get out of the <code s__="13">while</code> loop. And one of them will make it.</p>
<p d__="">Try switching the <code s__="13">cnd_broadcast()</code> to <code s__="13">cnd_signal()</code> to see likely deadlocks. It doesn’t happen every time, but usually does.</p>
<div class="sourceCode" id="cb724"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb724-1"><a href="#cb724-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb724-2"><a href="#cb724-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb724-3"><a href="#cb724-3"></a></span>
<span id="cb724-4" d__=""><a href="#cb724-4"></a>cnd_t condvar<span class="op" d__="">;</span></span>
<span id="cb724-5" d__=""><a href="#cb724-5"></a>mtx_t mutex<span class="op" d__="">;</span></span>
<span id="cb724-6"><a href="#cb724-6"></a></span>
<span id="cb724-7" d__=""><a href="#cb724-7"></a><span class="dt" d__="">int</span> run<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb724-8"><a href="#cb724-8"></a><span class="op" d__="">{</span></span>
<span id="cb724-9" d__=""><a href="#cb724-9"></a>    <span class="dt" d__="">int</span> id <span class="op" d__="">=</span> <span class="op" d__="">*(</span><span class="dt" d__="">int</span><span class="op" d__="">*)</span>arg<span class="op" d__="">;</span></span>
<span id="cb724-10"><a href="#cb724-10"></a></span>
<span id="cb724-11" d__=""><a href="#cb724-11"></a>    <span class="dt" d__="">static</span> <span class="dt" d__="">int</span> current_id <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb724-12"><a href="#cb724-12"></a></span>
<span id="cb724-13" d__=""><a href="#cb724-13"></a>    mtx_lock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb724-14"><a href="#cb724-14"></a></span>
<span id="cb724-15" d__=""><a href="#cb724-15"></a>    <span class="cf" d__="">while</span> <span class="op" d__="">(</span>id <span class="op" d__="">!=</span> current_id<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb724-16" d__=""><a href="#cb724-16"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"THREAD </span><span class="sc" d__="">%d</span><span class="st" d__="">: waiting</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> id<span class="op" d__="">);</span></span>
<span id="cb724-17" d__=""><a href="#cb724-17"></a>        cnd_wait<span class="op" d__="">(&amp;</span>condvar<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb724-18"><a href="#cb724-18"></a></span>
<span id="cb724-19" d__=""><a href="#cb724-19"></a>        <span class="cf" d__="">if</span> <span class="op" d__="">(</span>id <span class="op" d__="">!=</span> current_id<span class="op" d__="">)</span></span>
<span id="cb724-20" d__=""><a href="#cb724-20"></a>            printf<span class="op" d__="">(</span><span class="st" d__="">"THREAD </span><span class="sc" d__="">%d</span><span class="st" d__="">: woke up, but it's not my turn!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> id<span class="op" d__="">);</span></span>
<span id="cb724-21"><a href="#cb724-21"></a>        <span class="cf" d__="">else</span></span>
<span id="cb724-22" d__=""><a href="#cb724-22"></a>            printf<span class="op" d__="">(</span><span class="st" d__="">"THREAD </span><span class="sc" d__="">%d</span><span class="st" d__="">: woke up, my turn! Let's go!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> id<span class="op" d__="">);</span></span>
<span id="cb724-23"><a href="#cb724-23"></a>    <span class="op" d__="">}</span></span>
<span id="cb724-24"><a href="#cb724-24"></a></span>
<span id="cb724-25" d__=""><a href="#cb724-25"></a>    current_id<span class="op" d__="">++;</span></span>
<span id="cb724-26"><a href="#cb724-26"></a></span>
<span id="cb724-27" d__=""><a href="#cb724-27"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"THREAD </span><span class="sc" d__="">%d</span><span class="st" d__="">: signaling thread </span><span class="sc" d__="">%d</span><span class="st" d__=""> to run</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> id<span class="op" d__="">,</span> current_id<span class="op" d__="">);</span></span>
<span id="cb724-28"><a href="#cb724-28"></a></span>
<span id="cb724-29"><a href="#cb724-29"></a>    <span class="co" d__="">//cnd_signal(&amp;condvar);</span></span>
<span id="cb724-30" d__=""><a href="#cb724-30"></a>    cnd_broadcast<span class="op" d__="">(&amp;</span>condvar<span class="op" d__="">);</span></span>
<span id="cb724-31" d__=""><a href="#cb724-31"></a>    mtx_unlock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb724-32"><a href="#cb724-32"></a></span>
<span id="cb724-33"><a href="#cb724-33"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb724-34"><a href="#cb724-34"></a><span class="op" d__="">}</span></span>
<span id="cb724-35"><a href="#cb724-35"></a></span>
<span id="cb724-36"><a href="#cb724-36"></a><span class="pp" d__="">#define THREAD_COUNT </span><span class="dv" d__="">5</span></span>
<span id="cb724-37"><a href="#cb724-37"></a></span>
<span id="cb724-38" d__=""><a href="#cb724-38"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb724-39"><a href="#cb724-39"></a><span class="op" d__="">{</span></span>
<span id="cb724-40" d__=""><a href="#cb724-40"></a>    thrd_t t<span class="op" d__="">[</span>THREAD_COUNT<span class="op" d__="">];</span></span>
<span id="cb724-41" d__=""><a href="#cb724-41"></a>    <span class="dt" d__="">int</span> id<span class="op" d__="">[]</span> <span class="op" d__="">=</span> <span class="op" d__="">{</span><span class="dv" d__="">4</span><span class="op" d__="">,</span> <span class="dv" d__="">3</span><span class="op" d__="">,</span> <span class="dv" d__="">2</span><span class="op" d__="">,</span> <span class="dv" d__="">1</span><span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">};</span></span>
<span id="cb724-42"><a href="#cb724-42"></a></span>
<span id="cb724-43" d__=""><a href="#cb724-43"></a>    mtx_init<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">,</span> mtx_plain<span class="op" d__="">);</span></span>
<span id="cb724-44" d__=""><a href="#cb724-44"></a>    cnd_init<span class="op" d__="">(&amp;</span>condvar<span class="op" d__="">);</span></span>
<span id="cb724-45"><a href="#cb724-45"></a></span>
<span id="cb724-46" d__=""><a href="#cb724-46"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span></span>
<span id="cb724-47" d__=""><a href="#cb724-47"></a>        thrd_create<span class="op" d__="">(</span>t <span class="op" d__="">+</span> i<span class="op" d__="">,</span> run<span class="op" d__="">,</span> id <span class="op" d__="">+</span> i<span class="op" d__="">);</span></span>
<span id="cb724-48"><a href="#cb724-48"></a></span>
<span id="cb724-49" d__=""><a href="#cb724-49"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span></span>
<span id="cb724-50" d__=""><a href="#cb724-50"></a>        thrd_join<span class="op" d__="">(</span>t<span class="op" d__="">[</span>i<span class="op" d__="">],</span> NULL<span class="op" d__="">);</span></span>
<span id="cb724-51"><a href="#cb724-51"></a></span>
<span id="cb724-52" d__=""><a href="#cb724-52"></a>    mtx_destroy<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb724-53" d__=""><a href="#cb724-53"></a>    cnd_destroy<span class="op" d__="">(&amp;</span>condvar<span class="op" d__="">);</span></span>
<span id="cb724-54"><a href="#cb724-54"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Example run with <code s__="13">cnd_broadcast()</code>:</p>
<div class="sourceCode" id="cb725"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb725-1" d__=""><a href="#cb725-1" aria-hidden="true" tabindex="-1"></a>THREAD 4: waiting</span>
<span id="cb725-2" d__=""><a href="#cb725-2" aria-hidden="true" tabindex="-1"></a>THREAD 1: waiting</span>
<span id="cb725-3" d__=""><a href="#cb725-3" aria-hidden="true" tabindex="-1"></a>THREAD 3: waiting</span>
<span id="cb725-4" d__=""><a href="#cb725-4" aria-hidden="true" tabindex="-1"></a>THREAD 2: waiting</span>
<span id="cb725-5" d__=""><a href="#cb725-5" aria-hidden="true" tabindex="-1"></a>THREAD 0: signaling thread 1 to run</span>
<span id="cb725-6" d__=""><a href="#cb725-6" aria-hidden="true" tabindex="-1"></a>THREAD 2: woke up, but it's not my turn!</span>
<span id="cb725-7" d__=""><a href="#cb725-7" aria-hidden="true" tabindex="-1"></a>THREAD 2: waiting</span>
<span id="cb725-8" d__=""><a href="#cb725-8" aria-hidden="true" tabindex="-1"></a>THREAD 4: woke up, but it's not my turn!</span>
<span id="cb725-9" d__=""><a href="#cb725-9" aria-hidden="true" tabindex="-1"></a>THREAD 4: waiting</span>
<span id="cb725-10" d__=""><a href="#cb725-10" aria-hidden="true" tabindex="-1"></a>THREAD 3: woke up, but it's not my turn!</span>
<span id="cb725-11" d__=""><a href="#cb725-11" aria-hidden="true" tabindex="-1"></a>THREAD 3: waiting</span>
<span id="cb725-12" d__=""><a href="#cb725-12" aria-hidden="true" tabindex="-1"></a>THREAD 1: woke up, my turn! Let's go!</span>
<span id="cb725-13" d__=""><a href="#cb725-13" aria-hidden="true" tabindex="-1"></a>THREAD 1: signaling thread 2 to run</span>
<span id="cb725-14" d__=""><a href="#cb725-14" aria-hidden="true" tabindex="-1"></a>THREAD 4: woke up, but it's not my turn!</span>
<span id="cb725-15" d__=""><a href="#cb725-15" aria-hidden="true" tabindex="-1"></a>THREAD 4: waiting</span>
<span id="cb725-16" d__=""><a href="#cb725-16" aria-hidden="true" tabindex="-1"></a>THREAD 3: woke up, but it's not my turn!</span>
<span id="cb725-17" d__=""><a href="#cb725-17" aria-hidden="true" tabindex="-1"></a>THREAD 3: waiting</span>
<span id="cb725-18" d__=""><a href="#cb725-18" aria-hidden="true" tabindex="-1"></a>THREAD 2: woke up, my turn! Let's go!</span>
<span id="cb725-19" d__=""><a href="#cb725-19" aria-hidden="true" tabindex="-1"></a>THREAD 2: signaling thread 3 to run</span>
<span id="cb725-20" d__=""><a href="#cb725-20" aria-hidden="true" tabindex="-1"></a>THREAD 4: woke up, but it's not my turn!</span>
<span id="cb725-21" d__=""><a href="#cb725-21" aria-hidden="true" tabindex="-1"></a>THREAD 4: waiting</span>
<span id="cb725-22" d__=""><a href="#cb725-22" aria-hidden="true" tabindex="-1"></a>THREAD 3: woke up, my turn! Let's go!</span>
<span id="cb725-23" d__=""><a href="#cb725-23" aria-hidden="true" tabindex="-1"></a>THREAD 3: signaling thread 4 to run</span>
<span id="cb725-24" d__=""><a href="#cb725-24" aria-hidden="true" tabindex="-1"></a>THREAD 4: woke up, my turn! Let's go!</span>
<span id="cb725-25" d__=""><a href="#cb725-25" aria-hidden="true" tabindex="-1"></a>THREAD 4: signaling thread 5 to run</span></code></pre></div>
<p d__="">Example run with <code s__="13">cnd_signal()</code>:</p>
<div class="sourceCode" id="cb726"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb726-1" d__=""><a href="#cb726-1" aria-hidden="true" tabindex="-1"></a>THREAD 4: waiting</span>
<span id="cb726-2" d__=""><a href="#cb726-2" aria-hidden="true" tabindex="-1"></a>THREAD 1: waiting</span>
<span id="cb726-3" d__=""><a href="#cb726-3" aria-hidden="true" tabindex="-1"></a>THREAD 3: waiting</span>
<span id="cb726-4" d__=""><a href="#cb726-4" aria-hidden="true" tabindex="-1"></a>THREAD 2: waiting</span>
<span id="cb726-5" d__=""><a href="#cb726-5" aria-hidden="true" tabindex="-1"></a>THREAD 0: signaling thread 1 to run</span>
<span id="cb726-6" d__=""><a href="#cb726-6" aria-hidden="true" tabindex="-1"></a>THREAD 4: woke up, but it's not my turn!</span>
<span id="cb726-7" d__=""><a href="#cb726-7" aria-hidden="true" tabindex="-1"></a>THREAD 4: waiting</span>
<span id="cb726-8"><a href="#cb726-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb726-9" d__=""><a href="#cb726-9" aria-hidden="true" tabindex="-1"></a>[deadlock at this point]</span></code></pre></div>
<p d__="">See how <code s__="13">THREAD 0</code> signaled that it was <code s__="13">THREAD 1</code>’s turn? But—bad news—it was <code s__="13">THREAD 4</code> that got woken up. So no one continued the process. <code s__="13">cnd_broadcast()</code> would have woken them all, so eventually <code s__="13">THREAD 1</code> would have run, gotten out of the <code s__="13">while</code>, and broadcast for the next thread to run.</p>
<h3 class="unnumbered unlisted" id="see-also-201" d__="">See Also</h3>
<p d__=""><a href="#man-signal"><code s__="13" d__="">cnd_signal()</code></a>, <a href="#man-mtx_lock"><code s__="13" d__="">mtx_lock()</code></a>, <a href="#man-mtx_unlock"><code s__="13" d__="">mtx_unlock()</code></a></p>
<hr>
<h2 data-number="28.3" id="man-cnd_destroy"><span class="header-section-number" d__="">28.3</span> <code d__="">cnd_destroy()</code></h2>
<p></p>
<p d__="">Free up resources from a condition variable</p>
<h3 class="unnumbered unlisted" id="synopsis-216" d__="">Synopsis</h3>
<div class="sourceCode" id="cb727"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb727-1"><a href="#cb727-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb727-2"><a href="#cb727-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb727-3" d__=""><a href="#cb727-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> cnd_destroy<span class="op" d__="">(</span>cnd_t <span class="op" d__="">*</span>cond<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-216" d__="">Description</h3>
<p d__="">This is the opposite of <code s__="13">cnd_init()</code> and should be called when all threads are done using a condition variable.</p>
<h3 class="unnumbered unlisted" id="return-value-214" d__="">Return Value</h3>
<p d__="">Returns nothing!</p>
<h3 class="unnumbered unlisted" id="example-218" d__="">Example</h3>
<p d__="">General-purpose condition variable example here, but you can see the <code s__="13">cnd_destroy()</code> down at the end.</p>
<div class="sourceCode" id="cb728"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb728-1"><a href="#cb728-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb728-2"><a href="#cb728-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb728-3"><a href="#cb728-3"></a></span>
<span id="cb728-4" d__=""><a href="#cb728-4"></a>cnd_t condvar<span class="op" d__="">;</span></span>
<span id="cb728-5" d__=""><a href="#cb728-5"></a>mtx_t mutex<span class="op" d__="">;</span></span>
<span id="cb728-6"><a href="#cb728-6"></a></span>
<span id="cb728-7" d__=""><a href="#cb728-7"></a><span class="dt" d__="">int</span> run<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb728-8"><a href="#cb728-8"></a><span class="op" d__="">{</span></span>
<span id="cb728-9" d__=""><a href="#cb728-9"></a>    <span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span>arg<span class="op" d__="">;</span></span>
<span id="cb728-10"><a href="#cb728-10"></a></span>
<span id="cb728-11" d__=""><a href="#cb728-11"></a>    mtx_lock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb728-12"><a href="#cb728-12"></a></span>
<span id="cb728-13" d__=""><a href="#cb728-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Thread: waiting...</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb728-14" d__=""><a href="#cb728-14"></a>    cnd_wait<span class="op" d__="">(&amp;</span>condvar<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb728-15" d__=""><a href="#cb728-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Thread: running again!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb728-16"><a href="#cb728-16"></a></span>
<span id="cb728-17" d__=""><a href="#cb728-17"></a>    mtx_unlock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb728-18"><a href="#cb728-18"></a></span>
<span id="cb728-19"><a href="#cb728-19"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb728-20"><a href="#cb728-20"></a><span class="op" d__="">}</span></span>
<span id="cb728-21"><a href="#cb728-21"></a></span>
<span id="cb728-22" d__=""><a href="#cb728-22"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb728-23"><a href="#cb728-23"></a><span class="op" d__="">{</span></span>
<span id="cb728-24" d__=""><a href="#cb728-24"></a>    thrd_t t<span class="op" d__="">;</span></span>
<span id="cb728-25"><a href="#cb728-25"></a></span>
<span id="cb728-26" d__=""><a href="#cb728-26"></a>    mtx_init<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">,</span> mtx_plain<span class="op" d__="">);</span></span>
<span id="cb728-27" d__=""><a href="#cb728-27"></a>    cnd_init<span class="op" d__="">(&amp;</span>condvar<span class="op" d__="">);</span></span>
<span id="cb728-28"><a href="#cb728-28"></a></span>
<span id="cb728-29" d__=""><a href="#cb728-29"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Main creating thread</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb728-30" d__=""><a href="#cb728-30"></a>    thrd_create<span class="op" d__="">(&amp;</span>t<span class="op" d__="">,</span> run<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb728-31"><a href="#cb728-31"></a></span>
<span id="cb728-32"><a href="#cb728-32"></a>    <span class="co" d__="">// Sleep 0.1s to allow the other thread to wait</span></span>
<span id="cb728-33" d__=""><a href="#cb728-33"></a>    thrd_sleep<span class="op" d__="">(&amp;(</span><span class="kw" d__="">struct</span> timespec<span class="op" d__="">){.</span>tv_nsec<span class="op" d__="">=</span><span class="dv" d__="">100000000</span><span class="bu" d__="">L</span><span class="op" d__="">},</span> NULL<span class="op" d__="">);</span></span>
<span id="cb728-34"><a href="#cb728-34"></a></span>
<span id="cb728-35" d__=""><a href="#cb728-35"></a>    mtx_lock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb728-36" d__=""><a href="#cb728-36"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Main: signaling thread</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb728-37" d__=""><a href="#cb728-37"></a>    cnd_signal<span class="op" d__="">(&amp;</span>condvar<span class="op" d__="">);</span></span>
<span id="cb728-38" d__=""><a href="#cb728-38"></a>    mtx_unlock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb728-39"><a href="#cb728-39"></a></span>
<span id="cb728-40" d__=""><a href="#cb728-40"></a>    thrd_join<span class="op" d__="">(</span>t<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb728-41"><a href="#cb728-41"></a></span>
<span id="cb728-42" d__=""><a href="#cb728-42"></a>    mtx_destroy<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb728-43" d__=""><a href="#cb728-43"></a>    cnd_destroy<span class="op" d__="">(&amp;</span>condvar<span class="op" d__="">);</span>  <span class="co" d__="">// &lt;-- DESTROY CONDITION VARIABLE</span></span>
<span id="cb728-44"><a href="#cb728-44"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb729"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb729-1" d__=""><a href="#cb729-1" aria-hidden="true" tabindex="-1"></a>Main creating thread</span>
<span id="cb729-2" d__=""><a href="#cb729-2" aria-hidden="true" tabindex="-1"></a>Thread: waiting...</span>
<span id="cb729-3" d__=""><a href="#cb729-3" aria-hidden="true" tabindex="-1"></a>Main: signaling thread</span>
<span id="cb729-4" d__=""><a href="#cb729-4" aria-hidden="true" tabindex="-1"></a>Thread: running again!</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-202" d__="">See Also</h3>
<p><a href="#man-cnd_init"><code s__="13" d__="">cnd_init()</code></a></p>
<hr>
<h2 data-number="28.4" id="man-cnd_init"><span class="header-section-number" d__="">28.4</span> <code d__="">cnd_init()</code></h2>
<p></p>
<p d__="">Initialize a condition variable to make it ready for use</p>
<h3 class="unnumbered unlisted" id="synopsis-217" d__="">Synopsis</h3>
<div class="sourceCode" id="cb730"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb730-1"><a href="#cb730-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb730-2"><a href="#cb730-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb730-3" d__=""><a href="#cb730-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> cnd_init<span class="op" d__="">(</span>cnd_t <span class="op" d__="">*</span>cond<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-217" d__="">Description</h3>
<p d__="">This is the opposite of <code s__="13">cnd_destroy()</code>. This prepares a condition variable for use, doing behind-the-scenes work on it.</p>
<p d__="">Don’t use a condition variable without calling this first!</p>
<h3 class="unnumbered unlisted" id="return-value-215" d__="">Return Value</h3>
<p d__="">If all goes well, returns <code s__="13">thrd_success</code>. It all doesn’t go well, it could return <code s__="13">thrd_nomem</code> if the system is out of memory, or <code s__="13">thread_error</code> in the case of any other error.</p>
<h3 class="unnumbered unlisted" id="example-219" d__="">Example</h3>
<p d__="">General-purpose condition variable example here, but you can see the <code s__="13">cnd_init()</code> down at the start of <code s__="13">main()</code>.</p>
<div class="sourceCode" id="cb731"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb731-1"><a href="#cb731-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb731-2"><a href="#cb731-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb731-3"><a href="#cb731-3"></a></span>
<span id="cb731-4" d__=""><a href="#cb731-4"></a>cnd_t condvar<span class="op" d__="">;</span></span>
<span id="cb731-5" d__=""><a href="#cb731-5"></a>mtx_t mutex<span class="op" d__="">;</span></span>
<span id="cb731-6"><a href="#cb731-6"></a></span>
<span id="cb731-7" d__=""><a href="#cb731-7"></a><span class="dt" d__="">int</span> run<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb731-8"><a href="#cb731-8"></a><span class="op" d__="">{</span></span>
<span id="cb731-9" d__=""><a href="#cb731-9"></a>    <span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span>arg<span class="op" d__="">;</span></span>
<span id="cb731-10"><a href="#cb731-10"></a></span>
<span id="cb731-11" d__=""><a href="#cb731-11"></a>    mtx_lock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb731-12"><a href="#cb731-12"></a></span>
<span id="cb731-13" d__=""><a href="#cb731-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Thread: waiting...</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb731-14" d__=""><a href="#cb731-14"></a>    cnd_wait<span class="op" d__="">(&amp;</span>condvar<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb731-15" d__=""><a href="#cb731-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Thread: running again!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb731-16"><a href="#cb731-16"></a></span>
<span id="cb731-17" d__=""><a href="#cb731-17"></a>    mtx_unlock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb731-18"><a href="#cb731-18"></a></span>
<span id="cb731-19"><a href="#cb731-19"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb731-20"><a href="#cb731-20"></a><span class="op" d__="">}</span></span>
<span id="cb731-21"><a href="#cb731-21"></a></span>
<span id="cb731-22" d__=""><a href="#cb731-22"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb731-23"><a href="#cb731-23"></a><span class="op" d__="">{</span></span>
<span id="cb731-24" d__=""><a href="#cb731-24"></a>    thrd_t t<span class="op" d__="">;</span></span>
<span id="cb731-25"><a href="#cb731-25"></a></span>
<span id="cb731-26" d__=""><a href="#cb731-26"></a>    mtx_init<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">,</span> mtx_plain<span class="op" d__="">);</span></span>
<span id="cb731-27" d__=""><a href="#cb731-27"></a>    cnd_init<span class="op" d__="">(&amp;</span>condvar<span class="op" d__="">);</span>      <span class="co" d__="">// &lt;-- INITIALIZE CONDITION VARIABLE</span></span>
<span id="cb731-28"><a href="#cb731-28"></a></span>
<span id="cb731-29" d__=""><a href="#cb731-29"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Main creating thread</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb731-30" d__=""><a href="#cb731-30"></a>    thrd_create<span class="op" d__="">(&amp;</span>t<span class="op" d__="">,</span> run<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb731-31"><a href="#cb731-31"></a></span>
<span id="cb731-32"><a href="#cb731-32"></a>    <span class="co" d__="">// Sleep 0.1s to allow the other thread to wait</span></span>
<span id="cb731-33" d__=""><a href="#cb731-33"></a>    thrd_sleep<span class="op" d__="">(&amp;(</span><span class="kw" d__="">struct</span> timespec<span class="op" d__="">){.</span>tv_nsec<span class="op" d__="">=</span><span class="dv" d__="">100000000</span><span class="bu" d__="">L</span><span class="op" d__="">},</span> NULL<span class="op" d__="">);</span></span>
<span id="cb731-34"><a href="#cb731-34"></a></span>
<span id="cb731-35" d__=""><a href="#cb731-35"></a>    mtx_lock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb731-36" d__=""><a href="#cb731-36"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Main: signaling thread</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb731-37" d__=""><a href="#cb731-37"></a>    cnd_signal<span class="op" d__="">(&amp;</span>condvar<span class="op" d__="">);</span></span>
<span id="cb731-38" d__=""><a href="#cb731-38"></a>    mtx_unlock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb731-39"><a href="#cb731-39"></a></span>
<span id="cb731-40" d__=""><a href="#cb731-40"></a>    thrd_join<span class="op" d__="">(</span>t<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb731-41"><a href="#cb731-41"></a></span>
<span id="cb731-42" d__=""><a href="#cb731-42"></a>    mtx_destroy<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb731-43" d__=""><a href="#cb731-43"></a>    cnd_destroy<span class="op" d__="">(&amp;</span>condvar<span class="op" d__="">);</span></span>
<span id="cb731-44"><a href="#cb731-44"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb732"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb732-1" d__=""><a href="#cb732-1" aria-hidden="true" tabindex="-1"></a>Main creating thread</span>
<span id="cb732-2" d__=""><a href="#cb732-2" aria-hidden="true" tabindex="-1"></a>Thread: waiting...</span>
<span id="cb732-3" d__=""><a href="#cb732-3" aria-hidden="true" tabindex="-1"></a>Main: signaling thread</span>
<span id="cb732-4" d__=""><a href="#cb732-4" aria-hidden="true" tabindex="-1"></a>Thread: running again!</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-203" d__="">See Also</h3>
<p><a href="#man-cnd_destroy"><code s__="13" d__="">cnd_destroy()</code></a></p>
<hr>
<h2 data-number="28.5" id="man-cnd_signal"><span class="header-section-number" d__="">28.5</span> <code d__="">cnd_signal()</code></h2>
<p></p>
<p d__="">Wake up a thread waiting on a condition variable</p>
<h3 class="unnumbered unlisted" id="synopsis-218" d__="">Synopsis</h3>
<div class="sourceCode" id="cb733"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb733-1"><a href="#cb733-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb733-2"><a href="#cb733-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb733-3" d__=""><a href="#cb733-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> cnd_signal<span class="op" d__="">(</span>cnd_t <span class="op" d__="">*</span>cond<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-218" d__="">Description</h3>
<p d__="">If you have a thread (or a bunch of threads) waiting on a condition variable, this function will wake one of them up to run.</p>
<p d__="">Compare to <code s__="13">cnd_broadcast()</code> that wakes up all the threads. See the <a href="#man-cnd_broadcast"><code s__="13" d__="">cnd_broadcast()</code></a> page for more information on when you’re want to use that versus this.</p>
<h3 class="unnumbered unlisted" id="return-value-216" d__="">Return Value</h3>
<p d__="">Returns <code s__="13">thrd_success</code> or <code s__="13">thrd_error</code> depending on how happy your program is.</p>
<h3 class="unnumbered unlisted" id="example-220" d__="">Example</h3>
<p d__="">General-purpose condition variable example here, but you can see the <code s__="13">cnd_signal()</code> in the middle of <code s__="13">main()</code>.</p>
<div class="sourceCode" id="cb734"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb734-1"><a href="#cb734-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb734-2"><a href="#cb734-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb734-3"><a href="#cb734-3"></a></span>
<span id="cb734-4" d__=""><a href="#cb734-4"></a>cnd_t condvar<span class="op" d__="">;</span></span>
<span id="cb734-5" d__=""><a href="#cb734-5"></a>mtx_t mutex<span class="op" d__="">;</span></span>
<span id="cb734-6"><a href="#cb734-6"></a></span>
<span id="cb734-7" d__=""><a href="#cb734-7"></a><span class="dt" d__="">int</span> run<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb734-8"><a href="#cb734-8"></a><span class="op" d__="">{</span></span>
<span id="cb734-9" d__=""><a href="#cb734-9"></a>    <span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span>arg<span class="op" d__="">;</span></span>
<span id="cb734-10"><a href="#cb734-10"></a></span>
<span id="cb734-11" d__=""><a href="#cb734-11"></a>    mtx_lock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb734-12"><a href="#cb734-12"></a></span>
<span id="cb734-13" d__=""><a href="#cb734-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Thread: waiting...</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb734-14" d__=""><a href="#cb734-14"></a>    cnd_wait<span class="op" d__="">(&amp;</span>condvar<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb734-15" d__=""><a href="#cb734-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Thread: running again!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb734-16"><a href="#cb734-16"></a></span>
<span id="cb734-17" d__=""><a href="#cb734-17"></a>    mtx_unlock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb734-18"><a href="#cb734-18"></a></span>
<span id="cb734-19"><a href="#cb734-19"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb734-20"><a href="#cb734-20"></a><span class="op" d__="">}</span></span>
<span id="cb734-21"><a href="#cb734-21"></a></span>
<span id="cb734-22" d__=""><a href="#cb734-22"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb734-23"><a href="#cb734-23"></a><span class="op" d__="">{</span></span>
<span id="cb734-24" d__=""><a href="#cb734-24"></a>    thrd_t t<span class="op" d__="">;</span></span>
<span id="cb734-25"><a href="#cb734-25"></a></span>
<span id="cb734-26" d__=""><a href="#cb734-26"></a>    mtx_init<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">,</span> mtx_plain<span class="op" d__="">);</span></span>
<span id="cb734-27" d__=""><a href="#cb734-27"></a>    cnd_init<span class="op" d__="">(&amp;</span>condvar<span class="op" d__="">);</span></span>
<span id="cb734-28"><a href="#cb734-28"></a></span>
<span id="cb734-29" d__=""><a href="#cb734-29"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Main creating thread</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb734-30" d__=""><a href="#cb734-30"></a>    thrd_create<span class="op" d__="">(&amp;</span>t<span class="op" d__="">,</span> run<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb734-31"><a href="#cb734-31"></a></span>
<span id="cb734-32"><a href="#cb734-32"></a>    <span class="co" d__="">// Sleep 0.1s to allow the other thread to wait</span></span>
<span id="cb734-33" d__=""><a href="#cb734-33"></a>    thrd_sleep<span class="op" d__="">(&amp;(</span><span class="kw" d__="">struct</span> timespec<span class="op" d__="">){.</span>tv_nsec<span class="op" d__="">=</span><span class="dv" d__="">100000000</span><span class="bu" d__="">L</span><span class="op" d__="">},</span> NULL<span class="op" d__="">);</span></span>
<span id="cb734-34"><a href="#cb734-34"></a></span>
<span id="cb734-35" d__=""><a href="#cb734-35"></a>    mtx_lock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb734-36" d__=""><a href="#cb734-36"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Main: signaling thread</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb734-37" d__=""><a href="#cb734-37"></a>    cnd_signal<span class="op" d__="">(&amp;</span>condvar<span class="op" d__="">);</span>    <span class="co" d__="">// &lt;-- SIGNAL CHILD THREAD HERE!</span></span>
<span id="cb734-38" d__=""><a href="#cb734-38"></a>    mtx_unlock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb734-39"><a href="#cb734-39"></a></span>
<span id="cb734-40" d__=""><a href="#cb734-40"></a>    thrd_join<span class="op" d__="">(</span>t<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb734-41"><a href="#cb734-41"></a></span>
<span id="cb734-42" d__=""><a href="#cb734-42"></a>    mtx_destroy<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb734-43" d__=""><a href="#cb734-43"></a>    cnd_destroy<span class="op" d__="">(&amp;</span>condvar<span class="op" d__="">);</span></span>
<span id="cb734-44"><a href="#cb734-44"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb735"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb735-1" d__=""><a href="#cb735-1" aria-hidden="true" tabindex="-1"></a>Main creating thread</span>
<span id="cb735-2" d__=""><a href="#cb735-2" aria-hidden="true" tabindex="-1"></a>Thread: waiting...</span>
<span id="cb735-3" d__=""><a href="#cb735-3" aria-hidden="true" tabindex="-1"></a>Main: signaling thread</span>
<span id="cb735-4" d__=""><a href="#cb735-4" aria-hidden="true" tabindex="-1"></a>Thread: running again!</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-204" d__="">See Also</h3>
<p d__=""><a href="#man-cnd_init"><code s__="13" d__="">cnd_init()</code></a>, <a href="#man-cnd_destroy"><code s__="13" d__="">cnd_destroy()</code></a></p>
<hr>
<h2 data-number="28.6" id="man-cnd_timedwait"><span class="header-section-number" d__="">28.6</span> <code d__="">cnd_timedwait()</code></h2>
<p></p>
<p d__="">Wait on a condition variable with a timeout</p>
<h3 class="unnumbered unlisted" id="synopsis-219" d__="">Synopsis</h3>
<div class="sourceCode" id="cb736"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb736-1"><a href="#cb736-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb736-2"><a href="#cb736-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb736-3" d__=""><a href="#cb736-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> cnd_timedwait<span class="op" d__="">(</span>cnd_t <span class="op" d__="">*</span><span class="dt" d__="">restrict</span> cond<span class="op" d__="">,</span> mtx_t <span class="op" d__="">*</span><span class="dt" d__="">restrict</span> mtx<span class="op" d__="">,</span></span>
<span id="cb736-4" d__=""><a href="#cb736-4" aria-hidden="true" tabindex="-1"></a>                  <span class="dt" d__="">const</span> <span class="kw" d__="">struct</span> timespec <span class="op" d__="">*</span><span class="dt" d__="">restrict</span> ts<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-219" d__="">Description</h3>
<p d__="">This is like <a href="#man-cnd_wait"><code s__="13" d__="">cnd_wait()</code></a> except we get to specify a timeout, as well.</p>
<p d__="">Note that the thread still must reacquire the mutex to get 
more work done even after the timeout. The the main difference is that 
regular <code s__="13">cnd_wait()</code> will only try to get the mutex after a <code s__="13">cnd_signal()</code> or <code s__="13">cnd_broadcast()</code>, whereas <code s__="13">cnd_timedwait()</code> will do that, too, <strong>and</strong> try to get the mutex after the timeout.</p>
<p d__="">The timeout is specified as an absolute UTC time since Epoch. You can get this with the <a href="#man-timespec_get"><code s__="13" d__="">timespec_get()</code></a> function and then add values on to the result to timeout later than now, as shown in the example.</p>
<p d__="">Beware that you can’t have more than 999999999 nanoseconds in the <code s__="13">tv_nsec</code> field of the <code s__="13">struct timespec</code>. Mod those so they stay in range.</p>
<h3 class="unnumbered unlisted" id="return-value-217" d__="">Return Value</h3>
<p d__="">If the thread wakes up for a non-timeout reason (e.g.&nbsp;signal or broadcast), returns <code s__="13">thrd_success</code>. If woken up due to timeout, returns <code s__="13">thrd_timedout</code>. Otherwise returns <code s__="13">thrd_error</code>.</p>
<h3 class="unnumbered unlisted" id="example-221" d__="">Example</h3>
<p d__="">This example has a thread wait on a condition variable for a 
maximum of 1.75 seconds. And it always times out because no one ever 
sends a signal. Tragic.</p>
<div class="sourceCode" id="cb737"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb737-1"><a href="#cb737-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb737-2"><a href="#cb737-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb737-3"><a href="#cb737-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb737-4"><a href="#cb737-4"></a></span>
<span id="cb737-5" d__=""><a href="#cb737-5"></a>cnd_t condvar<span class="op" d__="">;</span></span>
<span id="cb737-6" d__=""><a href="#cb737-6"></a>mtx_t mutex<span class="op" d__="">;</span></span>
<span id="cb737-7"><a href="#cb737-7"></a></span>
<span id="cb737-8" d__=""><a href="#cb737-8"></a><span class="dt" d__="">int</span> run<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb737-9"><a href="#cb737-9"></a><span class="op" d__="">{</span></span>
<span id="cb737-10" d__=""><a href="#cb737-10"></a>    <span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span>arg<span class="op" d__="">;</span></span>
<span id="cb737-11"><a href="#cb737-11"></a></span>
<span id="cb737-12" d__=""><a href="#cb737-12"></a>    mtx_lock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb737-13"><a href="#cb737-13"></a></span>
<span id="cb737-14" d__=""><a href="#cb737-14"></a>    <span class="kw" d__="">struct</span> timespec ts<span class="op" d__="">;</span></span>
<span id="cb737-15"><a href="#cb737-15"></a></span>
<span id="cb737-16"><a href="#cb737-16"></a>    <span class="co" d__="">// Get the time now</span></span>
<span id="cb737-17" d__=""><a href="#cb737-17"></a>    timespec_get<span class="op" d__="">(&amp;</span>ts<span class="op" d__="">,</span> TIME_UTC<span class="op" d__="">);</span></span>
<span id="cb737-18"><a href="#cb737-18"></a></span>
<span id="cb737-19"><a href="#cb737-19"></a>    <span class="co" d__="">// Add on 1.75 seconds from now</span></span>
<span id="cb737-20" d__=""><a href="#cb737-20"></a>    ts<span class="op" d__="">.</span>tv_sec <span class="op" d__="">+=</span> <span class="dv" d__="">1</span><span class="op" d__="">;</span></span>
<span id="cb737-21" d__=""><a href="#cb737-21"></a>    ts<span class="op" d__="">.</span>tv_nsec <span class="op" d__="">+=</span> <span class="dv" d__="">750000000</span><span class="bu" d__="">L</span><span class="op" d__="">;</span></span>
<span id="cb737-22"><a href="#cb737-22"></a></span>
<span id="cb737-23"><a href="#cb737-23"></a>    <span class="co" d__="">// Handle nsec overflow</span></span>
<span id="cb737-24" d__=""><a href="#cb737-24"></a>    ts<span class="op" d__="">.</span>tv_sec <span class="op" d__="">+=</span> ts<span class="op" d__="">.</span>tv_nsec <span class="op" d__="">/</span> <span class="dv" d__="">1000000000</span><span class="bu" d__="">L</span><span class="op" d__="">;</span></span>
<span id="cb737-25" d__=""><a href="#cb737-25"></a>    ts<span class="op" d__="">.</span>tv_nsec <span class="op" d__="">=</span> ts<span class="op" d__="">.</span>tv_nsec <span class="op" d__="">%</span> <span class="dv" d__="">1000000000</span><span class="bu" d__="">L</span><span class="op" d__="">;</span></span>
<span id="cb737-26"><a href="#cb737-26"></a></span>
<span id="cb737-27" d__=""><a href="#cb737-27"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Thread: waiting...</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb737-28" d__=""><a href="#cb737-28"></a>    <span class="dt" d__="">int</span> r <span class="op" d__="">=</span> cnd_timedwait<span class="op" d__="">(&amp;</span>condvar<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>mutex<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>ts<span class="op" d__="">);</span></span>
<span id="cb737-29"><a href="#cb737-29"></a></span>
<span id="cb737-30" d__=""><a href="#cb737-30"></a>    <span class="cf" d__="">switch</span> <span class="op" d__="">(</span>r<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb737-31" d__=""><a href="#cb737-31"></a>        <span class="cf" d__="">case</span> thrd_success<span class="op" d__="">:</span></span>
<span id="cb737-32" d__=""><a href="#cb737-32"></a>            printf<span class="op" d__="">(</span><span class="st" d__="">"Thread: signaled!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb737-33"><a href="#cb737-33"></a>            <span class="cf" d__="">break</span><span class="op" d__="">;</span></span>
<span id="cb737-34"><a href="#cb737-34"></a></span>
<span id="cb737-35" d__=""><a href="#cb737-35"></a>        <span class="cf" d__="">case</span> thrd_timedout<span class="op" d__="">:</span></span>
<span id="cb737-36" d__=""><a href="#cb737-36"></a>            printf<span class="op" d__="">(</span><span class="st" d__="">"Thread: timed out!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb737-37"><a href="#cb737-37"></a>            <span class="cf" d__="">return</span> <span class="dv" d__="">1</span><span class="op" d__="">;</span></span>
<span id="cb737-38"><a href="#cb737-38"></a></span>
<span id="cb737-39" d__=""><a href="#cb737-39"></a>        <span class="cf" d__="">case</span> thrd_error<span class="op" d__="">:</span></span>
<span id="cb737-40" d__=""><a href="#cb737-40"></a>            printf<span class="op" d__="">(</span><span class="st" d__="">"Thread: Some kind of error</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb737-41"><a href="#cb737-41"></a>            <span class="cf" d__="">return</span> <span class="dv" d__="">2</span><span class="op" d__="">;</span></span>
<span id="cb737-42"><a href="#cb737-42"></a>    <span class="op" d__="">}</span></span>
<span id="cb737-43"><a href="#cb737-43"></a></span>
<span id="cb737-44" d__=""><a href="#cb737-44"></a>    mtx_unlock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb737-45"><a href="#cb737-45"></a></span>
<span id="cb737-46"><a href="#cb737-46"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb737-47"><a href="#cb737-47"></a><span class="op" d__="">}</span></span>
<span id="cb737-48"><a href="#cb737-48"></a></span>
<span id="cb737-49" d__=""><a href="#cb737-49"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb737-50"><a href="#cb737-50"></a><span class="op" d__="">{</span></span>
<span id="cb737-51" d__=""><a href="#cb737-51"></a>    thrd_t t<span class="op" d__="">;</span></span>
<span id="cb737-52"><a href="#cb737-52"></a></span>
<span id="cb737-53" d__=""><a href="#cb737-53"></a>    mtx_init<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">,</span> mtx_plain<span class="op" d__="">);</span></span>
<span id="cb737-54" d__=""><a href="#cb737-54"></a>    cnd_init<span class="op" d__="">(&amp;</span>condvar<span class="op" d__="">);</span></span>
<span id="cb737-55"><a href="#cb737-55"></a></span>
<span id="cb737-56" d__=""><a href="#cb737-56"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Main creating thread</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb737-57" d__=""><a href="#cb737-57"></a>    thrd_create<span class="op" d__="">(&amp;</span>t<span class="op" d__="">,</span> run<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb737-58"><a href="#cb737-58"></a></span>
<span id="cb737-59"><a href="#cb737-59"></a>    <span class="co" d__="">// Sleep 3s to allow the other thread to timeout</span></span>
<span id="cb737-60" d__=""><a href="#cb737-60"></a>    thrd_sleep<span class="op" d__="">(&amp;(</span><span class="kw" d__="">struct</span> timespec<span class="op" d__="">){.</span>tv_sec<span class="op" d__="">=</span><span class="dv" d__="">3</span><span class="op" d__="">},</span> NULL<span class="op" d__="">);</span></span>
<span id="cb737-61"><a href="#cb737-61"></a></span>
<span id="cb737-62" d__=""><a href="#cb737-62"></a>    thrd_join<span class="op" d__="">(</span>t<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb737-63"><a href="#cb737-63"></a></span>
<span id="cb737-64" d__=""><a href="#cb737-64"></a>    mtx_destroy<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb737-65" d__=""><a href="#cb737-65"></a>    cnd_destroy<span class="op" d__="">(&amp;</span>condvar<span class="op" d__="">);</span></span>
<span id="cb737-66"><a href="#cb737-66"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb738"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb738-1" d__=""><a href="#cb738-1" aria-hidden="true" tabindex="-1"></a>Main creating thread</span>
<span id="cb738-2" d__=""><a href="#cb738-2" aria-hidden="true" tabindex="-1"></a>Thread: waiting...</span>
<span id="cb738-3" d__=""><a href="#cb738-3" aria-hidden="true" tabindex="-1"></a>Thread: timed out!</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-205" d__="">See Also</h3>
<p d__=""><a href="#man-cnd_wait"><code s__="13" d__="">cnd_wait()</code></a>, <a href="#man-timespec_get"><code s__="13" d__="">timespec_get()</code></a></p>
<hr>
<h2 data-number="28.7" id="man-cnd_wait"><span class="header-section-number" d__="">28.7</span> <code d__="">cnd_wait()</code></h2>
<p></p>
<p d__="">Wait for a signal on a condition variable</p>
<h3 class="unnumbered unlisted" id="synopsis-220" d__="">Synopsis</h3>
<div class="sourceCode" id="cb739"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb739-1"><a href="#cb739-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb739-2"><a href="#cb739-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb739-3" d__=""><a href="#cb739-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> cnd_wait<span class="op" d__="">(</span>cnd_t <span class="op" d__="">*</span>cond<span class="op" d__="">,</span> mtx_t <span class="op" d__="">*</span>mtx<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-220" d__="">Description</h3>
<p d__="">This puts the calling thread to sleep until it is awakened by a call to <code s__="13">cnd_signal()</code> or <code s__="13">cnd_broadcast()</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-218" d__="">Return Value</h3>
<p d__="">If everything’s fantastic, returns <code s__="13">thrd_success</code>. Otherwise it returns <code s__="13">thrd_error</code> to report that something has gone fantastically, horribly awry.</p>
<h3 class="unnumbered unlisted" id="example-222" d__="">Example</h3>
<p d__="">General-purpose condition variable example here, but you can see the <code s__="13">cnd_wait()</code> in the <code s__="13">run()</code> function.</p>
<div class="sourceCode" id="cb740"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb740-1"><a href="#cb740-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb740-2"><a href="#cb740-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb740-3"><a href="#cb740-3"></a></span>
<span id="cb740-4" d__=""><a href="#cb740-4"></a>cnd_t condvar<span class="op" d__="">;</span></span>
<span id="cb740-5" d__=""><a href="#cb740-5"></a>mtx_t mutex<span class="op" d__="">;</span></span>
<span id="cb740-6"><a href="#cb740-6"></a></span>
<span id="cb740-7" d__=""><a href="#cb740-7"></a><span class="dt" d__="">int</span> run<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb740-8"><a href="#cb740-8"></a><span class="op" d__="">{</span></span>
<span id="cb740-9" d__=""><a href="#cb740-9"></a>    <span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span>arg<span class="op" d__="">;</span></span>
<span id="cb740-10"><a href="#cb740-10"></a></span>
<span id="cb740-11" d__=""><a href="#cb740-11"></a>    mtx_lock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb740-12"><a href="#cb740-12"></a></span>
<span id="cb740-13" d__=""><a href="#cb740-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Thread: waiting...</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb740-14" d__=""><a href="#cb740-14"></a>    cnd_wait<span class="op" d__="">(&amp;</span>condvar<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>mutex<span class="op" d__="">);</span>       <span class="co" d__="">// &lt;-- WAIT HERE!</span></span>
<span id="cb740-15" d__=""><a href="#cb740-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Thread: running again!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb740-16"><a href="#cb740-16"></a></span>
<span id="cb740-17" d__=""><a href="#cb740-17"></a>    mtx_unlock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb740-18"><a href="#cb740-18"></a></span>
<span id="cb740-19"><a href="#cb740-19"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb740-20"><a href="#cb740-20"></a><span class="op" d__="">}</span></span>
<span id="cb740-21"><a href="#cb740-21"></a></span>
<span id="cb740-22" d__=""><a href="#cb740-22"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb740-23"><a href="#cb740-23"></a><span class="op" d__="">{</span></span>
<span id="cb740-24" d__=""><a href="#cb740-24"></a>    thrd_t t<span class="op" d__="">;</span></span>
<span id="cb740-25"><a href="#cb740-25"></a></span>
<span id="cb740-26" d__=""><a href="#cb740-26"></a>    mtx_init<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">,</span> mtx_plain<span class="op" d__="">);</span></span>
<span id="cb740-27" d__=""><a href="#cb740-27"></a>    cnd_init<span class="op" d__="">(&amp;</span>condvar<span class="op" d__="">);</span></span>
<span id="cb740-28"><a href="#cb740-28"></a></span>
<span id="cb740-29" d__=""><a href="#cb740-29"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Main creating thread</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb740-30" d__=""><a href="#cb740-30"></a>    thrd_create<span class="op" d__="">(&amp;</span>t<span class="op" d__="">,</span> run<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb740-31"><a href="#cb740-31"></a></span>
<span id="cb740-32"><a href="#cb740-32"></a>    <span class="co" d__="">// Sleep 0.1s to allow the other thread to wait</span></span>
<span id="cb740-33" d__=""><a href="#cb740-33"></a>    thrd_sleep<span class="op" d__="">(&amp;(</span><span class="kw" d__="">struct</span> timespec<span class="op" d__="">){.</span>tv_nsec<span class="op" d__="">=</span><span class="dv" d__="">100000000</span><span class="bu" d__="">L</span><span class="op" d__="">},</span> NULL<span class="op" d__="">);</span></span>
<span id="cb740-34"><a href="#cb740-34"></a></span>
<span id="cb740-35" d__=""><a href="#cb740-35"></a>    mtx_lock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb740-36" d__=""><a href="#cb740-36"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Main: signaling thread</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb740-37" d__=""><a href="#cb740-37"></a>    cnd_signal<span class="op" d__="">(&amp;</span>condvar<span class="op" d__="">);</span>    <span class="co" d__="">// &lt;-- SIGNAL CHILD THREAD HERE!</span></span>
<span id="cb740-38" d__=""><a href="#cb740-38"></a>    mtx_unlock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb740-39"><a href="#cb740-39"></a></span>
<span id="cb740-40" d__=""><a href="#cb740-40"></a>    thrd_join<span class="op" d__="">(</span>t<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb740-41"><a href="#cb740-41"></a></span>
<span id="cb740-42" d__=""><a href="#cb740-42"></a>    mtx_destroy<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb740-43" d__=""><a href="#cb740-43"></a>    cnd_destroy<span class="op" d__="">(&amp;</span>condvar<span class="op" d__="">);</span></span>
<span id="cb740-44"><a href="#cb740-44"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb741"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb741-1" d__=""><a href="#cb741-1" aria-hidden="true" tabindex="-1"></a>Main creating thread</span>
<span id="cb741-2" d__=""><a href="#cb741-2" aria-hidden="true" tabindex="-1"></a>Thread: waiting...</span>
<span id="cb741-3" d__=""><a href="#cb741-3" aria-hidden="true" tabindex="-1"></a>Main: signaling thread</span>
<span id="cb741-4" d__=""><a href="#cb741-4" aria-hidden="true" tabindex="-1"></a>Thread: running again!</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-206" d__="">See Also</h3>
<p><a href="#man-cnd_timedwait"><code s__="13" d__="">cnd_timedwait()</code></a></p>
<hr>
<h2 data-number="28.8" id="man-mtx_destroy"><span class="header-section-number" d__="">28.8</span> <code d__="">mtx_destroy()</code></h2>
<p></p>
<p d__="">Cleanup a mutex when done with it</p>
<h3 class="unnumbered unlisted" id="synopsis-221" d__="">Synopsis</h3>
<div class="sourceCode" id="cb742"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb742-1"><a href="#cb742-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb742-2"><a href="#cb742-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb742-3" d__=""><a href="#cb742-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> mtx_destroy<span class="op" d__="">(</span>mtx_t <span class="op" d__="">*</span>mtx<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-221" d__="">Description</h3>
<p d__="">The opposite of <a href="#man-mtx_init"><code s__="13" d__="">mtx_init()</code></a>, this function frees up any resources associated with the given mutex.</p>
<p d__="">You should call this when all threads are done using the mutex.</p>
<h3 class="unnumbered unlisted" id="return-value-219" d__="">Return Value</h3>
<p d__="">Returns nothing, the selfish ingrate!</p>
<h3 class="unnumbered unlisted" id="example-223" d__="">Example</h3>
<p d__="">General-purpose mutex example here, but you can see the <code s__="13">mtx_destroy()</code> down at the end.</p>
<div class="sourceCode" id="cb743"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb743-1"><a href="#cb743-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb743-2"><a href="#cb743-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb743-3"><a href="#cb743-3"></a></span>
<span id="cb743-4" d__=""><a href="#cb743-4"></a>cnd_t condvar<span class="op" d__="">;</span></span>
<span id="cb743-5" d__=""><a href="#cb743-5"></a>mtx_t mutex<span class="op" d__="">;</span></span>
<span id="cb743-6"><a href="#cb743-6"></a></span>
<span id="cb743-7" d__=""><a href="#cb743-7"></a><span class="dt" d__="">int</span> run<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb743-8"><a href="#cb743-8"></a><span class="op" d__="">{</span></span>
<span id="cb743-9" d__=""><a href="#cb743-9"></a>    <span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span>arg<span class="op" d__="">;</span></span>
<span id="cb743-10"><a href="#cb743-10"></a></span>
<span id="cb743-11" d__=""><a href="#cb743-11"></a>    <span class="dt" d__="">static</span> <span class="dt" d__="">int</span> count <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb743-12"><a href="#cb743-12"></a></span>
<span id="cb743-13" d__=""><a href="#cb743-13"></a>    mtx_lock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb743-14"><a href="#cb743-14"></a></span>
<span id="cb743-15" d__=""><a href="#cb743-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Thread: I got </span><span class="sc" d__="">%d</span><span class="st" d__="">!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> count<span class="op" d__="">);</span></span>
<span id="cb743-16" d__=""><a href="#cb743-16"></a>    count<span class="op" d__="">++;</span></span>
<span id="cb743-17"><a href="#cb743-17"></a></span>
<span id="cb743-18" d__=""><a href="#cb743-18"></a>    mtx_unlock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb743-19"><a href="#cb743-19"></a></span>
<span id="cb743-20"><a href="#cb743-20"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb743-21"><a href="#cb743-21"></a><span class="op" d__="">}</span></span>
<span id="cb743-22"><a href="#cb743-22"></a></span>
<span id="cb743-23"><a href="#cb743-23"></a><span class="pp" d__="">#define THREAD_COUNT </span><span class="dv" d__="">5</span></span>
<span id="cb743-24"><a href="#cb743-24"></a></span>
<span id="cb743-25" d__=""><a href="#cb743-25"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb743-26"><a href="#cb743-26"></a><span class="op" d__="">{</span></span>
<span id="cb743-27" d__=""><a href="#cb743-27"></a>    thrd_t t<span class="op" d__="">[</span>THREAD_COUNT<span class="op" d__="">];</span></span>
<span id="cb743-28"><a href="#cb743-28"></a></span>
<span id="cb743-29" d__=""><a href="#cb743-29"></a>    mtx_init<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">,</span> mtx_plain<span class="op" d__="">);</span></span>
<span id="cb743-30"><a href="#cb743-30"></a></span>
<span id="cb743-31" d__=""><a href="#cb743-31"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span></span>
<span id="cb743-32" d__=""><a href="#cb743-32"></a>        thrd_create<span class="op" d__="">(</span>t <span class="op" d__="">+</span> i<span class="op" d__="">,</span> run<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb743-33"><a href="#cb743-33"></a></span>
<span id="cb743-34" d__=""><a href="#cb743-34"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span></span>
<span id="cb743-35" d__=""><a href="#cb743-35"></a>        thrd_join<span class="op" d__="">(</span>t<span class="op" d__="">[</span>i<span class="op" d__="">],</span> NULL<span class="op" d__="">);</span></span>
<span id="cb743-36"><a href="#cb743-36"></a></span>
<span id="cb743-37" d__=""><a href="#cb743-37"></a>    mtx_destroy<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span>   <span class="co" d__="">// &lt;-- DESTROY THE MUTEX HERE</span></span>
<span id="cb743-38"><a href="#cb743-38"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb744"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb744-1" d__=""><a href="#cb744-1" aria-hidden="true" tabindex="-1"></a>Thread: I got 0!</span>
<span id="cb744-2" d__=""><a href="#cb744-2" aria-hidden="true" tabindex="-1"></a>Thread: I got 1!</span>
<span id="cb744-3" d__=""><a href="#cb744-3" aria-hidden="true" tabindex="-1"></a>Thread: I got 2!</span>
<span id="cb744-4" d__=""><a href="#cb744-4" aria-hidden="true" tabindex="-1"></a>Thread: I got 3!</span>
<span id="cb744-5" d__=""><a href="#cb744-5" aria-hidden="true" tabindex="-1"></a>Thread: I got 4!</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-207" d__="">See Also</h3>
<p><a href="#man-mtx_init"><code s__="13" d__="">mtx_init()</code></a></p>
<hr>
<h2 data-number="28.9" id="man-mtx_init"><span class="header-section-number" d__="">28.9</span> <code d__="">mtx_init()</code></h2>
<p></p>
<p d__="">Initialize a mutex for use</p>
<h3 class="unnumbered unlisted" id="synopsis-222" d__="">Synopsis</h3>
<div class="sourceCode" id="cb745"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb745-1"><a href="#cb745-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb745-2"><a href="#cb745-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb745-3" d__=""><a href="#cb745-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> mtx_init<span class="op" d__="">(</span>mtx_t <span class="op" d__="">*</span>mtx<span class="op" d__="">,</span> <span class="dt" d__="">int</span> type<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-222" d__="">Description</h3>
<p d__="">Before you can use a mutex variable, you have to initialize it with this call to get it all prepped and ready to go.</p>
<p d__="">But wait! It’s not quite that simple. You have to tell it what <code s__="13">type</code> of mutex you want to create.</p>
<table>
<thead>
<tr class="header">
<th d__="">Type</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">mtx_plain</code></td>
<td d__="">Regular ol’ mutex</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">mtx_timed</code></td>
<td d__="">Mutex that supports timeouts</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">mtx_plain|mtx_recursive</code></td>
<td d__="">Recursive mutex</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">mtx_timed|mtx_recursive</code></td>
<td d__="">Recursive mutex that supports timeouts</td>
</tr>
</tbody>
</table>
<p d__="">As you can see, you can make a plain or timed mutex <em>recursive</em> by bitwise-ORing the value with <code s__="13">mtx_recursive</code>.</p>
<p d__="">“Recursive” means that the holder of a lock can call <code s__="13">mtx_lock()</code>
 multiple times on the same lock. (They have to unlock it an equal 
number of times before anyone else can take the mutex.) This might ease 
coding from time to time, especially if you call a function that needs 
to lock the mutex when you already hold the mutex.</p>
<p d__="">And the timeout gives a thread a chance to <em>try</em> to get the lock for a while, but then bail out if it can’t get it in that timeframe. You use the <a href="#man-mtx_timedlock"><code s__="13" d__="">mtx_timedlock()</code></a> function with <code s__="13">mtx_timed</code> mutexes.</p>
<h3 class="unnumbered unlisted" id="return-value-220" d__="">Return Value</h3>
<p d__="">Returns <code s__="13">thrd_success</code> in a perfect world, and potentially <code s__="13">thrd_error</code> in an imperfect one.</p>
<h3 class="unnumbered unlisted" id="example-224" d__="">Example</h3>
<p d__="">General-purpose mutex example here, but you can see the <code s__="13">mtx_init()</code> down at the top of <code s__="13">main()</code>:</p>
<div class="sourceCode" id="cb746"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb746-1"><a href="#cb746-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb746-2"><a href="#cb746-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb746-3"><a href="#cb746-3"></a></span>
<span id="cb746-4" d__=""><a href="#cb746-4"></a>cnd_t condvar<span class="op" d__="">;</span></span>
<span id="cb746-5" d__=""><a href="#cb746-5"></a>mtx_t mutex<span class="op" d__="">;</span></span>
<span id="cb746-6"><a href="#cb746-6"></a></span>
<span id="cb746-7" d__=""><a href="#cb746-7"></a><span class="dt" d__="">int</span> run<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb746-8"><a href="#cb746-8"></a><span class="op" d__="">{</span></span>
<span id="cb746-9" d__=""><a href="#cb746-9"></a>    <span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span>arg<span class="op" d__="">;</span></span>
<span id="cb746-10"><a href="#cb746-10"></a></span>
<span id="cb746-11" d__=""><a href="#cb746-11"></a>    <span class="dt" d__="">static</span> <span class="dt" d__="">int</span> count <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb746-12"><a href="#cb746-12"></a></span>
<span id="cb746-13" d__=""><a href="#cb746-13"></a>    mtx_lock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb746-14"><a href="#cb746-14"></a></span>
<span id="cb746-15" d__=""><a href="#cb746-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Thread: I got </span><span class="sc" d__="">%d</span><span class="st" d__="">!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> count<span class="op" d__="">);</span></span>
<span id="cb746-16" d__=""><a href="#cb746-16"></a>    count<span class="op" d__="">++;</span></span>
<span id="cb746-17"><a href="#cb746-17"></a></span>
<span id="cb746-18" d__=""><a href="#cb746-18"></a>    mtx_unlock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb746-19"><a href="#cb746-19"></a></span>
<span id="cb746-20"><a href="#cb746-20"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb746-21"><a href="#cb746-21"></a><span class="op" d__="">}</span></span>
<span id="cb746-22"><a href="#cb746-22"></a></span>
<span id="cb746-23"><a href="#cb746-23"></a><span class="pp" d__="">#define THREAD_COUNT </span><span class="dv" d__="">5</span></span>
<span id="cb746-24"><a href="#cb746-24"></a></span>
<span id="cb746-25" d__=""><a href="#cb746-25"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb746-26"><a href="#cb746-26"></a><span class="op" d__="">{</span></span>
<span id="cb746-27" d__=""><a href="#cb746-27"></a>    thrd_t t<span class="op" d__="">[</span>THREAD_COUNT<span class="op" d__="">];</span></span>
<span id="cb746-28"><a href="#cb746-28"></a></span>
<span id="cb746-29" d__=""><a href="#cb746-29"></a>    mtx_init<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">,</span> mtx_plain<span class="op" d__="">);</span>  <span class="co" d__="">// &lt;-- CREATE THE MUTEX HERE</span></span>
<span id="cb746-30"><a href="#cb746-30"></a></span>
<span id="cb746-31" d__=""><a href="#cb746-31"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span></span>
<span id="cb746-32" d__=""><a href="#cb746-32"></a>        thrd_create<span class="op" d__="">(</span>t <span class="op" d__="">+</span> i<span class="op" d__="">,</span> run<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb746-33"><a href="#cb746-33"></a></span>
<span id="cb746-34" d__=""><a href="#cb746-34"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span></span>
<span id="cb746-35" d__=""><a href="#cb746-35"></a>        thrd_join<span class="op" d__="">(</span>t<span class="op" d__="">[</span>i<span class="op" d__="">],</span> NULL<span class="op" d__="">);</span></span>
<span id="cb746-36"><a href="#cb746-36"></a></span>
<span id="cb746-37" d__=""><a href="#cb746-37"></a>    mtx_destroy<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span>   <span class="co" d__="">// &lt;-- DESTROY THE MUTEX HERE</span></span>
<span id="cb746-38"><a href="#cb746-38"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb747"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb747-1" d__=""><a href="#cb747-1" aria-hidden="true" tabindex="-1"></a>Thread: I got 0!</span>
<span id="cb747-2" d__=""><a href="#cb747-2" aria-hidden="true" tabindex="-1"></a>Thread: I got 1!</span>
<span id="cb747-3" d__=""><a href="#cb747-3" aria-hidden="true" tabindex="-1"></a>Thread: I got 2!</span>
<span id="cb747-4" d__=""><a href="#cb747-4" aria-hidden="true" tabindex="-1"></a>Thread: I got 3!</span>
<span id="cb747-5" d__=""><a href="#cb747-5" aria-hidden="true" tabindex="-1"></a>Thread: I got 4!</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-208" d__="">See Also</h3>
<p><a href="#man-mtx_destroy"><code s__="13" d__="">mtx_destroy()</code></a></p>
<hr>
<h2 data-number="28.10" id="man-mtx_lock"><span class="header-section-number" d__="">28.10</span> <code d__="">mtx_lock()</code></h2>
<p></p>
<p d__="">Acquire a lock on a mutex</p>
<h3 class="unnumbered unlisted" id="synopsis-223" d__="">Synopsis</h3>
<div class="sourceCode" id="cb748"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb748-1"><a href="#cb748-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb748-2"><a href="#cb748-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb748-3" d__=""><a href="#cb748-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> mtx_lock<span class="op" d__="">(</span>mtx_t <span class="op" d__="">*</span>mtx<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-223" d__="">Description</h3>
<p d__="">If you’re a thread and want to enter a critical section, do I have the function for you!</p>
<p d__="">A thread that calls this function will wait until it can acquire the mutex, then it will grab it, wake up, and run!</p>
<p d__="">If the mutex is recursive and is already locked by this 
thread, it will be locked again and the lock count will increase. If the
 mutex is not recursive and the thread already holds it, this call will 
error out.</p>
<h3 class="unnumbered unlisted" id="return-value-221" d__="">Return Value</h3>
<p d__="">Returns <code s__="13">thrd_success</code> on goodness and <code s__="13">thrd_error</code> on badness.</p>
<h3 class="unnumbered unlisted" id="example-225" d__="">Example</h3>
<p d__="">General-purpose mutex example here, but you can see the <code s__="13">mtx_lock()</code> in the <code s__="13">run()</code> function:</p>
<div class="sourceCode" id="cb749"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb749-1"><a href="#cb749-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb749-2"><a href="#cb749-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb749-3"><a href="#cb749-3"></a></span>
<span id="cb749-4" d__=""><a href="#cb749-4"></a>cnd_t condvar<span class="op" d__="">;</span></span>
<span id="cb749-5" d__=""><a href="#cb749-5"></a>mtx_t mutex<span class="op" d__="">;</span></span>
<span id="cb749-6"><a href="#cb749-6"></a></span>
<span id="cb749-7" d__=""><a href="#cb749-7"></a><span class="dt" d__="">int</span> run<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb749-8"><a href="#cb749-8"></a><span class="op" d__="">{</span></span>
<span id="cb749-9" d__=""><a href="#cb749-9"></a>    <span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span>arg<span class="op" d__="">;</span></span>
<span id="cb749-10"><a href="#cb749-10"></a></span>
<span id="cb749-11" d__=""><a href="#cb749-11"></a>    <span class="dt" d__="">static</span> <span class="dt" d__="">int</span> count <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb749-12"><a href="#cb749-12"></a></span>
<span id="cb749-13" d__=""><a href="#cb749-13"></a>    mtx_lock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span>  <span class="co" d__="">// &lt;-- LOCK HERE</span></span>
<span id="cb749-14"><a href="#cb749-14"></a></span>
<span id="cb749-15" d__=""><a href="#cb749-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Thread: I got </span><span class="sc" d__="">%d</span><span class="st" d__="">!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> count<span class="op" d__="">);</span></span>
<span id="cb749-16" d__=""><a href="#cb749-16"></a>    count<span class="op" d__="">++;</span></span>
<span id="cb749-17"><a href="#cb749-17"></a></span>
<span id="cb749-18" d__=""><a href="#cb749-18"></a>    mtx_unlock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb749-19"><a href="#cb749-19"></a></span>
<span id="cb749-20"><a href="#cb749-20"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb749-21"><a href="#cb749-21"></a><span class="op" d__="">}</span></span>
<span id="cb749-22"><a href="#cb749-22"></a></span>
<span id="cb749-23"><a href="#cb749-23"></a><span class="pp" d__="">#define THREAD_COUNT </span><span class="dv" d__="">5</span></span>
<span id="cb749-24"><a href="#cb749-24"></a></span>
<span id="cb749-25" d__=""><a href="#cb749-25"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb749-26"><a href="#cb749-26"></a><span class="op" d__="">{</span></span>
<span id="cb749-27" d__=""><a href="#cb749-27"></a>    thrd_t t<span class="op" d__="">[</span>THREAD_COUNT<span class="op" d__="">];</span></span>
<span id="cb749-28"><a href="#cb749-28"></a></span>
<span id="cb749-29" d__=""><a href="#cb749-29"></a>    mtx_init<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">,</span> mtx_plain<span class="op" d__="">);</span>  <span class="co" d__="">// &lt;-- CREATE THE MUTEX HERE</span></span>
<span id="cb749-30"><a href="#cb749-30"></a></span>
<span id="cb749-31" d__=""><a href="#cb749-31"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span></span>
<span id="cb749-32" d__=""><a href="#cb749-32"></a>        thrd_create<span class="op" d__="">(</span>t <span class="op" d__="">+</span> i<span class="op" d__="">,</span> run<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb749-33"><a href="#cb749-33"></a></span>
<span id="cb749-34" d__=""><a href="#cb749-34"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span></span>
<span id="cb749-35" d__=""><a href="#cb749-35"></a>        thrd_join<span class="op" d__="">(</span>t<span class="op" d__="">[</span>i<span class="op" d__="">],</span> NULL<span class="op" d__="">);</span></span>
<span id="cb749-36"><a href="#cb749-36"></a></span>
<span id="cb749-37" d__=""><a href="#cb749-37"></a>    mtx_destroy<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span>   <span class="co" d__="">// &lt;-- DESTROY THE MUTEX HERE</span></span>
<span id="cb749-38"><a href="#cb749-38"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb750"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb750-1" d__=""><a href="#cb750-1" aria-hidden="true" tabindex="-1"></a>Thread: I got 0!</span>
<span id="cb750-2" d__=""><a href="#cb750-2" aria-hidden="true" tabindex="-1"></a>Thread: I got 1!</span>
<span id="cb750-3" d__=""><a href="#cb750-3" aria-hidden="true" tabindex="-1"></a>Thread: I got 2!</span>
<span id="cb750-4" d__=""><a href="#cb750-4" aria-hidden="true" tabindex="-1"></a>Thread: I got 3!</span>
<span id="cb750-5" d__=""><a href="#cb750-5" aria-hidden="true" tabindex="-1"></a>Thread: I got 4!</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-209" d__="">See Also</h3>
<p d__=""><a href="#man-mtx_unlock"><code s__="13" d__="">mtx_unlock()</code></a>, <a href="#man-mtx_trylock"><code s__="13" d__="">mtx_trylock()</code></a>, <a href="#man-mtx_timedlock"><code s__="13" d__="">mtx_timedlock()</code></a></p>
<hr>
<h2 data-number="28.11" id="man-mtx_timedlock"><span class="header-section-number" d__="">28.11</span> <code d__="">mtx_timedlock()</code></h2>
<p></p>
<p d__="">Lock a mutex allowing for timeout</p>
<h3 class="unnumbered unlisted" id="synopsis-224" d__="">Synopsis</h3>
<div class="sourceCode" id="cb751"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb751-1"><a href="#cb751-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb751-2"><a href="#cb751-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb751-3" d__=""><a href="#cb751-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> mtx_timedlock<span class="op" d__="">(</span>mtx_t <span class="op" d__="">*</span><span class="dt" d__="">restrict</span> mtx<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="kw" d__="">struct</span> timespec <span class="op" d__="">*</span><span class="dt" d__="">restrict</span> ts<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-224" d__="">Description</h3>
<p d__="">This is just like <a href="#man-mtx_lock"><code s__="13" d__="">mtx_lock()</code></a> except you can add a timeout if you don’t want to wait forever.</p>
<p d__="">The timeout is specified as an absolute UTC time since Epoch. You can get this with the <a href="#man-timespec_get"><code s__="13" d__="">timespec_get()</code></a> function and then add values on to the result to timeout later than now, as shown in the example.</p>
<p d__="">Beware that you can’t have more than 999999999 nanoseconds in the <code s__="13">tv_nsec</code> field of the <code s__="13">struct timespec</code>. Mod those so they stay in range.</p>
<h3 class="unnumbered unlisted" id="return-value-222" d__="">Return Value</h3>
<p d__="">If everything works and the mutex is obtained, returns <code s__="13">thrd_success</code>. If a timeout happens first, returns <code s__="13">thrd_timedout</code>.</p>
<p d__="">Otherwise, returns <code s__="13">thrd_error</code>. Because if nothing is right, everything is wrong.</p>
<h3 class="unnumbered unlisted" id="example-226" d__="">Example</h3>
<p d__="">This example has a thread wait on a mutex for a maximum of 
1.75 seconds. And it always times out because no one ever sends a 
signal.</p>
<div class="sourceCode" id="cb752"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb752-1"><a href="#cb752-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb752-2"><a href="#cb752-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb752-3"><a href="#cb752-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb752-4"><a href="#cb752-4"></a></span>
<span id="cb752-5" d__=""><a href="#cb752-5"></a>mtx_t mutex<span class="op" d__="">;</span></span>
<span id="cb752-6"><a href="#cb752-6"></a></span>
<span id="cb752-7" d__=""><a href="#cb752-7"></a><span class="dt" d__="">int</span> run<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb752-8"><a href="#cb752-8"></a><span class="op" d__="">{</span></span>
<span id="cb752-9" d__=""><a href="#cb752-9"></a>    <span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span>arg<span class="op" d__="">;</span></span>
<span id="cb752-10"><a href="#cb752-10"></a></span>
<span id="cb752-11" d__=""><a href="#cb752-11"></a>    <span class="kw" d__="">struct</span> timespec ts<span class="op" d__="">;</span></span>
<span id="cb752-12"><a href="#cb752-12"></a></span>
<span id="cb752-13"><a href="#cb752-13"></a>    <span class="co" d__="">// Get the time now</span></span>
<span id="cb752-14" d__=""><a href="#cb752-14"></a>    timespec_get<span class="op" d__="">(&amp;</span>ts<span class="op" d__="">,</span> TIME_UTC<span class="op" d__="">);</span></span>
<span id="cb752-15"><a href="#cb752-15"></a></span>
<span id="cb752-16"><a href="#cb752-16"></a>    <span class="co" d__="">// Add on 1.75 seconds from now</span></span>
<span id="cb752-17" d__=""><a href="#cb752-17"></a>    ts<span class="op" d__="">.</span>tv_sec <span class="op" d__="">+=</span> <span class="dv" d__="">1</span><span class="op" d__="">;</span></span>
<span id="cb752-18" d__=""><a href="#cb752-18"></a>    ts<span class="op" d__="">.</span>tv_nsec <span class="op" d__="">+=</span> <span class="dv" d__="">750000000</span><span class="bu" d__="">L</span><span class="op" d__="">;</span></span>
<span id="cb752-19"><a href="#cb752-19"></a></span>
<span id="cb752-20"><a href="#cb752-20"></a>    <span class="co" d__="">// Handle nsec overflow</span></span>
<span id="cb752-21" d__=""><a href="#cb752-21"></a>    ts<span class="op" d__="">.</span>tv_sec <span class="op" d__="">+=</span> ts<span class="op" d__="">.</span>tv_nsec <span class="op" d__="">/</span> <span class="dv" d__="">1000000000</span><span class="bu" d__="">L</span><span class="op" d__="">;</span></span>
<span id="cb752-22" d__=""><a href="#cb752-22"></a>    ts<span class="op" d__="">.</span>tv_nsec <span class="op" d__="">=</span> ts<span class="op" d__="">.</span>tv_nsec <span class="op" d__="">%</span> <span class="dv" d__="">1000000000</span><span class="bu" d__="">L</span><span class="op" d__="">;</span></span>
<span id="cb752-23"><a href="#cb752-23"></a></span>
<span id="cb752-24" d__=""><a href="#cb752-24"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Thread: waiting for lock...</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb752-25" d__=""><a href="#cb752-25"></a>    <span class="dt" d__="">int</span> r <span class="op" d__="">=</span> mtx_timedlock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>ts<span class="op" d__="">);</span></span>
<span id="cb752-26"><a href="#cb752-26"></a></span>
<span id="cb752-27" d__=""><a href="#cb752-27"></a>    <span class="cf" d__="">switch</span> <span class="op" d__="">(</span>r<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb752-28" d__=""><a href="#cb752-28"></a>        <span class="cf" d__="">case</span> thrd_success<span class="op" d__="">:</span></span>
<span id="cb752-29" d__=""><a href="#cb752-29"></a>            printf<span class="op" d__="">(</span><span class="st" d__="">"Thread: grabbed lock!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb752-30"><a href="#cb752-30"></a>            <span class="cf" d__="">break</span><span class="op" d__="">;</span></span>
<span id="cb752-31"><a href="#cb752-31"></a></span>
<span id="cb752-32" d__=""><a href="#cb752-32"></a>        <span class="cf" d__="">case</span> thrd_timedout<span class="op" d__="">:</span></span>
<span id="cb752-33" d__=""><a href="#cb752-33"></a>            printf<span class="op" d__="">(</span><span class="st" d__="">"Thread: timed out!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb752-34"><a href="#cb752-34"></a>            <span class="cf" d__="">break</span><span class="op" d__="">;</span></span>
<span id="cb752-35"><a href="#cb752-35"></a></span>
<span id="cb752-36" d__=""><a href="#cb752-36"></a>        <span class="cf" d__="">case</span> thrd_error<span class="op" d__="">:</span></span>
<span id="cb752-37" d__=""><a href="#cb752-37"></a>            printf<span class="op" d__="">(</span><span class="st" d__="">"Thread: Some kind of error</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb752-38"><a href="#cb752-38"></a>            <span class="cf" d__="">break</span><span class="op" d__="">;</span></span>
<span id="cb752-39"><a href="#cb752-39"></a>    <span class="op" d__="">}</span></span>
<span id="cb752-40"><a href="#cb752-40"></a></span>
<span id="cb752-41" d__=""><a href="#cb752-41"></a>    mtx_unlock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb752-42"><a href="#cb752-42"></a></span>
<span id="cb752-43"><a href="#cb752-43"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb752-44"><a href="#cb752-44"></a><span class="op" d__="">}</span></span>
<span id="cb752-45"><a href="#cb752-45"></a></span>
<span id="cb752-46" d__=""><a href="#cb752-46"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb752-47"><a href="#cb752-47"></a><span class="op" d__="">{</span></span>
<span id="cb752-48" d__=""><a href="#cb752-48"></a>    thrd_t t<span class="op" d__="">;</span></span>
<span id="cb752-49"><a href="#cb752-49"></a></span>
<span id="cb752-50" d__=""><a href="#cb752-50"></a>    mtx_init<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">,</span> mtx_plain<span class="op" d__="">);</span></span>
<span id="cb752-51"><a href="#cb752-51"></a></span>
<span id="cb752-52" d__=""><a href="#cb752-52"></a>    mtx_lock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb752-53"><a href="#cb752-53"></a></span>
<span id="cb752-54" d__=""><a href="#cb752-54"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Main creating thread</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb752-55" d__=""><a href="#cb752-55"></a>    thrd_create<span class="op" d__="">(&amp;</span>t<span class="op" d__="">,</span> run<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb752-56"><a href="#cb752-56"></a></span>
<span id="cb752-57"><a href="#cb752-57"></a>    <span class="co" d__="">// Sleep 3s to allow the other thread to timeout</span></span>
<span id="cb752-58" d__=""><a href="#cb752-58"></a>    thrd_sleep<span class="op" d__="">(&amp;(</span><span class="kw" d__="">struct</span> timespec<span class="op" d__="">){.</span>tv_sec<span class="op" d__="">=</span><span class="dv" d__="">3</span><span class="op" d__="">},</span> NULL<span class="op" d__="">);</span></span>
<span id="cb752-59"><a href="#cb752-59"></a></span>
<span id="cb752-60" d__=""><a href="#cb752-60"></a>    mtx_unlock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb752-61"><a href="#cb752-61"></a></span>
<span id="cb752-62" d__=""><a href="#cb752-62"></a>    thrd_join<span class="op" d__="">(</span>t<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb752-63"><a href="#cb752-63"></a></span>
<span id="cb752-64" d__=""><a href="#cb752-64"></a>    mtx_destroy<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb752-65"><a href="#cb752-65"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb753"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb753-1" d__=""><a href="#cb753-1" aria-hidden="true" tabindex="-1"></a>Main creating thread</span>
<span id="cb753-2" d__=""><a href="#cb753-2" aria-hidden="true" tabindex="-1"></a>Thread: waiting for lock...</span>
<span id="cb753-3" d__=""><a href="#cb753-3" aria-hidden="true" tabindex="-1"></a>Thread: timed out!</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-210" d__="">See Also</h3>
<p d__=""><a href="#man-mtx_lock"><code s__="13" d__="">mtx_lock()</code></a>, <a href="#man-mtx_trylock"><code s__="13" d__="">mtx_trylock()</code></a>, <a href="#man-timespec_get"><code s__="13" d__="">timespec_get()</code></a></p>
<hr>
<h2 data-number="28.12" id="man-mtx_trylock"><span class="header-section-number" d__="">28.12</span> <code d__="">mtx_trylock()</code></h2>
<p></p>
<p d__="">Try to lock a mutex, returning if not possible</p>
<h3 class="unnumbered unlisted" id="synopsis-225" d__="">Synopsis</h3>
<div class="sourceCode" id="cb754"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb754-1"><a href="#cb754-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb754-2"><a href="#cb754-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb754-3" d__=""><a href="#cb754-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> mtx_trylock<span class="op" d__="">(</span>mtx_t <span class="op" d__="">*</span>mtx<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-225" d__="">Description</h3>
<p d__="">This works just like <a href="#man-mtx_lock"><code s__="13" d__="">mtx_lock</code></a> except that it returns instantly if a lock can’t be obtained.</p>
<p d__="">The spec notes that there’s a chance that <code s__="13">mtx_trylock()</code> might spuriously fail with <code s__="13">thrd_busy</code> even if there are no other threads holding the lock. I’m not sure why this is, but you should defensively code against it.</p>
<h3 class="unnumbered unlisted" id="return-value-223" d__="">Return Value</h3>
<p d__="">Returns <code s__="13">thrd_success</code> if all’s well. Or <code s__="13">thrd_busy</code> if some other thread holds the lock. Or <code s__="13">thrd_error</code>, which means something went right. I mean “wrong”.</p>
<h3 class="unnumbered unlisted" id="example-227" d__="">Example</h3>
<div class="sourceCode" id="cb755"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb755-1"><a href="#cb755-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb755-2"><a href="#cb755-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb755-3"><a href="#cb755-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb755-4"><a href="#cb755-4"></a></span>
<span id="cb755-5" d__=""><a href="#cb755-5"></a>mtx_t mutex<span class="op" d__="">;</span></span>
<span id="cb755-6"><a href="#cb755-6"></a></span>
<span id="cb755-7" d__=""><a href="#cb755-7"></a><span class="dt" d__="">int</span> run<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb755-8"><a href="#cb755-8"></a><span class="op" d__="">{</span></span>
<span id="cb755-9" d__=""><a href="#cb755-9"></a>    <span class="dt" d__="">int</span> id <span class="op" d__="">=</span> <span class="op" d__="">*(</span><span class="dt" d__="">int</span><span class="op" d__="">*)</span>arg<span class="op" d__="">;</span></span>
<span id="cb755-10"><a href="#cb755-10"></a></span>
<span id="cb755-11" d__=""><a href="#cb755-11"></a>    <span class="dt" d__="">int</span> r <span class="op" d__="">=</span> mtx_trylock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span>   <span class="co" d__="">// &lt;-- TRY TO GRAB THE LOCK</span></span>
<span id="cb755-12"><a href="#cb755-12"></a></span>
<span id="cb755-13" d__=""><a href="#cb755-13"></a>    <span class="cf" d__="">switch</span> <span class="op" d__="">(</span>r<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb755-14" d__=""><a href="#cb755-14"></a>        <span class="cf" d__="">case</span> thrd_success<span class="op" d__="">:</span></span>
<span id="cb755-15" d__=""><a href="#cb755-15"></a>            printf<span class="op" d__="">(</span><span class="st" d__="">"Thread </span><span class="sc" d__="">%d</span><span class="st" d__="">: grabbed lock!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> id<span class="op" d__="">);</span></span>
<span id="cb755-16"><a href="#cb755-16"></a>            <span class="cf" d__="">break</span><span class="op" d__="">;</span></span>
<span id="cb755-17"><a href="#cb755-17"></a></span>
<span id="cb755-18" d__=""><a href="#cb755-18"></a>        <span class="cf" d__="">case</span> thrd_busy<span class="op" d__="">:</span></span>
<span id="cb755-19" d__=""><a href="#cb755-19"></a>            printf<span class="op" d__="">(</span><span class="st" d__="">"Thread </span><span class="sc" d__="">%d</span><span class="st" d__="">: lock already taken :(</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> id<span class="op" d__="">);</span></span>
<span id="cb755-20"><a href="#cb755-20"></a>            <span class="cf" d__="">return</span> <span class="dv" d__="">1</span><span class="op" d__="">;</span></span>
<span id="cb755-21"><a href="#cb755-21"></a></span>
<span id="cb755-22" d__=""><a href="#cb755-22"></a>        <span class="cf" d__="">case</span> thrd_error<span class="op" d__="">:</span></span>
<span id="cb755-23" d__=""><a href="#cb755-23"></a>            printf<span class="op" d__="">(</span><span class="st" d__="">"Thread </span><span class="sc" d__="">%d</span><span class="st" d__="">: Some kind of error</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> id<span class="op" d__="">);</span></span>
<span id="cb755-24"><a href="#cb755-24"></a>            <span class="cf" d__="">return</span> <span class="dv" d__="">2</span><span class="op" d__="">;</span></span>
<span id="cb755-25"><a href="#cb755-25"></a>    <span class="op" d__="">}</span></span>
<span id="cb755-26"><a href="#cb755-26"></a></span>
<span id="cb755-27" d__=""><a href="#cb755-27"></a>    mtx_unlock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb755-28"><a href="#cb755-28"></a></span>
<span id="cb755-29"><a href="#cb755-29"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb755-30"><a href="#cb755-30"></a><span class="op" d__="">}</span></span>
<span id="cb755-31"><a href="#cb755-31"></a></span>
<span id="cb755-32"><a href="#cb755-32"></a><span class="pp" d__="">#define THREAD_COUNT </span><span class="dv" d__="">5</span></span>
<span id="cb755-33"><a href="#cb755-33"></a></span>
<span id="cb755-34" d__=""><a href="#cb755-34"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb755-35"><a href="#cb755-35"></a><span class="op" d__="">{</span></span>
<span id="cb755-36" d__=""><a href="#cb755-36"></a>    thrd_t t<span class="op" d__="">[</span>THREAD_COUNT<span class="op" d__="">];</span></span>
<span id="cb755-37" d__=""><a href="#cb755-37"></a>    <span class="dt" d__="">int</span> id<span class="op" d__="">[</span>THREAD_COUNT<span class="op" d__="">];</span></span>
<span id="cb755-38"><a href="#cb755-38"></a></span>
<span id="cb755-39" d__=""><a href="#cb755-39"></a>    mtx_init<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">,</span> mtx_plain<span class="op" d__="">);</span></span>
<span id="cb755-40"><a href="#cb755-40"></a></span>
<span id="cb755-41" d__=""><a href="#cb755-41"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span> <span class="op" d__="">{</span></span>
<span id="cb755-42" d__=""><a href="#cb755-42"></a>        id<span class="op" d__="">[</span>i<span class="op" d__="">]</span> <span class="op" d__="">=</span> i<span class="op" d__="">;</span></span>
<span id="cb755-43" d__=""><a href="#cb755-43"></a>        thrd_create<span class="op" d__="">(</span>t <span class="op" d__="">+</span> i<span class="op" d__="">,</span> run<span class="op" d__="">,</span> id <span class="op" d__="">+</span> i<span class="op" d__="">);</span></span>
<span id="cb755-44"><a href="#cb755-44"></a>    <span class="op" d__="">}</span></span>
<span id="cb755-45"><a href="#cb755-45"></a></span>
<span id="cb755-46" d__=""><a href="#cb755-46"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span></span>
<span id="cb755-47" d__=""><a href="#cb755-47"></a>        thrd_join<span class="op" d__="">(</span>t<span class="op" d__="">[</span>i<span class="op" d__="">],</span> NULL<span class="op" d__="">);</span></span>
<span id="cb755-48"><a href="#cb755-48"></a></span>
<span id="cb755-49" d__=""><a href="#cb755-49"></a>    mtx_destroy<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb755-50"><a href="#cb755-50"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output (varies by run):</p>
<div class="sourceCode" id="cb756"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb756-1" d__=""><a href="#cb756-1" aria-hidden="true" tabindex="-1"></a>Thread 0: grabbed lock!</span>
<span id="cb756-2" d__=""><a href="#cb756-2" aria-hidden="true" tabindex="-1"></a>Thread 1: lock already taken :(</span>
<span id="cb756-3" d__=""><a href="#cb756-3" aria-hidden="true" tabindex="-1"></a>Thread 4: lock already taken :(</span>
<span id="cb756-4" d__=""><a href="#cb756-4" aria-hidden="true" tabindex="-1"></a>Thread 3: grabbed lock!</span>
<span id="cb756-5" d__=""><a href="#cb756-5" aria-hidden="true" tabindex="-1"></a>Thread 2: lock already taken :(</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-211" d__="">See Also</h3>
<p d__=""><a href="#man-mtx_lock"><code s__="13" d__="">mtx_lock()</code></a>, <a href="#man-mtx_timedlock"><code s__="13" d__="">mtx_timedlock()</code></a>, <a href="#man-mtx_unlock"><code s__="13" d__="">mtx_unlock()</code></a></p>
<hr>
<h2 data-number="28.13" id="man-mtx_unlock"><span class="header-section-number" d__="">28.13</span> <code d__="">mtx_unlock()</code></h2>
<p></p>
<p d__="">Free a mutex when you’re done with the critical section</p>
<h3 class="unnumbered unlisted" id="synopsis-226" d__="">Synopsis</h3>
<div class="sourceCode" id="cb757"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb757-1"><a href="#cb757-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb757-2"><a href="#cb757-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb757-3" d__=""><a href="#cb757-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> mtx_unlock<span class="op" d__="">(</span>mtx_t <span class="op" d__="">*</span>mtx<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-226" d__="">Description</h3>
<p d__="">After you’ve done all the dangerous stuff you have to do, 
wherein the involved threads should not be stepping on each other’s 
toes… you can free up your stranglehold on the mutex by calling <code s__="13">mtx_unlock()</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-224" d__="">Return Value</h3>
<p d__="">Returns <code s__="13">thrd_success</code> on success. Or <code s__="13">thrd_error</code> on error. It’s not very original in this regard.</p>
<h3 class="unnumbered unlisted" id="example-228" d__="">Example</h3>
<p d__="">General-purpose mutex example here, but you can see the <code s__="13">mtx_unlock()</code> in the <code s__="13">run()</code> function:</p>
<div class="sourceCode" id="cb758"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb758-1"><a href="#cb758-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb758-2"><a href="#cb758-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb758-3"><a href="#cb758-3"></a></span>
<span id="cb758-4" d__=""><a href="#cb758-4"></a>cnd_t condvar<span class="op" d__="">;</span></span>
<span id="cb758-5" d__=""><a href="#cb758-5"></a>mtx_t mutex<span class="op" d__="">;</span></span>
<span id="cb758-6"><a href="#cb758-6"></a></span>
<span id="cb758-7" d__=""><a href="#cb758-7"></a><span class="dt" d__="">int</span> run<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb758-8"><a href="#cb758-8"></a><span class="op" d__="">{</span></span>
<span id="cb758-9" d__=""><a href="#cb758-9"></a>    <span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span>arg<span class="op" d__="">;</span></span>
<span id="cb758-10"><a href="#cb758-10"></a></span>
<span id="cb758-11" d__=""><a href="#cb758-11"></a>    <span class="dt" d__="">static</span> <span class="dt" d__="">int</span> count <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb758-12"><a href="#cb758-12"></a></span>
<span id="cb758-13" d__=""><a href="#cb758-13"></a>    mtx_lock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb758-14"><a href="#cb758-14"></a></span>
<span id="cb758-15" d__=""><a href="#cb758-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Thread: I got </span><span class="sc" d__="">%d</span><span class="st" d__="">!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> count<span class="op" d__="">);</span></span>
<span id="cb758-16" d__=""><a href="#cb758-16"></a>    count<span class="op" d__="">++;</span></span>
<span id="cb758-17"><a href="#cb758-17"></a></span>
<span id="cb758-18" d__=""><a href="#cb758-18"></a>    mtx_unlock<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span>  <span class="co" d__="">// &lt;-- UNLOCK HERE</span></span>
<span id="cb758-19"><a href="#cb758-19"></a></span>
<span id="cb758-20"><a href="#cb758-20"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb758-21"><a href="#cb758-21"></a><span class="op" d__="">}</span></span>
<span id="cb758-22"><a href="#cb758-22"></a></span>
<span id="cb758-23"><a href="#cb758-23"></a><span class="pp" d__="">#define THREAD_COUNT </span><span class="dv" d__="">5</span></span>
<span id="cb758-24"><a href="#cb758-24"></a></span>
<span id="cb758-25" d__=""><a href="#cb758-25"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb758-26"><a href="#cb758-26"></a><span class="op" d__="">{</span></span>
<span id="cb758-27" d__=""><a href="#cb758-27"></a>    thrd_t t<span class="op" d__="">[</span>THREAD_COUNT<span class="op" d__="">];</span></span>
<span id="cb758-28"><a href="#cb758-28"></a></span>
<span id="cb758-29" d__=""><a href="#cb758-29"></a>    mtx_init<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">,</span> mtx_plain<span class="op" d__="">);</span></span>
<span id="cb758-30"><a href="#cb758-30"></a></span>
<span id="cb758-31" d__=""><a href="#cb758-31"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span></span>
<span id="cb758-32" d__=""><a href="#cb758-32"></a>        thrd_create<span class="op" d__="">(</span>t <span class="op" d__="">+</span> i<span class="op" d__="">,</span> run<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb758-33"><a href="#cb758-33"></a></span>
<span id="cb758-34" d__=""><a href="#cb758-34"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span></span>
<span id="cb758-35" d__=""><a href="#cb758-35"></a>        thrd_join<span class="op" d__="">(</span>t<span class="op" d__="">[</span>i<span class="op" d__="">],</span> NULL<span class="op" d__="">);</span></span>
<span id="cb758-36"><a href="#cb758-36"></a></span>
<span id="cb758-37" d__=""><a href="#cb758-37"></a>    mtx_destroy<span class="op" d__="">(&amp;</span>mutex<span class="op" d__="">);</span></span>
<span id="cb758-38"><a href="#cb758-38"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb759"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb759-1" d__=""><a href="#cb759-1" aria-hidden="true" tabindex="-1"></a>Thread: I got 0!</span>
<span id="cb759-2" d__=""><a href="#cb759-2" aria-hidden="true" tabindex="-1"></a>Thread: I got 1!</span>
<span id="cb759-3" d__=""><a href="#cb759-3" aria-hidden="true" tabindex="-1"></a>Thread: I got 2!</span>
<span id="cb759-4" d__=""><a href="#cb759-4" aria-hidden="true" tabindex="-1"></a>Thread: I got 3!</span>
<span id="cb759-5" d__=""><a href="#cb759-5" aria-hidden="true" tabindex="-1"></a>Thread: I got 4!</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-212" d__="">See Also</h3>
<p d__=""><a href="#man-mtx_lock"><code s__="13" d__="">mtx_lock()</code></a>, <a href="#man-mtx_timedlock"><code s__="13" d__="">mtx_timedlock()</code></a>, <a href="#man-mtx_trylock"><code s__="13" d__="">mtx_trylock()</code></a></p>
<hr>
<h2 data-number="28.14" id="man-thrd_create"><span class="header-section-number" d__="">28.14</span> <code d__="">thrd_create()</code></h2>
<p></p>
<p d__="">Create a new thread of execution</p>
<h3 class="unnumbered unlisted" id="synopsis-227" d__="">Synopsis</h3>
<div class="sourceCode" id="cb760"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb760-1"><a href="#cb760-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb760-2"><a href="#cb760-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb760-3" d__=""><a href="#cb760-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> thrd_create<span class="op" d__="">(</span>thrd_t <span class="op" d__="">*</span>thr<span class="op" d__="">,</span> thrd_start_t func<span class="op" d__="">,</span> <span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-227" d__="">Description</h3>
<p d__="">Now <em>you</em> have the POWER!</p>
<p d__="">Right?</p>
<p d__="">This is how you launch new threads to make your program do multiple things at once<a href="#fn66" class="footnote-ref" id="fnref66" role="doc-noteref"><sup s__="13" d__="">66</sup></a>!</p>
<p d__="">In order to make this happen, you need to pass a pointer to a <code s__="13">thrd_t</code> that will be used to represent the thread you’re spawning.</p>
<p d__="">That thread will start running the function you pass a pointer to in <code s__="13">func</code>. This is a value of type <code s__="13">thrd_start_t</code>, which is a pointer to a function that returns an <code s__="13">int</code> and takes a single <code s__="13">void*</code> as a parameter, i.e.:</p>
<div class="sourceCode" id="cb761"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb761-1" d__=""><a href="#cb761-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> thread_run_func<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span></code></pre></div>
<p d__="">And, as you might have guessed, the pointer you pass to <code s__="13">thrd_create()</code> for the <code s__="13">arg</code> parameter is passed on to the <code s__="13">func</code> function. This is how you can give additional information to the thread when it starts up.</p>
<p d__="">Of course, for <code s__="13">arg</code>, you have to be sure to pass a pointer to an object that is thread-safe or per-thread.</p>
<p d__="">If the thread returns from the function, it exits just as if it had called <code s__="13">thrd_exit()</code>.</p>
<p d__="">Finally, the value that the <code s__="13">func</code> function returns can be picked up by the parent thread with <code s__="13">thrd_join()</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-225" d__="">Return Value</h3>
<p d__="">In the case of goodness, returns <code s__="13">thrd_success</code>. If you’re out of memory, will return <code s__="13">thrd_nomem</code>. Otherwise, <code s__="13">thrd_error</code>.</p>
<h3 class="unnumbered unlisted" id="example-229" d__="">Example</h3>
<div class="sourceCode" id="cb762"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb762-1"><a href="#cb762-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb762-2"><a href="#cb762-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb762-3"><a href="#cb762-3"></a></span>
<span id="cb762-4" d__=""><a href="#cb762-4"></a><span class="dt" d__="">int</span> run<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb762-5"><a href="#cb762-5"></a><span class="op" d__="">{</span></span>
<span id="cb762-6" d__=""><a href="#cb762-6"></a>    <span class="dt" d__="">int</span> id <span class="op" d__="">=</span> <span class="op" d__="">*(</span><span class="dt" d__="">int</span><span class="op" d__="">*)</span>arg<span class="op" d__="">;</span></span>
<span id="cb762-7"><a href="#cb762-7"></a></span>
<span id="cb762-8" d__=""><a href="#cb762-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Thread </span><span class="sc" d__="">%d</span><span class="st" d__="">: I'm alive!!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> id<span class="op" d__="">);</span></span>
<span id="cb762-9"><a href="#cb762-9"></a></span>
<span id="cb762-10" d__=""><a href="#cb762-10"></a>    <span class="cf" d__="">return</span> id<span class="op" d__="">;</span></span>
<span id="cb762-11"><a href="#cb762-11"></a><span class="op" d__="">}</span></span>
<span id="cb762-12"><a href="#cb762-12"></a></span>
<span id="cb762-13"><a href="#cb762-13"></a><span class="pp" d__="">#define THREAD_COUNT </span><span class="dv" d__="">5</span></span>
<span id="cb762-14"><a href="#cb762-14"></a></span>
<span id="cb762-15" d__=""><a href="#cb762-15"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb762-16"><a href="#cb762-16"></a><span class="op" d__="">{</span></span>
<span id="cb762-17" d__=""><a href="#cb762-17"></a>    thrd_t t<span class="op" d__="">[</span>THREAD_COUNT<span class="op" d__="">];</span></span>
<span id="cb762-18" d__=""><a href="#cb762-18"></a>    <span class="dt" d__="">int</span> id<span class="op" d__="">[</span>THREAD_COUNT<span class="op" d__="">];</span>  <span class="co" d__="">// One of these per thread</span></span>
<span id="cb762-19"><a href="#cb762-19"></a></span>
<span id="cb762-20" d__=""><a href="#cb762-20"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span> <span class="op" d__="">{</span></span>
<span id="cb762-21" d__=""><a href="#cb762-21"></a>        id<span class="op" d__="">[</span>i<span class="op" d__="">]</span> <span class="op" d__="">=</span> i<span class="op" d__="">;</span> <span class="co" d__="">// Let's pass in the thread number as the ID</span></span>
<span id="cb762-22" d__=""><a href="#cb762-22"></a>        thrd_create<span class="op" d__="">(</span>t <span class="op" d__="">+</span> i<span class="op" d__="">,</span> run<span class="op" d__="">,</span> id <span class="op" d__="">+</span> i<span class="op" d__="">);</span></span>
<span id="cb762-23"><a href="#cb762-23"></a>    <span class="op" d__="">}</span></span>
<span id="cb762-24"><a href="#cb762-24"></a></span>
<span id="cb762-25" d__=""><a href="#cb762-25"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span> <span class="op" d__="">{</span></span>
<span id="cb762-26" d__=""><a href="#cb762-26"></a>        <span class="dt" d__="">int</span> res<span class="op" d__="">;</span></span>
<span id="cb762-27"><a href="#cb762-27"></a></span>
<span id="cb762-28" d__=""><a href="#cb762-28"></a>        thrd_join<span class="op" d__="">(</span>t<span class="op" d__="">[</span>i<span class="op" d__="">],</span> <span class="op" d__="">&amp;</span>res<span class="op" d__="">);</span></span>
<span id="cb762-29"><a href="#cb762-29"></a></span>
<span id="cb762-30" d__=""><a href="#cb762-30"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"Main: thread </span><span class="sc" d__="">%d</span><span class="st" d__=""> exited with code </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> i<span class="op" d__="">,</span> res<span class="op" d__="">);</span></span>
<span id="cb762-31"><a href="#cb762-31"></a>    <span class="op" d__="">}</span></span>
<span id="cb762-32"><a href="#cb762-32"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output (might vary from run to run):</p>
<div class="sourceCode" id="cb763"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb763-1" d__=""><a href="#cb763-1" aria-hidden="true" tabindex="-1"></a>Thread 1: I'm alive!!</span>
<span id="cb763-2" d__=""><a href="#cb763-2" aria-hidden="true" tabindex="-1"></a>Thread 0: I'm alive!!</span>
<span id="cb763-3" d__=""><a href="#cb763-3" aria-hidden="true" tabindex="-1"></a>Thread 3: I'm alive!!</span>
<span id="cb763-4" d__=""><a href="#cb763-4" aria-hidden="true" tabindex="-1"></a>Thread 2: I'm alive!!</span>
<span id="cb763-5" d__=""><a href="#cb763-5" aria-hidden="true" tabindex="-1"></a>Main: thread 0 exited with code 0</span>
<span id="cb763-6" d__=""><a href="#cb763-6" aria-hidden="true" tabindex="-1"></a>Main: thread 1 exited with code 1</span>
<span id="cb763-7" d__=""><a href="#cb763-7" aria-hidden="true" tabindex="-1"></a>Main: thread 2 exited with code 2</span>
<span id="cb763-8" d__=""><a href="#cb763-8" aria-hidden="true" tabindex="-1"></a>Main: thread 3 exited with code 3</span>
<span id="cb763-9" d__=""><a href="#cb763-9" aria-hidden="true" tabindex="-1"></a>Thread 4: I'm alive!!</span>
<span id="cb763-10" d__=""><a href="#cb763-10" aria-hidden="true" tabindex="-1"></a>Main: thread 4 exited with code 4</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-213" d__="">See Also</h3>
<p d__=""><a href="#man-thrd_exit"><code s__="13" d__="">thrd_exit()</code></a>, <a href="#man-thrd_join"><code s__="13" d__="">thrd_join()</code></a></p>
<hr>
<h2 data-number="28.15" id="man-thrd_current"><span class="header-section-number" d__="">28.15</span> <code d__="">thrd_current()</code></h2>
<p></p>
<p d__="">Get the ID of the calling thread</p>
<h3 class="unnumbered unlisted" id="synopsis-228" d__="">Synopsis</h3>
<div class="sourceCode" id="cb764"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb764-1"><a href="#cb764-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb764-2"><a href="#cb764-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb764-3" d__=""><a href="#cb764-3" aria-hidden="true" tabindex="-1"></a>thrd_t thrd_current<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-228" d__="">Description</h3>
<p d__="">Each thread has an opaque ID of type <code s__="13">thrd_t</code>. This is the value we see get initialized when we call <a href="#man-thrd_create"><code s__="13" d__="">thrd_create()</code></a>.</p>
<p d__="">But what if you want to get the ID of the currently running thread?</p>
<p d__="">No problem! Just call this function and it will be returned to you.</p>
<p d__="">Why? Who knows!</p>
<p d__="">Well, to be honest, I could see it being used a couple places.</p>
<ol type="1">
<li d__="">You could use it to have a thread detach itself with <code s__="13">thrd_detach()</code>. I’m not sure why you’d want to do this, however.</li>
<li d__="">You could use it to compare this thread’s ID with another you have stored in a variable somewhere by using the <code s__="13">thrd_equal()</code> function. Seems like the most legit use.</li>
<li d__="">…</li>
<li d__="">Profit!</li>
</ol>
<p d__="">If anyone has another use, please let me know.</p>
<h3 class="unnumbered unlisted" id="return-value-226" d__="">Return Value</h3>
<p d__="">Returns the calling thread’s ID.</p>
<h3 class="unnumbered unlisted" id="example-230" d__="">Example</h3>
<p d__="">Here’s a general example that shows getting the current thread
 ID and comparing it to a previously-recorded thread ID and taking 
exciting action based on the result! Starring Arnold Schwarzenegger!</p>
<div class="sourceCode" id="cb765"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb765-1"><a href="#cb765-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb765-2"><a href="#cb765-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb765-3"><a href="#cb765-3"></a></span>
<span id="cb765-4" d__=""><a href="#cb765-4"></a>thrd_t first_thread_id<span class="op" d__="">;</span></span>
<span id="cb765-5"><a href="#cb765-5"></a></span>
<span id="cb765-6" d__=""><a href="#cb765-6"></a><span class="dt" d__="">int</span> run<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb765-7"><a href="#cb765-7"></a><span class="op" d__="">{</span></span>
<span id="cb765-8" d__=""><a href="#cb765-8"></a>    <span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span>arg<span class="op" d__="">;</span></span>
<span id="cb765-9"><a href="#cb765-9"></a></span>
<span id="cb765-10" d__=""><a href="#cb765-10"></a>    thrd_t my_id <span class="op" d__="">=</span> thrd_current<span class="op" d__="">();</span>   <span class="co" d__="">// &lt;-- GET MY THREAD ID</span></span>
<span id="cb765-11"><a href="#cb765-11"></a></span>
<span id="cb765-12" d__=""><a href="#cb765-12"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>thrd_equal<span class="op" d__="">(</span>my_id<span class="op" d__="">,</span> first_thread_id<span class="op" d__="">))</span></span>
<span id="cb765-13" d__=""><a href="#cb765-13"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"I'm the first thread!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb765-14"><a href="#cb765-14"></a>    <span class="cf" d__="">else</span></span>
<span id="cb765-15" d__=""><a href="#cb765-15"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"I'm not the first!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb765-16"><a href="#cb765-16"></a></span>
<span id="cb765-17"><a href="#cb765-17"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb765-18"><a href="#cb765-18"></a><span class="op" d__="">}</span></span>
<span id="cb765-19"><a href="#cb765-19"></a></span>
<span id="cb765-20" d__=""><a href="#cb765-20"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb765-21"><a href="#cb765-21"></a><span class="op" d__="">{</span></span>
<span id="cb765-22" d__=""><a href="#cb765-22"></a>    thrd_t t<span class="op" d__="">;</span></span>
<span id="cb765-23"><a href="#cb765-23"></a></span>
<span id="cb765-24" d__=""><a href="#cb765-24"></a>    thrd_create<span class="op" d__="">(&amp;</span>first_thread_id<span class="op" d__="">,</span> run<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb765-25" d__=""><a href="#cb765-25"></a>    thrd_create<span class="op" d__="">(&amp;</span>t<span class="op" d__="">,</span> run<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb765-26"><a href="#cb765-26"></a></span>
<span id="cb765-27" d__=""><a href="#cb765-27"></a>    thrd_join<span class="op" d__="">(</span>first_thread_id<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb765-28" d__=""><a href="#cb765-28"></a>    thrd_join<span class="op" d__="">(</span>t<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb765-29"><a href="#cb765-29"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb766"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb766-1" d__=""><a href="#cb766-1" aria-hidden="true" tabindex="-1"></a>Come on, you got what you want, Cohaagen! Give deez people ay-ah!</span></code></pre></div>
<p d__="">No, wait, that’s an Arnold Schwarzenegger quote from <em>Total Recall</em>, one of the best science fiction films of all time. Watch it now and then come back to finish this reference page.</p>
<p d__="">Man–what an ending! And Johnny Cab? So excellent. Anyway!</p>
<p d__="">Output:</p>
<div class="sourceCode" id="cb767"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb767-1" d__=""><a href="#cb767-1" aria-hidden="true" tabindex="-1"></a>I'm the first thread!</span>
<span id="cb767-2" d__=""><a href="#cb767-2" aria-hidden="true" tabindex="-1"></a>I'm not the first!</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-214" d__="">See Also</h3>
<p d__=""><a href="#man-thrd_equal"><code s__="13" d__="">thrd_equal()</code></a>, <a href="#man-thrd_detach"><code s__="13" d__="">thrd_detach()</code></a></p>
<hr>
<h2 data-number="28.16" id="man-thrd_detach"><span class="header-section-number" d__="">28.16</span> <code d__="">thrd_detach()</code></h2>
<p></p>
<p d__="">Automatically clean up threads when they exit</p>
<h3 class="unnumbered unlisted" id="synopsis-229" d__="">Synopsis</h3>
<div class="sourceCode" id="cb768"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb768-1"><a href="#cb768-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb768-2"><a href="#cb768-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb768-3" d__=""><a href="#cb768-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> thrd_detach<span class="op" d__="">(</span>thrd_t thr<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-229" d__="">Description</h3>
<p d__="">Normally you have to <code s__="13">thrd_join()</code> to get 
resources associated with a deceased thread cleaned up. (Most notably, 
its exit status is still floating around waiting to get picked up.)</p>
<p d__="">But if you call <code s__="13">thrd_detach()</code> on the thread first, manual cleanup isn’t necessary. They just exit and are cleaned up by the OS.</p>
<p d__="">(Note that when the main thread dies, all the threads die in any case.)</p>
<h3 class="unnumbered unlisted" id="return-value-227" d__="">Return Value</h3>
<p d__=""><code s__="13">thrd_success</code> if the thread successfully detaches, <code s__="13">thrd_error</code> otherwise.</p>
<h3 class="unnumbered unlisted" id="example-231" d__="">Example</h3>
<div class="sourceCode" id="cb769"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb769-1"><a href="#cb769-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb769-2"><a href="#cb769-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb769-3"><a href="#cb769-3"></a></span>
<span id="cb769-4" d__=""><a href="#cb769-4"></a>thrd_t first_thread_id<span class="op" d__="">;</span></span>
<span id="cb769-5"><a href="#cb769-5"></a></span>
<span id="cb769-6" d__=""><a href="#cb769-6"></a><span class="dt" d__="">int</span> run<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb769-7"><a href="#cb769-7"></a><span class="op" d__="">{</span></span>
<span id="cb769-8" d__=""><a href="#cb769-8"></a>    <span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span>arg<span class="op" d__="">;</span></span>
<span id="cb769-9"><a href="#cb769-9"></a></span>
<span id="cb769-10" d__=""><a href="#cb769-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Thread running!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb769-11"><a href="#cb769-11"></a></span>
<span id="cb769-12"><a href="#cb769-12"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb769-13"><a href="#cb769-13"></a><span class="op" d__="">}</span></span>
<span id="cb769-14"><a href="#cb769-14"></a></span>
<span id="cb769-15"><a href="#cb769-15"></a><span class="pp" d__="">#define THREAD_COUNT </span><span class="dv" d__="">5</span></span>
<span id="cb769-16"><a href="#cb769-16"></a></span>
<span id="cb769-17" d__=""><a href="#cb769-17"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb769-18"><a href="#cb769-18"></a><span class="op" d__="">{</span></span>
<span id="cb769-19" d__=""><a href="#cb769-19"></a>    thrd_t t<span class="op" d__="">;</span></span>
<span id="cb769-20"><a href="#cb769-20"></a></span>
<span id="cb769-21" d__=""><a href="#cb769-21"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span> <span class="op" d__="">{</span></span>
<span id="cb769-22" d__=""><a href="#cb769-22"></a>        thrd_create<span class="op" d__="">(&amp;</span>t<span class="op" d__="">,</span> run<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb769-23" d__=""><a href="#cb769-23"></a>        thrd_detach<span class="op" d__="">(</span>t<span class="op" d__="">);</span></span>
<span id="cb769-24"><a href="#cb769-24"></a>    <span class="op" d__="">}</span></span>
<span id="cb769-25"><a href="#cb769-25"></a></span>
<span id="cb769-26"><a href="#cb769-26"></a>    <span class="co" d__="">// No need to thrd_join()!</span></span>
<span id="cb769-27"><a href="#cb769-27"></a></span>
<span id="cb769-28"><a href="#cb769-28"></a>    <span class="co" d__="">// Sleep a quarter second to let them all finish</span></span>
<span id="cb769-29" d__=""><a href="#cb769-29"></a>    thrd_sleep<span class="op" d__="">(&amp;(</span><span class="kw" d__="">struct</span> timespec<span class="op" d__="">){.</span>tv_nsec<span class="op" d__="">=</span><span class="dv" d__="">250000000</span><span class="op" d__="">},</span> NULL<span class="op" d__="">);</span></span>
<span id="cb769-30"><a href="#cb769-30"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-215" d__="">See Also</h3>
<p d__=""><a href="#man-thrd_join"><code s__="13" d__="">thrd_join()</code></a>, <a href="#man-thrd_exit"><code s__="13" d__="">thrd_exit()</code></a></p>
<hr>
<h2 data-number="28.17" id="man-thrd_equal"><span class="header-section-number" d__="">28.17</span> <code d__="">thrd_equal()</code></h2>
<p></p>
<p d__="">Compare two thread descriptors for equality</p>
<h3 class="unnumbered unlisted" id="synopsis-230" d__="">Synopsis</h3>
<div class="sourceCode" id="cb770"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb770-1"><a href="#cb770-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb770-2"><a href="#cb770-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb770-3" d__=""><a href="#cb770-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> thrd_equal<span class="op" d__="">(</span>thrd_t thr0<span class="op" d__="">,</span> thrd_t thr1<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-230" d__="">Description</h3>
<p d__="">If you have two thread descriptors in <code s__="13">thrd_t</code> variables, you can test them for equality with this function.</p>
<p d__="">For example, maybe one of the threads has special powers the 
others don’t, and the run function needs to be able to tell them apart, 
as in the example.</p>
<h3 class="unnumbered unlisted" id="return-value-228" d__="">Return Value</h3>
<p d__="">Returns non-zero if the threads are equal. Returns <code s__="13">0</code> if they’re not.</p>
<h3 class="unnumbered unlisted" id="example-232" d__="">Example</h3>
<p d__="">Here’s a general example that shows getting the current thread
 ID and comparing it to a previously-recorded thread ID and taking 
boring action based on the result.</p>
<div class="sourceCode" id="cb771"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb771-1"><a href="#cb771-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb771-2"><a href="#cb771-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb771-3"><a href="#cb771-3"></a></span>
<span id="cb771-4" d__=""><a href="#cb771-4"></a>thrd_t first_thread_id<span class="op" d__="">;</span></span>
<span id="cb771-5"><a href="#cb771-5"></a></span>
<span id="cb771-6" d__=""><a href="#cb771-6"></a><span class="dt" d__="">int</span> run<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb771-7"><a href="#cb771-7"></a><span class="op" d__="">{</span></span>
<span id="cb771-8" d__=""><a href="#cb771-8"></a>    <span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span>arg<span class="op" d__="">;</span></span>
<span id="cb771-9"><a href="#cb771-9"></a></span>
<span id="cb771-10" d__=""><a href="#cb771-10"></a>    thrd_t my_id <span class="op" d__="">=</span> thrd_current<span class="op" d__="">();</span></span>
<span id="cb771-11"><a href="#cb771-11"></a></span>
<span id="cb771-12" d__=""><a href="#cb771-12"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>thrd_equal<span class="op" d__="">(</span>my_id<span class="op" d__="">,</span> first_thread_id<span class="op" d__="">))</span>  <span class="co" d__="">// &lt;-- COMPARE!</span></span>
<span id="cb771-13" d__=""><a href="#cb771-13"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"I'm the first thread!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb771-14"><a href="#cb771-14"></a>    <span class="cf" d__="">else</span></span>
<span id="cb771-15" d__=""><a href="#cb771-15"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"I'm not the first!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb771-16"><a href="#cb771-16"></a></span>
<span id="cb771-17"><a href="#cb771-17"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb771-18"><a href="#cb771-18"></a><span class="op" d__="">}</span></span>
<span id="cb771-19"><a href="#cb771-19"></a></span>
<span id="cb771-20" d__=""><a href="#cb771-20"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb771-21"><a href="#cb771-21"></a><span class="op" d__="">{</span></span>
<span id="cb771-22" d__=""><a href="#cb771-22"></a>    thrd_t t<span class="op" d__="">;</span></span>
<span id="cb771-23"><a href="#cb771-23"></a></span>
<span id="cb771-24" d__=""><a href="#cb771-24"></a>    thrd_create<span class="op" d__="">(&amp;</span>first_thread_id<span class="op" d__="">,</span> run<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb771-25" d__=""><a href="#cb771-25"></a>    thrd_create<span class="op" d__="">(&amp;</span>t<span class="op" d__="">,</span> run<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb771-26"><a href="#cb771-26"></a></span>
<span id="cb771-27" d__=""><a href="#cb771-27"></a>    thrd_join<span class="op" d__="">(</span>first_thread_id<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb771-28" d__=""><a href="#cb771-28"></a>    thrd_join<span class="op" d__="">(</span>t<span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb771-29"><a href="#cb771-29"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb772"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb772-1" d__=""><a href="#cb772-1" aria-hidden="true" tabindex="-1"></a>I'm the first thread!</span>
<span id="cb772-2" d__=""><a href="#cb772-2" aria-hidden="true" tabindex="-1"></a>I'm not the first!</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-216" d__="">See Also</h3>
<p><a href="#man-thrd_current"><code s__="13" d__="">thrd_current()</code></a></p>
<hr>
<h2 data-number="28.18" id="man-thrd_exit"><span class="header-section-number" d__="">28.18</span> <code d__="">thrd_exit()</code></h2>
<p></p>
<p d__="">Stop and exit this thread</p>
<h3 class="unnumbered unlisted" id="synopsis-231" d__="">Synopsis</h3>
<div class="sourceCode" id="cb773"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb773-1"><a href="#cb773-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb773-2"><a href="#cb773-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb773-3" d__=""><a href="#cb773-3" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">_Noreturn</span> <span class="dt" d__="">void</span> thrd_exit<span class="op" d__="">(</span><span class="dt" d__="">int</span> res<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-231" d__="">Description</h3>
<p d__="">A thread commonly exits by returning from its run function. 
But if it wants to exit early (perhaps from deeper in the call stack), 
this function will get that done.</p>
<p d__="">The <code s__="13">res</code> code can be picked up by a thread calling <code s__="13">thrd_join()</code>, and is equivalent to returning a value from the run function.</p>
<p d__="">Like with returning from the run function, this will also 
properly clean up all the thread-specific storage associated with this 
thread—all the destructors for the threads TSS variables will be called.
 If there are any remaining TSS variables with destructors after the 
first round of destruction<a href="#fn67" class="footnote-ref" id="fnref67" role="doc-noteref"><sup s__="13" d__="">67</sup></a>,
 the remaining destructors will be called. This happens repeatedly until
 there are no more, or the number of rounds of carnage reaches <code s__="13">TSS_DTOR_ITERATIONS</code>.</p>
<p d__="">If the main thread calls this, it’s as if you called <code s__="13">exit(EXIT_SUCCESS)</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-229" d__="">Return Value</h3>
<p d__="">This function never returns because the thread calling it is killed in the process. Trippy!</p>
<h3 class="unnumbered unlisted" id="example-233" d__="">Example</h3>
<p d__="">Threads in this example exit early with result <code s__="13">22</code> if they get a <code s__="13">NULL</code> value for <code s__="13">arg</code>.</p>
<div class="sourceCode" id="cb774"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb774-1"><a href="#cb774-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb774-2"><a href="#cb774-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb774-3"><a href="#cb774-3"></a></span>
<span id="cb774-4" d__=""><a href="#cb774-4"></a>thrd_t first_thread_id<span class="op" d__="">;</span></span>
<span id="cb774-5"><a href="#cb774-5"></a></span>
<span id="cb774-6" d__=""><a href="#cb774-6"></a><span class="dt" d__="">int</span> run<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb774-7"><a href="#cb774-7"></a><span class="op" d__="">{</span></span>
<span id="cb774-8" d__=""><a href="#cb774-8"></a>    <span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span>arg<span class="op" d__="">;</span></span>
<span id="cb774-9"><a href="#cb774-9"></a></span>
<span id="cb774-10" d__=""><a href="#cb774-10"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>arg <span class="op" d__="">==</span> NULL<span class="op" d__="">)</span></span>
<span id="cb774-11" d__=""><a href="#cb774-11"></a>        thrd_exit<span class="op" d__="">(</span><span class="dv" d__="">22</span><span class="op" d__="">);</span></span>
<span id="cb774-12"><a href="#cb774-12"></a></span>
<span id="cb774-13"><a href="#cb774-13"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb774-14"><a href="#cb774-14"></a><span class="op" d__="">}</span></span>
<span id="cb774-15"><a href="#cb774-15"></a></span>
<span id="cb774-16"><a href="#cb774-16"></a><span class="pp" d__="">#define THREAD_COUNT </span><span class="dv" d__="">5</span></span>
<span id="cb774-17"><a href="#cb774-17"></a></span>
<span id="cb774-18" d__=""><a href="#cb774-18"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb774-19"><a href="#cb774-19"></a><span class="op" d__="">{</span></span>
<span id="cb774-20" d__=""><a href="#cb774-20"></a>    thrd_t t<span class="op" d__="">[</span>THREAD_COUNT<span class="op" d__="">];</span></span>
<span id="cb774-21"><a href="#cb774-21"></a></span>
<span id="cb774-22" d__=""><a href="#cb774-22"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span></span>
<span id="cb774-23" d__=""><a href="#cb774-23"></a>        thrd_create<span class="op" d__="">(</span>t <span class="op" d__="">+</span> i<span class="op" d__="">,</span> run<span class="op" d__="">,</span> i <span class="op" d__="">==</span> <span class="dv" d__="">2</span><span class="op" d__="">?</span> NULL<span class="op" d__="">:</span> <span class="st" d__="">"spatula"</span><span class="op" d__="">);</span></span>
<span id="cb774-24"><a href="#cb774-24"></a></span>
<span id="cb774-25"><a href="#cb774-25"></a></span>
<span id="cb774-26" d__=""><a href="#cb774-26"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span> <span class="op" d__="">{</span></span>
<span id="cb774-27" d__=""><a href="#cb774-27"></a>        <span class="dt" d__="">int</span> res<span class="op" d__="">;</span></span>
<span id="cb774-28" d__=""><a href="#cb774-28"></a>        thrd_join<span class="op" d__="">(</span>t<span class="op" d__="">[</span>i<span class="op" d__="">],</span> <span class="op" d__="">&amp;</span>res<span class="op" d__="">);</span></span>
<span id="cb774-29"><a href="#cb774-29"></a></span>
<span id="cb774-30" d__=""><a href="#cb774-30"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"Thread </span><span class="sc" d__="">%d</span><span class="st" d__=""> exited with code </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> i<span class="op" d__="">,</span> res<span class="op" d__="">);</span></span>
<span id="cb774-31"><a href="#cb774-31"></a>    <span class="op" d__="">}</span></span>
<span id="cb774-32"><a href="#cb774-32"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb775"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb775-1" d__=""><a href="#cb775-1" aria-hidden="true" tabindex="-1"></a>Thread 0 exited with code 0</span>
<span id="cb775-2" d__=""><a href="#cb775-2" aria-hidden="true" tabindex="-1"></a>Thread 1 exited with code 0</span>
<span id="cb775-3" d__=""><a href="#cb775-3" aria-hidden="true" tabindex="-1"></a>Thread 2 exited with code 22</span>
<span id="cb775-4" d__=""><a href="#cb775-4" aria-hidden="true" tabindex="-1"></a>Thread 3 exited with code 0</span>
<span id="cb775-5" d__=""><a href="#cb775-5" aria-hidden="true" tabindex="-1"></a>Thread 4 exited with code 0</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-217" d__="">See Also</h3>
<p><a href="#man-thrd_join"><code s__="13" d__="">thrd_join()</code></a></p>
<hr>
<h2 data-number="28.19" id="man-thrd_join"><span class="header-section-number" d__="">28.19</span> <code d__="">thrd_join()</code></h2>
<p></p>
<p d__="">Wait for a thread to exit</p>
<h3 class="unnumbered unlisted" id="synopsis-232" d__="">Synopsis</h3>
<div class="sourceCode" id="cb776"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb776-1"><a href="#cb776-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb776-2"><a href="#cb776-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb776-3" d__=""><a href="#cb776-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> thrd_join<span class="op" d__="">(</span>thrd_t thr<span class="op" d__="">,</span> <span class="dt" d__="">int</span> <span class="op" d__="">*</span>res<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-232" d__="">Description</h3>
<p d__="">When a parent thread fires off some child threads, it can wait for them to complete with this call</p>
<h3 class="unnumbered unlisted" id="return-value-230" d__="">Return Value</h3>
<h3 class="unnumbered unlisted" id="example-234" d__="">Example</h3>
<p d__="">Threads in this example exit early with result <code s__="13">22</code> if they get a <code s__="13">NULL</code> value for <code s__="13">arg</code>. The parent thread picks up this result code with <code s__="13">thrd_join()</code>.</p>
<div class="sourceCode" id="cb777"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb777-1"><a href="#cb777-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb777-2"><a href="#cb777-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb777-3"><a href="#cb777-3"></a></span>
<span id="cb777-4" d__=""><a href="#cb777-4"></a>thrd_t first_thread_id<span class="op" d__="">;</span></span>
<span id="cb777-5"><a href="#cb777-5"></a></span>
<span id="cb777-6" d__=""><a href="#cb777-6"></a><span class="dt" d__="">int</span> run<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb777-7"><a href="#cb777-7"></a><span class="op" d__="">{</span></span>
<span id="cb777-8" d__=""><a href="#cb777-8"></a>    <span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span>arg<span class="op" d__="">;</span></span>
<span id="cb777-9"><a href="#cb777-9"></a></span>
<span id="cb777-10" d__=""><a href="#cb777-10"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>arg <span class="op" d__="">==</span> NULL<span class="op" d__="">)</span></span>
<span id="cb777-11" d__=""><a href="#cb777-11"></a>        thrd_exit<span class="op" d__="">(</span><span class="dv" d__="">22</span><span class="op" d__="">);</span></span>
<span id="cb777-12"><a href="#cb777-12"></a></span>
<span id="cb777-13"><a href="#cb777-13"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb777-14"><a href="#cb777-14"></a><span class="op" d__="">}</span></span>
<span id="cb777-15"><a href="#cb777-15"></a></span>
<span id="cb777-16"><a href="#cb777-16"></a><span class="pp" d__="">#define THREAD_COUNT </span><span class="dv" d__="">5</span></span>
<span id="cb777-17"><a href="#cb777-17"></a></span>
<span id="cb777-18" d__=""><a href="#cb777-18"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb777-19"><a href="#cb777-19"></a><span class="op" d__="">{</span></span>
<span id="cb777-20" d__=""><a href="#cb777-20"></a>    thrd_t t<span class="op" d__="">[</span>THREAD_COUNT<span class="op" d__="">];</span></span>
<span id="cb777-21"><a href="#cb777-21"></a></span>
<span id="cb777-22" d__=""><a href="#cb777-22"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span></span>
<span id="cb777-23" d__=""><a href="#cb777-23"></a>        thrd_create<span class="op" d__="">(</span>t <span class="op" d__="">+</span> i<span class="op" d__="">,</span> run<span class="op" d__="">,</span> i <span class="op" d__="">==</span> <span class="dv" d__="">2</span><span class="op" d__="">?</span> NULL<span class="op" d__="">:</span> <span class="st" d__="">"spatula"</span><span class="op" d__="">);</span></span>
<span id="cb777-24"><a href="#cb777-24"></a></span>
<span id="cb777-25"><a href="#cb777-25"></a></span>
<span id="cb777-26" d__=""><a href="#cb777-26"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span> <span class="op" d__="">{</span></span>
<span id="cb777-27" d__=""><a href="#cb777-27"></a>        <span class="dt" d__="">int</span> res<span class="op" d__="">;</span></span>
<span id="cb777-28" d__=""><a href="#cb777-28"></a>        thrd_join<span class="op" d__="">(</span>t<span class="op" d__="">[</span>i<span class="op" d__="">],</span> <span class="op" d__="">&amp;</span>res<span class="op" d__="">);</span></span>
<span id="cb777-29"><a href="#cb777-29"></a></span>
<span id="cb777-30" d__=""><a href="#cb777-30"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"Thread </span><span class="sc" d__="">%d</span><span class="st" d__=""> exited with code </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> i<span class="op" d__="">,</span> res<span class="op" d__="">);</span></span>
<span id="cb777-31"><a href="#cb777-31"></a>    <span class="op" d__="">}</span></span>
<span id="cb777-32"><a href="#cb777-32"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb778"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb778-1" d__=""><a href="#cb778-1" aria-hidden="true" tabindex="-1"></a>Thread 0 exited with code 0</span>
<span id="cb778-2" d__=""><a href="#cb778-2" aria-hidden="true" tabindex="-1"></a>Thread 1 exited with code 0</span>
<span id="cb778-3" d__=""><a href="#cb778-3" aria-hidden="true" tabindex="-1"></a>Thread 2 exited with code 22</span>
<span id="cb778-4" d__=""><a href="#cb778-4" aria-hidden="true" tabindex="-1"></a>Thread 3 exited with code 0</span>
<span id="cb778-5" d__=""><a href="#cb778-5" aria-hidden="true" tabindex="-1"></a>Thread 4 exited with code 0</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-218" d__="">See Also</h3>
<p><a href="#man-thrd_exit"><code s__="13" d__="">thrd_exit()</code></a></p>
<h2 data-number="28.20" id="man-thrd_sleep"><span class="header-section-number" d__="">28.20</span> <code d__="">thrd_sleep()</code></h2>
<p d__="">Sleep for a specific number of seconds and nanoseconds</p>
<h3 class="unnumbered unlisted" id="synopsis-233" d__="">Synopsis</h3>
<div class="sourceCode" id="cb779"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb779-1"><a href="#cb779-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb779-2"><a href="#cb779-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb779-3" d__=""><a href="#cb779-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> thrd_sleep<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="kw" d__="">struct</span> timespec <span class="op" d__="">*</span>duration<span class="op" d__="">,</span> <span class="kw" d__="">struct</span> timespec <span class="op" d__="">*</span>remaining<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-233" d__="">Description</h3>
<p d__="">This function puts the current thread to sleep for a while<a href="#fn68" class="footnote-ref" id="fnref68" role="doc-noteref"><sup s__="13" d__="">68</sup></a> allowing other threads to run.</p>
<p d__="">The calling thread will wake up after the time has elapsed, or if it gets interrupted by a signal or something.</p>
<p d__="">If it doesn’t get interrupted, it’ll sleep at least as long as
 you asked. Maybe a tad longer. You know how hard it can be to get out 
of bed.</p>
<p d__="">The structure looks like this:</p>
<div class="sourceCode" id="cb780"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb780-1" d__=""><a href="#cb780-1" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">struct</span> timespec <span class="op" d__="">{</span></span>
<span id="cb780-2" d__=""><a href="#cb780-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">time_t</span> tv_sec<span class="op" d__="">;</span>   <span class="co" d__="">// Seconds</span></span>
<span id="cb780-3" d__=""><a href="#cb780-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">long</span>   tv_nsec<span class="op" d__="">;</span>  <span class="co" d__="">// Nanoseconds (billionths of a second)</span></span>
<span id="cb780-4"><a href="#cb780-4" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">};</span></span></code></pre></div>
<p d__="">Don’t set <code s__="13">tv_nsec</code> greater than 999,999,999. I can’t see what officially happens if you do, but on my system <code s__="13">thrd_sleep()</code> returns <code s__="13">-2</code> and fails.</p>
<h3 class="unnumbered unlisted" id="return-value-231" d__="">Return Value</h3>
<p d__="">Returns <code s__="13">0</code> on timeout, or <code s__="13">-1</code>
 if interrupted by a signal. Or any negative value on some other error. 
Weirdly, the spec allows this “other error negative value” to also be <code s__="13">-1</code>, so good luck with that.</p>
<h3 class="unnumbered unlisted" id="example-235" d__="">Example</h3>
<div class="sourceCode" id="cb781"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb781-1"><a href="#cb781-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb781-2"><a href="#cb781-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb781-3"><a href="#cb781-3"></a></span>
<span id="cb781-4" d__=""><a href="#cb781-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb781-5"><a href="#cb781-5"></a><span class="op" d__="">{</span></span>
<span id="cb781-6"><a href="#cb781-6"></a>    <span class="co" d__="">// Sleep for 3.25 seconds</span></span>
<span id="cb781-7" d__=""><a href="#cb781-7"></a>    thrd_sleep<span class="op" d__="">(&amp;(</span><span class="kw" d__="">struct</span> timespec<span class="op" d__="">){.</span>tv_sec<span class="op" d__="">=</span><span class="dv" d__="">3</span><span class="op" d__="">,</span> <span class="op" d__="">.</span>tv_nsec<span class="op" d__="">=</span><span class="dv" d__="">250000000</span><span class="op" d__="">},</span> NULL<span class="op" d__="">);</span></span>
<span id="cb781-8"><a href="#cb781-8"></a></span>
<span id="cb781-9"><a href="#cb781-9"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb781-10"><a href="#cb781-10"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-219" d__="">See Also</h3>
<p><a href="#man-thrd_yield"><code s__="13" d__="">thrd_yield()</code></a></p>
<hr>
<h2 data-number="28.21" id="man-thrd_yield"><span class="header-section-number" d__="">28.21</span> <code d__="">thrd_yield()</code></h2>
<p></p>
<p d__="">Stop running that other threads might run</p>
<h3 class="unnumbered unlisted" id="synopsis-234" d__="">Synopsis</h3>
<div class="sourceCode" id="cb782"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb782-1"><a href="#cb782-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb782-2"><a href="#cb782-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb782-3" d__=""><a href="#cb782-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> thrd_yield<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-234" d__="">Description</h3>
<p d__="">If you have a thread that’s hogging the CPU and you want to give your other threads time to run, you can call <code s__="13">thrd_yield()</code>. If the system sees fit, it will put the calling thread to sleep and one of the other threads will run instead.</p>
<p d__="">It’s a good way to be “polite” to the other threads in your program if you want the encourage them to run instead.</p>
<h3 class="unnumbered unlisted" id="return-value-232" d__="">Return Value</h3>
<p d__="">Returns nothing!</p>
<h3 class="unnumbered unlisted" id="example-236" d__="">Example</h3>
<p d__="">This example’s kinda poor because the OS is probably going to 
reschedule threads on the output anyway, but it gets the point across.</p>
<p d__="">The main thread is giving other threads a chance to run after every block of dumb work it does.</p>
<div class="sourceCode" id="cb783"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb783-1"><a href="#cb783-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb783-2"><a href="#cb783-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb783-3"><a href="#cb783-3"></a></span>
<span id="cb783-4" d__=""><a href="#cb783-4"></a><span class="dt" d__="">int</span> run<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb783-5"><a href="#cb783-5"></a><span class="op" d__="">{</span></span>
<span id="cb783-6" d__=""><a href="#cb783-6"></a>    <span class="dt" d__="">int</span> main_thread <span class="op" d__="">=</span> arg <span class="op" d__="">!=</span> NULL<span class="op" d__="">;</span></span>
<span id="cb783-7"><a href="#cb783-7"></a></span>
<span id="cb783-8" d__=""><a href="#cb783-8"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>main_thread<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb783-9" d__=""><a href="#cb783-9"></a>        <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> total <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb783-10"><a href="#cb783-10"></a></span>
<span id="cb783-11" d__=""><a href="#cb783-11"></a>        <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> <span class="dv" d__="">10</span><span class="op" d__="">;</span> i<span class="op" d__="">++)</span> <span class="op" d__="">{</span></span>
<span id="cb783-12" d__=""><a href="#cb783-12"></a>            <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">int</span> j <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> j <span class="op" d__="">&lt;</span> <span class="dv" d__="">1000</span><span class="bu" d__="">L</span><span class="op" d__="">;</span> j<span class="op" d__="">++)</span></span>
<span id="cb783-13" d__=""><a href="#cb783-13"></a>                total<span class="op" d__="">++;</span></span>
<span id="cb783-14"><a href="#cb783-14"></a></span>
<span id="cb783-15" d__=""><a href="#cb783-15"></a>            printf<span class="op" d__="">(</span><span class="st" d__="">"Main thread yielding</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb783-16" d__=""><a href="#cb783-16"></a>            thrd_yield<span class="op" d__="">();</span>                       <span class="co" d__="">// &lt;-- YIELD HERE</span></span>
<span id="cb783-17"><a href="#cb783-17"></a>        <span class="op" d__="">}</span></span>
<span id="cb783-18"><a href="#cb783-18"></a>    <span class="op" d__="">}</span> <span class="cf" d__="">else</span></span>
<span id="cb783-19" d__=""><a href="#cb783-19"></a>        printf<span class="op" d__="">(</span><span class="st" d__="">"Other thread running!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb783-20"><a href="#cb783-20"></a></span>
<span id="cb783-21"><a href="#cb783-21"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb783-22"><a href="#cb783-22"></a><span class="op" d__="">}</span></span>
<span id="cb783-23"><a href="#cb783-23"></a></span>
<span id="cb783-24"><a href="#cb783-24"></a><span class="pp" d__="">#define THREAD_COUNT </span><span class="dv" d__="">10</span></span>
<span id="cb783-25"><a href="#cb783-25"></a></span>
<span id="cb783-26" d__=""><a href="#cb783-26"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb783-27"><a href="#cb783-27"></a><span class="op" d__="">{</span></span>
<span id="cb783-28" d__=""><a href="#cb783-28"></a>    thrd_t t<span class="op" d__="">[</span>THREAD_COUNT<span class="op" d__="">];</span></span>
<span id="cb783-29"><a href="#cb783-29"></a></span>
<span id="cb783-30" d__=""><a href="#cb783-30"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span></span>
<span id="cb783-31" d__=""><a href="#cb783-31"></a>        thrd_create<span class="op" d__="">(</span>t <span class="op" d__="">+</span> i<span class="op" d__="">,</span> run<span class="op" d__="">,</span> i <span class="op" d__="">==</span> <span class="dv" d__="">0</span><span class="op" d__="">?</span> <span class="st" d__="">"main"</span><span class="op" d__="">:</span> NULL<span class="op" d__="">);</span></span>
<span id="cb783-32"><a href="#cb783-32"></a></span>
<span id="cb783-33" d__=""><a href="#cb783-33"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span></span>
<span id="cb783-34" d__=""><a href="#cb783-34"></a>        thrd_join<span class="op" d__="">(</span>t<span class="op" d__="">[</span>i<span class="op" d__="">],</span> NULL<span class="op" d__="">);</span></span>
<span id="cb783-35"><a href="#cb783-35"></a></span>
<span id="cb783-36"><a href="#cb783-36"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb783-37"><a href="#cb783-37"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">The output will vary from run to run. Notice that even after <code s__="13">thrd_yield()</code> other threads might not yet be ready to run and the main thread will continue.</p>
<div class="sourceCode" id="cb784"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb784-1" d__=""><a href="#cb784-1" aria-hidden="true" tabindex="-1"></a>Main thread yielding</span>
<span id="cb784-2" d__=""><a href="#cb784-2" aria-hidden="true" tabindex="-1"></a>Main thread yielding</span>
<span id="cb784-3" d__=""><a href="#cb784-3" aria-hidden="true" tabindex="-1"></a>Main thread yielding</span>
<span id="cb784-4" d__=""><a href="#cb784-4" aria-hidden="true" tabindex="-1"></a>Other thread running!</span>
<span id="cb784-5" d__=""><a href="#cb784-5" aria-hidden="true" tabindex="-1"></a>Other thread running!</span>
<span id="cb784-6" d__=""><a href="#cb784-6" aria-hidden="true" tabindex="-1"></a>Other thread running!</span>
<span id="cb784-7" d__=""><a href="#cb784-7" aria-hidden="true" tabindex="-1"></a>Other thread running!</span>
<span id="cb784-8" d__=""><a href="#cb784-8" aria-hidden="true" tabindex="-1"></a>Main thread yielding</span>
<span id="cb784-9" d__=""><a href="#cb784-9" aria-hidden="true" tabindex="-1"></a>Other thread running!</span>
<span id="cb784-10" d__=""><a href="#cb784-10" aria-hidden="true" tabindex="-1"></a>Other thread running!</span>
<span id="cb784-11" d__=""><a href="#cb784-11" aria-hidden="true" tabindex="-1"></a>Main thread yielding</span>
<span id="cb784-12" d__=""><a href="#cb784-12" aria-hidden="true" tabindex="-1"></a>Main thread yielding</span>
<span id="cb784-13" d__=""><a href="#cb784-13" aria-hidden="true" tabindex="-1"></a>Main thread yielding</span>
<span id="cb784-14" d__=""><a href="#cb784-14" aria-hidden="true" tabindex="-1"></a>Other thread running!</span>
<span id="cb784-15" d__=""><a href="#cb784-15" aria-hidden="true" tabindex="-1"></a>Main thread yielding</span>
<span id="cb784-16" d__=""><a href="#cb784-16" aria-hidden="true" tabindex="-1"></a>Main thread yielding</span>
<span id="cb784-17" d__=""><a href="#cb784-17" aria-hidden="true" tabindex="-1"></a>Main thread yielding</span>
<span id="cb784-18" d__=""><a href="#cb784-18" aria-hidden="true" tabindex="-1"></a>Other thread running!</span>
<span id="cb784-19" d__=""><a href="#cb784-19" aria-hidden="true" tabindex="-1"></a>Other thread running!</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-220" d__="">See Also</h3>
<p><a href="#man-thrd_sleep"><code s__="13" d__="">thrd_sleep()</code></a></p>
<hr>
<h2 data-number="28.22" id="man-tss_create"><span class="header-section-number" d__="">28.22</span> <code d__="">tss_create()</code></h2>
<p></p>
<p d__="">Create new thread-specific storage</p>
<h3 class="unnumbered unlisted" id="synopsis-235" d__="">Synopsis</h3>
<div class="sourceCode" id="cb785"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb785-1"><a href="#cb785-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb785-2"><a href="#cb785-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb785-3" d__=""><a href="#cb785-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> tss_create<span class="op" d__="">(</span>tss_t <span class="op" d__="">*</span>key<span class="op" d__="">,</span> tss_dtor_t dtor<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-235" d__="">Description</h3>
<p d__="">This helps when you need per-thread storage of different values.</p>
<p d__="">A common place this comes up is if you have a file scope 
variable that is shared between a bunch of functions and often returned.
 That’s not threadsafe. One way to refactor is to replace it with 
thread-specific storage so that each thread gets their own code and 
doesn’t step on other thread’s toes.</p>
<p d__="">To make this work, you pass in a pointer to a <code s__="13">tss_t</code> key—this is the variable you will use in subsequent <code s__="13">tss_set()</code> and <code s__="13">tss_get()</code> calls to set and get the value associated with the key.</p>
<p d__="">The interesting part of this is the <code s__="13">dtor</code> destructor pointer of type <code s__="13">tss_dtor_t</code>. This is actually a pointer to a function that takes a <code s__="13">void*</code> argument and returns <code s__="13">void</code>, i.e.</p>
<div class="sourceCode" id="cb786"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb786-1" d__=""><a href="#cb786-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> dtor<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>p<span class="op" d__="">)</span> <span class="op" d__="">{</span> <span class="op" d__="">...</span> <span class="op" d__="">}</span></span></code></pre></div>
<p d__="">This function will be called per thread when the thread exits with <code s__="13">thrd_exit()</code> (or returns from the run function).</p>
<p d__="">It’s unspecified behavior to call this function while other threads’ destructors are running.</p>
<h3 class="unnumbered unlisted" id="return-value-233" d__="">Return Value</h3>
<p d__="">Returns nothing!</p>
<h3 class="unnumbered unlisted" id="example-237" d__="">Example</h3>
<p d__="">This is a general-purpose TSS example. Note the TSS variable is created near the top of <code s__="13">main()</code>.</p>
<div class="sourceCode" id="cb787"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb787-1"><a href="#cb787-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb787-2"><a href="#cb787-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb787-3"><a href="#cb787-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb787-4"><a href="#cb787-4"></a></span>
<span id="cb787-5" d__=""><a href="#cb787-5"></a>tss_t str<span class="op" d__="">;</span></span>
<span id="cb787-6"><a href="#cb787-6"></a></span>
<span id="cb787-7" d__=""><a href="#cb787-7"></a><span class="dt" d__="">void</span> some_function<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb787-8"><a href="#cb787-8"></a><span class="op" d__="">{</span></span>
<span id="cb787-9"><a href="#cb787-9"></a>    <span class="co" d__="">// Retrieve the per-thread value of this string</span></span>
<span id="cb787-10" d__=""><a href="#cb787-10"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>tss_string <span class="op" d__="">=</span> tss_get<span class="op" d__="">(</span>str<span class="op" d__="">);</span></span>
<span id="cb787-11"><a href="#cb787-11"></a></span>
<span id="cb787-12"><a href="#cb787-12"></a>    <span class="co" d__="">// And print it</span></span>
<span id="cb787-13" d__=""><a href="#cb787-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"TSS string: </span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> tss_string<span class="op" d__="">);</span></span>
<span id="cb787-14"><a href="#cb787-14"></a><span class="op" d__="">}</span></span>
<span id="cb787-15"><a href="#cb787-15"></a></span>
<span id="cb787-16" d__=""><a href="#cb787-16"></a><span class="dt" d__="">int</span> run<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb787-17"><a href="#cb787-17"></a><span class="op" d__="">{</span></span>
<span id="cb787-18" d__=""><a href="#cb787-18"></a>    <span class="dt" d__="">int</span> serial <span class="op" d__="">=</span> <span class="op" d__="">*(</span><span class="dt" d__="">int</span><span class="op" d__="">*)</span>arg<span class="op" d__="">;</span>  <span class="co" d__="">// Get this thread's serial number</span></span>
<span id="cb787-19" d__=""><a href="#cb787-19"></a>    free<span class="op" d__="">(</span>arg<span class="op" d__="">);</span></span>
<span id="cb787-20"><a href="#cb787-20"></a></span>
<span id="cb787-21"><a href="#cb787-21"></a>    <span class="co" d__="">// malloc() space to hold the data for this thread</span></span>
<span id="cb787-22" d__=""><a href="#cb787-22"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s <span class="op" d__="">=</span> malloc<span class="op" d__="">(</span><span class="dv" d__="">64</span><span class="op" d__="">);</span></span>
<span id="cb787-23" d__=""><a href="#cb787-23"></a>    sprintf<span class="op" d__="">(</span>s<span class="op" d__="">,</span> <span class="st" d__="">"thread </span><span class="sc" d__="">%d</span><span class="st" d__="">! :)"</span><span class="op" d__="">,</span> serial<span class="op" d__="">);</span>  <span class="co" d__="">// Happy little string</span></span>
<span id="cb787-24"><a href="#cb787-24"></a></span>
<span id="cb787-25"><a href="#cb787-25"></a>    <span class="co" d__="">// Set this TSS variable to point at the string</span></span>
<span id="cb787-26" d__=""><a href="#cb787-26"></a>    tss_set<span class="op" d__="">(</span>str<span class="op" d__="">,</span> s<span class="op" d__="">);</span></span>
<span id="cb787-27"><a href="#cb787-27"></a></span>
<span id="cb787-28"><a href="#cb787-28"></a>    <span class="co" d__="">// Call a function that will get the variable</span></span>
<span id="cb787-29" d__=""><a href="#cb787-29"></a>    some_function<span class="op" d__="">();</span></span>
<span id="cb787-30"><a href="#cb787-30"></a></span>
<span id="cb787-31"><a href="#cb787-31"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> <span class="co" d__="">// Equivalent to thrd_exit(0); fires destructors</span></span>
<span id="cb787-32"><a href="#cb787-32"></a><span class="op" d__="">}</span></span>
<span id="cb787-33"><a href="#cb787-33"></a></span>
<span id="cb787-34"><a href="#cb787-34"></a><span class="pp" d__="">#define THREAD_COUNT </span><span class="dv" d__="">15</span></span>
<span id="cb787-35"><a href="#cb787-35"></a></span>
<span id="cb787-36" d__=""><a href="#cb787-36"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb787-37"><a href="#cb787-37"></a><span class="op" d__="">{</span></span>
<span id="cb787-38" d__=""><a href="#cb787-38"></a>    thrd_t t<span class="op" d__="">[</span>THREAD_COUNT<span class="op" d__="">];</span></span>
<span id="cb787-39"><a href="#cb787-39"></a></span>
<span id="cb787-40"><a href="#cb787-40"></a>    <span class="co" d__="">// Make a new TSS variable, the free() function is the destructor</span></span>
<span id="cb787-41" d__=""><a href="#cb787-41"></a>    tss_create<span class="op" d__="">(&amp;</span>str<span class="op" d__="">,</span> free<span class="op" d__="">);</span>                  <span class="co" d__="">// &lt;-- CREATE TSS VAR!</span></span>
<span id="cb787-42"><a href="#cb787-42"></a></span>
<span id="cb787-43" d__=""><a href="#cb787-43"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span> <span class="op" d__="">{</span></span>
<span id="cb787-44" d__=""><a href="#cb787-44"></a>        <span class="dt" d__="">int</span> <span class="op" d__="">*</span>n <span class="op" d__="">=</span> malloc<span class="op" d__="">(</span><span class="kw" d__="">sizeof</span> <span class="op" d__="">*</span>n<span class="op" d__="">);</span>  <span class="co" d__="">// Holds a thread serial number</span></span>
<span id="cb787-45" d__=""><a href="#cb787-45"></a>        <span class="op" d__="">*</span>n <span class="op" d__="">=</span> i<span class="op" d__="">;</span></span>
<span id="cb787-46" d__=""><a href="#cb787-46"></a>        thrd_create<span class="op" d__="">(</span>t <span class="op" d__="">+</span> i<span class="op" d__="">,</span> run<span class="op" d__="">,</span> n<span class="op" d__="">);</span></span>
<span id="cb787-47"><a href="#cb787-47"></a>    <span class="op" d__="">}</span></span>
<span id="cb787-48"><a href="#cb787-48"></a></span>
<span id="cb787-49" d__=""><a href="#cb787-49"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span> <span class="op" d__="">{</span></span>
<span id="cb787-50" d__=""><a href="#cb787-50"></a>        thrd_join<span class="op" d__="">(</span>t<span class="op" d__="">[</span>i<span class="op" d__="">],</span> NULL<span class="op" d__="">);</span></span>
<span id="cb787-51"><a href="#cb787-51"></a>    <span class="op" d__="">}</span></span>
<span id="cb787-52"><a href="#cb787-52"></a></span>
<span id="cb787-53"><a href="#cb787-53"></a>    <span class="co" d__="">// And all threads are done, so let's free this</span></span>
<span id="cb787-54" d__=""><a href="#cb787-54"></a>    tss_delete<span class="op" d__="">(</span>str<span class="op" d__="">);</span></span>
<span id="cb787-55"><a href="#cb787-55"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb788"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb788-1" d__=""><a href="#cb788-1" aria-hidden="true" tabindex="-1"></a>TSS string: thread 0! :)</span>
<span id="cb788-2" d__=""><a href="#cb788-2" aria-hidden="true" tabindex="-1"></a>TSS string: thread 2! :)</span>
<span id="cb788-3" d__=""><a href="#cb788-3" aria-hidden="true" tabindex="-1"></a>TSS string: thread 1! :)</span>
<span id="cb788-4" d__=""><a href="#cb788-4" aria-hidden="true" tabindex="-1"></a>TSS string: thread 5! :)</span>
<span id="cb788-5" d__=""><a href="#cb788-5" aria-hidden="true" tabindex="-1"></a>TSS string: thread 3! :)</span>
<span id="cb788-6" d__=""><a href="#cb788-6" aria-hidden="true" tabindex="-1"></a>TSS string: thread 6! :)</span>
<span id="cb788-7" d__=""><a href="#cb788-7" aria-hidden="true" tabindex="-1"></a>TSS string: thread 4! :)</span>
<span id="cb788-8" d__=""><a href="#cb788-8" aria-hidden="true" tabindex="-1"></a>TSS string: thread 7! :)</span>
<span id="cb788-9" d__=""><a href="#cb788-9" aria-hidden="true" tabindex="-1"></a>TSS string: thread 8! :)</span>
<span id="cb788-10" d__=""><a href="#cb788-10" aria-hidden="true" tabindex="-1"></a>TSS string: thread 9! :)</span>
<span id="cb788-11" d__=""><a href="#cb788-11" aria-hidden="true" tabindex="-1"></a>TSS string: thread 10! :)</span>
<span id="cb788-12" d__=""><a href="#cb788-12" aria-hidden="true" tabindex="-1"></a>TSS string: thread 13! :)</span>
<span id="cb788-13" d__=""><a href="#cb788-13" aria-hidden="true" tabindex="-1"></a>TSS string: thread 12! :)</span>
<span id="cb788-14" d__=""><a href="#cb788-14" aria-hidden="true" tabindex="-1"></a>TSS string: thread 11! :)</span>
<span id="cb788-15" d__=""><a href="#cb788-15" aria-hidden="true" tabindex="-1"></a>TSS string: thread 14! :)</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-221" d__="">See Also</h3>
<p d__=""><a href="#man-tss_delete"><code s__="13" d__="">tss_delete()</code></a>, <a href="#man-tss_set"><code s__="13" d__="">tss_set()</code></a>, <a href="#man-tss_get"><code s__="13" d__="">tss_get()</code></a>, <a href="#man-thrd_exit"><code s__="13" d__="">thrd_exit()</code></a></p>
<hr>
<h2 data-number="28.23" id="man-tss_delete"><span class="header-section-number" d__="">28.23</span> <code d__="">tss_delete()</code></h2>
<p></p>
<p d__="">Clean up a thread-specific storage variable</p>
<h3 class="unnumbered unlisted" id="synopsis-236" d__="">Synopsis</h3>
<div class="sourceCode" id="cb789"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb789-1"><a href="#cb789-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb789-2"><a href="#cb789-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb789-3" d__=""><a href="#cb789-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> tss_delete<span class="op" d__="">(</span>tss_t key<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-236" d__="">Description</h3>
<p d__="">This is the opposite of <code s__="13">tss_create()</code>. 
You create (initialize) the TSS variable before using it, then, when all
 the threads are done that need it, you delete (deinitialize/free) it 
with this.</p>
<p d__="">This doesn’t call any destructors! Those are all called by <code s__="13">thrd_exit()</code>!</p>
<h3 class="unnumbered unlisted" id="return-value-234" d__="">Return Value</h3>
<p d__="">Returns nothing!</p>
<h3 class="unnumbered unlisted" id="example-238" d__="">Example</h3>
<p d__="">This is a general-purpose TSS example. Note the TSS variable is deleted near the bottom of <code s__="13">main()</code>.</p>
<div class="sourceCode" id="cb790"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb790-1"><a href="#cb790-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb790-2"><a href="#cb790-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb790-3"><a href="#cb790-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb790-4"><a href="#cb790-4"></a></span>
<span id="cb790-5" d__=""><a href="#cb790-5"></a>tss_t str<span class="op" d__="">;</span></span>
<span id="cb790-6"><a href="#cb790-6"></a></span>
<span id="cb790-7" d__=""><a href="#cb790-7"></a><span class="dt" d__="">void</span> some_function<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb790-8"><a href="#cb790-8"></a><span class="op" d__="">{</span></span>
<span id="cb790-9"><a href="#cb790-9"></a>    <span class="co" d__="">// Retrieve the per-thread value of this string</span></span>
<span id="cb790-10" d__=""><a href="#cb790-10"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>tss_string <span class="op" d__="">=</span> tss_get<span class="op" d__="">(</span>str<span class="op" d__="">);</span></span>
<span id="cb790-11"><a href="#cb790-11"></a></span>
<span id="cb790-12"><a href="#cb790-12"></a>    <span class="co" d__="">// And print it</span></span>
<span id="cb790-13" d__=""><a href="#cb790-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"TSS string: </span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> tss_string<span class="op" d__="">);</span></span>
<span id="cb790-14"><a href="#cb790-14"></a><span class="op" d__="">}</span></span>
<span id="cb790-15"><a href="#cb790-15"></a></span>
<span id="cb790-16" d__=""><a href="#cb790-16"></a><span class="dt" d__="">int</span> run<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb790-17"><a href="#cb790-17"></a><span class="op" d__="">{</span></span>
<span id="cb790-18" d__=""><a href="#cb790-18"></a>    <span class="dt" d__="">int</span> serial <span class="op" d__="">=</span> <span class="op" d__="">*(</span><span class="dt" d__="">int</span><span class="op" d__="">*)</span>arg<span class="op" d__="">;</span>  <span class="co" d__="">// Get this thread's serial number</span></span>
<span id="cb790-19" d__=""><a href="#cb790-19"></a>    free<span class="op" d__="">(</span>arg<span class="op" d__="">);</span></span>
<span id="cb790-20"><a href="#cb790-20"></a></span>
<span id="cb790-21"><a href="#cb790-21"></a>    <span class="co" d__="">// malloc() space to hold the data for this thread</span></span>
<span id="cb790-22" d__=""><a href="#cb790-22"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s <span class="op" d__="">=</span> malloc<span class="op" d__="">(</span><span class="dv" d__="">64</span><span class="op" d__="">);</span></span>
<span id="cb790-23" d__=""><a href="#cb790-23"></a>    sprintf<span class="op" d__="">(</span>s<span class="op" d__="">,</span> <span class="st" d__="">"thread </span><span class="sc" d__="">%d</span><span class="st" d__="">! :)"</span><span class="op" d__="">,</span> serial<span class="op" d__="">);</span>  <span class="co" d__="">// Happy little string</span></span>
<span id="cb790-24"><a href="#cb790-24"></a></span>
<span id="cb790-25"><a href="#cb790-25"></a>    <span class="co" d__="">// Set this TSS variable to point at the string</span></span>
<span id="cb790-26" d__=""><a href="#cb790-26"></a>    tss_set<span class="op" d__="">(</span>str<span class="op" d__="">,</span> s<span class="op" d__="">);</span></span>
<span id="cb790-27"><a href="#cb790-27"></a></span>
<span id="cb790-28"><a href="#cb790-28"></a>    <span class="co" d__="">// Call a function that will get the variable</span></span>
<span id="cb790-29" d__=""><a href="#cb790-29"></a>    some_function<span class="op" d__="">();</span></span>
<span id="cb790-30"><a href="#cb790-30"></a></span>
<span id="cb790-31"><a href="#cb790-31"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> <span class="co" d__="">// Equivalent to thrd_exit(0); fires destructors</span></span>
<span id="cb790-32"><a href="#cb790-32"></a><span class="op" d__="">}</span></span>
<span id="cb790-33"><a href="#cb790-33"></a></span>
<span id="cb790-34"><a href="#cb790-34"></a><span class="pp" d__="">#define THREAD_COUNT </span><span class="dv" d__="">15</span></span>
<span id="cb790-35"><a href="#cb790-35"></a></span>
<span id="cb790-36" d__=""><a href="#cb790-36"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb790-37"><a href="#cb790-37"></a><span class="op" d__="">{</span></span>
<span id="cb790-38" d__=""><a href="#cb790-38"></a>    thrd_t t<span class="op" d__="">[</span>THREAD_COUNT<span class="op" d__="">];</span></span>
<span id="cb790-39"><a href="#cb790-39"></a></span>
<span id="cb790-40"><a href="#cb790-40"></a>    <span class="co" d__="">// Make a new TSS variable, the free() function is the destructor</span></span>
<span id="cb790-41" d__=""><a href="#cb790-41"></a>    tss_create<span class="op" d__="">(&amp;</span>str<span class="op" d__="">,</span> free<span class="op" d__="">);</span></span>
<span id="cb790-42"><a href="#cb790-42"></a></span>
<span id="cb790-43" d__=""><a href="#cb790-43"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span> <span class="op" d__="">{</span></span>
<span id="cb790-44" d__=""><a href="#cb790-44"></a>        <span class="dt" d__="">int</span> <span class="op" d__="">*</span>n <span class="op" d__="">=</span> malloc<span class="op" d__="">(</span><span class="kw" d__="">sizeof</span> <span class="op" d__="">*</span>n<span class="op" d__="">);</span>  <span class="co" d__="">// Holds a thread serial number</span></span>
<span id="cb790-45" d__=""><a href="#cb790-45"></a>        <span class="op" d__="">*</span>n <span class="op" d__="">=</span> i<span class="op" d__="">;</span></span>
<span id="cb790-46" d__=""><a href="#cb790-46"></a>        thrd_create<span class="op" d__="">(</span>t <span class="op" d__="">+</span> i<span class="op" d__="">,</span> run<span class="op" d__="">,</span> n<span class="op" d__="">);</span></span>
<span id="cb790-47"><a href="#cb790-47"></a>    <span class="op" d__="">}</span></span>
<span id="cb790-48"><a href="#cb790-48"></a></span>
<span id="cb790-49" d__=""><a href="#cb790-49"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span> <span class="op" d__="">{</span></span>
<span id="cb790-50" d__=""><a href="#cb790-50"></a>        thrd_join<span class="op" d__="">(</span>t<span class="op" d__="">[</span>i<span class="op" d__="">],</span> NULL<span class="op" d__="">);</span></span>
<span id="cb790-51"><a href="#cb790-51"></a>    <span class="op" d__="">}</span></span>
<span id="cb790-52"><a href="#cb790-52"></a></span>
<span id="cb790-53"><a href="#cb790-53"></a>    <span class="co" d__="">// And all threads are done, so let's free this</span></span>
<span id="cb790-54" d__=""><a href="#cb790-54"></a>    tss_delete<span class="op" d__="">(</span>str<span class="op" d__="">);</span>    <span class="co" d__="">// &lt;-- DELETE TSS VARIABLE!</span></span>
<span id="cb790-55"><a href="#cb790-55"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb791"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb791-1" d__=""><a href="#cb791-1" aria-hidden="true" tabindex="-1"></a>TSS string: thread 0! :)</span>
<span id="cb791-2" d__=""><a href="#cb791-2" aria-hidden="true" tabindex="-1"></a>TSS string: thread 2! :)</span>
<span id="cb791-3" d__=""><a href="#cb791-3" aria-hidden="true" tabindex="-1"></a>TSS string: thread 1! :)</span>
<span id="cb791-4" d__=""><a href="#cb791-4" aria-hidden="true" tabindex="-1"></a>TSS string: thread 5! :)</span>
<span id="cb791-5" d__=""><a href="#cb791-5" aria-hidden="true" tabindex="-1"></a>TSS string: thread 3! :)</span>
<span id="cb791-6" d__=""><a href="#cb791-6" aria-hidden="true" tabindex="-1"></a>TSS string: thread 6! :)</span>
<span id="cb791-7" d__=""><a href="#cb791-7" aria-hidden="true" tabindex="-1"></a>TSS string: thread 4! :)</span>
<span id="cb791-8" d__=""><a href="#cb791-8" aria-hidden="true" tabindex="-1"></a>TSS string: thread 7! :)</span>
<span id="cb791-9" d__=""><a href="#cb791-9" aria-hidden="true" tabindex="-1"></a>TSS string: thread 8! :)</span>
<span id="cb791-10" d__=""><a href="#cb791-10" aria-hidden="true" tabindex="-1"></a>TSS string: thread 9! :)</span>
<span id="cb791-11" d__=""><a href="#cb791-11" aria-hidden="true" tabindex="-1"></a>TSS string: thread 10! :)</span>
<span id="cb791-12" d__=""><a href="#cb791-12" aria-hidden="true" tabindex="-1"></a>TSS string: thread 13! :)</span>
<span id="cb791-13" d__=""><a href="#cb791-13" aria-hidden="true" tabindex="-1"></a>TSS string: thread 12! :)</span>
<span id="cb791-14" d__=""><a href="#cb791-14" aria-hidden="true" tabindex="-1"></a>TSS string: thread 11! :)</span>
<span id="cb791-15" d__=""><a href="#cb791-15" aria-hidden="true" tabindex="-1"></a>TSS string: thread 14! :)</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-222" d__="">See Also</h3>
<p d__=""><a href="#man-tss_create"><code s__="13" d__="">tss_create()</code></a>, <a href="#man-tss_set"><code s__="13" d__="">tss_set()</code></a>, <a href="#man-tss_get"><code s__="13" d__="">tss_get()</code></a>, <a href="#man-thrd_exit"><code s__="13" d__="">thrd_exit()</code></a></p>
<hr>
<h2 data-number="28.24" id="man-tss_get"><span class="header-section-number" d__="">28.24</span> <code d__="">tss_get()</code></h2>
<p></p>
<p d__="">Get thread-specific data</p>
<h3 class="unnumbered unlisted" id="synopsis-237" d__="">Synopsis</h3>
<div class="sourceCode" id="cb792"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb792-1"><a href="#cb792-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb792-2"><a href="#cb792-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb792-3" d__=""><a href="#cb792-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">void</span> <span class="op" d__="">*</span>tss_get<span class="op" d__="">(</span>tss_t key<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-237" d__="">Description</h3>
<p d__="">Once you’ve set a variable with <code s__="13">tss_set()</code>, you can retrieve the value with <code s__="13">tss_get()</code>—just pass in the key and you’ll get a pointer to the value back.</p>
<p d__="">Don’t call this from a destructor.</p>
<h3 class="unnumbered unlisted" id="return-value-235" d__="">Return Value</h3>
<p d__="">Returns the value stored for the given <code s__="13">key</code>, or <code s__="13">NULL</code> if there’s trouble.</p>
<h3 class="unnumbered unlisted" id="example-239" d__="">Example</h3>
<p d__="">This is a general-purpose TSS example. Note the TSS variable is retrieved in <code s__="13">some_function()</code>, below.</p>
<div class="sourceCode" id="cb793"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb793-1"><a href="#cb793-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb793-2"><a href="#cb793-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb793-3"><a href="#cb793-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb793-4"><a href="#cb793-4"></a></span>
<span id="cb793-5" d__=""><a href="#cb793-5"></a>tss_t str<span class="op" d__="">;</span></span>
<span id="cb793-6"><a href="#cb793-6"></a></span>
<span id="cb793-7" d__=""><a href="#cb793-7"></a><span class="dt" d__="">void</span> some_function<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb793-8"><a href="#cb793-8"></a><span class="op" d__="">{</span></span>
<span id="cb793-9"><a href="#cb793-9"></a>    <span class="co" d__="">// Retrieve the per-thread value of this string</span></span>
<span id="cb793-10" d__=""><a href="#cb793-10"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>tss_string <span class="op" d__="">=</span> tss_get<span class="op" d__="">(</span>str<span class="op" d__="">);</span>    <span class="co" d__="">// &lt;-- GET THE VALUE</span></span>
<span id="cb793-11"><a href="#cb793-11"></a></span>
<span id="cb793-12"><a href="#cb793-12"></a>    <span class="co" d__="">// And print it</span></span>
<span id="cb793-13" d__=""><a href="#cb793-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"TSS string: </span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> tss_string<span class="op" d__="">);</span></span>
<span id="cb793-14"><a href="#cb793-14"></a><span class="op" d__="">}</span></span>
<span id="cb793-15"><a href="#cb793-15"></a></span>
<span id="cb793-16" d__=""><a href="#cb793-16"></a><span class="dt" d__="">int</span> run<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb793-17"><a href="#cb793-17"></a><span class="op" d__="">{</span></span>
<span id="cb793-18" d__=""><a href="#cb793-18"></a>    <span class="dt" d__="">int</span> serial <span class="op" d__="">=</span> <span class="op" d__="">*(</span><span class="dt" d__="">int</span><span class="op" d__="">*)</span>arg<span class="op" d__="">;</span>  <span class="co" d__="">// Get this thread's serial number</span></span>
<span id="cb793-19" d__=""><a href="#cb793-19"></a>    free<span class="op" d__="">(</span>arg<span class="op" d__="">);</span></span>
<span id="cb793-20"><a href="#cb793-20"></a></span>
<span id="cb793-21"><a href="#cb793-21"></a>    <span class="co" d__="">// malloc() space to hold the data for this thread</span></span>
<span id="cb793-22" d__=""><a href="#cb793-22"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s <span class="op" d__="">=</span> malloc<span class="op" d__="">(</span><span class="dv" d__="">64</span><span class="op" d__="">);</span></span>
<span id="cb793-23" d__=""><a href="#cb793-23"></a>    sprintf<span class="op" d__="">(</span>s<span class="op" d__="">,</span> <span class="st" d__="">"thread </span><span class="sc" d__="">%d</span><span class="st" d__="">! :)"</span><span class="op" d__="">,</span> serial<span class="op" d__="">);</span>  <span class="co" d__="">// Happy little string</span></span>
<span id="cb793-24"><a href="#cb793-24"></a></span>
<span id="cb793-25"><a href="#cb793-25"></a>    <span class="co" d__="">// Set this TSS variable to point at the string</span></span>
<span id="cb793-26" d__=""><a href="#cb793-26"></a>    tss_set<span class="op" d__="">(</span>str<span class="op" d__="">,</span> s<span class="op" d__="">);</span></span>
<span id="cb793-27"><a href="#cb793-27"></a></span>
<span id="cb793-28"><a href="#cb793-28"></a>    <span class="co" d__="">// Call a function that will get the variable</span></span>
<span id="cb793-29" d__=""><a href="#cb793-29"></a>    some_function<span class="op" d__="">();</span></span>
<span id="cb793-30"><a href="#cb793-30"></a></span>
<span id="cb793-31"><a href="#cb793-31"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> <span class="co" d__="">// Equivalent to thrd_exit(0); fires destructors</span></span>
<span id="cb793-32"><a href="#cb793-32"></a><span class="op" d__="">}</span></span>
<span id="cb793-33"><a href="#cb793-33"></a></span>
<span id="cb793-34"><a href="#cb793-34"></a><span class="pp" d__="">#define THREAD_COUNT </span><span class="dv" d__="">15</span></span>
<span id="cb793-35"><a href="#cb793-35"></a></span>
<span id="cb793-36" d__=""><a href="#cb793-36"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb793-37"><a href="#cb793-37"></a><span class="op" d__="">{</span></span>
<span id="cb793-38" d__=""><a href="#cb793-38"></a>    thrd_t t<span class="op" d__="">[</span>THREAD_COUNT<span class="op" d__="">];</span></span>
<span id="cb793-39"><a href="#cb793-39"></a></span>
<span id="cb793-40"><a href="#cb793-40"></a>    <span class="co" d__="">// Make a new TSS variable, the free() function is the destructor</span></span>
<span id="cb793-41" d__=""><a href="#cb793-41"></a>    tss_create<span class="op" d__="">(&amp;</span>str<span class="op" d__="">,</span> free<span class="op" d__="">);</span></span>
<span id="cb793-42"><a href="#cb793-42"></a></span>
<span id="cb793-43" d__=""><a href="#cb793-43"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span> <span class="op" d__="">{</span></span>
<span id="cb793-44" d__=""><a href="#cb793-44"></a>        <span class="dt" d__="">int</span> <span class="op" d__="">*</span>n <span class="op" d__="">=</span> malloc<span class="op" d__="">(</span><span class="kw" d__="">sizeof</span> <span class="op" d__="">*</span>n<span class="op" d__="">);</span>  <span class="co" d__="">// Holds a thread serial number</span></span>
<span id="cb793-45" d__=""><a href="#cb793-45"></a>        <span class="op" d__="">*</span>n <span class="op" d__="">=</span> i<span class="op" d__="">;</span></span>
<span id="cb793-46" d__=""><a href="#cb793-46"></a>        thrd_create<span class="op" d__="">(</span>t <span class="op" d__="">+</span> i<span class="op" d__="">,</span> run<span class="op" d__="">,</span> n<span class="op" d__="">);</span></span>
<span id="cb793-47"><a href="#cb793-47"></a>    <span class="op" d__="">}</span></span>
<span id="cb793-48"><a href="#cb793-48"></a></span>
<span id="cb793-49" d__=""><a href="#cb793-49"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span> <span class="op" d__="">{</span></span>
<span id="cb793-50" d__=""><a href="#cb793-50"></a>        thrd_join<span class="op" d__="">(</span>t<span class="op" d__="">[</span>i<span class="op" d__="">],</span> NULL<span class="op" d__="">);</span></span>
<span id="cb793-51"><a href="#cb793-51"></a>    <span class="op" d__="">}</span></span>
<span id="cb793-52"><a href="#cb793-52"></a></span>
<span id="cb793-53"><a href="#cb793-53"></a>    <span class="co" d__="">// And all threads are done, so let's free this</span></span>
<span id="cb793-54" d__=""><a href="#cb793-54"></a>    tss_delete<span class="op" d__="">(</span>str<span class="op" d__="">);</span></span>
<span id="cb793-55"><a href="#cb793-55"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb794"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb794-1" d__=""><a href="#cb794-1" aria-hidden="true" tabindex="-1"></a>TSS string: thread 0! :)</span>
<span id="cb794-2" d__=""><a href="#cb794-2" aria-hidden="true" tabindex="-1"></a>TSS string: thread 2! :)</span>
<span id="cb794-3" d__=""><a href="#cb794-3" aria-hidden="true" tabindex="-1"></a>TSS string: thread 1! :)</span>
<span id="cb794-4" d__=""><a href="#cb794-4" aria-hidden="true" tabindex="-1"></a>TSS string: thread 5! :)</span>
<span id="cb794-5" d__=""><a href="#cb794-5" aria-hidden="true" tabindex="-1"></a>TSS string: thread 3! :)</span>
<span id="cb794-6" d__=""><a href="#cb794-6" aria-hidden="true" tabindex="-1"></a>TSS string: thread 6! :)</span>
<span id="cb794-7" d__=""><a href="#cb794-7" aria-hidden="true" tabindex="-1"></a>TSS string: thread 4! :)</span>
<span id="cb794-8" d__=""><a href="#cb794-8" aria-hidden="true" tabindex="-1"></a>TSS string: thread 7! :)</span>
<span id="cb794-9" d__=""><a href="#cb794-9" aria-hidden="true" tabindex="-1"></a>TSS string: thread 8! :)</span>
<span id="cb794-10" d__=""><a href="#cb794-10" aria-hidden="true" tabindex="-1"></a>TSS string: thread 9! :)</span>
<span id="cb794-11" d__=""><a href="#cb794-11" aria-hidden="true" tabindex="-1"></a>TSS string: thread 10! :)</span>
<span id="cb794-12" d__=""><a href="#cb794-12" aria-hidden="true" tabindex="-1"></a>TSS string: thread 13! :)</span>
<span id="cb794-13" d__=""><a href="#cb794-13" aria-hidden="true" tabindex="-1"></a>TSS string: thread 12! :)</span>
<span id="cb794-14" d__=""><a href="#cb794-14" aria-hidden="true" tabindex="-1"></a>TSS string: thread 11! :)</span>
<span id="cb794-15" d__=""><a href="#cb794-15" aria-hidden="true" tabindex="-1"></a>TSS string: thread 14! :)</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-223" d__="">See Also</h3>
<p><a href="#man-tss_set"><code s__="13" d__="">tss_set()</code></a></p>
<hr>
<h2 data-number="28.25" id="man-tss_set"><span class="header-section-number" d__="">28.25</span> <code d__="">tss_set()</code></h2>
<p></p>
<p d__="">Set thread-specific data</p>
<h3 class="unnumbered unlisted" id="synopsis-238" d__="">Synopsis</h3>
<div class="sourceCode" id="cb795"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb795-1"><a href="#cb795-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb795-2"><a href="#cb795-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb795-3" d__=""><a href="#cb795-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> tss_set<span class="op" d__="">(</span>tss_t key<span class="op" d__="">,</span> <span class="dt" d__="">void</span> <span class="op" d__="">*</span>val<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-238" d__="">Description</h3>
<p d__="">Once you’ve set up your TSS variable with <code s__="13">tss_create()</code>, you can set it on a per thread basis with <code s__="13">tss_set()</code>.</p>
<p d__=""><code s__="13">key</code> is the identifier for this data, and <code s__="13">val</code> is a pointer to it.</p>
<p d__="">The destructor specified in <code s__="13">tss_create()</code> will be called for the value set when the thread exits.</p>
<p d__="">Also, if there’s a destructor <em>and</em> there is already at
 value for this key in place, the destructor will not be called for the 
already-existing value. In fact, this function will never cause a 
destructor to be called. So you’re on your own, there—best clean up the 
old value before overwriting it with the new one.</p>
<h3 class="unnumbered unlisted" id="return-value-236" d__="">Return Value</h3>
<p d__="">Returns <code s__="13">thrd_success</code> when happy, and <code s__="13">thrd_error</code> when not.</p>
<h3 class="unnumbered unlisted" id="example-240" d__="">Example</h3>
<p d__="">This is a general-purpose TSS example. Note the TSS variable is set in <code s__="13">run()</code>, below.</p>
<div class="sourceCode" id="cb796"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb796-1"><a href="#cb796-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb796-2"><a href="#cb796-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb796-3"><a href="#cb796-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;threads.h&gt;</span></span>
<span id="cb796-4"><a href="#cb796-4"></a></span>
<span id="cb796-5" d__=""><a href="#cb796-5"></a>tss_t str<span class="op" d__="">;</span></span>
<span id="cb796-6"><a href="#cb796-6"></a></span>
<span id="cb796-7" d__=""><a href="#cb796-7"></a><span class="dt" d__="">void</span> some_function<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb796-8"><a href="#cb796-8"></a><span class="op" d__="">{</span></span>
<span id="cb796-9"><a href="#cb796-9"></a>    <span class="co" d__="">// Retrieve the per-thread value of this string</span></span>
<span id="cb796-10" d__=""><a href="#cb796-10"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>tss_string <span class="op" d__="">=</span> tss_get<span class="op" d__="">(</span>str<span class="op" d__="">);</span></span>
<span id="cb796-11"><a href="#cb796-11"></a></span>
<span id="cb796-12"><a href="#cb796-12"></a>    <span class="co" d__="">// And print it</span></span>
<span id="cb796-13" d__=""><a href="#cb796-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"TSS string: </span><span class="sc" d__="">%s\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> tss_string<span class="op" d__="">);</span></span>
<span id="cb796-14"><a href="#cb796-14"></a><span class="op" d__="">}</span></span>
<span id="cb796-15"><a href="#cb796-15"></a></span>
<span id="cb796-16" d__=""><a href="#cb796-16"></a><span class="dt" d__="">int</span> run<span class="op" d__="">(</span><span class="dt" d__="">void</span> <span class="op" d__="">*</span>arg<span class="op" d__="">)</span></span>
<span id="cb796-17"><a href="#cb796-17"></a><span class="op" d__="">{</span></span>
<span id="cb796-18" d__=""><a href="#cb796-18"></a>    <span class="dt" d__="">int</span> serial <span class="op" d__="">=</span> <span class="op" d__="">*(</span><span class="dt" d__="">int</span><span class="op" d__="">*)</span>arg<span class="op" d__="">;</span>  <span class="co" d__="">// Get this thread's serial number</span></span>
<span id="cb796-19" d__=""><a href="#cb796-19"></a>    free<span class="op" d__="">(</span>arg<span class="op" d__="">);</span></span>
<span id="cb796-20"><a href="#cb796-20"></a></span>
<span id="cb796-21"><a href="#cb796-21"></a>    <span class="co" d__="">// malloc() space to hold the data for this thread</span></span>
<span id="cb796-22" d__=""><a href="#cb796-22"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s <span class="op" d__="">=</span> malloc<span class="op" d__="">(</span><span class="dv" d__="">64</span><span class="op" d__="">);</span></span>
<span id="cb796-23" d__=""><a href="#cb796-23"></a>    sprintf<span class="op" d__="">(</span>s<span class="op" d__="">,</span> <span class="st" d__="">"thread </span><span class="sc" d__="">%d</span><span class="st" d__="">! :)"</span><span class="op" d__="">,</span> serial<span class="op" d__="">);</span>  <span class="co" d__="">// Happy little string</span></span>
<span id="cb796-24"><a href="#cb796-24"></a></span>
<span id="cb796-25"><a href="#cb796-25"></a>    <span class="co" d__="">// Set this TSS variable to point at the string</span></span>
<span id="cb796-26" d__=""><a href="#cb796-26"></a>    tss_set<span class="op" d__="">(</span>str<span class="op" d__="">,</span> s<span class="op" d__="">);</span>    <span class="co" d__="">// &lt;-- SET THE TSS VARIABLE</span></span>
<span id="cb796-27"><a href="#cb796-27"></a></span>
<span id="cb796-28"><a href="#cb796-28"></a>    <span class="co" d__="">// Call a function that will get the variable</span></span>
<span id="cb796-29" d__=""><a href="#cb796-29"></a>    some_function<span class="op" d__="">();</span></span>
<span id="cb796-30"><a href="#cb796-30"></a></span>
<span id="cb796-31"><a href="#cb796-31"></a>    <span class="cf" d__="">return</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> <span class="co" d__="">// Equivalent to thrd_exit(0); fires destructors</span></span>
<span id="cb796-32"><a href="#cb796-32"></a><span class="op" d__="">}</span></span>
<span id="cb796-33"><a href="#cb796-33"></a></span>
<span id="cb796-34"><a href="#cb796-34"></a><span class="pp" d__="">#define THREAD_COUNT </span><span class="dv" d__="">15</span></span>
<span id="cb796-35"><a href="#cb796-35"></a></span>
<span id="cb796-36" d__=""><a href="#cb796-36"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb796-37"><a href="#cb796-37"></a><span class="op" d__="">{</span></span>
<span id="cb796-38" d__=""><a href="#cb796-38"></a>    thrd_t t<span class="op" d__="">[</span>THREAD_COUNT<span class="op" d__="">];</span></span>
<span id="cb796-39"><a href="#cb796-39"></a></span>
<span id="cb796-40"><a href="#cb796-40"></a>    <span class="co" d__="">// Make a new TSS variable, the free() function is the destructor</span></span>
<span id="cb796-41" d__=""><a href="#cb796-41"></a>    tss_create<span class="op" d__="">(&amp;</span>str<span class="op" d__="">,</span> free<span class="op" d__="">);</span></span>
<span id="cb796-42"><a href="#cb796-42"></a></span>
<span id="cb796-43" d__=""><a href="#cb796-43"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span> <span class="op" d__="">{</span></span>
<span id="cb796-44" d__=""><a href="#cb796-44"></a>        <span class="dt" d__="">int</span> <span class="op" d__="">*</span>n <span class="op" d__="">=</span> malloc<span class="op" d__="">(</span><span class="kw" d__="">sizeof</span> <span class="op" d__="">*</span>n<span class="op" d__="">);</span>  <span class="co" d__="">// Holds a thread serial number</span></span>
<span id="cb796-45" d__=""><a href="#cb796-45"></a>        <span class="op" d__="">*</span>n <span class="op" d__="">=</span> i<span class="op" d__="">;</span></span>
<span id="cb796-46" d__=""><a href="#cb796-46"></a>        thrd_create<span class="op" d__="">(</span>t <span class="op" d__="">+</span> i<span class="op" d__="">,</span> run<span class="op" d__="">,</span> n<span class="op" d__="">);</span></span>
<span id="cb796-47"><a href="#cb796-47"></a>    <span class="op" d__="">}</span></span>
<span id="cb796-48"><a href="#cb796-48"></a></span>
<span id="cb796-49" d__=""><a href="#cb796-49"></a>    <span class="cf" d__="">for</span> <span class="op" d__="">(</span><span class="dt" d__="">int</span> i <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span> i <span class="op" d__="">&lt;</span> THREAD_COUNT<span class="op" d__="">;</span> i<span class="op" d__="">++)</span> <span class="op" d__="">{</span></span>
<span id="cb796-50" d__=""><a href="#cb796-50"></a>        thrd_join<span class="op" d__="">(</span>t<span class="op" d__="">[</span>i<span class="op" d__="">],</span> NULL<span class="op" d__="">);</span></span>
<span id="cb796-51"><a href="#cb796-51"></a>    <span class="op" d__="">}</span></span>
<span id="cb796-52"><a href="#cb796-52"></a></span>
<span id="cb796-53"><a href="#cb796-53"></a>    <span class="co" d__="">// And all threads are done, so let's free this</span></span>
<span id="cb796-54" d__=""><a href="#cb796-54"></a>    tss_delete<span class="op" d__="">(</span>str<span class="op" d__="">);</span></span>
<span id="cb796-55"><a href="#cb796-55"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb797"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb797-1" d__=""><a href="#cb797-1" aria-hidden="true" tabindex="-1"></a>TSS string: thread 0! :)</span>
<span id="cb797-2" d__=""><a href="#cb797-2" aria-hidden="true" tabindex="-1"></a>TSS string: thread 2! :)</span>
<span id="cb797-3" d__=""><a href="#cb797-3" aria-hidden="true" tabindex="-1"></a>TSS string: thread 1! :)</span>
<span id="cb797-4" d__=""><a href="#cb797-4" aria-hidden="true" tabindex="-1"></a>TSS string: thread 5! :)</span>
<span id="cb797-5" d__=""><a href="#cb797-5" aria-hidden="true" tabindex="-1"></a>TSS string: thread 3! :)</span>
<span id="cb797-6" d__=""><a href="#cb797-6" aria-hidden="true" tabindex="-1"></a>TSS string: thread 6! :)</span>
<span id="cb797-7" d__=""><a href="#cb797-7" aria-hidden="true" tabindex="-1"></a>TSS string: thread 4! :)</span>
<span id="cb797-8" d__=""><a href="#cb797-8" aria-hidden="true" tabindex="-1"></a>TSS string: thread 7! :)</span>
<span id="cb797-9" d__=""><a href="#cb797-9" aria-hidden="true" tabindex="-1"></a>TSS string: thread 8! :)</span>
<span id="cb797-10" d__=""><a href="#cb797-10" aria-hidden="true" tabindex="-1"></a>TSS string: thread 9! :)</span>
<span id="cb797-11" d__=""><a href="#cb797-11" aria-hidden="true" tabindex="-1"></a>TSS string: thread 10! :)</span>
<span id="cb797-12" d__=""><a href="#cb797-12" aria-hidden="true" tabindex="-1"></a>TSS string: thread 13! :)</span>
<span id="cb797-13" d__=""><a href="#cb797-13" aria-hidden="true" tabindex="-1"></a>TSS string: thread 12! :)</span>
<span id="cb797-14" d__=""><a href="#cb797-14" aria-hidden="true" tabindex="-1"></a>TSS string: thread 11! :)</span>
<span id="cb797-15" d__=""><a href="#cb797-15" aria-hidden="true" tabindex="-1"></a>TSS string: thread 14! :)</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-224" d__="">See Also</h3>
<p><a href="#man-tss_get"><code s__="13" d__="">tss_get()</code></a></p>
<!--
***
## `example()` {#man-example}

### Synopsis {.unnumbered .unlisted}

``` {.c}
```

### Description {.unnumbered .unlisted}

### Return Value {.unnumbered .unlisted}

### Example {.unnumbered .unlisted}

``` {.c .numberLines}
```

### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="29" id="time" d__=""><span class="header-section-number">29</span> <code>&lt;time.h&gt;</code> Date and Time Functions</h1>
<p></p>
<table>
<colgroup>
<col style="width: 26%">
<col style="width: 73%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Function</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#man-clock"><code s__="13" d__="">clock()</code></a></td>
<td d__="">How much processor time has been used by this process</td>
</tr>
<tr class="even">
<td><a href="#man-difftime"><code s__="13" d__="">difftime()</code></a></td>
<td d__="">Compute the difference between two times</td>
</tr>
<tr class="odd">
<td><a href="https://beej.us/guide/bgclr/html/man-mktime"><code s__="13" d__="">mktime()</code></a></td>
<td d__="">Convert a <code s__="13">struct tm</code> into a <code s__="13">time_t</code></td>
</tr>
<tr class="even">
<td><a href="#man-time"><code s__="13" d__="">time()</code></a></td>
<td d__="">Get the current calendar time</td>
</tr>
<tr class="odd">
<td><a href="#man-timespec_get"><code s__="13" d__="">timespec_get()</code></a></td>
<td d__="">Get a higher resolution time, probably now</td>
</tr>
<tr class="even">
<td><a href="#man-asctime"><code s__="13" d__="">asctime()</code></a></td>
<td d__="">Return a human-readable version of a <code s__="13">struct tm</code></td>
</tr>
<tr class="odd">
<td><a href="#man-ctime"><code s__="13" d__="">ctime()</code></a></td>
<td d__="">Return a human-readable version of a <code s__="13">time_t</code></td>
</tr>
<tr class="even">
<td><a href="#man-gmtime"><code s__="13" d__="">gmtime()</code></a></td>
<td d__="">Convert a calendar time into a UTC broken-down time</td>
</tr>
<tr class="odd">
<td><a href="#man-localtime"><code s__="13" d__="">localtime()</code></a></td>
<td d__="">Convert a calendar time into a broken-down local time</td>
</tr>
<tr class="even">
<td><a href="#man-strftime"><code s__="13" d__="">strftime()</code></a></td>
<td d__="">Formatted date and time output</td>
</tr>
</tbody>
</table>
<p d__="">When it comes to time and C, there are two main types to look for:</p>
<ul>
<li><p d__=""> <strong><code s__="13">time_t</code></strong> holds a <em>calendar time</em>. This is an potentially opaque numeric type that represents an absolute time that can be converted to UTC<a href="#fn69" class="footnote-ref" id="fnref69" role="doc-noteref"><sup s__="13" d__="">69</sup></a> or local time.</p></li>
<li><p d__=""> <strong><code s__="13">struct tm</code></strong> holds a <em>broken-down time</em>. This has things like the day of the week, the day of the month, the hour, the minute, the second, etc.</p></li>
</ul>
<p d__="">On POSIX systems and Windows, <code s__="13">time_t</code> is an integer and represents the number of seconds that have elapsed since January 1, 1970 at 00:00 UTC.</p>
<p d__="">A <code s__="13">struct tm</code> contains the following fields:</p>
<div class="sourceCode" id="cb798"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb798-1" d__=""><a href="#cb798-1" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">struct</span> tm <span class="op" d__="">{</span></span>
<span id="cb798-2" d__=""><a href="#cb798-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">int</span> tm_sec<span class="op" d__="">;</span>    <span class="co" d__="">// seconds after the minute -- [0, 60]</span></span>
<span id="cb798-3" d__=""><a href="#cb798-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">int</span> tm_min<span class="op" d__="">;</span>    <span class="co" d__="">// minutes after the hour -- [0, 59]</span></span>
<span id="cb798-4" d__=""><a href="#cb798-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">int</span> tm_hour<span class="op" d__="">;</span>   <span class="co" d__="">// hours since midnight -- [0, 23]</span></span>
<span id="cb798-5" d__=""><a href="#cb798-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">int</span> tm_mday<span class="op" d__="">;</span>   <span class="co" d__="">// day of the month -- [1, 31]</span></span>
<span id="cb798-6" d__=""><a href="#cb798-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">int</span> tm_mon<span class="op" d__="">;</span>    <span class="co" d__="">// months since January -- [0, 11]</span></span>
<span id="cb798-7" d__=""><a href="#cb798-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">int</span> tm_year<span class="op" d__="">;</span>   <span class="co" d__="">// years since 1900</span></span>
<span id="cb798-8" d__=""><a href="#cb798-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">int</span> tm_wday<span class="op" d__="">;</span>   <span class="co" d__="">// days since Sunday -- [0, 6]</span></span>
<span id="cb798-9" d__=""><a href="#cb798-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">int</span> tm_yday<span class="op" d__="">;</span>   <span class="co" d__="">// days since January 1 -- [0, 365]</span></span>
<span id="cb798-10" d__=""><a href="#cb798-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">int</span> tm_isdst<span class="op" d__="">;</span>  <span class="co" d__="">// Daylight Saving Time flag</span></span>
<span id="cb798-11"><a href="#cb798-11" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">};</span></span></code></pre></div>
<p d__="">You can convert between the two with <code s__="13">mktime()</code>, <code s__="13">gmtime()</code>, and <code s__="13">localtime()</code>.</p>
<p d__="">You can print time information to strings with <code s__="13">ctime()</code>, <code s__="13">asctime()</code>, and <code s__="13">strftime()</code>.</p>
<h2 data-number="29.1" id="thread-safety-warning" d__=""><span class="header-section-number">29.1</span> Thread Safety Warning</h2>
<p d__=""><code s__="13">asctime()</code>, <code s__="13">ctime()</code>: These two functions return a pointer to a <code s__="13">static</code>
 memory region. They both might return the same pointer. If you need 
thread safety, you’ll need a mutex across them. If you need both results
 at once, <code s__="13">strcpy()</code> one of them out.</p>
<p d__="">All these problems with <code s__="13">asctime()</code> and <code s__="13">ctime()</code> can be avoided by using the more flexible and thread-safe <code s__="13">strftime()</code> function instead.</p>
<p d__=""><code s__="13">localtime()</code>, <code s__="13">gmtime()</code>: These other two functions also return a pointer to a <code s__="13">static</code>
 memory region. They both might return the same pointer. If you need 
thread safety, you’ll need a mutex across them. If you need both results
 at once, copy the <code s__="13">struct</code> to another.</p>
<hr>
<h2 data-number="29.2" id="man-clock"><span class="header-section-number" d__="">29.2</span> <code d__="">clock()</code></h2>
<p></p>
<p d__="">How much processor time has been used by this process</p>
<h3 class="unnumbered unlisted" id="synopsis-239" d__="">Synopsis</h3>
<div class="sourceCode" id="cb799"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb799-1"><a href="#cb799-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb799-2"><a href="#cb799-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb799-3" d__=""><a href="#cb799-3" aria-hidden="true" tabindex="-1"></a>clock_t clock<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-239" d__="">Description</h3>
<p d__="">Your processor is juggling a lot of things right now. Just 
because a process has been alive for 20 minutes doesn’t mean that it 
used 20 minutes of “CPU time”.</p>
<p d__="">Most of the time your average process spends asleep, and that doesn’t count toward the CPU time spent.</p>
<p d__="">This function returns an opaque type representing the number of “clock ticks”<a href="#fn70" class="footnote-ref" id="fnref70" role="doc-noteref"><sup s__="13" d__="">70</sup></a> the process has spent in operation.</p>
<p d__="">You can get the number of seconds out of that by dividing by the macro <code s__="13">CLOCKS_PER_SEC</code>. This is an integer, so you will have to cast part of the expression to a floating type to get a fractional time.</p>
<p d__="">Note that this is not the “wall clock time” of the program. If you want to get that loosely use <code s__="13">time()</code> and <code s__="13">difftime()</code> (which might only offer 1-second resolution) or <code s__="13">timespec_get()</code> (which might only also offer low resolution, but at least it <em>might</em> go to nanosecond level).</p>
<h3 class="unnumbered unlisted" id="return-value-237" d__="">Return Value</h3>
<p d__="">Returns the amount of CPU time spent by this process. This comes back in a form that can be divided by <code s__="13">CLOCKS_PER_SEC</code> to determine the time in seconds.</p>
<h3 class="unnumbered unlisted" id="example-241" d__="">Example</h3>
<div class="sourceCode" id="cb800"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb800-1"><a href="#cb800-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb800-2"><a href="#cb800-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb800-3"><a href="#cb800-3"></a></span>
<span id="cb800-4"><a href="#cb800-4"></a><span class="co" d__="">// Deliberately naive Fibonacci</span></span>
<span id="cb800-5" d__=""><a href="#cb800-5"></a><span class="dt" d__="">long</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> fib<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> n<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb800-6" d__=""><a href="#cb800-6"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>n <span class="op" d__="">&lt;=</span> <span class="dv" d__="">1</span><span class="op" d__="">)</span> <span class="cf" d__="">return</span> n<span class="op" d__="">;</span></span>
<span id="cb800-7"><a href="#cb800-7"></a></span>
<span id="cb800-8" d__=""><a href="#cb800-8"></a>    <span class="cf" d__="">return</span> fib<span class="op" d__="">(</span>n<span class="op" d__="">-</span><span class="dv" d__="">1</span><span class="op" d__="">)</span> <span class="op" d__="">+</span> fib<span class="op" d__="">(</span>n<span class="op" d__="">-</span><span class="dv" d__="">2</span><span class="op" d__="">);</span></span>
<span id="cb800-9"><a href="#cb800-9"></a><span class="op" d__="">}</span></span>
<span id="cb800-10"><a href="#cb800-10"></a></span>
<span id="cb800-11" d__=""><a href="#cb800-11"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb800-12"><a href="#cb800-12"></a><span class="op" d__="">{</span></span>
<span id="cb800-13" d__=""><a href="#cb800-13"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"The 42nd Fibonacci Number is </span><span class="sc" d__="">%lld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> fib<span class="op" d__="">(</span><span class="dv" d__="">42</span><span class="op" d__="">));</span></span>
<span id="cb800-14"><a href="#cb800-14"></a></span>
<span id="cb800-15" d__=""><a href="#cb800-15"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"CPU time: </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> clock<span class="op" d__="">()</span> <span class="op" d__="">/</span> <span class="op" d__="">(</span><span class="dt" d__="">double</span><span class="op" d__="">)</span>CLOCKS_PER_SEC<span class="op" d__="">);</span></span>
<span id="cb800-16"><a href="#cb800-16"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output on my system:</p>
<div class="sourceCode" id="cb801"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb801-1" d__=""><a href="#cb801-1" aria-hidden="true" tabindex="-1"></a>The 42nd Fibonacci Number is 267914296</span>
<span id="cb801-2" d__=""><a href="#cb801-2" aria-hidden="true" tabindex="-1"></a>CPU time: 1.863078</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-225" d__="">See Also</h3>
<p d__=""><a href="#man-time"><code s__="13" d__="">time()</code></a>, <a href="#man-difftime"><code s__="13" d__="">difftime()</code></a>, <a href="#man-timespec_get"><code s__="13" d__="">timespec_get()</code></a></p>
<hr>
<h2 data-number="29.3" id="man-difftime"><span class="header-section-number" d__="">29.3</span> <code d__="">difftime()</code></h2>
<p></p>
<p d__="">Compute the difference between two times</p>
<h3 class="unnumbered unlisted" id="synopsis-240" d__="">Synopsis</h3>
<div class="sourceCode" id="cb802"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb802-1"><a href="#cb802-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb802-2"><a href="#cb802-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb802-3" d__=""><a href="#cb802-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> difftime<span class="op" d__="">(</span><span class="dt" d__="">time_t</span> time1<span class="op" d__="">,</span> <span class="dt" d__="">time_t</span> time0<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-240" d__="">Description</h3>
<p d__="">Since the <code s__="13">time_t</code> type is technically opaque, you can’t just straight-up subtract to get the difference between two of them<a href="#fn71" class="footnote-ref" id="fnref71" role="doc-noteref"><sup s__="13" d__="">71</sup></a>. Use this function to do it.</p>
<p d__="">There is no guarantee as to the resolution of this difference, but it’s probably to the second.</p>
<h3 class="unnumbered unlisted" id="return-value-238" d__="">Return Value</h3>
<p d__="">Returns the difference between two <code s__="13">time_t</code>s in seconds.</p>
<h3 class="unnumbered unlisted" id="example-242" d__="">Example</h3>
<div class="sourceCode" id="cb803"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb803-1"><a href="#cb803-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb803-2"><a href="#cb803-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb803-3"><a href="#cb803-3"></a></span>
<span id="cb803-4" d__=""><a href="#cb803-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb803-5"><a href="#cb803-5"></a><span class="op" d__="">{</span></span>
<span id="cb803-6"><a href="#cb803-6"></a>    <span class="co" d__="">// April 12, 1982 and change</span></span>
<span id="cb803-7" d__=""><a href="#cb803-7"></a>    <span class="kw" d__="">struct</span> tm time_a <span class="op" d__="">=</span> <span class="op" d__="">{</span> <span class="op" d__="">.</span>tm_year<span class="op" d__="">=</span><span class="dv" d__="">82</span><span class="op" d__="">,</span> <span class="op" d__="">.</span>tm_mon<span class="op" d__="">=</span><span class="dv" d__="">3</span><span class="op" d__="">,</span> <span class="op" d__="">.</span>tm_mday<span class="op" d__="">=</span><span class="dv" d__="">12</span><span class="op" d__="">,</span></span>
<span id="cb803-8" d__=""><a href="#cb803-8"></a>        <span class="op" d__="">.</span>tm_hour<span class="op" d__="">=</span><span class="dv" d__="">4</span><span class="op" d__="">,</span> <span class="op" d__="">.</span>tm_min<span class="op" d__="">=</span><span class="bn" d__="">00</span><span class="op" d__="">,</span> <span class="op" d__="">.</span>tm_sec<span class="op" d__="">=</span><span class="bn" d__="">04</span><span class="op" d__="">,</span> <span class="op" d__="">.</span>tm_isdst<span class="op" d__="">=-</span><span class="dv" d__="">1</span><span class="op" d__="">,</span></span>
<span id="cb803-9"><a href="#cb803-9"></a>    <span class="op" d__="">};</span></span>
<span id="cb803-10"><a href="#cb803-10"></a></span>
<span id="cb803-11"><a href="#cb803-11"></a>    <span class="co" d__="">// November 15, 2020 and change</span></span>
<span id="cb803-12" d__=""><a href="#cb803-12"></a>    <span class="kw" d__="">struct</span> tm time_b <span class="op" d__="">=</span> <span class="op" d__="">{</span> <span class="op" d__="">.</span>tm_year<span class="op" d__="">=</span><span class="dv" d__="">120</span><span class="op" d__="">,</span> <span class="op" d__="">.</span>tm_mon<span class="op" d__="">=</span><span class="dv" d__="">10</span><span class="op" d__="">,</span> <span class="op" d__="">.</span>tm_mday<span class="op" d__="">=</span><span class="dv" d__="">15</span><span class="op" d__="">,</span></span>
<span id="cb803-13" d__=""><a href="#cb803-13"></a>        <span class="op" d__="">.</span>tm_hour<span class="op" d__="">=</span><span class="dv" d__="">16</span><span class="op" d__="">,</span> <span class="op" d__="">.</span>tm_min<span class="op" d__="">=</span><span class="dv" d__="">27</span><span class="op" d__="">,</span> <span class="op" d__="">.</span>tm_sec<span class="op" d__="">=</span><span class="bn" d__="">00</span><span class="op" d__="">,</span> <span class="op" d__="">.</span>tm_isdst<span class="op" d__="">=-</span><span class="dv" d__="">1</span><span class="op" d__="">,</span></span>
<span id="cb803-14"><a href="#cb803-14"></a>    <span class="op" d__="">};</span></span>
<span id="cb803-15"><a href="#cb803-15"></a></span>
<span id="cb803-16" d__=""><a href="#cb803-16"></a>    <span class="dt" d__="">time_t</span> cal_a <span class="op" d__="">=</span> mktime<span class="op" d__="">(&amp;</span>time_a<span class="op" d__="">);</span></span>
<span id="cb803-17" d__=""><a href="#cb803-17"></a>    <span class="dt" d__="">time_t</span> cal_b <span class="op" d__="">=</span> mktime<span class="op" d__="">(&amp;</span>time_b<span class="op" d__="">);</span></span>
<span id="cb803-18"><a href="#cb803-18"></a></span>
<span id="cb803-19" d__=""><a href="#cb803-19"></a>    <span class="dt" d__="">double</span> diff <span class="op" d__="">=</span> difftime<span class="op" d__="">(</span>cal_b<span class="op" d__="">,</span> cal_a<span class="op" d__="">);</span></span>
<span id="cb803-20"><a href="#cb803-20"></a></span>
<span id="cb803-21" d__=""><a href="#cb803-21"></a>    <span class="dt" d__="">double</span> years <span class="op" d__="">=</span> diff <span class="op" d__="">/</span> <span class="dv" d__="">60</span> <span class="op" d__="">/</span> <span class="dv" d__="">60</span> <span class="op" d__="">/</span> <span class="dv" d__="">24</span> <span class="op" d__="">/</span> <span class="fl" d__="">365.2425</span><span class="op" d__="">;</span>  <span class="co" d__="">// close enough</span></span>
<span id="cb803-22"><a href="#cb803-22"></a></span>
<span id="cb803-23" d__=""><a href="#cb803-23"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f</span><span class="st" d__=""> seconds (</span><span class="sc" d__="">%f</span><span class="st" d__=""> years) between events</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> diff<span class="op" d__="">,</span> years<span class="op" d__="">);</span></span>
<span id="cb803-24"><a href="#cb803-24"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb804"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb804-1" d__=""><a href="#cb804-1" aria-hidden="true" tabindex="-1"></a>1217996816.000000 seconds (38.596783 years) between events</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-226" d__="">See Also</h3>
<p d__=""><a href="#man-time"><code s__="13" d__="">time()</code></a>, <a href="#man-mktime"><code s__="13" d__="">mktime()</code></a></p>
<hr>
<h2 data-number="29.4" id="man-mktime"><span class="header-section-number" d__="">29.4</span> <code d__="">mktime()</code></h2>
<p></p>
<p d__="">Convert a <code s__="13">struct tm</code> with local time into a <code s__="13">time_t</code></p>
<h3 class="unnumbered unlisted" id="synopsis-241" d__="">Synopsis</h3>
<div class="sourceCode" id="cb805"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb805-1"><a href="#cb805-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb805-2"><a href="#cb805-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb805-3" d__=""><a href="#cb805-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">time_t</span> mktime<span class="op" d__="">(</span><span class="kw" d__="">struct</span> tm <span class="op" d__="">*</span>timeptr<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-241" d__="">Description</h3>
<p d__="">If you have a local date and time and want it converted to a <code s__="13">time_t</code> (so that you can <code s__="13">difftime()</code> it or whatever), you can convert it with this function.</p>
<p d__="">Basically you fill out the fields in your <code s__="13">struct tm</code> in local time and <code s__="13">mktime()</code> will convert those to the UTC <code s__="13">time_t</code> equivalent.</p>
<p d__="">A couple notes:</p>
<ul>
<li><p d__="">Don’t bother filling out <code s__="13">tm_wday</code> or <code s__="13">tm_yday</code>. <code s__="13">mktime()</code> will fill these out for you.</p></li>
<li><p d__="">You can set <code s__="13">tm_isdst</code> to <code s__="13">0</code> to indicate your time isn’t Daylight Saving Time (DST), <code s__="13">1</code> to indicate it is, and <code s__="13">-1</code> to have <code s__="13">mktime()</code> fill it in according to your locale’s preference.</p></li>
</ul>
<p d__="">If you don’t have a C23 compiler and you need input in UTC, see the non-standard functions <a href="https://man.archlinux.org/man/timegm.3.en"><code s__="13" d__="">timegm()</code></a><a href="#fn72" class="footnote-ref" id="fnref72" role="doc-noteref"><sup s__="13" d__="">72</sup></a> for Unix-likes and <a href="https://docs.microsoft.com/en-us/cpp/c-runtime-library/reference/mkgmtime-mkgmtime32-mkgmtime64?view=msvc-160"><code s__="13" d__="">_mkgmtime()</code></a><a href="#fn73" class="footnote-ref" id="fnref73" role="doc-noteref"><sup s__="13" d__="">73</sup></a> for Windows.</p>
<h3 class="unnumbered unlisted" id="return-value-239" d__="">Return Value</h3>
<p d__="">Returns the local time in the <code s__="13">struct tm</code> as a <code s__="13">time_t</code> calendar time.</p>
<p d__="">Returns <code s__="13">(time_t)(-1)</code> on error.</p>
<h3 class="unnumbered unlisted" id="example-243" d__="">Example</h3>
<p d__="">In the following example, we have <code s__="13">mktime()</code> tell us if that time was DST or not.</p>
<div class="sourceCode" id="cb806"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb806-1"><a href="#cb806-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb806-2"><a href="#cb806-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb806-3"><a href="#cb806-3"></a></span>
<span id="cb806-4" d__=""><a href="#cb806-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb806-5"><a href="#cb806-5"></a><span class="op" d__="">{</span></span>
<span id="cb806-6" d__=""><a href="#cb806-6"></a>    <span class="kw" d__="">struct</span> tm broken_down_time <span class="op" d__="">=</span> <span class="op" d__="">{</span></span>
<span id="cb806-7" d__=""><a href="#cb806-7"></a>        <span class="op" d__="">.</span>tm_year<span class="op" d__="">=</span><span class="dv" d__="">82</span><span class="op" d__="">,</span>   <span class="co" d__="">// years since 1900</span></span>
<span id="cb806-8" d__=""><a href="#cb806-8"></a>        <span class="op" d__="">.</span>tm_mon<span class="op" d__="">=</span><span class="dv" d__="">3</span><span class="op" d__="">,</span>     <span class="co" d__="">// months since January -- [0, 11]</span></span>
<span id="cb806-9" d__=""><a href="#cb806-9"></a>        <span class="op" d__="">.</span>tm_mday<span class="op" d__="">=</span><span class="dv" d__="">12</span><span class="op" d__="">,</span>   <span class="co" d__="">// day of the month -- [1, 31]</span></span>
<span id="cb806-10" d__=""><a href="#cb806-10"></a>        <span class="op" d__="">.</span>tm_hour<span class="op" d__="">=</span><span class="dv" d__="">4</span><span class="op" d__="">,</span>    <span class="co" d__="">// hours since midnight -- [0, 23]</span></span>
<span id="cb806-11" d__=""><a href="#cb806-11"></a>        <span class="op" d__="">.</span>tm_min<span class="op" d__="">=</span><span class="bn" d__="">00</span><span class="op" d__="">,</span>    <span class="co" d__="">// minutes after the hour -- [0, 59]</span></span>
<span id="cb806-12" d__=""><a href="#cb806-12"></a>        <span class="op" d__="">.</span>tm_sec<span class="op" d__="">=</span><span class="bn" d__="">04</span><span class="op" d__="">,</span>    <span class="co" d__="">// seconds after the minute -- [0, 60]</span></span>
<span id="cb806-13" d__=""><a href="#cb806-13"></a>        <span class="op" d__="">.</span>tm_isdst<span class="op" d__="">=-</span><span class="dv" d__="">1</span><span class="op" d__="">,</span>  <span class="co" d__="">// Daylight Saving Time flag</span></span>
<span id="cb806-14"><a href="#cb806-14"></a>    <span class="op" d__="">};</span></span>
<span id="cb806-15"><a href="#cb806-15"></a></span>
<span id="cb806-16" d__=""><a href="#cb806-16"></a>    <span class="dt" d__="">time_t</span> calendar_time <span class="op" d__="">=</span> mktime<span class="op" d__="">(&amp;</span>broken_down_time<span class="op" d__="">);</span></span>
<span id="cb806-17"><a href="#cb806-17"></a></span>
<span id="cb806-18" d__=""><a href="#cb806-18"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>days<span class="op" d__="">[]</span> <span class="op" d__="">=</span> <span class="op" d__="">{</span><span class="st" d__="">"Sunday"</span><span class="op" d__="">,</span> <span class="st" d__="">"Monday"</span><span class="op" d__="">,</span> <span class="st" d__="">"Tuesday"</span><span class="op" d__="">,</span></span>
<span id="cb806-19"><a href="#cb806-19"></a>        <span class="st" d__="">"Wednesday"</span><span class="op" d__="">,</span> <span class="st" d__="">"Furzeday"</span><span class="op" d__="">,</span> <span class="st" d__="">"Friday"</span><span class="op" d__="">,</span> <span class="st" d__="">"Saturday"</span><span class="op" d__="">};</span></span>
<span id="cb806-20"><a href="#cb806-20"></a></span>
<span id="cb806-21"><a href="#cb806-21"></a>    <span class="co" d__="">// This will print what was in broken_down_time</span></span>
<span id="cb806-22" d__=""><a href="#cb806-22"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Local time : </span><span class="sc" d__="">%s</span><span class="st" d__="">"</span><span class="op" d__="">,</span> asctime<span class="op" d__="">(</span>localtime<span class="op" d__="">(&amp;</span>calendar_time<span class="op" d__="">)));</span></span>
<span id="cb806-23" d__=""><a href="#cb806-23"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Is DST     : </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> broken_down_time<span class="op" d__="">.</span>tm_isdst<span class="op" d__="">);</span></span>
<span id="cb806-24" d__=""><a href="#cb806-24"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Day of week: </span><span class="sc" d__="">%s\n\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> days<span class="op" d__="">[</span>broken_down_time<span class="op" d__="">.</span>tm_wday<span class="op" d__="">]);</span></span>
<span id="cb806-25"><a href="#cb806-25"></a></span>
<span id="cb806-26"><a href="#cb806-26"></a>    <span class="co" d__="">// This will print UTC for the local time, above</span></span>
<span id="cb806-27" d__=""><a href="#cb806-27"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"UTC        : </span><span class="sc" d__="">%s</span><span class="st" d__="">"</span><span class="op" d__="">,</span> asctime<span class="op" d__="">(</span>gmtime<span class="op" d__="">(&amp;</span>calendar_time<span class="op" d__="">)));</span></span>
<span id="cb806-28"><a href="#cb806-28"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output (for me in Pacific Time—UTC is 8 hours ahead):</p>
<div class="sourceCode" id="cb807"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb807-1" d__=""><a href="#cb807-1" aria-hidden="true" tabindex="-1"></a>Local time : Mon Apr 12 04:00:04 1982</span>
<span id="cb807-2" d__=""><a href="#cb807-2" aria-hidden="true" tabindex="-1"></a>Is DST     : 0</span>
<span id="cb807-3" d__=""><a href="#cb807-3" aria-hidden="true" tabindex="-1"></a>Day of week: Monday</span>
<span id="cb807-4"><a href="#cb807-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb807-5" d__=""><a href="#cb807-5" aria-hidden="true" tabindex="-1"></a>UTC        : Mon Apr 12 12:00:04 1982</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-227" d__="">See Also</h3>
<p d__=""><a href="#man-timegm"><code s__="13" d__="">timegm()</code></a>, <a href="#man-localtime"><code s__="13" d__="">localtime()</code></a>, <a href="#man-gmtime"><code s__="13" d__="">gmtime()</code></a></p>
<hr>
<h2 data-number="29.5" id="man-timegm"><span class="header-section-number" d__="">29.5</span> <code d__="">timegm()</code></h2>
<p></p>
<p d__="">Convert a <code s__="13">struct tm</code> with UTC time into a <code s__="13">time_t</code></p>
<h3 class="unnumbered unlisted" id="synopsis-242" d__="">Synopsis</h3>
<p d__="">New in C23!</p>
<div class="sourceCode" id="cb808"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb808-1"><a href="#cb808-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb808-2"><a href="#cb808-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb808-3" d__=""><a href="#cb808-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">time_t</span> timegm<span class="op" d__="">(</span><span class="kw" d__="">struct</span> tm <span class="op" d__="">*</span>timeptr<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-242" d__="">Description</h3>
<p d__="">If you have a UTC date and time and want it converted to a <code s__="13">time_t</code> (so that you can <code s__="13">difftime()</code> it or whatever), you can convert it with this function.</p>
<p d__="">Basically you fill out the fields in your <code s__="13">struct tm</code> in local time and <code s__="13">mktime()</code> will convert those to the UTC <code s__="13">time_t</code> equivalent.</p>
<p d__="">A couple notes:</p>
<ul>
<li><p d__="">Don’t bother filling out <code s__="13">tm_wday</code> or <code s__="13">tm_yday</code>. <code s__="13">mktime()</code> will fill these out for you.</p></li>
<li><p d__="">The spec doesn’t say anything about the <code s__="13">tm_isdst</code> Daylight Saving flag, but since UTC is immune to DST, I’m assuming it is ignored or set to <code s__="13">0</code> for us.</p></li>
</ul>
<p d__="">If you don’t have a C23 compiler and you need input in UTC, see the non-standard functions <a href="https://man.archlinux.org/man/timegm.3.en"><code s__="13" d__="">timegm()</code></a><a href="#fn74" class="footnote-ref" id="fnref74" role="doc-noteref"><sup s__="13" d__="">74</sup></a> for Unix-likes and <a href="https://docs.microsoft.com/en-us/cpp/c-runtime-library/reference/mkgmtime-mkgmtime32-mkgmtime64?view=msvc-160"><code s__="13" d__="">_mkgmtime()</code></a><a href="#fn75" class="footnote-ref" id="fnref75" role="doc-noteref"><sup s__="13" d__="">75</sup></a> for Windows.</p>
<h3 class="unnumbered unlisted" id="return-value-240" d__="">Return Value</h3>
<p d__="">Returns the UTC time in the <code s__="13">struct tm</code> as a <code s__="13">time_t</code> calendar time.</p>
<p d__="">Returns <code s__="13">(time_t)(-1)</code> on error.</p>
<h3 class="unnumbered unlisted" id="example-244" d__="">Example</h3>
<div class="sourceCode" id="cb809"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb809-1"><a href="#cb809-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb809-2"><a href="#cb809-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb809-3"><a href="#cb809-3"></a></span>
<span id="cb809-4" d__=""><a href="#cb809-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb809-5"><a href="#cb809-5"></a><span class="op" d__="">{</span></span>
<span id="cb809-6" d__=""><a href="#cb809-6"></a>    <span class="kw" d__="">struct</span> tm broken_down_time <span class="op" d__="">=</span> <span class="op" d__="">{</span></span>
<span id="cb809-7" d__=""><a href="#cb809-7"></a>        <span class="op" d__="">.</span>tm_year<span class="op" d__="">=</span><span class="dv" d__="">82</span><span class="op" d__="">,</span>   <span class="co" d__="">// years since 1900</span></span>
<span id="cb809-8" d__=""><a href="#cb809-8"></a>        <span class="op" d__="">.</span>tm_mon<span class="op" d__="">=</span><span class="dv" d__="">3</span><span class="op" d__="">,</span>     <span class="co" d__="">// months since January -- [0, 11]</span></span>
<span id="cb809-9" d__=""><a href="#cb809-9"></a>        <span class="op" d__="">.</span>tm_mday<span class="op" d__="">=</span><span class="dv" d__="">12</span><span class="op" d__="">,</span>   <span class="co" d__="">// day of the month -- [1, 31]</span></span>
<span id="cb809-10" d__=""><a href="#cb809-10"></a>        <span class="op" d__="">.</span>tm_hour<span class="op" d__="">=</span><span class="dv" d__="">4</span><span class="op" d__="">,</span>    <span class="co" d__="">// hours since midnight -- [0, 23]</span></span>
<span id="cb809-11" d__=""><a href="#cb809-11"></a>        <span class="op" d__="">.</span>tm_min<span class="op" d__="">=</span><span class="bn" d__="">00</span><span class="op" d__="">,</span>    <span class="co" d__="">// minutes after the hour -- [0, 59]</span></span>
<span id="cb809-12" d__=""><a href="#cb809-12"></a>        <span class="op" d__="">.</span>tm_sec<span class="op" d__="">=</span><span class="bn" d__="">04</span><span class="op" d__="">,</span>    <span class="co" d__="">// seconds after the minute -- [0, 60]</span></span>
<span id="cb809-13" d__=""><a href="#cb809-13"></a>        <span class="op" d__="">.</span>tm_isdst<span class="op" d__="">=-</span><span class="dv" d__="">1</span><span class="op" d__="">,</span>  <span class="co" d__="">// Daylight Saving Time flag</span></span>
<span id="cb809-14"><a href="#cb809-14"></a>    <span class="op" d__="">};</span></span>
<span id="cb809-15"><a href="#cb809-15"></a></span>
<span id="cb809-16" d__=""><a href="#cb809-16"></a>    <span class="dt" d__="">time_t</span> calendar_time <span class="op" d__="">=</span> timegm<span class="op" d__="">(&amp;</span>broken_down_time<span class="op" d__="">);</span></span>
<span id="cb809-17"><a href="#cb809-17"></a></span>
<span id="cb809-18" d__=""><a href="#cb809-18"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>days<span class="op" d__="">[]</span> <span class="op" d__="">=</span> <span class="op" d__="">{</span><span class="st" d__="">"Sunday"</span><span class="op" d__="">,</span> <span class="st" d__="">"Monday"</span><span class="op" d__="">,</span> <span class="st" d__="">"Tuesday"</span><span class="op" d__="">,</span></span>
<span id="cb809-19"><a href="#cb809-19"></a>        <span class="st" d__="">"Wednesday"</span><span class="op" d__="">,</span> <span class="st" d__="">"Furzeday"</span><span class="op" d__="">,</span> <span class="st" d__="">"Friday"</span><span class="op" d__="">,</span> <span class="st" d__="">"Saturday"</span><span class="op" d__="">};</span></span>
<span id="cb809-20"><a href="#cb809-20"></a></span>
<span id="cb809-21"><a href="#cb809-21"></a>    <span class="co" d__="">// This will print what was in broken_down_time</span></span>
<span id="cb809-22" d__=""><a href="#cb809-22"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"UTC        : </span><span class="sc" d__="">%s</span><span class="st" d__="">"</span><span class="op" d__="">,</span> asctime<span class="op" d__="">(</span>gmtime<span class="op" d__="">(&amp;</span>calendar_time<span class="op" d__="">)));</span></span>
<span id="cb809-23" d__=""><a href="#cb809-23"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Day of week: </span><span class="sc" d__="">%s\n\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> days<span class="op" d__="">[</span>broken_down_time<span class="op" d__="">.</span>tm_wday<span class="op" d__="">]);</span></span>
<span id="cb809-24"><a href="#cb809-24"></a></span>
<span id="cb809-25"><a href="#cb809-25"></a>    <span class="co" d__="">// This will print UTC for the local time, above</span></span>
<span id="cb809-26" d__=""><a href="#cb809-26"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Local time : </span><span class="sc" d__="">%s</span><span class="st" d__="">"</span><span class="op" d__="">,</span> asctime<span class="op" d__="">(</span>localtime<span class="op" d__="">(&amp;</span>calendar_time<span class="op" d__="">)));</span></span>
<span id="cb809-27"><a href="#cb809-27"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-228" d__="">See Also</h3>
<p d__=""><a href="#man-mktime"><code s__="13" d__="">mktime()</code></a>, <a href="#man-timegm"><code s__="13" d__="">timegm()</code></a>, <a href="#man-localtime"><code s__="13" d__="">localtime()</code></a>, <a href="#man-gmtime"><code s__="13" d__="">gmtime()</code></a></p>
<hr>
<h2 data-number="29.6" id="man-time"><span class="header-section-number" d__="">29.6</span> <code d__="">time()</code></h2>
<p></p>
<p d__="">Get the current calendar time</p>
<h3 class="unnumbered unlisted" id="synopsis-243" d__="">Synopsis</h3>
<div class="sourceCode" id="cb810"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb810-1"><a href="#cb810-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb810-2"><a href="#cb810-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb810-3" d__=""><a href="#cb810-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">time_t</span> time<span class="op" d__="">(</span><span class="dt" d__="">time_t</span> <span class="op" d__="">*</span>timer<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-243" d__="">Description</h3>
<p d__="">Returns the current calendar time right now. I mean, now. No, now!</p>
<p d__="">If <code s__="13">timer</code> is not <code s__="13">NULL</code>, it gets loaded with the current time, as well.</p>
<p d__="">This can be converted into a <code s__="13">struct tm</code> with <code s__="13">localtime()</code> or <code s__="13">gmtime()</code>, or printed directly with <code s__="13">ctime()</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-241" d__="">Return Value</h3>
<p d__="">Returns the current calendar time. Also loads <code s__="13">timer</code> with the current time if it’s not <code s__="13">NULL</code>.</p>
<p d__="">Or returns <code s__="13">(time_t)(-1)</code> if the time isn’t available because you’ve fallen out of the space-time continuum and/or the system doesn’t support times.</p>
<h3 class="unnumbered unlisted" id="example-245" d__="">Example</h3>
<div class="sourceCode" id="cb811"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb811-1"><a href="#cb811-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb811-2"><a href="#cb811-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb811-3"><a href="#cb811-3"></a></span>
<span id="cb811-4" d__=""><a href="#cb811-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb811-5"><a href="#cb811-5"></a><span class="op" d__="">{</span></span>
<span id="cb811-6" d__=""><a href="#cb811-6"></a>    <span class="dt" d__="">time_t</span> now <span class="op" d__="">=</span> time<span class="op" d__="">(</span>NULL<span class="op" d__="">);</span></span>
<span id="cb811-7"><a href="#cb811-7"></a></span>
<span id="cb811-8" d__=""><a href="#cb811-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"The local time is </span><span class="sc" d__="">%s</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ctime<span class="op" d__="">(&amp;</span>now<span class="op" d__="">));</span></span>
<span id="cb811-9"><a href="#cb811-9"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Example output:</p>
<div class="sourceCode" id="cb812"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb812-1" d__=""><a href="#cb812-1" aria-hidden="true" tabindex="-1"></a>The local time is Mon Mar  1 18:45:14 2021</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-229" d__="">See Also</h3>
<p d__=""><a href="#man-localtime"><code s__="13" d__="">localtime()</code></a>, <a href="#man-gmtime"><code s__="13" d__="">gmtime()</code></a>, <a href="#man-ctime"><code s__="13" d__="">ctime()</code></a></p>
<hr>
<h2 data-number="29.7" id="man-timespec_get"><span class="header-section-number" d__="">29.7</span> <code d__="">timespec_get()</code></h2>
<p></p>
<p d__="">Get a higher resolution time, probably now</p>
<h3 class="unnumbered unlisted" id="synopsis-244" d__="">Synopsis</h3>
<div class="sourceCode" id="cb813"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb813-1"><a href="#cb813-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb813-2"><a href="#cb813-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb813-3" d__=""><a href="#cb813-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> timespec_get<span class="op" d__="">(</span><span class="kw" d__="">struct</span> timespec <span class="op" d__="">*</span>ts<span class="op" d__="">,</span> <span class="dt" d__="">int</span> base<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-244" d__="">Description</h3>
<p d__="">This function loads the current time UTC (unless directed otherwise) into the given <code s__="13">struct timespec</code>, <code s__="13">ts</code>.</p>
<p d__="">That structure has two fields:</p>
<div class="sourceCode" id="cb814"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb814-1" d__=""><a href="#cb814-1" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">struct</span> timespec <span class="op" d__="">{</span></span>
<span id="cb814-2" d__=""><a href="#cb814-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">time_t</span> tv_sec<span class="op" d__="">;</span>   <span class="co" d__="">// Whole seconds</span></span>
<span id="cb814-3" d__=""><a href="#cb814-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">long</span>   tv_nsec<span class="op" d__="">;</span>  <span class="co" d__="">// Nanoseconds, 0-999999999</span></span>
<span id="cb814-4"><a href="#cb814-4" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Nanoseconds are billionths of a second. You can divide by 1000000000.0 to convert to seconds.</p>
<p d__="">The <code s__="13">base</code> parameter has only one defined value, by the spec: <code s__="13">TIME_UTC</code>. So portably make it that. This will load <code s__="13">ts</code> with the current time in seconds since a system-defined <a href="https://en.wikipedia.org/wiki/Unix_time" d__="">Epoch</a><a href="#fn76" class="footnote-ref" id="fnref76" role="doc-noteref"><sup s__="13" d__="">76</sup></a>, often January 1, 1970 at 00:00 UTC.</p>
<p d__="">Your implementation might define other values for <code s__="13">base</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-242" d__="">Return Value</h3>
<p d__="">When <code s__="13">base</code> is <code s__="13">TIME_UTC</code>, loads <code s__="13">ts</code> with the current UTC time.</p>
<p d__="">On success, returns <code s__="13">base</code>, valid values for which will always be non-zero. On error, returns <code s__="13">0</code>.</p>
<h3 class="unnumbered unlisted" id="example-246" d__="">Example</h3>
<div class="sourceCode" id="cb815"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb815-1" d__=""><a href="#cb815-1"></a><span class="kw" d__="">struct</span> timespec ts<span class="op" d__="">;</span></span>
<span id="cb815-2"><a href="#cb815-2"></a></span>
<span id="cb815-3" d__=""><a href="#cb815-3"></a>timespec_get<span class="op" d__="">(&amp;</span>ts<span class="op" d__="">,</span> TIME_UTC<span class="op" d__="">);</span></span>
<span id="cb815-4"><a href="#cb815-4"></a></span>
<span id="cb815-5" d__=""><a href="#cb815-5"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%ld</span><span class="st" d__=""> s, </span><span class="sc" d__="">%ld</span><span class="st" d__=""> ns</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ts<span class="op" d__="">.</span>tv_sec<span class="op" d__="">,</span> ts<span class="op" d__="">.</span>tv_nsec<span class="op" d__="">);</span></span>
<span id="cb815-6"><a href="#cb815-6"></a></span>
<span id="cb815-7" d__=""><a href="#cb815-7"></a><span class="dt" d__="">double</span> float_time <span class="op" d__="">=</span> ts<span class="op" d__="">.</span>tv_sec <span class="op" d__="">+</span> ts<span class="op" d__="">.</span>tv_nsec<span class="op" d__="">/</span><span class="fl" d__="">1000000000.0</span><span class="op" d__="">;</span></span>
<span id="cb815-8" d__=""><a href="#cb815-8"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%f</span><span class="st" d__=""> seconds since epoch</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> float_time<span class="op" d__="">);</span></span></code></pre></div>
<p d__="">Example output:</p>
<div class="sourceCode" id="cb816"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb816-1" d__=""><a href="#cb816-1" aria-hidden="true" tabindex="-1"></a>1614654187 s, 825540756 ns</span>
<span id="cb816-2" d__=""><a href="#cb816-2" aria-hidden="true" tabindex="-1"></a>1614654187.825541 seconds since epoch</span></code></pre></div>
<p d__="">Here’s a helper function to add values to a <code s__="13">struct timespec</code> that handles negative values and nanosecond overflow.</p>
<div class="sourceCode" id="cb817"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb817-1"><a href="#cb817-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb817-2"><a href="#cb817-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb817-3"><a href="#cb817-3" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">// Add delta seconds and delta nanoseconds to ts.</span></span>
<span id="cb817-4"><a href="#cb817-4" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">// Negative values are allowed. Each component is added individually.</span></span>
<span id="cb817-5"><a href="#cb817-5" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">//</span></span>
<span id="cb817-6"><a href="#cb817-6" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">// Subtract 1.5 seconds from the current value:</span></span>
<span id="cb817-7"><a href="#cb817-7" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">//</span></span>
<span id="cb817-8"><a href="#cb817-8" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">// timespec_add(&amp;ts, -1, -500000000L);</span></span>
<span id="cb817-9"><a href="#cb817-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb817-10" d__=""><a href="#cb817-10" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">struct</span> timespec <span class="op" d__="">*</span>timespec_add<span class="op" d__="">(</span><span class="kw" d__="">struct</span> timespec <span class="op" d__="">*</span>ts<span class="op" d__="">,</span> <span class="dt" d__="">long</span> dsec<span class="op" d__="">,</span> <span class="dt" d__="">long</span> dnsec<span class="op" d__="">)</span></span>
<span id="cb817-11"><a href="#cb817-11" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">{</span></span>
<span id="cb817-12" d__=""><a href="#cb817-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">long</span> sec <span class="op" d__="">=</span> <span class="op" d__="">(</span><span class="dt" d__="">long</span><span class="op" d__="">)</span>ts<span class="op" d__="">-&gt;</span>tv_sec <span class="op" d__="">+</span> dsec<span class="op" d__="">;</span></span>
<span id="cb817-13" d__=""><a href="#cb817-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">long</span> nsec <span class="op" d__="">=</span> ts<span class="op" d__="">-&gt;</span>tv_nsec <span class="op" d__="">+</span> dnsec<span class="op" d__="">;</span></span>
<span id="cb817-14"><a href="#cb817-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb817-15" d__=""><a href="#cb817-15" aria-hidden="true" tabindex="-1"></a>    ldiv_t qr <span class="op" d__="">=</span> ldiv<span class="op" d__="">(</span>nsec<span class="op" d__="">,</span> <span class="dv" d__="">1000000000</span><span class="bu" d__="">L</span><span class="op" d__="">);</span></span>
<span id="cb817-16"><a href="#cb817-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb817-17" d__=""><a href="#cb817-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>qr<span class="op" d__="">.</span>rem <span class="op" d__="">&lt;</span> <span class="dv" d__="">0</span><span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb817-18" d__=""><a href="#cb817-18" aria-hidden="true" tabindex="-1"></a>        nsec <span class="op" d__="">=</span> <span class="dv" d__="">1000000000</span><span class="bu" d__="">L</span> <span class="op" d__="">+</span> qr<span class="op" d__="">.</span>rem<span class="op" d__="">;</span></span>
<span id="cb817-19" d__=""><a href="#cb817-19" aria-hidden="true" tabindex="-1"></a>        sec <span class="op" d__="">+=</span> qr<span class="op" d__="">.</span>quot <span class="op" d__="">-</span> <span class="dv" d__="">1</span><span class="op" d__="">;</span></span>
<span id="cb817-20"><a href="#cb817-20" aria-hidden="true" tabindex="-1"></a>    <span class="op" d__="">}</span> <span class="cf" d__="">else</span> <span class="op" d__="">{</span></span>
<span id="cb817-21" d__=""><a href="#cb817-21" aria-hidden="true" tabindex="-1"></a>        nsec <span class="op" d__="">=</span> qr<span class="op" d__="">.</span>rem<span class="op" d__="">;</span></span>
<span id="cb817-22" d__=""><a href="#cb817-22" aria-hidden="true" tabindex="-1"></a>        sec <span class="op" d__="">+=</span> qr<span class="op" d__="">.</span>quot<span class="op" d__="">;</span></span>
<span id="cb817-23"><a href="#cb817-23" aria-hidden="true" tabindex="-1"></a>    <span class="op" d__="">}</span></span>
<span id="cb817-24"><a href="#cb817-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb817-25" d__=""><a href="#cb817-25" aria-hidden="true" tabindex="-1"></a>    ts<span class="op" d__="">-&gt;</span>tv_sec <span class="op" d__="">=</span> sec<span class="op" d__="">;</span></span>
<span id="cb817-26" d__=""><a href="#cb817-26" aria-hidden="true" tabindex="-1"></a>    ts<span class="op" d__="">-&gt;</span>tv_nsec <span class="op" d__="">=</span> nsec<span class="op" d__="">;</span></span>
<span id="cb817-27"><a href="#cb817-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb817-28" d__=""><a href="#cb817-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf" d__="">return</span> ts<span class="op" d__="">;</span></span>
<span id="cb817-29"><a href="#cb817-29" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">And here are some functions to convert from <code s__="13">long double</code> to <code s__="13">struct timespec</code>
 and back, just in case you like thinking in decimals. This is more 
limited in significant figures than using the integer values.</p>
<div class="sourceCode" id="cb818"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb818-1"><a href="#cb818-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;math.h&gt;</span></span>
<span id="cb818-2"><a href="#cb818-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb818-3"><a href="#cb818-3" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">// Convert a struct timespec into a long double</span></span>
<span id="cb818-4" d__=""><a href="#cb818-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> timespec_to_ld<span class="op" d__="">(</span><span class="kw" d__="">struct</span> timespec <span class="op" d__="">*</span>ts<span class="op" d__="">)</span></span>
<span id="cb818-5"><a href="#cb818-5" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">{</span></span>
<span id="cb818-6" d__=""><a href="#cb818-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf" d__="">return</span> ts<span class="op" d__="">-&gt;</span>tv_sec <span class="op" d__="">+</span> ts<span class="op" d__="">-&gt;</span>tv_nsec <span class="op" d__="">/</span> <span class="fl" d__="">1000000000.0</span><span class="op" d__="">;</span></span>
<span id="cb818-7"><a href="#cb818-7" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span>
<span id="cb818-8"><a href="#cb818-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb818-9"><a href="#cb818-9" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">// Convert a long double to a struct timespec</span></span>
<span id="cb818-10" d__=""><a href="#cb818-10" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">struct</span> timespec ld_to_timespec<span class="op" d__="">(</span><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> t<span class="op" d__="">)</span></span>
<span id="cb818-11"><a href="#cb818-11" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">{</span></span>
<span id="cb818-12" d__=""><a href="#cb818-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">long</span> <span class="dt" d__="">double</span> f<span class="op" d__="">;</span></span>
<span id="cb818-13" d__=""><a href="#cb818-13" aria-hidden="true" tabindex="-1"></a>    <span class="kw" d__="">struct</span> timespec ts<span class="op" d__="">;</span></span>
<span id="cb818-14" d__=""><a href="#cb818-14" aria-hidden="true" tabindex="-1"></a>    ts<span class="op" d__="">.</span>tv_nsec <span class="op" d__="">=</span> modfl<span class="op" d__="">(</span>t<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>f<span class="op" d__="">)</span> <span class="op" d__="">*</span> <span class="dv" d__="">1000000000</span><span class="bu" d__="">L</span><span class="op" d__="">;</span></span>
<span id="cb818-15" d__=""><a href="#cb818-15" aria-hidden="true" tabindex="-1"></a>    ts<span class="op" d__="">.</span>tv_sec <span class="op" d__="">=</span> f<span class="op" d__="">;</span></span>
<span id="cb818-16"><a href="#cb818-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb818-17" d__=""><a href="#cb818-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf" d__="">return</span> ts<span class="op" d__="">;</span></span>
<span id="cb818-18"><a href="#cb818-18" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-230" d__="">See Also</h3>
<p d__=""><a href="#man-time"><code s__="13" d__="">time()</code></a>, <a href="#man-mtx_timedlock"><code s__="13" d__="">mtx_timedlock()</code></a>, <a href="#man-cnd_timedwait"><code s__="13" d__="">cnd_timedwait()</code></a></p>
<hr>
<h2 data-number="29.8" id="man-asctime"><span class="header-section-number" d__="">29.8</span> <code d__="">asctime()</code></h2>
<p></p>
<p d__="">Return a human-readable version of a <code s__="13">struct tm</code></p>
<h3 class="unnumbered unlisted" id="synopsis-245" d__="">Synopsis</h3>
<div class="sourceCode" id="cb819"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb819-1"><a href="#cb819-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb819-2"><a href="#cb819-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb819-3" d__=""><a href="#cb819-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> <span class="op" d__="">*</span>asctime<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="kw" d__="">struct</span> tm <span class="op" d__="">*</span>timeptr<span class="op" d__="">)</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-245" d__="">Description</h3>
<p d__="">This takes a time in a <code s__="13">struct tm</code> and returns a string with that date in the form:</p>
<div class="sourceCode" id="cb820"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb820-1" d__=""><a href="#cb820-1" aria-hidden="true" tabindex="-1"></a>Sun Sep 16 01:03:52 1973</span></code></pre></div>
<p d__="">with a newline included at the end, rather unhelpfully. (<a href="#man-strftime"><code s__="13" d__="">strftime()</code></a> will give you more flexibility.)</p>
<p d__="">It’s just like <code s__="13">ctime()</code>, except it takes a <code s__="13">struct tm</code> instead of a <code s__="13">time_t</code>.</p>
<p d__=""><strong>WARNING</strong>: This function returns a pointer to a <code s__="13">static char*</code> region that isn’t thread-safe and might be shared with the <code s__="13">ctime()</code> function. If you need thread safety, use <code s__="13">strftime()</code> or use a mutex that covers <code s__="13">ctime()</code> and <code s__="13">asctime()</code>.</p>
<p d__="">Behavior is undefined for:</p>
<ul>
<li d__="">Years less than 1000</li>
<li d__="">Years greater than 9999</li>
<li d__="">Any members of <code s__="13">timeptr</code> are out of range</li>
</ul>
<h3 class="unnumbered unlisted" id="return-value-243" d__="">Return Value</h3>
<p d__="">Returns a pointer to the human-readable date string.</p>
<h3 class="unnumbered unlisted" id="example-247" d__="">Example</h3>
<div class="sourceCode" id="cb821"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb821-1"><a href="#cb821-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb821-2"><a href="#cb821-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb821-3"><a href="#cb821-3"></a></span>
<span id="cb821-4" d__=""><a href="#cb821-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb821-5"><a href="#cb821-5"></a><span class="op" d__="">{</span></span>
<span id="cb821-6" d__=""><a href="#cb821-6"></a>    <span class="dt" d__="">time_t</span> now <span class="op" d__="">=</span> time<span class="op" d__="">(</span>NULL<span class="op" d__="">);</span></span>
<span id="cb821-7"><a href="#cb821-7"></a></span>
<span id="cb821-8" d__=""><a href="#cb821-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Local: </span><span class="sc" d__="">%s</span><span class="st" d__="">"</span><span class="op" d__="">,</span> asctime<span class="op" d__="">(</span>localtime<span class="op" d__="">(&amp;</span>now<span class="op" d__="">)));</span></span>
<span id="cb821-9" d__=""><a href="#cb821-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"UTC  : </span><span class="sc" d__="">%s</span><span class="st" d__="">"</span><span class="op" d__="">,</span> asctime<span class="op" d__="">(</span>gmtime<span class="op" d__="">(&amp;</span>now<span class="op" d__="">)));</span></span>
<span id="cb821-10"><a href="#cb821-10"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Sample output:</p>
<div class="sourceCode" id="cb822"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb822-1" d__=""><a href="#cb822-1" aria-hidden="true" tabindex="-1"></a>Local: Mon Mar  1 21:17:34 2021</span>
<span id="cb822-2" d__=""><a href="#cb822-2" aria-hidden="true" tabindex="-1"></a>UTC  : Tue Mar  2 05:17:34 2021</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-231" d__="">See Also</h3>
<p d__=""><a href="#man-ctime"><code s__="13" d__="">ctime()</code></a>, <a href="#man-localtime"><code s__="13" d__="">localtime()</code></a>, <a href="#man-gmtime"><code s__="13" d__="">gmtime()</code></a></p>
<hr>
<h2 data-number="29.9" id="man-ctime"><span class="header-section-number" d__="">29.9</span> <code d__="">ctime()</code></h2>
<p></p>
<p d__="">Return a human-readable version of a <code s__="13">time_t</code></p>
<h3 class="unnumbered unlisted" id="synopsis-246" d__="">Synopsis</h3>
<div class="sourceCode" id="cb823"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb823-1"><a href="#cb823-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb823-2"><a href="#cb823-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb823-3" d__=""><a href="#cb823-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char</span> <span class="op" d__="">*</span>ctime<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">time_t</span> <span class="op" d__="">*</span>timer<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-246" d__="">Description</h3>
<p d__="">This takes a time in a <code s__="13">time_t</code> and returns a string with the local time and date in the form:</p>
<div class="sourceCode" id="cb824"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb824-1" d__=""><a href="#cb824-1" aria-hidden="true" tabindex="-1"></a>Sun Sep 16 01:03:52 1973</span></code></pre></div>
<p d__="">with a newline included at the end, rather unhelpfully. (<a href="#man-strftime"><code s__="13" d__="">strftime()</code></a> will give you more flexibility.)</p>
<p d__="">It’s just like <code s__="13">asctime()</code>, except it takes a <code s__="13">time_t</code> instead of a <code s__="13">struct tm</code>.</p>
<p d__=""><strong>WARNING</strong>: This function returns a pointer to a <code s__="13">static char*</code> region that isn’t thread-safe and might be shared with the <code s__="13">asctime()</code> function. If you need thread safety, use <code s__="13">strftime()</code> or use a mutex that covers <code s__="13">ctime()</code> and <code s__="13">asctime()</code>.</p>
<p d__="">Behavior is undefined for:</p>
<ul>
<li d__="">Years less than 1000</li>
<li d__="">Years greater than 9999</li>
<li d__="">Any members of <code s__="13">timeptr</code> are out of range</li>
</ul>
<h3 class="unnumbered unlisted" id="return-value-244" d__="">Return Value</h3>
<p d__="">A pointer to the human-readable local time and data string.</p>
<h3 class="unnumbered unlisted" id="example-248" d__="">Example</h3>
<div class="sourceCode" id="cb825"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb825-1" d__=""><a href="#cb825-1"></a><span class="dt" d__="">time_t</span> now <span class="op" d__="">=</span> time<span class="op" d__="">(</span>NULL<span class="op" d__="">);</span></span>
<span id="cb825-2"><a href="#cb825-2"></a></span>
<span id="cb825-3" d__=""><a href="#cb825-3"></a>printf<span class="op" d__="">(</span><span class="st" d__="">"Local: </span><span class="sc" d__="">%s</span><span class="st" d__="">"</span><span class="op" d__="">,</span> ctime<span class="op" d__="">(&amp;</span>now<span class="op" d__="">));</span></span></code></pre></div>
<p d__="">Sample output:</p>
<div class="sourceCode" id="cb826"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb826-1" d__=""><a href="#cb826-1" aria-hidden="true" tabindex="-1"></a>Local: Mon Mar  1 21:32:23 2021</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-232" d__="">See Also</h3>
<p><a href="#man-asctime"><code s__="13" d__="">asctime()</code></a></p>
<hr>
<h2 data-number="29.10" id="man-gmtime"><span class="header-section-number" d__="">29.10</span> <code d__="">gmtime()</code></h2>
<p></p>
<p d__="">Convert a calendar time into a UTC broken-down time</p>
<h3 class="unnumbered unlisted" id="synopsis-247" d__="">Synopsis</h3>
<div class="sourceCode" id="cb827"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb827-1"><a href="#cb827-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb827-2"><a href="#cb827-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb827-3" d__=""><a href="#cb827-3" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">struct</span> tm <span class="op" d__="">*</span>gmtime<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">time_t</span> <span class="op" d__="">*</span>timer<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-247" d__="">Description</h3>
<p d__="">If you have a <code s__="13">time_t</code>, you can run it through this function to get a <code s__="13">struct tm</code> back full of the corresponding broken-down UTC time information.</p>
<p d__="">This is just like <code s__="13">localtime()</code>, except it does UTC instead of local time.</p>
<p d__="">Once you have that <code s__="13">struct tm</code>, you can feed it to <code s__="13">strftime()</code> to print it out.</p>
<p d__=""><strong>WARNING</strong>: This function returns a pointer to a <code s__="13">static struct tm*</code> region that isn’t thread-safe and might be shared with the <code s__="13">localtime()</code> function. If you need thread safety use a mutex that covers <code s__="13">gmtime()</code> and <code s__="13">localtime()</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-245" d__="">Return Value</h3>
<p d__="">Returns a pointer to the broken-down UTC time, or <code s__="13">NULL</code> if it can’t be obtained.</p>
<h3 class="unnumbered unlisted" id="example-249" d__="">Example</h3>
<div class="sourceCode" id="cb828"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb828-1"><a href="#cb828-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb828-2"><a href="#cb828-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb828-3"><a href="#cb828-3"></a></span>
<span id="cb828-4" d__=""><a href="#cb828-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb828-5"><a href="#cb828-5"></a><span class="op" d__="">{</span></span>
<span id="cb828-6" d__=""><a href="#cb828-6"></a>    <span class="dt" d__="">time_t</span> now <span class="op" d__="">=</span> time<span class="op" d__="">(</span>NULL<span class="op" d__="">);</span></span>
<span id="cb828-7"><a href="#cb828-7"></a></span>
<span id="cb828-8" d__=""><a href="#cb828-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"UTC  : </span><span class="sc" d__="">%s</span><span class="st" d__="">"</span><span class="op" d__="">,</span> asctime<span class="op" d__="">(</span>gmtime<span class="op" d__="">(&amp;</span>now<span class="op" d__="">)));</span></span>
<span id="cb828-9" d__=""><a href="#cb828-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Local: </span><span class="sc" d__="">%s</span><span class="st" d__="">"</span><span class="op" d__="">,</span> asctime<span class="op" d__="">(</span>localtime<span class="op" d__="">(&amp;</span>now<span class="op" d__="">)));</span></span>
<span id="cb828-10"><a href="#cb828-10"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Sample output:</p>
<div class="sourceCode" id="cb829"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb829-1" d__=""><a href="#cb829-1" aria-hidden="true" tabindex="-1"></a>UTC  : Tue Mar  2 05:40:05 2021</span>
<span id="cb829-2" d__=""><a href="#cb829-2" aria-hidden="true" tabindex="-1"></a>Local: Mon Mar  1 21:40:05 2021</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-233" d__="">See Also</h3>
<p d__=""><a href="#man-localtime"><code s__="13" d__="">localtime()</code></a>, <a href="#man-asctime"><code s__="13" d__="">asctime()</code></a>, <a href="#man-strftime"><code s__="13" d__="">strftime()</code></a></p>
<hr>
<h2 data-number="29.11" id="man-localtime"><span class="header-section-number" d__="">29.11</span> <code d__="">localtime()</code></h2>
<p></p>
<p d__="">Convert a calendar time into a broken-down local time</p>
<h3 class="unnumbered unlisted" id="synopsis-248" d__="">Synopsis</h3>
<div class="sourceCode" id="cb830"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb830-1"><a href="#cb830-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb830-2"><a href="#cb830-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb830-3" d__=""><a href="#cb830-3" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">struct</span> tm <span class="op" d__="">*</span>localtime<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">time_t</span> <span class="op" d__="">*</span>timer<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-248" d__="">Description</h3>
<p d__="">If you have a <code s__="13">time_t</code>, you can run it through this function to get a <code s__="13">struct tm</code> back full of the corresponding broken-down local time information.</p>
<p d__="">This is just like <code s__="13">gmtime()</code>, except it does local time instead of UTC.</p>
<p d__="">Once you have that <code s__="13">struct tm</code>, you can feed it to <code s__="13">strftime()</code> to print it out.</p>
<p d__=""><strong>WARNING</strong>: This function returns a pointer to a <code s__="13">static struct tm*</code> region that isn’t thread-safe and might be shared with the <code s__="13">gmtime()</code> function. If you need thread safety use a mutex that covers <code s__="13">gmtime()</code> and <code s__="13">localtime()</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-246" d__="">Return Value</h3>
<p d__="">Returns a pointer to the broken-down local time, or <code s__="13">NULL</code> if it can’t be obtained.</p>
<h3 class="unnumbered unlisted" id="example-250" d__="">Example</h3>
<div class="sourceCode" id="cb831"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb831-1"><a href="#cb831-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb831-2"><a href="#cb831-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb831-3"><a href="#cb831-3"></a></span>
<span id="cb831-4" d__=""><a href="#cb831-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb831-5"><a href="#cb831-5"></a><span class="op" d__="">{</span></span>
<span id="cb831-6" d__=""><a href="#cb831-6"></a>    <span class="dt" d__="">time_t</span> now <span class="op" d__="">=</span> time<span class="op" d__="">(</span>NULL<span class="op" d__="">);</span></span>
<span id="cb831-7"><a href="#cb831-7"></a></span>
<span id="cb831-8" d__=""><a href="#cb831-8"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Local: </span><span class="sc" d__="">%s</span><span class="st" d__="">"</span><span class="op" d__="">,</span> asctime<span class="op" d__="">(</span>localtime<span class="op" d__="">(&amp;</span>now<span class="op" d__="">)));</span></span>
<span id="cb831-9" d__=""><a href="#cb831-9"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"UTC  : </span><span class="sc" d__="">%s</span><span class="st" d__="">"</span><span class="op" d__="">,</span> asctime<span class="op" d__="">(</span>gmtime<span class="op" d__="">(&amp;</span>now<span class="op" d__="">)));</span></span>
<span id="cb831-10"><a href="#cb831-10"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Sample output:</p>
<div class="sourceCode" id="cb832"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb832-1" d__=""><a href="#cb832-1" aria-hidden="true" tabindex="-1"></a>Local: Mon Mar  1 21:40:05 2021</span>
<span id="cb832-2" d__=""><a href="#cb832-2" aria-hidden="true" tabindex="-1"></a>UTC  : Tue Mar  2 05:40:05 2021</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-234" d__="">See Also</h3>
<p d__=""><a href="#man-gmtime"><code s__="13" d__="">gmtime()</code></a>, <a href="#man-asctime"><code s__="13" d__="">asctime()</code></a>, <a href="#man-strftime"><code s__="13" d__="">strftime()</code></a></p>
<hr>
<h2 data-number="29.12" id="man-strftime"><span class="header-section-number" d__="">29.12</span> <code d__="">strftime()</code></h2>
<p></p>
<p d__="">Formatted date and time output</p>
<h3 class="unnumbered unlisted" id="synopsis-249" d__="">Synopsis</h3>
<div class="sourceCode" id="cb833"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb833-1"><a href="#cb833-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb833-2"><a href="#cb833-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb833-3" d__=""><a href="#cb833-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">size_t</span> strftime<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> maxsize<span class="op" d__="">,</span></span>
<span id="cb833-4" d__=""><a href="#cb833-4" aria-hidden="true" tabindex="-1"></a>                <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> format<span class="op" d__="">,</span></span>
<span id="cb833-5" d__=""><a href="#cb833-5" aria-hidden="true" tabindex="-1"></a>                <span class="dt" d__="">const</span> <span class="kw" d__="">struct</span> tm <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> timeptr<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-249" d__="">Description</h3>
<p d__="">This is the <a href="#man-printf"><code s__="13" d__="">sprintf()</code></a> of date and time functions. It’ll take a <code s__="13">struct tm</code> and produce a string in just about whatever form you desire, for example:</p>
<div class="sourceCode" id="cb834"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb834-1" d__=""><a href="#cb834-1" aria-hidden="true" tabindex="-1"></a>2021-03-01</span>
<span id="cb834-2" d__=""><a href="#cb834-2" aria-hidden="true" tabindex="-1"></a>Monday, March 1 at 9:54 PM</span>
<span id="cb834-3" d__=""><a href="#cb834-3" aria-hidden="true" tabindex="-1"></a>It's Monday!</span></code></pre></div>
<p d__="">It’s a super flexible version of <code s__="13">asctime()</code>. And thread-safe, besides, since it doesn’t rely on a static buffer to hold the results.</p>
<p d__="">Basically what you do is give it a destination, <code s__="13">s</code>, and its max size in bytes in <code s__="13">maxsize</code>. Also, provide a <code s__="13">format</code> string that’s analogous to <code s__="13">printf()</code>’s format string, but with different format specifiers. And lastly, a <code s__="13">struct tm</code> with the broken-down time information to use for printing.</p>
<p d__="">The <code s__="13">format</code> string works like this, for example:</p>
<div class="sourceCode" id="cb835"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb835-1"><a href="#cb835-1" aria-hidden="true" tabindex="-1"></a><span class="st" d__="">"It's </span><span class="sc" d__="">%A</span><span class="st" d__="">, %B </span><span class="sc" d__="">%d</span><span class="st" d__="">!"</span></span></code></pre></div>
<p d__="">Which produces:</p>
<div class="sourceCode" id="cb836"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb836-1" d__=""><a href="#cb836-1" aria-hidden="true" tabindex="-1"></a>It's Monday, March 1!</span></code></pre></div>
<p d__="">The <code s__="13">%A</code> is the full day-of-week name, the <code s__="13">%B</code> is the full month name, and the <code s__="13">%d</code> is the day of the month. <code s__="13">strftime()</code> substitutes the right thing to produce the result. Brilliant!</p>
<p d__="">So what are all the format specifiers? Glad you asked!</p>
<p d__="">I’m going to be lazy and just drop this table in right from the spec.</p>
<table>
<colgroup>
<col style="width: 10%">
<col style="width: 89%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Specifier</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">%a</code></td>
<td d__="">Locale’s abbreviated weekday name. [<code s__="13">tm_wday</code>]</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">%A</code></td>
<td d__="">Locale’s full weekday name. [<code s__="13">tm_wday</code>]</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">%b</code></td>
<td d__="">Locale’s abbreviated month name. [<code s__="13">tm_mon</code>]</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">%B</code></td>
<td d__="">Locale’s full month name. [<code s__="13">tm_mon</code>]</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">%c</code></td>
<td d__="">Locale’s appropriate date and time representation.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">%C</code></td>
<td d__="">Year divided by 100 and truncated to an integer, as a decimal number (00–99). [<code s__="13">tm_year</code>]</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">%d</code></td>
<td d__="">Day of the month as a decimal number (01–31). [<code s__="13">tm_mday</code>]</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">%D</code></td>
<td d__="">Equivalent to <code s__="13">"%m/%d/%y"</code>. [<code s__="13">tm_mon</code>, <code s__="13">tm_mday</code>, <code s__="13">tm_year</code>]</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">%e</code></td>
<td d__="">Day of the month as a decimal number (1–31); a single digit is preceded by a space. [<code s__="13">tm_mday</code>]</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">%F</code></td>
<td d__="">Equivalent to “%Y-%m-%d” (the ISO 8601 date format). [<code s__="13">tm_year</code>, <code s__="13">tm_mon</code>, <code s__="13">tm_mday</code>]</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">%g</code></td>
<td d__="">Last 2 digits of the week-based year (see below) as a decimal number (00–99). [<code s__="13">tm_year</code>, <code s__="13">tm_wday</code>, <code s__="13">tm_yday</code>]</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">%G</code></td>
<td d__="">Week-based year (see below) as a decimal number (e.g., 1997). [<code s__="13">tm_year</code>, <code s__="13">tm_wday</code>, <code s__="13">tm_yday</code>]</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">%h</code></td>
<td d__="">Equivalent to “%b”. [<code s__="13">tm_mon</code>]</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">%H</code></td>
<td d__="">Hour (24-hour clock) as a decimal number (00–23). [<code s__="13">tm_hour</code>]</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">%I</code></td>
<td d__="">Hour (12-hour clock) as a decimal number (01–12). [<code s__="13">tm_hour</code>]</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">%j</code></td>
<td d__="">Day of the year as a decimal number (001–366). [<code s__="13">tm_yday</code>]</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">%m</code></td>
<td d__="">Month as a decimal number (01–12).</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">%M</code></td>
<td d__="">Minute as a decimal number (00–59). [<code s__="13">tm_min</code>]</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">%n</code></td>
<td d__="">A new-line character.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">%p</code></td>
<td d__="">Locale’s equivalent of the AM/PM designations associated with a 12-hour clock. [<code s__="13">tm_hour</code>]</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">%r</code></td>
<td d__="">Locale’s 12-hour clock time. [<code s__="13">tm_hour</code>, <code s__="13">tm_min</code>, <code s__="13">tm_sec</code>]</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">%R</code></td>
<td d__="">Equivalent to <code s__="13">"%H:%M"</code>. [<code s__="13">tm_hour</code>, <code s__="13">tm_min</code>]</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">%S</code></td>
<td d__="">Second as a decimal number (00–60). [<code s__="13">tm_sec</code>]</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">%t</code></td>
<td d__="">A horizontal-tab character.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">%T</code></td>
<td d__="">Equivalent to <code s__="13">"%H:%M:%S"</code> (the ISO 8601 time format). [<code s__="13">tm_hour</code>, <code s__="13">tm_min</code>, <code s__="13">tm_sec</code>]</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">%u</code></td>
<td d__="">ISO 8601 weekday as a decimal number (1–7), where Monday is 1. [<code s__="13">tm_wday</code>]</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">%U</code></td>
<td d__="">Week number of the year (the first Sunday as the first day of week 1) as a decimal number (00–53). [<code s__="13">tm_year</code>, <code s__="13">tm_wday</code>, <code s__="13">tm_yday</code>]</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">%V</code></td>
<td d__="">ISO 8601 week number (see below) as a decimal number (01–53). [<code s__="13">tm_year</code>, <code s__="13">tm_wday</code>, <code s__="13">tm_yday</code>]</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">%w</code></td>
<td d__="">Weekday as a decimal number (0–6), where Sunday is 0.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">%W</code></td>
<td d__="">Week number of the year (the first Monday as the first day of week 1) as a decimal number (00–53). [<code s__="13">tm_year</code>, <code s__="13">tm_wday</code>, <code s__="13">tm_yday</code>]</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">%x</code></td>
<td d__="">Locale’s appropriate date representation.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">%X</code></td>
<td d__="">Locale’s appropriate time representation.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">%y</code></td>
<td d__="">Last 2 digits of the year as a decimal number (00–99). [<code s__="13">tm_year</code>]</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">%Y</code></td>
<td d__="">Year as a decimal number (e.g., 1997). [<code s__="13">tm_year</code>]</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">%z</code></td>
<td d__="">Offset from UTC in the ISO 8601 format <code s__="13">"-0430"</code> (meaning 4 hours 30 minutes behind UTC, west of Greenwich), or by no characters if no time zone is determinable. [<code s__="13">tm_isdst</code>]</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">%Z</code></td>
<td d__="">Locale’s time zone name or abbreviation, or by no characters if no time zone is determinable. [<code s__="13">tm_isdst</code>]</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">%%</code></td>
<td d__="">A plain ol’ %</td>
</tr>
</tbody>
</table>
<p d__="">Phew. That’s love.</p>
<p d__=""><code s__="13">%G</code>, <code s__="13">%g</code>, and <code s__="13">%v</code>
 are a little funky in that they use something called the ISO 8601 
week-based year. I’d never heard of it. But, again stealing from the 
spec, these are the rules:</p>
<blockquote>
<p d__=""><code s__="13">%g</code>, <code s__="13">%G</code>, and <code s__="13">%V</code>
 give values according to the ISO 8601 week-based year. In this system, 
weeks begin on a Monday and week 1 of the year is the week that includes
 January 4th, which is also the week that includes the first Thursday of
 the year, and is also the first week that contains at least four days 
in the year. If the first Monday of January is the 2nd, 3rd, or 4th, the
 preceding days are part of the last week of the preceding year; thus, 
for Saturday 2nd January 1999, <code s__="13">%G</code> is replaced by <code s__="13">1998</code> and <code s__="13">%V</code> is replaced by <code s__="13">53</code>.
 If December 29th, 30th, or 31st is a Monday, it and any following days 
are part of week 1 of the following year. Thus, for Tuesday 30th 
December 1997, <code s__="13">%G</code> is replaced by <code s__="13">1998</code> and <code s__="13">%V</code> is replaced by <code s__="13">01</code>.</p>
</blockquote>
<p d__="">Learn something new every day! If you want to know more, <a href="https://en.wikipedia.org/wiki/ISO_week_date" d__="">Wikipedia has a page on it</a><a href="#fn77" class="footnote-ref" id="fnref77" role="doc-noteref"><sup s__="13" d__="">77</sup></a>.</p>
<p d__="">If you’re in the “C” locale, the specifiers produce the following (again, stolen from the spec):</p>
<table>
<thead>
<tr class="header">
<th d__="">Specifier</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">%a</code></td>
<td d__="">The first three characters of <code s__="13">%A</code>.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">%A</code></td>
<td d__="">One of <code s__="13">Sunday</code>, <code s__="13">Monday</code>, … , <code s__="13">Saturday</code>.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">%b</code></td>
<td d__="">The first three characters of <code s__="13">%B</code>.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">%B</code></td>
<td d__="">One of <code s__="13">January</code>, <code s__="13">February</code>, … , <code s__="13">December</code>.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">%c</code></td>
<td d__="">Equivalent to <code s__="13">%a %b %e %T %Y</code>.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">%p</code></td>
<td d__="">One of <code s__="13">AM</code> or <code s__="13">PM</code>.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">%r</code></td>
<td d__="">Equivalent to <code s__="13">%I:%M:%S %p</code>.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">%x</code></td>
<td d__="">Equivalent to <code s__="13">%m/%d/%y</code>.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">%X</code></td>
<td d__="">Equivalent to <code s__="13">%T</code>.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">%Z</code></td>
<td d__="">Implementation-defined.</td>
</tr>
</tbody>
</table>
<p d__="">There are additional variants of the format specifiers that 
indicate you want to use a locale’s alternative format. These don’t 
exist for all locales. It’s one of the format specifies above, with 
either an <code s__="13">E</code> or <code s__="13">O</code> prefix:</p>
<div class="sourceCode" id="cb837"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb837-1" d__=""><a href="#cb837-1" aria-hidden="true" tabindex="-1"></a>%Ec %EC %Ex %EX %Ey %EY %Od %Oe %OH %OI</span>
<span id="cb837-2" d__=""><a href="#cb837-2" aria-hidden="true" tabindex="-1"></a>%Om %OM %OS %Ou %OU %OV %Ow %OW %Oy</span></code></pre></div>
<p d__="">The <code s__="13">E</code> and <code s__="13">O</code> prefixes are ignored in the “C” locale.</p>
<h3 class="unnumbered unlisted" id="return-value-247" d__="">Return Value</h3>
<p d__="">Returns the total number of bytes put into the result string, not including the NUL terminator.</p>
<p d__="">If the result doesn’t fit in the string, zero is returned and the value in <code s__="13">s</code> is indeterminate.</p>
<h3 class="unnumbered unlisted" id="example-251" d__="">Example</h3>
<div class="sourceCode" id="cb838"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb838-1"><a href="#cb838-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb838-2"><a href="#cb838-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb838-3"><a href="#cb838-3"></a></span>
<span id="cb838-4" d__=""><a href="#cb838-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb838-5"><a href="#cb838-5"></a><span class="op" d__="">{</span></span>
<span id="cb838-6" d__=""><a href="#cb838-6"></a>    <span class="dt" d__="">char</span> s<span class="op" d__="">[</span><span class="dv" d__="">128</span><span class="op" d__="">];</span></span>
<span id="cb838-7" d__=""><a href="#cb838-7"></a>    <span class="dt" d__="">time_t</span> now <span class="op" d__="">=</span> time<span class="op" d__="">(</span>NULL<span class="op" d__="">);</span></span>
<span id="cb838-8"><a href="#cb838-8"></a></span>
<span id="cb838-9"><a href="#cb838-9"></a>    <span class="co" d__="">// %c: print date as per current locale</span></span>
<span id="cb838-10" d__=""><a href="#cb838-10"></a>    strftime<span class="op" d__="">(</span>s<span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span> s<span class="op" d__="">,</span> <span class="st" d__="">"</span><span class="sc" d__="">%c</span><span class="st" d__="">"</span><span class="op" d__="">,</span> localtime<span class="op" d__="">(&amp;</span>now<span class="op" d__="">));</span></span>
<span id="cb838-11" d__=""><a href="#cb838-11"></a>    puts<span class="op" d__="">(</span>s<span class="op" d__="">);</span>   <span class="co" d__="">// Sun Feb 28 22:29:00 2021</span></span>
<span id="cb838-12"><a href="#cb838-12"></a></span>
<span id="cb838-13"><a href="#cb838-13"></a>    <span class="co" d__="">// %A: full weekday name</span></span>
<span id="cb838-14"><a href="#cb838-14"></a>    <span class="co" d__="">// %B: full month name</span></span>
<span id="cb838-15"><a href="#cb838-15"></a>    <span class="co" d__="">// %d: day of the month</span></span>
<span id="cb838-16" d__=""><a href="#cb838-16"></a>    strftime<span class="op" d__="">(</span>s<span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span> s<span class="op" d__="">,</span> <span class="st" d__="">"</span><span class="sc" d__="">%A</span><span class="st" d__="">, %B </span><span class="sc" d__="">%d</span><span class="st" d__="">"</span><span class="op" d__="">,</span> localtime<span class="op" d__="">(&amp;</span>now<span class="op" d__="">));</span></span>
<span id="cb838-17" d__=""><a href="#cb838-17"></a>    puts<span class="op" d__="">(</span>s<span class="op" d__="">);</span>   <span class="co" d__="">// Sunday, February 28</span></span>
<span id="cb838-18"><a href="#cb838-18"></a></span>
<span id="cb838-19"><a href="#cb838-19"></a>    <span class="co" d__="">// %I: hour (12 hour clock)</span></span>
<span id="cb838-20"><a href="#cb838-20"></a>    <span class="co" d__="">// %M: minute</span></span>
<span id="cb838-21"><a href="#cb838-21"></a>    <span class="co" d__="">// %S: second</span></span>
<span id="cb838-22"><a href="#cb838-22"></a>    <span class="co" d__="">// %p: AM or PM</span></span>
<span id="cb838-23" d__=""><a href="#cb838-23"></a>    strftime<span class="op" d__="">(</span>s<span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span> s<span class="op" d__="">,</span> <span class="st" d__="">"It's %I:%M:%S </span><span class="sc" d__="">%p</span><span class="st" d__="">"</span><span class="op" d__="">,</span> localtime<span class="op" d__="">(&amp;</span>now<span class="op" d__="">));</span></span>
<span id="cb838-24" d__=""><a href="#cb838-24"></a>    puts<span class="op" d__="">(</span>s<span class="op" d__="">);</span>   <span class="co" d__="">// It's 10:29:00 PM</span></span>
<span id="cb838-25"><a href="#cb838-25"></a></span>
<span id="cb838-26"><a href="#cb838-26"></a>    <span class="co" d__="">// %F: ISO 8601 yyyy-mm-dd</span></span>
<span id="cb838-27"><a href="#cb838-27"></a>    <span class="co" d__="">// %T: ISO 8601 hh:mm:ss</span></span>
<span id="cb838-28"><a href="#cb838-28"></a>    <span class="co" d__="">// %z: ISO 8601 time zone offset</span></span>
<span id="cb838-29" d__=""><a href="#cb838-29"></a>    strftime<span class="op" d__="">(</span>s<span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span> s<span class="op" d__="">,</span> <span class="st" d__="">"ISO 8601: </span><span class="sc" d__="">%F</span><span class="st" d__="">T%T%z"</span><span class="op" d__="">,</span> localtime<span class="op" d__="">(&amp;</span>now<span class="op" d__="">));</span></span>
<span id="cb838-30" d__=""><a href="#cb838-30"></a>    puts<span class="op" d__="">(</span>s<span class="op" d__="">);</span>   <span class="co" d__="">// ISO 8601: 2021-02-28T22:29:00-0800</span></span>
<span id="cb838-31"><a href="#cb838-31"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-235" d__="">See Also</h3>
<p d__=""><a href="#man-ctime"><code s__="13" d__="">ctime()</code></a>, <a href="#man-asctime"><code s__="13" d__="">asctime()</code></a></p>
<!--
***
## `example()`, `example()`, `example()` {#man-example}

### Synopsis {.unnumbered .unlisted}

``` {.c}
```

### Description {.unnumbered .unlisted}

### Return Value {.unnumbered .unlisted}

### Example {.unnumbered .unlisted}

``` {.c .numberLines}
```

### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="30" id="uchar" d__=""><span class="header-section-number">30</span> <code>&lt;uchar.h&gt;</code> Unicode utility functions</h1>
<table>
<colgroup>
<col style="width: 26%">
<col style="width: 73%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Function</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#man-c16rtomb"><code s__="13" d__="">c16rtomb()</code></a></td>
<td d__="">Convert a <code s__="13">char16_t</code> to a multibyte character</td>
</tr>
<tr class="even">
<td><a href="#man-c16rtomb"><code s__="13" d__="">c32rtomb()</code></a></td>
<td d__="">Convert a <code s__="13">char32_t</code> to a multibyte character</td>
</tr>
<tr class="odd">
<td><a href="#man-mbrtoc16"><code s__="13" d__="">mbrtoc16()</code></a></td>
<td d__="">Convert a multibyte character to a <code s__="13">char16_t</code></td>
</tr>
<tr class="even">
<td><a href="#man-mbrtoc16"><code s__="13" d__="">mbrtoc32()</code></a></td>
<td d__="">Convert a multibyte character to a <code s__="13">char32_t</code></td>
</tr>
</tbody>
</table>
<p d__="">These functions are <em>restartable</em>, meaning multiple 
threads can safely call them at once. They handle this by having their 
own conversion state variable (of type <code s__="13">mbstate_t</code>) per call.</p>
<h2 data-number="30.1" id="types" d__=""><span class="header-section-number">30.1</span> Types</h2>
<p d__="">This header file defines four types.</p>
<p> </p>
<table>
<colgroup>
<col style="width: 21%">
<col style="width: 78%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Type</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">char16_t</code></td>
<td d__="">Type to hold 16-bit characters</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">char32_t</code></td>
<td d__="">Type to hold 32-bit characters</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">mbstate_t</code></td>
<td d__="">Holds the conversion state for restartable funcitons (also defined in <a href="#wchar"><code s__="13" d__="">&lt;wchar.h&gt;</code></a>)</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">size_t</code></td>
<td d__="">To hold various counts (also defined in <a href="#stddef"><code s__="13" d__="">&lt;stddef.h&gt;</code></a>)</td>
</tr>
</tbody>
</table>
<p d__="">String literals for the character types are <code s__="13">u</code> for <code s__="13">char16_t</code> and <code s__="13">U</code> for <code s__="13">char32_t</code>.</p>
<div class="sourceCode" id="cb839"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb839-1" d__=""><a href="#cb839-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char16_t</span> <span class="op" d__="">*</span>str1 <span class="op" d__="">=</span> <span class="st" d__="">u"Hello, world!"</span><span class="op" d__="">;</span></span>
<span id="cb839-2" d__=""><a href="#cb839-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char32_t</span> <span class="op" d__="">*</span>str2 <span class="op" d__="">=</span> <span class="st" d__="">U"Hello, world!"</span><span class="op" d__="">;</span></span>
<span id="cb839-3"><a href="#cb839-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb839-4" d__=""><a href="#cb839-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char16_t</span> <span class="op" d__="">*</span>chr1 <span class="op" d__="">=</span> <span class="ch" d__="">u'A'</span><span class="op" d__="">;</span></span>
<span id="cb839-5" d__=""><a href="#cb839-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">char32_t</span> <span class="op" d__="">*</span>chr2 <span class="op" d__="">=</span> <span class="ch" d__="">U'B'</span><span class="op" d__="">;</span></span></code></pre></div>
<p d__="">Note that <code s__="13">char16_t</code> and <code s__="13">char32_t</code> <em>might</em> contain Unicode. Or not. If <code s__="13">__STDC_UTF_16__</code> or <code s__="13">__STDC_UTF_32__</code> is defined as <code s__="13">1</code>, then <code s__="13">char16_t</code> and <code s__="13">char32_t</code>
 use Unicode, respectively. Otherwise they don’t and the actual value 
stored depend on the locale. And if you’re not using Unicode, you have 
my commiserations.</p>
<h2 data-number="30.2" id="os-x-issue" d__=""><span class="header-section-number">30.2</span> OS X issue</h2>
<p d__="">This header file doesn’t exist on OS X—bummer. If you just want the types, you can:</p>
<div class="sourceCode" id="cb840"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb840-1"><a href="#cb840-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdint.h&gt;</span></span>
<span id="cb840-2"><a href="#cb840-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb840-3"><a href="#cb840-3" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">typedef</span> <span class="dt" d__="">int_least16_t</span> <span class="dt" d__="">char16_t</span><span class="op" d__="">;</span></span>
<span id="cb840-4"><a href="#cb840-4" aria-hidden="true" tabindex="-1"></a><span class="kw" d__="">typedef</span> <span class="dt" d__="">int_least32_t</span> <span class="dt" d__="">char32_t</span><span class="op" d__="">;</span></span></code></pre></div>
<p d__="">But if you also want the functions, that’s all on you.</p>
<hr>
<h2 data-number="30.3" id="man-mbrtoc16"><span class="header-section-number" d__="">30.3</span> <code d__="">mbrtoc16()</code> <code d__="">mbrtoc32()</code></h2>
<p> </p>
<p d__="">Convert a multibyte character to a <code s__="13">char16_t</code> or <code s__="13">char32_t</code> restartably</p>
<h3 class="unnumbered unlisted" id="synopsis-250" d__="">Synopsis</h3>
<div class="sourceCode" id="cb841"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb841-1"><a href="#cb841-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;uchar.h&gt;</span></span>
<span id="cb841-2"><a href="#cb841-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb841-3" d__=""><a href="#cb841-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">size_t</span> mbrtoc16<span class="op" d__="">(</span><span class="dt" d__="">char16_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> pc16<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">,</span></span>
<span id="cb841-4" d__=""><a href="#cb841-4" aria-hidden="true" tabindex="-1"></a>                mbstate_t <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> ps<span class="op" d__="">);</span></span>
<span id="cb841-5"><a href="#cb841-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb841-6" d__=""><a href="#cb841-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">size_t</span> mbrtoc32<span class="op" d__="">(</span><span class="dt" d__="">char32_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> pc32<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">,</span></span>
<span id="cb841-7" d__=""><a href="#cb841-7" aria-hidden="true" tabindex="-1"></a>                mbstate_t <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> ps<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-250" d__="">Description</h3>
<p d__="">Given a source string <code s__="13">s</code> and a destination buffer <code s__="13">pc16</code> (or <code s__="13">pc32</code> for <code s__="13">mbrtoc32()</code>), convert the first character of the source to <code s__="13">char16_t</code>s (or <code s__="13">char32_t</code>s for <code s__="13">mbrtoc32()</code>).</p>
<p d__="">Basically you have a regular character and you want it as <code s__="13">char16_t</code> or <code s__="13">char32_t</code>. Use these functions to do it. Note that only one character is converted no matter how many characters in <code s__="13">s</code>.</p>
<p d__="">As the functions scan <code s__="13">s</code>, you don’t want them to overrun the end. So you pass in <code s__="13">n</code>
 as the maximum number of bytes to inspect. The functions will quit 
after that many bytes or when they have a complete multibyte character, 
whichever comes first.</p>
<p d__="">Since they’re restartable, pass in a conversion state variable for the functions to do their work.</p>
<p d__="">And the result will be placed in <code s__="13">pc16</code> (or <code s__="13">pc32</code> for <code s__="13">mbrtoc32()</code>).</p>
<h3 class="unnumbered unlisted" id="return-value-248" d__="">Return Value</h3>
<p d__="">When successful this function returns a number between <code s__="13">1</code> and <code s__="13">n</code> inclusive representing the number of bytes that made up the multibyte character.</p>
<p d__="">Or, also in the success category, they can return <code s__="13">0</code> if the source character is the NUL character (value <code s__="13">0</code>).</p>
<p d__="">When not entirely successful, they can return a variety of codes. These are all of type <code s__="13">size_t</code>, but negative values cast to that type.</p>
<table>
<colgroup>
<col style="width: 21%">
<col style="width: 78%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Return Value</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">(size_t)(-1)</code></td>
<td d__="">Encoding error—this isn’t a valid sequence of bytes. <code s__="13">errno</code> is set to <code s__="13">EILSEQ</code>.</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">(size_t)(-2)</code></td>
<td d__=""><code s__="13">n</code> bytes were examined and were a <em>partial</em> valid character, but not a complete one.</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">(size_t)(-3)</code></td>
<td d__="">A subsequent value of a character that can’t be represented as a single value. See below.</td>
</tr>
</tbody>
</table>
<p d__="">Case <code s__="13">(size_t)(-3)</code> is an odd one. Basically there are some characters that can’t be represented with 16 bits and so can’t be stored in a <code s__="13">char16_t</code>. These characters are store in something called (in the Unicode world) <em>surrogate pairs</em>. That is, there are <em>two</em> 16-bit values back to back that represent a larger Unicode value.</p>
<p d__="">For example, if you want to read the Unicode character <code s__="13">\U0001fbc5</code> (which is a <a href="https://en.wikipedia.org/wiki/Symbols_for_Legacy_Computing" d__="">stick figure</a><a href="#fn78" class="footnote-ref" id="fnref78" role="doc-noteref"><sup s__="13" d__="">78</sup></a>—I’m just not putting it in the text because my font doesn’t render it) that’s more than 16 bits. But each call to <code s__="13">mbrtoc16()</code> only returns a single <code s__="13">char16_t</code>!</p>
<p d__="">So subsequent calls to <code s__="13">mbrtoc16()</code> resolves the <em>next</em> value in the surrogate pair and returns <code s__="13">(size_t)(-3)</code> to let you know this has happened.</p>
<p d__="">You can also pass <code s__="13">NULL</code> for <code s__="13">pc16</code> or <code s__="13">pc32</code>. This will cause no result to be stored, but you can use it if you’re only interested in the return value from the functions.</p>
<p d__="">Finally, if you pass <code s__="13">NULL</code> for <code s__="13">s</code>, the call is equivalent to:</p>
<div class="sourceCode" id="cb842"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb842-1" d__=""><a href="#cb842-1" aria-hidden="true" tabindex="-1"></a>mbrtoc16<span class="op" d__="">(</span>NULL<span class="op" d__="">,</span> <span class="st" d__="">""</span><span class="op" d__="">,</span> <span class="dv" d__="">1</span><span class="op" d__="">,</span> ps<span class="op" d__="">)</span></span></code></pre></div>
<p d__="">Since the character is a NUL in that case, this has the effect of setting the state in <code s__="13">ps</code> to the initial conversion state.</p>
<h3 class="unnumbered unlisted" id="example-252" d__="">Example</h3>
<p d__="">Normal use case example where we get the first two character values from the multibyte string <code s__="13">"€Zillion"</code>:</p>
<div class="sourceCode" id="cb843"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb843-1"><a href="#cb843-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;uchar.h&gt;</span></span>
<span id="cb843-2"><a href="#cb843-2" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span><span class="pp">   </span><span class="co" d__="">// for printf()</span></span>
<span id="cb843-3"><a href="#cb843-3" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;locale.h&gt;</span><span class="pp">  </span><span class="co" d__="">// for setlocale()</span></span>
<span id="cb843-4"><a href="#cb843-4" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span><span class="pp">  </span><span class="co" d__="">// for memset()</span></span>
<span id="cb843-5"><a href="#cb843-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb843-6" d__=""><a href="#cb843-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb843-7"><a href="#cb843-7" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">{</span></span>
<span id="cb843-8" d__=""><a href="#cb843-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s <span class="op" d__="">=</span> <span class="st" d__="">"</span><span class="sc" d__="">\u20ac</span><span class="st" d__="">Zillion"</span><span class="op" d__="">;</span>  <span class="co" d__="">// 20ac is "€"</span></span>
<span id="cb843-9" d__=""><a href="#cb843-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">char16_t</span> pc16<span class="op" d__="">;</span></span>
<span id="cb843-10" d__=""><a href="#cb843-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt" d__="">size_t</span> r<span class="op" d__="">;</span></span>
<span id="cb843-11" d__=""><a href="#cb843-11" aria-hidden="true" tabindex="-1"></a>    mbstate_t mbs<span class="op" d__="">;</span></span>
<span id="cb843-12"><a href="#cb843-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb843-13" d__=""><a href="#cb843-13" aria-hidden="true" tabindex="-1"></a>    setlocale<span class="op" d__="">(</span>LC_ALL<span class="op" d__="">,</span> <span class="st" d__="">""</span><span class="op" d__="">);</span></span>
<span id="cb843-14" d__=""><a href="#cb843-14" aria-hidden="true" tabindex="-1"></a>    memset<span class="op" d__="">(&amp;</span>mbs<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span> mbs<span class="op" d__="">);</span></span>
<span id="cb843-15"><a href="#cb843-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb843-16"><a href="#cb843-16" aria-hidden="true" tabindex="-1"></a>    <span class="co" d__="">// Examine the next 8 bytes to see if there's a character in there</span></span>
<span id="cb843-17" d__=""><a href="#cb843-17" aria-hidden="true" tabindex="-1"></a>    r <span class="op" d__="">=</span> mbrtoc16<span class="op" d__="">(&amp;</span>pc16<span class="op" d__="">,</span> s<span class="op" d__="">,</span> <span class="dv" d__="">8</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>mbs<span class="op" d__="">);</span></span>
<span id="cb843-18"><a href="#cb843-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb843-19" d__=""><a href="#cb843-19" aria-hidden="true" tabindex="-1"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%zu\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> r<span class="op" d__="">);</span>     <span class="co" d__="">// Prints a value &gt;= 1 (3 in UTF-8 locale)</span></span>
<span id="cb843-20" d__=""><a href="#cb843-20" aria-hidden="true" tabindex="-1"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%#x\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> pc16<span class="op" d__="">);</span>  <span class="co" d__="">// Prints 0x20ac for "€"</span></span>
<span id="cb843-21"><a href="#cb843-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb843-22" d__=""><a href="#cb843-22" aria-hidden="true" tabindex="-1"></a>    s <span class="op" d__="">+=</span> r<span class="op" d__="">;</span>  <span class="co" d__="">// Move to next character</span></span>
<span id="cb843-23"><a href="#cb843-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb843-24"><a href="#cb843-24" aria-hidden="true" tabindex="-1"></a>    <span class="co" d__="">// Examine the next 8 bytes to see if there's a character in there</span></span>
<span id="cb843-25" d__=""><a href="#cb843-25" aria-hidden="true" tabindex="-1"></a>    r <span class="op" d__="">=</span> mbrtoc16<span class="op" d__="">(&amp;</span>pc16<span class="op" d__="">,</span> s<span class="op" d__="">,</span> <span class="dv" d__="">8</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>mbs<span class="op" d__="">);</span></span>
<span id="cb843-26"><a href="#cb843-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb843-27" d__=""><a href="#cb843-27" aria-hidden="true" tabindex="-1"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%zu\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> r<span class="op" d__="">);</span>     <span class="co" d__="">// Prints 1</span></span>
<span id="cb843-28" d__=""><a href="#cb843-28" aria-hidden="true" tabindex="-1"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%#x\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> pc16<span class="op" d__="">);</span>  <span class="co" d__="">// Prints 0x5a for "Z"</span></span>
<span id="cb843-29"><a href="#cb843-29" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Example with a surrogate pair. In this case we read plenty to get the entire character, but the result must be stored in two <code s__="13">char16_t</code>s, requiring two calls to get them both.</p>
<div class="sourceCode" id="cb844"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb844-1"><a href="#cb844-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;uchar.h&gt;</span></span>
<span id="cb844-2"><a href="#cb844-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span><span class="pp">   </span><span class="co" d__="">// for printf()</span></span>
<span id="cb844-3"><a href="#cb844-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span><span class="pp">  </span><span class="co" d__="">// for memset()</span></span>
<span id="cb844-4"><a href="#cb844-4"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;locale.h&gt;</span><span class="pp">  </span><span class="co" d__="">// for setlocale()</span></span>
<span id="cb844-5"><a href="#cb844-5"></a></span>
<span id="cb844-6" d__=""><a href="#cb844-6"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb844-7"><a href="#cb844-7"></a><span class="op" d__="">{</span></span>
<span id="cb844-8" d__=""><a href="#cb844-8"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>s <span class="op" d__="">=</span> <span class="st" d__="">"</span><span class="sc" d__="">\U0001fbc5</span><span class="st" d__="">*"</span><span class="op" d__="">;</span>   <span class="co" d__="">// Stick figure glyph, more than 16 bits</span></span>
<span id="cb844-9" d__=""><a href="#cb844-9"></a>    <span class="dt" d__="">char16_t</span> pc16<span class="op" d__="">;</span></span>
<span id="cb844-10" d__=""><a href="#cb844-10"></a>    mbstate_t mbs<span class="op" d__="">;</span></span>
<span id="cb844-11" d__=""><a href="#cb844-11"></a>    <span class="dt" d__="">size_t</span> r<span class="op" d__="">;</span></span>
<span id="cb844-12"><a href="#cb844-12"></a></span>
<span id="cb844-13" d__=""><a href="#cb844-13"></a>    setlocale<span class="op" d__="">(</span>LC_ALL<span class="op" d__="">,</span> <span class="st" d__="">""</span><span class="op" d__="">);</span></span>
<span id="cb844-14" d__=""><a href="#cb844-14"></a>    memset<span class="op" d__="">(&amp;</span>mbs<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span> mbs<span class="op" d__="">);</span></span>
<span id="cb844-15"><a href="#cb844-15"></a></span>
<span id="cb844-16" d__=""><a href="#cb844-16"></a>    r <span class="op" d__="">=</span> mbrtoc16<span class="op" d__="">(&amp;</span>pc16<span class="op" d__="">,</span> s<span class="op" d__="">,</span> <span class="dv" d__="">8</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>mbs<span class="op" d__="">);</span></span>
<span id="cb844-17"><a href="#cb844-17"></a></span>
<span id="cb844-18" d__=""><a href="#cb844-18"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%zd\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> r<span class="op" d__="">);</span>     <span class="co" d__="">// r is 4 bytes in UTF-8 locale</span></span>
<span id="cb844-19" d__=""><a href="#cb844-19"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%#x\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> pc16<span class="op" d__="">);</span>  <span class="co" d__="">// First value of surrogate pair</span></span>
<span id="cb844-20"><a href="#cb844-20"></a></span>
<span id="cb844-21" d__=""><a href="#cb844-21"></a>    s <span class="op" d__="">+=</span> r<span class="op" d__="">;</span>  <span class="co" d__="">// Move to next character</span></span>
<span id="cb844-22"><a href="#cb844-22"></a></span>
<span id="cb844-23" d__=""><a href="#cb844-23"></a>    r <span class="op" d__="">=</span> mbrtoc16<span class="op" d__="">(&amp;</span>pc16<span class="op" d__="">,</span> s<span class="op" d__="">,</span> <span class="dv" d__="">8</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>mbs<span class="op" d__="">);</span></span>
<span id="cb844-24"><a href="#cb844-24"></a></span>
<span id="cb844-25" d__=""><a href="#cb844-25"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%zd\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> r<span class="op" d__="">);</span>     <span class="co" d__="">// r is (size_t)(-3) here to indicate...</span></span>
<span id="cb844-26" d__=""><a href="#cb844-26"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%#x\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> pc16<span class="op" d__="">);</span>  <span class="co" d__="">// ...Second value of surrogate pair</span></span>
<span id="cb844-27"><a href="#cb844-27"></a></span>
<span id="cb844-28"><a href="#cb844-28"></a>    <span class="co" d__="">// Since r is -3, it means we're still processing the same</span></span>
<span id="cb844-29"><a href="#cb844-29"></a>    <span class="co" d__="">// character, so DON'T move to the next character this time</span></span>
<span id="cb844-30"><a href="#cb844-30"></a>    <span class="co" d__="">//s += r;  // Commented out</span></span>
<span id="cb844-31"><a href="#cb844-31"></a></span>
<span id="cb844-32" d__=""><a href="#cb844-32"></a>    r <span class="op" d__="">=</span> mbrtoc16<span class="op" d__="">(&amp;</span>pc16<span class="op" d__="">,</span> s<span class="op" d__="">,</span> <span class="dv" d__="">8</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>mbs<span class="op" d__="">);</span></span>
<span id="cb844-33"><a href="#cb844-33"></a></span>
<span id="cb844-34" d__=""><a href="#cb844-34"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%zd\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> r<span class="op" d__="">);</span>     <span class="co" d__="">// 1 byte for "*"</span></span>
<span id="cb844-35" d__=""><a href="#cb844-35"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">%#x\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> pc16<span class="op" d__="">);</span>  <span class="co" d__="">// 0x2a for "*"</span></span>
<span id="cb844-36"><a href="#cb844-36"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output on my system, indicating the first character is represented by the pair <code s__="13">(0xd83e, 0xdfc5)</code> and the second character is represented by <code s__="13">0x2a</code>:</p>
<div class="sourceCode" id="cb845"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb845-1" d__=""><a href="#cb845-1" aria-hidden="true" tabindex="-1"></a>4</span>
<span id="cb845-2" d__=""><a href="#cb845-2" aria-hidden="true" tabindex="-1"></a>0xd83e</span>
<span id="cb845-3" d__=""><a href="#cb845-3" aria-hidden="true" tabindex="-1"></a>-3</span>
<span id="cb845-4" d__=""><a href="#cb845-4" aria-hidden="true" tabindex="-1"></a>0xdfc5</span>
<span id="cb845-5" d__=""><a href="#cb845-5" aria-hidden="true" tabindex="-1"></a>1</span>
<span id="cb845-6" d__=""><a href="#cb845-6" aria-hidden="true" tabindex="-1"></a>0x2a</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-236" d__="">See Also</h3>
<p d__=""><a href="#man-c16rtomb"><code s__="13" d__="">c16rtomb()</code></a>, <a href="#man-c16rtomb"><code s__="13" d__="">c32rtomb()</code></a></p>
<hr>
<h2 data-number="30.4" id="man-c16rtomb"><span class="header-section-number" d__="">30.4</span> <code d__="">c16rtomb()</code> <code d__="">c32rtomb()</code></h2>
<p> </p>
<p d__="">Convert a <code s__="13">char16_t</code> or <code s__="13">char32_t</code> to a multibyte character restartably</p>
<h3 class="unnumbered unlisted" id="synopsis-251" d__="">Synopsis</h3>
<div class="sourceCode" id="cb846"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb846-1"><a href="#cb846-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;uchar.h&gt;</span></span>
<span id="cb846-2"><a href="#cb846-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb846-3" d__=""><a href="#cb846-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">size_t</span> c16rtomb<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s<span class="op" d__="">,</span> <span class="dt" d__="">char16_t</span> c16<span class="op" d__="">,</span> mbstate_t <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> ps<span class="op" d__="">);</span></span>
<span id="cb846-4"><a href="#cb846-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb846-5" d__=""><a href="#cb846-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">size_t</span> c32rtomb<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s<span class="op" d__="">,</span> <span class="dt" d__="">char32_t</span> c32<span class="op" d__="">,</span> mbstate_t <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> ps<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-251" d__="">Description</h3>
<p d__="">If you have a character in a <code s__="13">char16_t</code> or <code s__="13">char32_t</code>, use these functions to convert them into a multibyte character.</p>
<p d__="">These functions figure out how many bytes are needed for the 
multibyte character in the current locale and stores them in the buffer 
pointed to by <code s__="13">s</code>.</p>
<p d__="">But how big to make that buffer? Luckily there is a macro to help: it needs be no larger than <code s__="13">MB_CUR_MAX</code>.</p>
<p d__="">As a special case, if <code s__="13">s</code> is <code s__="13">NULL</code>, it’s the same as calling</p>
<div class="sourceCode" id="cb847"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb847-1" d__=""><a href="#cb847-1" aria-hidden="true" tabindex="-1"></a>c16rtomb<span class="op" d__="">(</span>buf<span class="op" d__="">,</span> <span class="ch" d__="">L'</span><span class="sc" d__="">\0</span><span class="ch" d__="">'</span><span class="op" d__="">,</span> ps<span class="op" d__="">);</span>  <span class="co" d__="">// or...</span></span>
<span id="cb847-2" d__=""><a href="#cb847-2" aria-hidden="true" tabindex="-1"></a>c32rtomb<span class="op" d__="">(</span>buf<span class="op" d__="">,</span> <span class="ch" d__="">L'</span><span class="sc" d__="">\0</span><span class="ch" d__="">'</span><span class="op" d__="">,</span> ps<span class="op" d__="">);</span></span></code></pre></div>
<p d__="">where <code s__="13">buf</code> is a buffer maintained by the system that you don’t have access to.</p>
<p d__="">This has the effect of setting the <code s__="13">ps</code> state to the initial state.</p>
<p d__="">Finally for surrogate pairs (where the character has been split into two <code s__="13">char16_t</code>s), you call this once with the first of the pair—at this point, the function will return <code s__="13">0</code>.
 Then you call it again with the second of the pair, and the function 
will return the number of bytes and store the result in the array <code s__="13">s</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-249" d__="">Return Value</h3>
<p d__="">Returns the number of bytes stored in the array pointed to by <code s__="13">s</code>.</p>
<p d__="">Returns 0 if processing is not yet complete for the current character, as in the case of surrogate pairs.</p>
<p d__="">If there is an encoding error, the functions return <code s__="13">(size_t)(-1)</code> and <code s__="13">errno</code> is set to <code s__="13">EILSEQ</code>.</p>
<h3 class="unnumbered unlisted" id="example-253" d__="">Example</h3>
<div class="sourceCode" id="cb848"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb848-1"><a href="#cb848-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;uchar.h&gt;</span></span>
<span id="cb848-2"><a href="#cb848-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span><span class="pp">  </span><span class="co" d__="">// for MB_CUR_MAX</span></span>
<span id="cb848-3"><a href="#cb848-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span><span class="pp">   </span><span class="co" d__="">// for printf()</span></span>
<span id="cb848-4"><a href="#cb848-4"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span><span class="pp">  </span><span class="co" d__="">// for memset()</span></span>
<span id="cb848-5"><a href="#cb848-5"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;locale.h&gt;</span><span class="pp">  </span><span class="co" d__="">// for setlocale()</span></span>
<span id="cb848-6"><a href="#cb848-6"></a></span>
<span id="cb848-7" d__=""><a href="#cb848-7"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb848-8"><a href="#cb848-8"></a><span class="op" d__="">{</span></span>
<span id="cb848-9" d__=""><a href="#cb848-9"></a>    <span class="dt" d__="">char16_t</span> c16 <span class="op" d__="">=</span> <span class="bn" d__="">0x20ac</span><span class="op" d__="">;</span>  <span class="co" d__="">// Unicode for Euro symbol</span></span>
<span id="cb848-10" d__=""><a href="#cb848-10"></a>    <span class="dt" d__="">char</span> dest<span class="op" d__="">[</span>MB_CUR_MAX<span class="op" d__="">];</span></span>
<span id="cb848-11" d__=""><a href="#cb848-11"></a>    <span class="dt" d__="">size_t</span> r<span class="op" d__="">;</span></span>
<span id="cb848-12" d__=""><a href="#cb848-12"></a>    mbstate_t mbs<span class="op" d__="">;</span></span>
<span id="cb848-13"><a href="#cb848-13"></a></span>
<span id="cb848-14" d__=""><a href="#cb848-14"></a>    setlocale<span class="op" d__="">(</span>LC_ALL<span class="op" d__="">,</span> <span class="st" d__="">""</span><span class="op" d__="">);</span></span>
<span id="cb848-15" d__=""><a href="#cb848-15"></a>    memset<span class="op" d__="">(&amp;</span>mbs<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span> mbs<span class="op" d__="">);</span>  <span class="co" d__="">// Reset conversion state</span></span>
<span id="cb848-16"><a href="#cb848-16"></a></span>
<span id="cb848-17"><a href="#cb848-17"></a>    <span class="co" d__="">// Convert</span></span>
<span id="cb848-18" d__=""><a href="#cb848-18"></a>    r <span class="op" d__="">=</span> c16rtomb<span class="op" d__="">(</span>dest<span class="op" d__="">,</span> c16<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>mbs<span class="op" d__="">);</span></span>
<span id="cb848-19"><a href="#cb848-19"></a></span>
<span id="cb848-20" d__=""><a href="#cb848-20"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"r == </span><span class="sc" d__="">%zd\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> r<span class="op" d__="">);</span>  <span class="co" d__="">// r == 3 on my system</span></span>
<span id="cb848-21"><a href="#cb848-21"></a></span>
<span id="cb848-22"><a href="#cb848-22"></a>    <span class="co" d__="">// And this should print a Euro symbol</span></span>
<span id="cb848-23" d__=""><a href="#cb848-23"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"dest == </span><span class="sc" d__="">\"%s\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> dest<span class="op" d__="">);</span></span>
<span id="cb848-24"><a href="#cb848-24"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output on my system:</p>
<div class="sourceCode" id="cb849"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb849-1" d__=""><a href="#cb849-1" aria-hidden="true" tabindex="-1"></a>r == 3</span>
<span id="cb849-2" d__=""><a href="#cb849-2" aria-hidden="true" tabindex="-1"></a>dest == "€"</span></code></pre></div>
<p d__="">This is a more complex example that converts a large-valued character in a multibyte string into a surrogate pair (as in the <code s__="13">mbrtoc16()</code> example, above) and then converts it back again into a multibyte string to print.</p>
<div class="sourceCode" id="cb850"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb850-1"><a href="#cb850-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;uchar.h&gt;</span></span>
<span id="cb850-2"><a href="#cb850-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span><span class="pp">  </span><span class="co" d__="">// for MB_CUR_MAX</span></span>
<span id="cb850-3"><a href="#cb850-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span><span class="pp">   </span><span class="co" d__="">// for printf()</span></span>
<span id="cb850-4"><a href="#cb850-4"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span><span class="pp">  </span><span class="co" d__="">// for memset()</span></span>
<span id="cb850-5"><a href="#cb850-5"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;locale.h&gt;</span><span class="pp">  </span><span class="co" d__="">// for setlocale()</span></span>
<span id="cb850-6"><a href="#cb850-6"></a></span>
<span id="cb850-7" d__=""><a href="#cb850-7"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb850-8"><a href="#cb850-8"></a><span class="op" d__="">{</span></span>
<span id="cb850-9" d__=""><a href="#cb850-9"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>src <span class="op" d__="">=</span> <span class="st" d__="">"</span><span class="sc" d__="">\U0001fbc5</span><span class="st" d__="">*"</span><span class="op" d__="">;</span>   <span class="co" d__="">// Stick figure glyph, more than 16 bits</span></span>
<span id="cb850-10" d__=""><a href="#cb850-10"></a>    <span class="dt" d__="">char</span> dest<span class="op" d__="">[</span>MB_CUR_MAX<span class="op" d__="">];</span></span>
<span id="cb850-11" d__=""><a href="#cb850-11"></a>    <span class="dt" d__="">char16_t</span> surrogate0<span class="op" d__="">,</span> surrogate1<span class="op" d__="">;</span></span>
<span id="cb850-12" d__=""><a href="#cb850-12"></a>    mbstate_t mbs<span class="op" d__="">;</span></span>
<span id="cb850-13" d__=""><a href="#cb850-13"></a>    <span class="dt" d__="">size_t</span> r<span class="op" d__="">;</span></span>
<span id="cb850-14"><a href="#cb850-14"></a></span>
<span id="cb850-15" d__=""><a href="#cb850-15"></a>    setlocale<span class="op" d__="">(</span>LC_ALL<span class="op" d__="">,</span> <span class="st" d__="">""</span><span class="op" d__="">);</span></span>
<span id="cb850-16" d__=""><a href="#cb850-16"></a>    memset<span class="op" d__="">(&amp;</span>mbs<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span> mbs<span class="op" d__="">);</span>  <span class="co" d__="">// Reset conversion state</span></span>
<span id="cb850-17"><a href="#cb850-17"></a></span>
<span id="cb850-18"><a href="#cb850-18"></a>    <span class="co" d__="">// Get first surrogate character</span></span>
<span id="cb850-19" d__=""><a href="#cb850-19"></a>    r <span class="op" d__="">=</span> mbrtoc16<span class="op" d__="">(&amp;</span>surrogate0<span class="op" d__="">,</span> src<span class="op" d__="">,</span> <span class="dv" d__="">8</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>mbs<span class="op" d__="">);</span></span>
<span id="cb850-20"><a href="#cb850-20"></a></span>
<span id="cb850-21"><a href="#cb850-21"></a>    <span class="co" d__="">// Get next surrogate character</span></span>
<span id="cb850-22" d__=""><a href="#cb850-22"></a>    src <span class="op" d__="">+=</span> r<span class="op" d__="">;</span>  <span class="co" d__="">// Move to next character</span></span>
<span id="cb850-23" d__=""><a href="#cb850-23"></a>    r <span class="op" d__="">=</span> mbrtoc16<span class="op" d__="">(&amp;</span>surrogate1<span class="op" d__="">,</span> src<span class="op" d__="">,</span> <span class="dv" d__="">8</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>mbs<span class="op" d__="">);</span></span>
<span id="cb850-24"><a href="#cb850-24"></a></span>
<span id="cb850-25" d__=""><a href="#cb850-25"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Surrogate pair: </span><span class="sc" d__="">%#x</span><span class="st" d__="">, </span><span class="sc" d__="">%#x\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> surrogate0<span class="op" d__="">,</span> surrogate1<span class="op" d__="">);</span></span>
<span id="cb850-26"><a href="#cb850-26"></a></span>
<span id="cb850-27"><a href="#cb850-27"></a>    <span class="co" d__="">// Now reverse it</span></span>
<span id="cb850-28" d__=""><a href="#cb850-28"></a>    memset<span class="op" d__="">(&amp;</span>mbs<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span> mbs<span class="op" d__="">);</span>  <span class="co" d__="">// Reset conversion state</span></span>
<span id="cb850-29"><a href="#cb850-29"></a></span>
<span id="cb850-30"><a href="#cb850-30"></a>    <span class="co" d__="">// Process first surrogate character</span></span>
<span id="cb850-31" d__=""><a href="#cb850-31"></a>    r <span class="op" d__="">=</span> c16rtomb<span class="op" d__="">(</span>dest<span class="op" d__="">,</span> surrogate0<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>mbs<span class="op" d__="">);</span></span>
<span id="cb850-32"><a href="#cb850-32"></a></span>
<span id="cb850-33"><a href="#cb850-33"></a>    <span class="co" d__="">// r should be 0 at this point, because the character hasn't been</span></span>
<span id="cb850-34"><a href="#cb850-34"></a>    <span class="co" d__="">// processed yet. And dest won't have anything useful... yet!</span></span>
<span id="cb850-35" d__=""><a href="#cb850-35"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"r == </span><span class="sc" d__="">%zd\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> r<span class="op" d__="">);</span>   <span class="co" d__="">// r == 0</span></span>
<span id="cb850-36"><a href="#cb850-36"></a></span>
<span id="cb850-37"><a href="#cb850-37"></a>    <span class="co" d__="">// Process second surrogate character</span></span>
<span id="cb850-38" d__=""><a href="#cb850-38"></a>    r <span class="op" d__="">=</span> c16rtomb<span class="op" d__="">(</span>dest<span class="op" d__="">,</span> surrogate1<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>mbs<span class="op" d__="">);</span></span>
<span id="cb850-39"><a href="#cb850-39"></a></span>
<span id="cb850-40"><a href="#cb850-40"></a>    <span class="co" d__="">// Now we should be in business. r should have the number of</span></span>
<span id="cb850-41"><a href="#cb850-41"></a>    <span class="co" d__="">// bytes, and dest should hold the character.</span></span>
<span id="cb850-42" d__=""><a href="#cb850-42"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"r == </span><span class="sc" d__="">%zd\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> r<span class="op" d__="">);</span>  <span class="co" d__="">// r == 4 on my system</span></span>
<span id="cb850-43"><a href="#cb850-43"></a></span>
<span id="cb850-44"><a href="#cb850-44"></a>    <span class="co" d__="">// And this should print a stick figure, if your font supports it</span></span>
<span id="cb850-45" d__=""><a href="#cb850-45"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"dest == </span><span class="sc" d__="">\"%s\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> dest<span class="op" d__="">);</span></span>
<span id="cb850-46"><a href="#cb850-46"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-237" d__="">See Also</h3>
<p d__=""><a href="#man-mbrtoc16"><code s__="13" d__="">mbrtoc16()</code></a>, <a href="#man-mbrtoc16"><code s__="13" d__="">mbrtoc32()</code></a></p>
<!--
***
## `example()` `example()` `example()` {#man-example}

### Synopsis {.unnumbered .unlisted}

``` {.c}
```

### Description {.unnumbered .unlisted}

### Return Value {.unnumbered .unlisted}

### Example {.unnumbered .unlisted}

``` {.c .numberLines}
```

### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="31" id="wchar" d__=""><span class="header-section-number">31</span> <code>&lt;wchar.h&gt;</code> Wide Character Handling</h1>
<p></p>
<table>
<colgroup>
<col style="width: 19%">
<col style="width: 80%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Function</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#man-btowc"><code s__="13" d__="">btowc()</code></a></td>
<td d__="">Convert a single byte character to a wide character</td>
</tr>
<tr class="even">
<td><a href="#man-getwc"><code s__="13" d__="">fgetwc()</code></a></td>
<td d__="">Get a wide character from a wide stream</td>
</tr>
<tr class="odd">
<td><a href="#man-fgetws"><code s__="13" d__="">fgetws()</code></a></td>
<td d__="">Read a wide string from a wide stream</td>
</tr>
<tr class="even">
<td><a href="#man-putwc"><code s__="13" d__="">fputwc()</code></a></td>
<td d__="">Write a wide character to a wide stream</td>
</tr>
<tr class="odd">
<td><a href="#man-fputws"><code s__="13" d__="">fputws()</code></a></td>
<td d__="">Write a wide string to a wide stream</td>
</tr>
<tr class="even">
<td><a href="#man-fwide"><code s__="13" d__="">fwide()</code></a></td>
<td d__="">Get or set the orientation of the stream</td>
</tr>
<tr class="odd">
<td><a href="#man-wprintf"><code s__="13" d__="">fwprintf()</code></a></td>
<td d__="">Formatted wide output to a wide stream</td>
</tr>
<tr class="even">
<td><a href="#man-wscanf"><code s__="13" d__="">fwscanf()</code></a></td>
<td d__="">Formatted wide input from a wide stream</td>
</tr>
<tr class="odd">
<td><a href="#man-getwc"><code s__="13" d__="">getwchar()</code></a></td>
<td d__="">Get a wide character from <code s__="13">stdin</code></td>
</tr>
<tr class="even">
<td><a href="#man-getwc"><code s__="13" d__="">getwc()</code></a></td>
<td d__="">Get a wide character from <code s__="13">stdin</code></td>
</tr>
<tr class="odd">
<td><a href="#man-mbrlen"><code s__="13" d__="">mbrlen()</code></a></td>
<td d__="">Compute the number of bytes in a multibyte character restartably</td>
</tr>
<tr class="even">
<td><a href="#man-mbrtowc"><code s__="13" d__="">mbrtowc()</code></a></td>
<td d__="">Convert multibyte to wide characters restartably</td>
</tr>
<tr class="odd">
<td><a href="#man-mbsinit"><code s__="13" d__="">mbsinit()</code></a></td>
<td d__="">Test if an <code s__="13">mbstate_t</code> is in the initial conversion state</td>
</tr>
<tr class="even">
<td><a href="#man-mbsrtowcs"><code s__="13" d__="">mbsrtowcs()</code></a></td>
<td d__="">Convert a multibyte string to a wide character string restartably</td>
</tr>
<tr class="odd">
<td><a href="#man-putwc"><code s__="13" d__="">putwchar()</code></a></td>
<td d__="">Write a wide character to <code s__="13">stdout</code></td>
</tr>
<tr class="even">
<td><a href="#man-putwc"><code s__="13" d__="">putwc()</code></a></td>
<td d__="">Write a wide character to <code s__="13">stdout</code></td>
</tr>
<tr class="odd">
<td><a href="#man-wprintf"><code s__="13" d__="">swprintf()</code></a></td>
<td d__="">Formatted wide output to a wide string</td>
</tr>
<tr class="even">
<td><a href="#man-wscanf"><code s__="13" d__="">swscanf()</code></a></td>
<td d__="">Formatted wide input from a wide string</td>
</tr>
<tr class="odd">
<td><a href="#man-ungetwc"><code s__="13" d__="">ungetwc()</code></a></td>
<td d__="">Pushes a wide character back into the input stream</td>
</tr>
<tr class="even">
<td><a href="#man-wprintf"><code s__="13" d__="">vfwprintf()</code></a></td>
<td d__="">Variadic formatted wide output to a wide stream</td>
</tr>
<tr class="odd">
<td><a href="#man-wscanf"><code s__="13" d__="">vfwscanf()</code></a></td>
<td d__="">Variadic formatted wide input from a wide stream</td>
</tr>
<tr class="even">
<td><a href="#man-wprintf"><code s__="13" d__="">vswprintf()</code></a></td>
<td d__="">Variadic formatted wide output to a wide string</td>
</tr>
<tr class="odd">
<td><a href="#man-wscanf"><code s__="13" d__="">vswscanf()</code></a></td>
<td d__="">Variadic formatted wide input from a wide string</td>
</tr>
<tr class="even">
<td><a href="#man-wprintf"><code s__="13" d__="">vwprintf()</code></a></td>
<td d__="">Variadic formatted wide output</td>
</tr>
<tr class="odd">
<td><a href="#man-wscanf"><code s__="13" d__="">vwscanf()</code></a></td>
<td d__="">Variadic formatted wide input</td>
</tr>
<tr class="even">
<td><a href="#man-wcscat"><code s__="13" d__="">wcscat()</code></a></td>
<td d__="">Concatenate wide strings dangerously</td>
</tr>
<tr class="odd">
<td><a href="#man-wcschr"><code s__="13" d__="">wcschr()</code></a></td>
<td d__="">Find a wide character in a wide string</td>
</tr>
<tr class="even">
<td><a href="#man-wcscmp"><code s__="13" d__="">wcscmp()</code></a></td>
<td d__="">Compare wide strings</td>
</tr>
<tr class="odd">
<td><a href="#man-wcscoll"><code s__="13" d__="">wcscoll()</code></a></td>
<td d__="">Compare two wide strings accounting for locale</td>
</tr>
<tr class="even">
<td><a href="#man-wcscpy"><code s__="13" d__="">wcscpy()</code></a></td>
<td d__="">Copy a wide string dangerously</td>
</tr>
<tr class="odd">
<td><a href="#man-wcsspn"><code s__="13" d__="">wcscspn()</code></a></td>
<td d__="">Count characters not from a start at the front of a wide string</td>
</tr>
<tr class="even">
<td><a href="#man-wcsftime"><code s__="13" d__="">wcsftime()</code></a></td>
<td d__="">Formatted date and time output</td>
</tr>
<tr class="odd">
<td><a href="#man-wcslen"><code s__="13" d__="">wcslen()</code></a></td>
<td d__="">Returns the length of a wide string</td>
</tr>
<tr class="even">
<td><a href="#man-wcscat"><code s__="13" d__="">wcsncat()</code></a></td>
<td d__="">Concatenate wide strings more safely</td>
</tr>
<tr class="odd">
<td><a href="#man-wcscmp"><code s__="13" d__="">wcsncmp()</code></a></td>
<td d__="">Compare wide strings, length limited</td>
</tr>
<tr class="even">
<td><a href="#man-wcscpy"><code s__="13" d__="">wcsncpy()</code></a></td>
<td d__="">Copy a wide string more safely</td>
</tr>
<tr class="odd">
<td><a href="#man-wcspbrk"><code s__="13" d__="">wcspbrk()</code></a></td>
<td d__="">Search a wide string for one of a set of wide characters</td>
</tr>
<tr class="even">
<td><a href="#man-wcschr"><code s__="13" d__="">wcsrchr()</code></a></td>
<td d__="">Find a wide character in a wide string from the end</td>
</tr>
<tr class="odd">
<td><a href="#man-wcsrtombs"><code s__="13" d__="">wcsrtombs()</code></a></td>
<td d__="">Convert a wide character string to a multibyte string restartably</td>
</tr>
<tr class="even">
<td><a href="#man-wcsspn"><code s__="13" d__="">wcsspn()</code></a></td>
<td d__="">Count characters from a set at the front of a wide string</td>
</tr>
<tr class="odd">
<td><a href="#man-wcsstr"><code s__="13" d__="">wcsstr()</code></a></td>
<td d__="">Find a wide string in another wide string</td>
</tr>
<tr class="even">
<td><a href="#man-wcstod"><code s__="13" d__="">wcstod()</code></a></td>
<td d__="">Convert a wide string to a <code s__="13">double</code></td>
</tr>
<tr class="odd">
<td><a href="#man-wcstod"><code s__="13" d__="">wcstof()</code></a></td>
<td d__="">Convert a wide string to a <code s__="13">float</code></td>
</tr>
<tr class="even">
<td><a href="#man-wcstok"><code s__="13" d__="">wcstok()</code></a></td>
<td d__="">Tokenize a wide string</td>
</tr>
<tr class="odd">
<td><a href="#man-wcstod"><code s__="13" d__="">wcstold()</code></a></td>
<td d__="">Convert a wide string to a <code s__="13">long double</code></td>
</tr>
<tr class="even">
<td><a href="#man-wcstol"><code s__="13" d__="">wcstoll()</code></a></td>
<td d__="">Convert a wide string to a <code s__="13">long long</code></td>
</tr>
<tr class="odd">
<td><a href="#man-wcstol"><code s__="13" d__="">wcstol()</code></a></td>
<td d__="">Convert a wide string to a <code s__="13">long</code></td>
</tr>
<tr class="even">
<td><a href="#man-wcstol"><code s__="13" d__="">wcstoull()</code></a></td>
<td d__="">Convert a wide string to an <code s__="13">unsigned long long</code></td>
</tr>
<tr class="odd">
<td><a href="#man-wcstol"><code s__="13" d__="">wcstoul()</code></a></td>
<td d__="">Convert a wide string to an <code s__="13">unsigned long</code></td>
</tr>
<tr class="even">
<td><a href="#man-wcsxfrm"><code s__="13" d__="">wcsxfrm()</code></a></td>
<td d__="">Transform a wide string for comparing based on locale</td>
</tr>
<tr class="odd">
<td><a href="#man-btowc"><code s__="13" d__="">wctob()</code></a></td>
<td d__="">Convert a wide character to a single byte character</td>
</tr>
<tr class="even">
<td><a href="#man-wcrtomb"><code s__="13" d__="">wctombr()</code></a></td>
<td d__="">Convert wide to multibyte characters restartably</td>
</tr>
<tr class="odd">
<td><a href="#man-wcscmp"><code s__="13" d__="">wmemcmp()</code></a></td>
<td d__="">Compare wide characters in memory</td>
</tr>
<tr class="even">
<td><a href="#man-wmemcpy"><code s__="13" d__="">wmemcpy()</code></a></td>
<td d__="">Copy wide character memory</td>
</tr>
<tr class="odd">
<td><a href="#man-wmemcpy"><code s__="13" d__="">wmemmove()</code></a></td>
<td d__="">Copy wide character memory, potentially overlapping</td>
</tr>
<tr class="even">
<td><a href="#man-wprintf"><code s__="13" d__="">wprintf()</code></a></td>
<td d__="">Formatted wide output</td>
</tr>
<tr class="odd">
<td><a href="#man-wscanf"><code s__="13" d__="">wscanf()</code></a></td>
<td d__="">Formatted wide input</td>
</tr>
</tbody>
</table>
<p d__="">These are the wide character variants of the functions found in <a href="#stdio"><code s__="13" d__="">&lt;stdio.h&gt;</code></a>.</p>
<p d__="">Remember that you can’t mix-and-match multibyte output functions (like <a href="#man-printf"><code s__="13" d__="">printf()</code></a>) with wide character output functions (like <a href="#man-wprintf"><code s__="13" d__="">wprintf()</code></a>). The output stream has an <em>orientation</em> to either multibyte or wide that gets set on the first I/O call to that stream. (Or it can be set with <a href="#man-fwide"><code s__="13" d__="">fwide()</code></a>.)</p>
<p d__="">So choose one or the other and stick with it.</p>
<p d__="">And you can specify wide character constants and string literals by prefixing <code s__="13">L</code> to the front of it:</p>
<div class="sourceCode" id="cb851"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb851-1" d__=""><a href="#cb851-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s <span class="op" d__="">=</span> <span class="st" d__="">L"Hello, world!"</span><span class="op" d__="">;</span></span>
<span id="cb851-2" d__=""><a href="#cb851-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">wchar_t</span> c <span class="op" d__="">=</span> <span class="ch" d__="">L'B'</span><span class="op" d__="">;</span></span></code></pre></div>
<p d__="">This header also introduces a type <code s__="13">wint_t</code> that is used by the character I/O functions. It’s a type that can hold any single wide character, but <em>also</em> the macro <code s__="13">WEOF</code> to indicate wide end-of-file.</p>
<h2 data-number="31.1" id="restartable-functions" d__=""><span class="header-section-number">31.1</span> Restartable Functions</h2>
<p d__="">Finally, a note on the “restartable” functions that are 
included here. When conversion is happening, some encodings require C to
 keep track of some <em>state</em> about the progress of the conversion so far.</p>
<p d__="">For a lot of the functions, C uses an internal variable for 
the state that is shared between function calls. The problem is if 
you’re writing multithreaded code, this state might get trampled by 
other threads.</p>
<p d__="">To avoid this, each thread needs to maintain its own state in a variable of the opaque type <code s__="13">mbstate_t</code>. And the “restartable” functions allow you to pass in this state so that each thread can use their own.</p>
<hr>
<h2 data-number="31.2" id="man-wprintf" d__=""><span class="header-section-number">31.2</span> <code>wprintf()</code>, <code>fwprintf()</code>, <code>swprintf()</code></h2>
<p> </p>
<p d__="">Formatted output with a wide string</p>
<h3 class="unnumbered unlisted" id="synopsis-252" d__="">Synopsis</h3>
<div class="sourceCode" id="cb852"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb852-1"><a href="#cb852-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span><span class="pp">   </span><span class="co" d__="">// For fwprintf()</span></span>
<span id="cb852-2"><a href="#cb852-2" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb852-3"><a href="#cb852-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb852-4" d__=""><a href="#cb852-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> wprintf<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> format<span class="op" d__="">,</span> <span class="op" d__="">...);</span></span>
<span id="cb852-5"><a href="#cb852-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb852-6" d__=""><a href="#cb852-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> fwprintf<span class="op" d__="">(</span><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> stream<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> format<span class="op" d__="">,</span> <span class="op" d__="">...);</span></span>
<span id="cb852-7"><a href="#cb852-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb852-8" d__=""><a href="#cb852-8" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> swprintf<span class="op" d__="">(</span><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">,</span></span>
<span id="cb852-9" d__=""><a href="#cb852-9" aria-hidden="true" tabindex="-1"></a>             <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> format<span class="op" d__="">,</span> <span class="op" d__="">...);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-252" d__="">Description</h3>
<p d__="">These are the wide versions of <a href="#man-printf"><code s__="13" d__="">printf()</code></a>, <a href="#man-printf" d__=""><code s__="13">fprintf()](#man-printf), and [</code>sprintf()`</a>.</p>
<p d__="">See those pages for exact substantial usage.</p>
<p d__="">These are the same except the <code s__="13">format</code> string is a wide character string instead of a multibyte string.</p>
<p d__="">And that <code s__="13">swprintf()</code> is analogous to <code s__="13">snprintf()</code> in that they both take the size of the destination array as an argument.</p>
<p d__="">And one more thing: the precision specified for a <code s__="13">%s</code>
 specifier corresponds to the number of wide characters printed, not the
 number of bytes. If you know of other difference, let me know.</p>
<h3 class="unnumbered unlisted" id="return-value-250" d__="">Return Value</h3>
<p d__="">Returns the number of wide characters outputted, or <code s__="13">-1</code> if there’s an error.</p>
<h3 class="unnumbered unlisted" id="example-254" d__="">Example</h3>
<div class="sourceCode" id="cb853"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb853-1"><a href="#cb853-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb853-2"><a href="#cb853-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb853-3"><a href="#cb853-3"></a></span>
<span id="cb853-4" d__=""><a href="#cb853-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb853-5"><a href="#cb853-5"></a><span class="op" d__="">{</span></span>
<span id="cb853-6" d__=""><a href="#cb853-6"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>mbs <span class="op" d__="">=</span> <span class="st" d__="">"multibyte"</span><span class="op" d__="">;</span></span>
<span id="cb853-7" d__=""><a href="#cb853-7"></a>    <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>ws <span class="op" d__="">=</span> <span class="st" d__="">L"wide"</span><span class="op" d__="">;</span></span>
<span id="cb853-8"><a href="#cb853-8"></a></span>
<span id="cb853-9" d__=""><a href="#cb853-9"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"We're all wide for </span><span class="sc" d__="">%s</span><span class="st" d__=""> and </span><span class="sc" d__="">%ls</span><span class="st" d__="">!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> mbs<span class="op" d__="">,</span> ws<span class="op" d__="">);</span></span>
<span id="cb853-10"><a href="#cb853-10"></a></span>
<span id="cb853-11" d__=""><a href="#cb853-11"></a>    <span class="dt" d__="">double</span> pi <span class="op" d__="">=</span> <span class="fl" d__="">3.14159265358979</span><span class="op" d__="">;</span></span>
<span id="cb853-12" d__=""><a href="#cb853-12"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"pi = </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> pi<span class="op" d__="">);</span></span>
<span id="cb853-13"><a href="#cb853-13"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb854"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb854-1" d__=""><a href="#cb854-1" aria-hidden="true" tabindex="-1"></a>We're all wide for multibyte and wide!</span>
<span id="cb854-2" d__=""><a href="#cb854-2" aria-hidden="true" tabindex="-1"></a>pi = 3.141593</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-238" d__="">See Also</h3>
<p d__=""><a href="#man-printf"><code s__="13" d__="">printf()</code></a>, <a href="#man-vwprintf"><code s__="13" d__="">vwprintf()</code></a></p>
<hr>
<h2 data-number="31.3" id="man-wscanf"><span class="header-section-number" d__="">31.3</span> <code d__="">wscanf()</code> <code d__="">fwscanf()</code> <code d__="">swscanf()</code></h2>
<p> </p>
<p d__="">Scan a wide stream or wide string for formatted input</p>
<h3 class="unnumbered unlisted" id="synopsis-253" d__="">Synopsis</h3>
<div class="sourceCode" id="cb855"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb855-1"><a href="#cb855-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span><span class="pp">  </span><span class="co" d__="">// for fwscanf()</span></span>
<span id="cb855-2"><a href="#cb855-2" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb855-3"><a href="#cb855-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb855-4" d__=""><a href="#cb855-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> wscanf<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> format<span class="op" d__="">,</span> <span class="op" d__="">...);</span></span>
<span id="cb855-5"><a href="#cb855-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb855-6" d__=""><a href="#cb855-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> fwscanf<span class="op" d__="">(</span><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> stream<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> format<span class="op" d__="">,</span> <span class="op" d__="">...);</span></span>
<span id="cb855-7"><a href="#cb855-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb855-8" d__=""><a href="#cb855-8" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> swscanf<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> format<span class="op" d__="">,</span> <span class="op" d__="">...);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-253" d__="">Description</h3>
<p d__="">These are the wide variants of <a href="#man-scanf"><code s__="13" d__="">scanf()</code></a>, <a href="#man-scanf"><code s__="13" d__="">fscanf()</code></a>, and <a href="#man-scanf"><code s__="13" d__="">sscanf()</code></a>.</p>
<p d__="">See the <a href="#man-scanf"><code s__="13" d__="">scanf()</code></a> page for all the details.</p>
<h3 class="unnumbered unlisted" id="return-value-251" d__="">Return Value</h3>
<p d__="">Returns the number of items successfully scanned, or <code s__="13">EOF</code> on some kind of input failure.</p>
<h3 class="unnumbered unlisted" id="example-255" d__="">Example</h3>
<div class="sourceCode" id="cb856"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb856-1"><a href="#cb856-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb856-2"><a href="#cb856-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb856-3"><a href="#cb856-3"></a></span>
<span id="cb856-4" d__=""><a href="#cb856-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb856-5"><a href="#cb856-5"></a><span class="op" d__="">{</span></span>
<span id="cb856-6" d__=""><a href="#cb856-6"></a>    <span class="dt" d__="">int</span> quantity<span class="op" d__="">;</span></span>
<span id="cb856-7" d__=""><a href="#cb856-7"></a>    <span class="dt" d__="">wchar_t</span> item<span class="op" d__="">[</span><span class="dv" d__="">100</span><span class="op" d__="">];</span></span>
<span id="cb856-8"><a href="#cb856-8"></a></span>
<span id="cb856-9" d__=""><a href="#cb856-9"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Enter </span><span class="sc" d__="">\"</span><span class="st" d__="">quantity: item</span><span class="sc" d__="">\"\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb856-10"><a href="#cb856-10"></a>    </span>
<span id="cb856-11" d__=""><a href="#cb856-11"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>wscanf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%d</span><span class="st" d__="">:</span><span class="sc" d__="">%99ls</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>quantity<span class="op" d__="">,</span> item<span class="op" d__="">)</span> <span class="op" d__="">!=</span> <span class="dv" d__="">2</span><span class="op" d__="">)</span></span>
<span id="cb856-12" d__=""><a href="#cb856-12"></a>        wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Malformed input!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb856-13"><a href="#cb856-13"></a>    <span class="cf" d__="">else</span></span>
<span id="cb856-14" d__=""><a href="#cb856-14"></a>        wprintf<span class="op" d__="">(</span><span class="st" d__="">L"You entered: </span><span class="sc" d__="">%d</span><span class="st"> </span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> quantity<span class="op" d__="">,</span> item<span class="op" d__="">);</span></span>
<span id="cb856-15"><a href="#cb856-15"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output (input of <code s__="13">12: apples</code>):</p>
<div class="sourceCode" id="cb857"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb857-1" d__=""><a href="#cb857-1" aria-hidden="true" tabindex="-1"></a>Enter "quantity: item"</span>
<span id="cb857-2" d__=""><a href="#cb857-2" aria-hidden="true" tabindex="-1"></a>12: apples</span>
<span id="cb857-3" d__=""><a href="#cb857-3" aria-hidden="true" tabindex="-1"></a>You entered: 12 apples</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-239" d__="">See Also</h3>
<p d__=""><a href="#man-scanf"><code s__="13" d__="">scanf()</code></a>, <a href="#man-vwscanf"><code s__="13" d__="">vwscanf()</code></a></p>
<hr>
<h2 data-number="31.4" id="man-vwprintf"><span class="header-section-number" d__="">31.4</span> <code d__="">vwprintf()</code> <code d__="">vfwprintf()</code> <code d__="">vswprintf()</code></h2>
<p> </p>
<p d__=""><code s__="13">wprintf()</code> variants using variable argument lists (<code s__="13">va_list</code>)</p>
<h3 class="unnumbered unlisted" id="synopsis-254" d__="">Synopsis</h3>
<div class="sourceCode" id="cb858"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb858-1"><a href="#cb858-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span><span class="pp">   </span><span class="co" d__="">// For vfwprintf()</span></span>
<span id="cb858-2"><a href="#cb858-2" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdarg.h&gt;</span></span>
<span id="cb858-3"><a href="#cb858-3" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb858-4"><a href="#cb858-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb858-5" d__=""><a href="#cb858-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> vwprintf<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> format<span class="op" d__="">,</span> <span class="dt" d__="">va_list</span> arg<span class="op" d__="">);</span></span>
<span id="cb858-6"><a href="#cb858-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb858-7" d__=""><a href="#cb858-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> vswprintf<span class="op" d__="">(</span><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">,</span></span>
<span id="cb858-8" d__=""><a href="#cb858-8" aria-hidden="true" tabindex="-1"></a>              <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> format<span class="op" d__="">,</span> <span class="dt" d__="">va_list</span> arg<span class="op" d__="">);</span> </span>
<span id="cb858-9"><a href="#cb858-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb858-10" d__=""><a href="#cb858-10" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> vfwprintf<span class="op" d__="">(</span><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> stream<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> format<span class="op" d__="">,</span></span>
<span id="cb858-11" d__=""><a href="#cb858-11" aria-hidden="true" tabindex="-1"></a>              <span class="dt" d__="">va_list</span> arg<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-254" d__="">Description</h3>
<p d__="">These functions are the wide character variants of the <a href="#man-vprintf"><code s__="13" d__="">vprintf()</code></a>, functions. You can <a href="#man-vprintf" d__="">refer to that reference page</a> for more details.</p>
<h3 class="unnumbered unlisted" id="return-value-252" d__="">Return Value</h3>
<p d__="">Returns the number of wide characters stored, or a negative value on error.</p>
<h3 class="unnumbered unlisted" id="example-256" d__="">Example</h3>
<p d__="">In this example, we make our own version of <code s__="13">wprintf()</code> called <code s__="13">wlogger()</code> that timestamps output. Notice how the calls to <code s__="13">wlogger()</code> have all the bells and whistles of <code s__="13">wprintf()</code>.</p>
<div class="sourceCode" id="cb859"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb859-1"><a href="#cb859-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdarg.h&gt;</span></span>
<span id="cb859-2"><a href="#cb859-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb859-3"><a href="#cb859-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb859-4"><a href="#cb859-4"></a></span>
<span id="cb859-5" d__=""><a href="#cb859-5"></a><span class="dt" d__="">int</span> wlogger<span class="op" d__="">(</span><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>format<span class="op" d__="">,</span> <span class="op" d__="">...)</span></span>
<span id="cb859-6"><a href="#cb859-6"></a><span class="op" d__="">{</span></span>
<span id="cb859-7" d__=""><a href="#cb859-7"></a>    <span class="dt" d__="">va_list</span> va<span class="op" d__="">;</span></span>
<span id="cb859-8" d__=""><a href="#cb859-8"></a>    <span class="dt" d__="">time_t</span> now_secs <span class="op" d__="">=</span> time<span class="op" d__="">(</span>NULL<span class="op" d__="">);</span></span>
<span id="cb859-9" d__=""><a href="#cb859-9"></a>    <span class="kw" d__="">struct</span> tm <span class="op" d__="">*</span>now <span class="op" d__="">=</span> gmtime<span class="op" d__="">(&amp;</span>now_secs<span class="op" d__="">);</span></span>
<span id="cb859-10"><a href="#cb859-10"></a></span>
<span id="cb859-11"><a href="#cb859-11"></a>    <span class="co" d__="">// Output timestamp in format "YYYY-MM-DD hh:mm:ss : "</span></span>
<span id="cb859-12" d__=""><a href="#cb859-12"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%04d</span><span class="st" d__="">-</span><span class="sc" d__="">%02d</span><span class="st" d__="">-</span><span class="sc" d__="">%02d</span><span class="st"> </span><span class="sc" d__="">%02d</span><span class="st" d__="">:</span><span class="sc" d__="">%02d</span><span class="st" d__="">:</span><span class="sc" d__="">%02d</span><span class="st" d__=""> : "</span><span class="op" d__="">,</span></span>
<span id="cb859-13" d__=""><a href="#cb859-13"></a>        now<span class="op" d__="">-&gt;</span>tm_year <span class="op" d__="">+</span> <span class="dv" d__="">1900</span><span class="op" d__="">,</span> now<span class="op" d__="">-&gt;</span>tm_mon <span class="op" d__="">+</span> <span class="dv" d__="">1</span><span class="op" d__="">,</span> now<span class="op" d__="">-&gt;</span>tm_mday<span class="op" d__="">,</span></span>
<span id="cb859-14" d__=""><a href="#cb859-14"></a>        now<span class="op" d__="">-&gt;</span>tm_hour<span class="op" d__="">,</span> now<span class="op" d__="">-&gt;</span>tm_min<span class="op" d__="">,</span> now<span class="op" d__="">-&gt;</span>tm_sec<span class="op" d__="">);</span></span>
<span id="cb859-15"><a href="#cb859-15"></a></span>
<span id="cb859-16" d__=""><a href="#cb859-16"></a>    va_start<span class="op" d__="">(</span>va<span class="op" d__="">,</span> format<span class="op" d__="">);</span></span>
<span id="cb859-17" d__=""><a href="#cb859-17"></a>    <span class="dt" d__="">int</span> result <span class="op" d__="">=</span> vwprintf<span class="op" d__="">(</span>format<span class="op" d__="">,</span> va<span class="op" d__="">);</span></span>
<span id="cb859-18" d__=""><a href="#cb859-18"></a>    va_end<span class="op" d__="">(</span>va<span class="op" d__="">);</span></span>
<span id="cb859-19"><a href="#cb859-19"></a></span>
<span id="cb859-20" d__=""><a href="#cb859-20"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb859-21"><a href="#cb859-21"></a></span>
<span id="cb859-22" d__=""><a href="#cb859-22"></a>    <span class="cf" d__="">return</span> result<span class="op" d__="">;</span></span>
<span id="cb859-23"><a href="#cb859-23"></a><span class="op" d__="">}</span></span>
<span id="cb859-24"><a href="#cb859-24"></a></span>
<span id="cb859-25" d__=""><a href="#cb859-25"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb859-26"><a href="#cb859-26"></a><span class="op" d__="">{</span></span>
<span id="cb859-27" d__=""><a href="#cb859-27"></a>    <span class="dt" d__="">int</span> x <span class="op" d__="">=</span> <span class="dv" d__="">12</span><span class="op" d__="">;</span></span>
<span id="cb859-28" d__=""><a href="#cb859-28"></a>    <span class="dt" d__="">float</span> y <span class="op" d__="">=</span> <span class="fl" d__="">3.2</span><span class="op" d__="">;</span></span>
<span id="cb859-29"><a href="#cb859-29"></a></span>
<span id="cb859-30" d__=""><a href="#cb859-30"></a>    wlogger<span class="op" d__="">(</span><span class="st" d__="">L"Hello!"</span><span class="op" d__="">);</span></span>
<span id="cb859-31" d__=""><a href="#cb859-31"></a>    wlogger<span class="op" d__="">(</span><span class="st" d__="">L"x = </span><span class="sc" d__="">%d</span><span class="st" d__=""> and y = </span><span class="sc" d__="">%.2f</span><span class="st" d__="">"</span><span class="op" d__="">,</span> x<span class="op" d__="">,</span> y<span class="op" d__="">);</span></span>
<span id="cb859-32"><a href="#cb859-32"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb860"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb860-1" d__=""><a href="#cb860-1" aria-hidden="true" tabindex="-1"></a>2021-03-30 04:25:49 : Hello!</span>
<span id="cb860-2" d__=""><a href="#cb860-2" aria-hidden="true" tabindex="-1"></a>2021-03-30 04:25:49 : x = 12 and y = 3.20</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-240" d__="">See Also</h3>
<p d__=""><a href="#man-printf"><code s__="13" d__="">printf()</code></a>, <a href="#man-vprintf"><code s__="13" d__="">vprintf()</code></a></p>
<hr>
<h2 data-number="31.5" id="man-vwscanf" d__=""><span class="header-section-number">31.5</span> <code>vwscanf()</code>, <code>vfwscanf()</code>, <code>vswscanf()</code></h2>
<p> </p>
<p d__=""><code s__="13">wscanf()</code> variants using variable argument lists (<code s__="13">va_list</code>)</p>
<h3 class="unnumbered unlisted" id="synopsis-255" d__="">Synopsis</h3>
<div class="sourceCode" id="cb861"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb861-1"><a href="#cb861-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span><span class="pp">   </span><span class="co" d__="">// For vfwscanf()</span></span>
<span id="cb861-2"><a href="#cb861-2" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdarg.h&gt;</span></span>
<span id="cb861-3"><a href="#cb861-3" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb861-4"><a href="#cb861-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb861-5" d__=""><a href="#cb861-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> vwscanf<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> format<span class="op" d__="">,</span> <span class="dt" d__="">va_list</span> arg<span class="op" d__="">);</span></span>
<span id="cb861-6"><a href="#cb861-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb861-7" d__=""><a href="#cb861-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> vfwscanf<span class="op" d__="">(</span><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> stream<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> format<span class="op" d__="">,</span></span>
<span id="cb861-8" d__=""><a href="#cb861-8" aria-hidden="true" tabindex="-1"></a>             <span class="dt" d__="">va_list</span> arg<span class="op" d__="">);</span> </span>
<span id="cb861-9"><a href="#cb861-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb861-10" d__=""><a href="#cb861-10" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> vswscanf<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> format<span class="op" d__="">,</span></span>
<span id="cb861-11" d__=""><a href="#cb861-11" aria-hidden="true" tabindex="-1"></a>             <span class="dt" d__="">va_list</span> arg<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-255" d__="">Description</h3>
<p d__="">These are the wide counterparts to the <a href="#man-vscanf"><code s__="13" d__="">vscanf()</code></a> collection of functions. See their <a href="#man-vscanf" d__="">reference page for details</a>.</p>
<h3 class="unnumbered unlisted" id="return-value-253" d__="">Return Value</h3>
<p d__="">Returns the number of items successfully scanned, or <code s__="13">EOF</code> on some kind of input failure.</p>
<h3 class="unnumbered unlisted" id="example-257" d__="">Example</h3>
<p d__="">I have to admit I was wracking my brain to think of when you’d ever want to use this. The best example I could find was <a href="https://stackoverflow.com/questions/17017331/c99-vscanf-for-dummies/17018046#17018046" d__="">one on Stack Overflow</a><a href="#fn79" class="footnote-ref" id="fnref79" role="doc-noteref"><sup s__="13" d__="">79</sup></a> that error-checks the return value from <code s__="13">scanf()</code> against the expected. A variant of that is shown below.</p>
<div class="sourceCode" id="cb862"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb862-1"><a href="#cb862-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdarg.h&gt;</span></span>
<span id="cb862-2"><a href="#cb862-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb862-3"><a href="#cb862-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;assert.h&gt;</span></span>
<span id="cb862-4"><a href="#cb862-4"></a></span>
<span id="cb862-5" d__=""><a href="#cb862-5"></a><span class="dt" d__="">int</span> error_check_wscanf<span class="op" d__="">(</span><span class="dt" d__="">int</span> expected_count<span class="op" d__="">,</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>format<span class="op" d__="">,</span> <span class="op" d__="">...)</span></span>
<span id="cb862-6"><a href="#cb862-6"></a><span class="op" d__="">{</span></span>
<span id="cb862-7" d__=""><a href="#cb862-7"></a>    <span class="dt" d__="">va_list</span> va<span class="op" d__="">;</span></span>
<span id="cb862-8"><a href="#cb862-8"></a></span>
<span id="cb862-9" d__=""><a href="#cb862-9"></a>    va_start<span class="op" d__="">(</span>va<span class="op" d__="">,</span> format<span class="op" d__="">);</span></span>
<span id="cb862-10" d__=""><a href="#cb862-10"></a>    <span class="dt" d__="">int</span> count <span class="op" d__="">=</span> vwscanf<span class="op" d__="">(</span>format<span class="op" d__="">,</span> va<span class="op" d__="">);</span></span>
<span id="cb862-11" d__=""><a href="#cb862-11"></a>    va_end<span class="op" d__="">(</span>va<span class="op" d__="">);</span></span>
<span id="cb862-12"><a href="#cb862-12"></a></span>
<span id="cb862-13"><a href="#cb862-13"></a>    <span class="co" d__="">// This line will crash the program if the condition is false:</span></span>
<span id="cb862-14" d__=""><a href="#cb862-14"></a>    assert<span class="op" d__="">(</span>count <span class="op" d__="">==</span> expected_count<span class="op" d__="">);</span></span>
<span id="cb862-15"><a href="#cb862-15"></a></span>
<span id="cb862-16" d__=""><a href="#cb862-16"></a>    <span class="cf" d__="">return</span> count<span class="op" d__="">;</span></span>
<span id="cb862-17"><a href="#cb862-17"></a><span class="op" d__="">}</span></span>
<span id="cb862-18"><a href="#cb862-18"></a></span>
<span id="cb862-19" d__=""><a href="#cb862-19"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb862-20"><a href="#cb862-20"></a><span class="op" d__="">{</span></span>
<span id="cb862-21" d__=""><a href="#cb862-21"></a>    <span class="dt" d__="">int</span> a<span class="op" d__="">,</span> b<span class="op" d__="">;</span></span>
<span id="cb862-22" d__=""><a href="#cb862-22"></a>    <span class="dt" d__="">float</span> c<span class="op" d__="">;</span></span>
<span id="cb862-23"><a href="#cb862-23"></a></span>
<span id="cb862-24" d__=""><a href="#cb862-24"></a>    error_check_wscanf<span class="op" d__="">(</span><span class="dv" d__="">3</span><span class="op" d__="">,</span> <span class="st" d__="">L"</span><span class="sc" d__="">%d</span><span class="st" d__="">, </span><span class="sc" d__="">%d</span><span class="st" d__="">/</span><span class="sc" d__="">%f</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>a<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>b<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>c<span class="op" d__="">);</span></span>
<span id="cb862-25" d__=""><a href="#cb862-25"></a>    error_check_wscanf<span class="op" d__="">(</span><span class="dv" d__="">2</span><span class="op" d__="">,</span> <span class="st" d__="">L"</span><span class="sc" d__="">%d</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>a<span class="op" d__="">);</span></span>
<span id="cb862-26"><a href="#cb862-26"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-241" d__="">See Also</h3>
<p><a href="#man-wscanf"><code s__="13" d__="">wscanf()</code></a></p>
<hr>
<h2 data-number="31.6" id="man-getwc"><span class="header-section-number" d__="">31.6</span> <code d__="">getwc()</code> <code d__="">fgetwc()</code> <code d__="">getwchar()</code></h2>
<p> </p>
<p d__="">Get a wide character from an input stream</p>
<h3 class="unnumbered unlisted" id="synopsis-256" d__="">Synopsis</h3>
<div class="sourceCode" id="cb863"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb863-1"><a href="#cb863-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span><span class="pp">   </span><span class="co" d__="">// For getwc() and fgetwc()</span></span>
<span id="cb863-2"><a href="#cb863-2" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb863-3"><a href="#cb863-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb863-4" d__=""><a href="#cb863-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">wint_t</span> getwchar<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">);</span></span>
<span id="cb863-5"><a href="#cb863-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb863-6" d__=""><a href="#cb863-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">wint_t</span> getwc<span class="op" d__="">(</span><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">);</span></span>
<span id="cb863-7"><a href="#cb863-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb863-8" d__=""><a href="#cb863-8" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">wint_t</span> fgetwc<span class="op" d__="">(</span><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-256" d__="">Description</h3>
<p d__="">These are the wide variants of <a href="#man-getc"><code s__="13" d__="">fgetc()</code></a>.</p>
<p d__=""><code s__="13">fgetwc()</code> and <code s__="13">getwc()</code> are identical except that <code s__="13">getwc()</code> might be implemented as a macro and is allowed to evaluate <code s__="13">stream</code> multiple times.</p>
<p d__=""><code s__="13">getwchar()</code> is identical to <code s__="13">getwc()</code> with <code s__="13">stream</code> set to <code s__="13">stdin</code>.</p>
<p d__="">I don’t know why you’d ever use <code s__="13">getwc()</code> instead of <code s__="13">fgetwc()</code>, but if anyone knows, drop me a line.</p>
<h3 class="unnumbered unlisted" id="return-value-254" d__="">Return Value</h3>
<p d__="">Returns the next wide character in the input stream. Return <code s__="13">WEOF</code> on end-of-file or error.</p>
<p d__="">If an I/O error occurs, the error flag is also set on the stream.</p>
<p d__="">If an invalid byte sequence is encountered, <code s__="13">errno</code> is set to <code s__="13">ILSEQ</code>.</p>
<h3 class="unnumbered unlisted" id="example-258" d__="">Example</h3>
<p d__="">Reads all the characters from a file, outputting only the letter ’b’s it finds in the file:</p>
<div class="sourceCode" id="cb864"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb864-1"><a href="#cb864-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb864-2"><a href="#cb864-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb864-3"><a href="#cb864-3"></a></span>
<span id="cb864-4" d__=""><a href="#cb864-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb864-5"><a href="#cb864-5"></a><span class="op" d__="">{</span></span>
<span id="cb864-6" d__=""><a href="#cb864-6"></a>    <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>fp<span class="op" d__="">;</span></span>
<span id="cb864-7" d__=""><a href="#cb864-7"></a>    <span class="dt" d__="">wint_t</span> c<span class="op" d__="">;</span></span>
<span id="cb864-8"><a href="#cb864-8"></a></span>
<span id="cb864-9" d__=""><a href="#cb864-9"></a>    fp <span class="op" d__="">=</span> fopen<span class="op" d__="">(</span><span class="st" d__="">"datafile.txt"</span><span class="op" d__="">,</span> <span class="st" d__="">"r"</span><span class="op" d__="">);</span> <span class="co" d__="">// error check this!</span></span>
<span id="cb864-10"><a href="#cb864-10"></a></span>
<span id="cb864-11"><a href="#cb864-11"></a>    <span class="co" d__="">// this while-statement assigns into c, and then checks against EOF:</span></span>
<span id="cb864-12"><a href="#cb864-12"></a></span>
<span id="cb864-13" d__=""><a href="#cb864-13"></a>    <span class="cf" d__="">while</span><span class="op" d__="">((</span>c <span class="op" d__="">=</span> fgetc<span class="op" d__="">(</span>fp<span class="op" d__="">))</span> <span class="op" d__="">!=</span> WEOF<span class="op" d__="">)</span> </span>
<span id="cb864-14" d__=""><a href="#cb864-14"></a>        <span class="cf" d__="">if</span> <span class="op" d__="">(</span>c <span class="op" d__="">==</span> <span class="ch" d__="">L'b'</span><span class="op" d__="">)</span></span>
<span id="cb864-15" d__=""><a href="#cb864-15"></a>            fputwc<span class="op" d__="">(</span>c<span class="op" d__="">,</span> stdout<span class="op" d__="">);</span></span>
<span id="cb864-16"><a href="#cb864-16"></a></span>
<span id="cb864-17" d__=""><a href="#cb864-17"></a>    fclose<span class="op" d__="">(</span>fp<span class="op" d__="">);</span></span>
<span id="cb864-18"><a href="#cb864-18"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-242" d__="">See Also</h3>
<p d__=""><a href="#man-putwc"><code s__="13" d__="">fputwc</code></a>, <a href="#man-fgetws"><code s__="13" d__="">fgetws</code></a>, <a href="#errno"><code s__="13" d__="">errno</code></a></p>
<hr>
<h2 data-number="31.7" id="man-fgetws"><span class="header-section-number" d__="">31.7</span> <code d__="">fgetws()</code></h2>
<p></p>
<p d__="">Read a wide string from a file</p>
<h3 class="unnumbered unlisted" id="synopsis-257" d__="">Synopsis</h3>
<div class="sourceCode" id="cb865"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb865-1"><a href="#cb865-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb865-2"><a href="#cb865-2" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb865-3"><a href="#cb865-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb865-4" d__=""><a href="#cb865-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>fgetws<span class="op" d__="">(</span><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s<span class="op" d__="">,</span> <span class="dt" d__="">int</span> n<span class="op" d__="">,</span> <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> stream<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-257" d__="">Description</h3>
<p d__="">This is the wide version of <a href="#man-gets"><code s__="13" d__="">fgets()</code></a>. See <a href="#man-gets" d__="">its reference page for details</a>.</p>
<p d__="">A wide <code s__="13">NUL</code> character is used to terminate the string.</p>
<h3 class="unnumbered unlisted" id="return-value-255" d__="">Return Value</h3>
<p d__="">Returns <code s__="13">s</code> on success, or a <code s__="13">NULL</code> pointer on end-of-file or error.</p>
<h3 class="unnumbered unlisted" id="example-259" d__="">Example</h3>
<p d__="">The following example reads lines from a file and prepends them with numbers:</p>
<div class="sourceCode" id="cb866"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb866-1"><a href="#cb866-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb866-2"><a href="#cb866-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb866-3"><a href="#cb866-3"></a></span>
<span id="cb866-4"><a href="#cb866-4"></a><span class="pp" d__="">#define BUF_SIZE </span><span class="dv" d__="">1024</span></span>
<span id="cb866-5"><a href="#cb866-5"></a></span>
<span id="cb866-6" d__=""><a href="#cb866-6"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb866-7"><a href="#cb866-7"></a><span class="op" d__="">{</span></span>
<span id="cb866-8" d__=""><a href="#cb866-8"></a>    <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>fp<span class="op" d__="">;</span></span>
<span id="cb866-9" d__=""><a href="#cb866-9"></a>    <span class="dt" d__="">wchar_t</span> buf<span class="op" d__="">[</span>BUF_SIZE<span class="op" d__="">];</span></span>
<span id="cb866-10"><a href="#cb866-10"></a></span>
<span id="cb866-11" d__=""><a href="#cb866-11"></a>    fp <span class="op" d__="">=</span> fopen<span class="op" d__="">(</span><span class="st" d__="">"textfile.txt"</span><span class="op" d__="">,</span> <span class="st" d__="">"r"</span><span class="op" d__="">);</span> <span class="co" d__="">// error check this!</span></span>
<span id="cb866-12"><a href="#cb866-12"></a></span>
<span id="cb866-13" d__=""><a href="#cb866-13"></a>    <span class="dt" d__="">int</span> line_count <span class="op" d__="">=</span> <span class="dv" d__="">0</span><span class="op" d__="">;</span></span>
<span id="cb866-14"><a href="#cb866-14"></a></span>
<span id="cb866-15" d__=""><a href="#cb866-15"></a>    <span class="cf" d__="">while</span> <span class="op" d__="">((</span>fgetws<span class="op" d__="">(</span>buf<span class="op" d__="">,</span> BUF_SIZE<span class="op" d__="">,</span> fp<span class="op" d__="">))</span> <span class="op" d__="">!=</span> NULL<span class="op" d__="">)</span> </span>
<span id="cb866-16" d__=""><a href="#cb866-16"></a>        wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%04d</span><span class="st" d__="">: </span><span class="sc" d__="">%ls</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">++</span>line_count<span class="op" d__="">,</span> buf<span class="op" d__="">);</span></span>
<span id="cb866-17"><a href="#cb866-17"></a></span>
<span id="cb866-18" d__=""><a href="#cb866-18"></a>    fclose<span class="op" d__="">(</span>fp<span class="op" d__="">);</span></span>
<span id="cb866-19"><a href="#cb866-19"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Example output for a file with these lines in them (without the prepended numbers):</p>
<div class="sourceCode" id="cb867"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb867-1" d__=""><a href="#cb867-1" aria-hidden="true" tabindex="-1"></a>0001: line 1</span>
<span id="cb867-2" d__=""><a href="#cb867-2" aria-hidden="true" tabindex="-1"></a>0002: line 2</span>
<span id="cb867-3" d__=""><a href="#cb867-3" aria-hidden="true" tabindex="-1"></a>0003: something</span>
<span id="cb867-4" d__=""><a href="#cb867-4" aria-hidden="true" tabindex="-1"></a>0004: line 4</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-243" d__="">See Also</h3>
<p d__=""><a href="#man-getwc"><code s__="13" d__="">fgetwc()</code></a>, <a href="#man-gets"><code s__="13" d__="">fgets()</code></a></p>
<hr>
<h2 data-number="31.8" id="man-putwc"><span class="header-section-number" d__="">31.8</span> <code d__="">putwchar()</code> <code d__="">putwc()</code> <code d__="">fputwc()</code></h2>
<p> </p>
<p d__="">Write a single wide character to the console or to a file</p>
<h3 class="unnumbered unlisted" id="synopsis-258" d__="">Synopsis</h3>
<div class="sourceCode" id="cb868"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb868-1"><a href="#cb868-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span><span class="pp">   </span><span class="co" d__="">// For putwc() and fputwc()</span></span>
<span id="cb868-2"><a href="#cb868-2" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb868-3"><a href="#cb868-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb868-4" d__=""><a href="#cb868-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">wint_t</span> putwchar<span class="op" d__="">(</span><span class="dt" d__="">wchar_t</span> c<span class="op" d__="">);</span></span>
<span id="cb868-5"><a href="#cb868-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb868-6" d__=""><a href="#cb868-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">wint_t</span> putwc<span class="op" d__="">(</span><span class="dt" d__="">wchar_t</span> c<span class="op" d__="">,</span> <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">);</span></span>
<span id="cb868-7"><a href="#cb868-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb868-8" d__=""><a href="#cb868-8" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">wint_t</span> fputwc<span class="op" d__="">(</span><span class="dt" d__="">wchar_t</span> c<span class="op" d__="">,</span> <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-258" d__="">Description</h3>
<p d__="">These are the wide character equivalents to the <a href="#man-putc" d__="">‘fputc()’</a> group of functions. You can find more information <a href="#man-putc" d__="">‘in that reference section’</a>.</p>
<p d__=""><code s__="13">fputwc()</code> and <code s__="13">putwc()</code> are identical except that <code s__="13">putwc()</code> might be implemented as a macro and is allowed to evaluate <code s__="13">stream</code> multiple times.</p>
<p d__=""><code s__="13">putwchar()</code> is identical to <code s__="13">putwc()</code> with <code s__="13">stream</code> set to <code s__="13">stdin</code>.</p>
<p d__="">I don’t know why you’d ever use <code s__="13">putwc()</code> instead of <code s__="13">fputwc()</code>, but if anyone knows, drop me a line.</p>
<h3 class="unnumbered unlisted" id="return-value-256" d__="">Return Value</h3>
<p d__="">Returns the wide character written, or <code s__="13">WEOF</code> on error.</p>
<p d__="">If it’s an I/O error, the error flag will be set for the stream.</p>
<p d__="">If it’s an encoding error, <code s__="13">errno</code> will be set to <code s__="13">EILSEQ</code>.</p>
<h3 class="unnumbered unlisted" id="example-260" d__="">Example</h3>
<p d__="">Read all characters from a file, outputting only the letter ’b’s it finds in the file:</p>
<div class="sourceCode" id="cb869"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb869-1"><a href="#cb869-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb869-2"><a href="#cb869-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb869-3"><a href="#cb869-3"></a></span>
<span id="cb869-4" d__=""><a href="#cb869-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb869-5"><a href="#cb869-5"></a><span class="op" d__="">{</span></span>
<span id="cb869-6" d__=""><a href="#cb869-6"></a>    <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>fp<span class="op" d__="">;</span></span>
<span id="cb869-7" d__=""><a href="#cb869-7"></a>    <span class="dt" d__="">wint_t</span> c<span class="op" d__="">;</span></span>
<span id="cb869-8"><a href="#cb869-8"></a></span>
<span id="cb869-9" d__=""><a href="#cb869-9"></a>    fp <span class="op" d__="">=</span> fopen<span class="op" d__="">(</span><span class="st" d__="">"datafile.txt"</span><span class="op" d__="">,</span> <span class="st" d__="">"r"</span><span class="op" d__="">);</span> <span class="co" d__="">// error check this!</span></span>
<span id="cb869-10"><a href="#cb869-10"></a></span>
<span id="cb869-11"><a href="#cb869-11"></a>    <span class="co" d__="">// this while-statement assigns into c, and then checks against EOF:</span></span>
<span id="cb869-12"><a href="#cb869-12"></a></span>
<span id="cb869-13" d__=""><a href="#cb869-13"></a>    <span class="cf" d__="">while</span><span class="op" d__="">((</span>c <span class="op" d__="">=</span> fgetc<span class="op" d__="">(</span>fp<span class="op" d__="">))</span> <span class="op" d__="">!=</span> WEOF<span class="op" d__="">)</span> </span>
<span id="cb869-14" d__=""><a href="#cb869-14"></a>        <span class="cf" d__="">if</span> <span class="op" d__="">(</span>c <span class="op" d__="">==</span> <span class="ch" d__="">L'b'</span><span class="op" d__="">)</span></span>
<span id="cb869-15" d__=""><a href="#cb869-15"></a>            fputwc<span class="op" d__="">(</span>c<span class="op" d__="">,</span> stdout<span class="op" d__="">);</span></span>
<span id="cb869-16"><a href="#cb869-16"></a></span>
<span id="cb869-17" d__=""><a href="#cb869-17"></a>    fclose<span class="op" d__="">(</span>fp<span class="op" d__="">);</span></span>
<span id="cb869-18"><a href="#cb869-18"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-244" d__="">See Also</h3>
<p d__=""><a href="#man-getwc"><code s__="13" d__="">fgetwc()</code></a>, <a href="#man-putc"><code s__="13" d__="">fputc()</code></a>, <a href="#errno"><code s__="13" d__="">errno</code></a></p>
<hr>
<h2 data-number="31.9" id="man-fputws"><span class="header-section-number" d__="">31.9</span> <code d__="">fputws()</code></h2>
<p></p>
<p d__="">Write a wide string to a file</p>
<h3 class="unnumbered unlisted" id="synopsis-259" d__="">Synopsis</h3>
<div class="sourceCode" id="cb870"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb870-1"><a href="#cb870-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb870-2"><a href="#cb870-2" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb870-3"><a href="#cb870-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb870-4" d__=""><a href="#cb870-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> fputws<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s<span class="op" d__="">,</span> <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> stream<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-259" d__="">Description</h3>
<p d__="">This is the wide version of <a href="#man-puts"><code s__="13" d__="">fputs()</code></a>.</p>
<p d__="">Pass in a wide string and an output stream, and it will so be written.</p>
<h3 class="unnumbered unlisted" id="return-value-257" d__="">Return Value</h3>
<p d__="">Returns a non-negative value on success, or <code s__="13">EOF</code> on error.</p>
<h3 class="unnumbered unlisted" id="example-261" d__="">Example</h3>
<div class="sourceCode" id="cb871"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb871-1"><a href="#cb871-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb871-2"><a href="#cb871-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb871-3"><a href="#cb871-3"></a></span>
<span id="cb871-4" d__=""><a href="#cb871-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb871-5"><a href="#cb871-5"></a><span class="op" d__="">{</span></span>
<span id="cb871-6" d__=""><a href="#cb871-6"></a>    fputws<span class="op" d__="">(</span><span class="st" d__="">L"Hello, world!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> stdout<span class="op" d__="">);</span></span>
<span id="cb871-7"><a href="#cb871-7"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-245" d__="">See Also</h3>
<p><a href="#man-putwc"><code s__="13" d__="">fputwc()</code></a> <a href="#man-puts"><code s__="13" d__="">fputs()</code></a></p>
<hr>
<h2 data-number="31.10" id="man-fwide"><span class="header-section-number" d__="">31.10</span> <code d__="">fwide()</code></h2>
<p></p>
<p d__="">Get or set the orientation of the stream</p>
<h3 class="unnumbered unlisted" id="synopsis-260" d__="">Synopsis</h3>
<div class="sourceCode" id="cb872"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb872-1"><a href="#cb872-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb872-2"><a href="#cb872-2" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb872-3"><a href="#cb872-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb872-4" d__=""><a href="#cb872-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> fwide<span class="op" d__="">(</span><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">,</span> <span class="dt" d__="">int</span> mode<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-260" d__="">Description</h3>
<p d__="">Streams can be either wide-oriented (meaning the wide 
functions are in use) or byte-oriented (that the regular multibyte 
functions are in use). Or, before an orientation is chosen, unoriented.</p>
<p d__="">There are two ways to set the orientation of an unoriented stream:</p>
<ul>
<li><p d__="">Implicitly: just use a function like <code s__="13">printf()</code> (byte oriented) or <code s__="13">wprintf()</code> (wide oriented), and the orientation will be set.</p></li>
<li><p d__="">Explicitly: use this function to set it.</p></li>
</ul>
<p d__="">You can set the orientation for the stream by passing different numbers to <code s__="13">mode</code>:</p>
<table>
<thead>
<tr class="header">
<th><code s__="13" d__="">mode</code></th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">0</code></td>
<td d__="">Do not alter the orientation</td>
</tr>
<tr class="even">
<td><code s__="13" d__="">-1</code></td>
<td d__="">Set stream to byte-oriented</td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">1</code></td>
<td d__="">Set stream to wide-oriented</td>
</tr>
</tbody>
</table>
<p d__="">(I said <code s__="13">-1</code> and <code s__="13">1</code> there, but really it could be any positive or negative number.)</p>
<p d__="">Most people choose the wide or byte functions (<code s__="13">printf()</code> or <code s__="13">wprintf()</code>) and just start using them and never use <code s__="13">fwide()</code> to set the orientation.</p>
<p d__="">And once the orientation is set, you can’t change it. So you can’t use <code s__="13">fwide()</code> for that, either.</p>
<p d__="">So what can you use it for?</p>
<p d__="">You can <em>test</em> to see what orientation a stream is in by passing <code s__="13">0</code> as the <code s__="13">mode</code> and checking the return value.</p>
<h3 class="unnumbered unlisted" id="return-value-258" d__="">Return Value</h3>
<p d__="">Returns greater than zero if the stream is wide-oriented.</p>
<p d__="">Returns less than zero if the stream is byte-oriented.</p>
<p d__="">Returns zero if the stream is unoriented.</p>
<h3 class="unnumbered unlisted" id="example-262" d__="">Example</h3>
<p d__="">Example setting to byte-oriented:</p>
<div class="sourceCode" id="cb873"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb873-1"><a href="#cb873-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb873-2"><a href="#cb873-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb873-3"><a href="#cb873-3"></a></span>
<span id="cb873-4" d__=""><a href="#cb873-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb873-5"><a href="#cb873-5"></a><span class="op" d__="">{</span></span>
<span id="cb873-6" d__=""><a href="#cb873-6"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Hello world!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span>  <span class="co" d__="">// Implicitly set to byte</span></span>
<span id="cb873-7"><a href="#cb873-7"></a></span>
<span id="cb873-8" d__=""><a href="#cb873-8"></a>    <span class="dt" d__="">int</span> mode <span class="op" d__="">=</span> fwide<span class="op" d__="">(</span>stdout<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">);</span></span>
<span id="cb873-9"><a href="#cb873-9"></a></span>
<span id="cb873-10" d__=""><a href="#cb873-10"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"Stream is </span><span class="sc" d__="">%s</span><span class="st" d__="">-oriented</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> mode <span class="op" d__="">&lt;</span> <span class="dv" d__="">0</span><span class="op" d__="">?</span> <span class="st" d__="">"byte"</span><span class="op" d__="">:</span> <span class="st" d__="">"wide"</span><span class="op" d__="">);</span></span>
<span id="cb873-11"><a href="#cb873-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb874"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb874-1" d__=""><a href="#cb874-1" aria-hidden="true" tabindex="-1"></a>Hello world!</span>
<span id="cb874-2" d__=""><a href="#cb874-2" aria-hidden="true" tabindex="-1"></a>Stream is byte-oriented</span></code></pre></div>
<p d__="">Example setting to wide-oriented:</p>
<div class="sourceCode" id="cb875"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb875-1"><a href="#cb875-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb875-2"><a href="#cb875-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb875-3"><a href="#cb875-3"></a></span>
<span id="cb875-4" d__=""><a href="#cb875-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb875-5"><a href="#cb875-5"></a><span class="op" d__="">{</span></span>
<span id="cb875-6" d__=""><a href="#cb875-6"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Hello world!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span>  <span class="co" d__="">// Implicitly set to wide</span></span>
<span id="cb875-7"><a href="#cb875-7"></a></span>
<span id="cb875-8" d__=""><a href="#cb875-8"></a>    <span class="dt" d__="">int</span> mode <span class="op" d__="">=</span> fwide<span class="op" d__="">(</span>stdout<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">);</span></span>
<span id="cb875-9"><a href="#cb875-9"></a></span>
<span id="cb875-10" d__=""><a href="#cb875-10"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Stream is </span><span class="sc" d__="">%ls</span><span class="st" d__="">-oriented</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> mode <span class="op" d__="">&lt;</span> <span class="dv" d__="">0</span><span class="op" d__="">?</span> <span class="st" d__="">L"byte"</span><span class="op" d__="">:</span> <span class="st" d__="">L"wide"</span><span class="op" d__="">);</span></span>
<span id="cb875-11"><a href="#cb875-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb876"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb876-1" d__=""><a href="#cb876-1" aria-hidden="true" tabindex="-1"></a>Hello world!</span>
<span id="cb876-2" d__=""><a href="#cb876-2" aria-hidden="true" tabindex="-1"></a>Stream is wide-oriented</span></code></pre></div>
<!--
### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<hr>
<h2 data-number="31.11" id="man-ungetwc"><span class="header-section-number" d__="">31.11</span> <code d__="">ungetwc()</code></h2>
<p></p>
<p d__="">Pushes a wide character back into the input stream</p>
<h3 class="unnumbered unlisted" id="synopsis-261" d__="">Synopsis</h3>
<div class="sourceCode" id="cb877"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb877-1"><a href="#cb877-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb877-2"><a href="#cb877-2" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb877-3"><a href="#cb877-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb877-4" d__=""><a href="#cb877-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">wint_t</span> ungetwc<span class="op" d__="">(</span><span class="dt" d__="">wint_t</span> c<span class="op" d__="">,</span> <span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>stream<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-261" d__="">Description</h3>
<p d__="">This is the wide character variant of <a href="#man-ungetc"><code s__="13" d__="">ungetc()</code></a>.</p>
<p d__="">It performs the reverse operation of <a href="#man-getwc"><code s__="13" d__="">fgetwc()</code></a>, pushing a character back on the input stream.</p>
<p d__="">The spec guarantees you can do this one time in a row. You can
 probably do it more times, but it’s up to the implementation. If you do
 too many calls without an intervening read, an error could be returned.</p>
<p d__="">Setting the file position discards any characters pushed by <code s__="13">ungetwc()</code> without being subsequently read.</p>
<p d__="">The end-of-file flag is cleared after a successful call.</p>
<h3 class="unnumbered unlisted" id="return-value-259" d__="">Return Value</h3>
<p d__="">Returns the value of the pushed character on success, or <code s__="13">WEOF</code> on failure.</p>
<h3 class="unnumbered unlisted" id="example-263" d__="">Example</h3>
<p d__="">This example reads a piece of punctuation, then everything 
after it up to the next piece of punctuation. It returns the leading 
punctuation, and stores the rest in a string.</p>
<div class="sourceCode" id="cb878"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb878-1"><a href="#cb878-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span></span>
<span id="cb878-2"><a href="#cb878-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb878-3"><a href="#cb878-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb878-4"><a href="#cb878-4"></a></span>
<span id="cb878-5" d__=""><a href="#cb878-5"></a><span class="dt" d__="">wint_t</span> read_punctstring<span class="op" d__="">(</span><span class="dt" d__="">FILE</span> <span class="op" d__="">*</span>fp<span class="op" d__="">,</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s<span class="op" d__="">)</span></span>
<span id="cb878-6"><a href="#cb878-6"></a><span class="op" d__="">{</span></span>
<span id="cb878-7" d__=""><a href="#cb878-7"></a>    <span class="dt" d__="">wint_t</span> origpunct<span class="op" d__="">,</span> c<span class="op" d__="">;</span></span>
<span id="cb878-8"><a href="#cb878-8"></a>    </span>
<span id="cb878-9" d__=""><a href="#cb878-9"></a>    origpunct <span class="op" d__="">=</span> fgetwc<span class="op" d__="">(</span>fp<span class="op" d__="">);</span></span>
<span id="cb878-10"><a href="#cb878-10"></a></span>
<span id="cb878-11" d__=""><a href="#cb878-11"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>origpunct <span class="op" d__="">==</span> WEOF<span class="op" d__="">)</span>  <span class="co" d__="">// return EOF on end-of-file</span></span>
<span id="cb878-12" d__=""><a href="#cb878-12"></a>        <span class="cf" d__="">return</span> WEOF<span class="op" d__="">;</span></span>
<span id="cb878-13"><a href="#cb878-13"></a></span>
<span id="cb878-14" d__=""><a href="#cb878-14"></a>    <span class="cf" d__="">while</span> <span class="op" d__="">(</span>c <span class="op" d__="">=</span> fgetwc<span class="op" d__="">(</span>fp<span class="op" d__="">),</span> <span class="op" d__="">!</span>iswpunct<span class="op" d__="">(</span>c<span class="op" d__="">)</span> <span class="op" d__="">&amp;&amp;</span> c <span class="op" d__="">!=</span> WEOF<span class="op" d__="">)</span></span>
<span id="cb878-15" d__=""><a href="#cb878-15"></a>        <span class="op" d__="">*</span>s<span class="op" d__="">++</span> <span class="op" d__="">=</span> c<span class="op" d__="">;</span>  <span class="co" d__="">// save it in the string</span></span>
<span id="cb878-16"><a href="#cb878-16"></a></span>
<span id="cb878-17" d__=""><a href="#cb878-17"></a>    <span class="op" d__="">*</span>s <span class="op" d__="">=</span> <span class="ch" d__="">L'</span><span class="sc" d__="">\0</span><span class="ch" d__="">'</span><span class="op" d__="">;</span> <span class="co" d__="">// nul-terminate the string</span></span>
<span id="cb878-18"><a href="#cb878-18"></a></span>
<span id="cb878-19"><a href="#cb878-19"></a>    <span class="co" d__="">// if we read punctuation last, ungetc it so we can fgetc it next</span></span>
<span id="cb878-20"><a href="#cb878-20"></a>    <span class="co" d__="">// time:</span></span>
<span id="cb878-21" d__=""><a href="#cb878-21"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>iswpunct<span class="op" d__="">(</span>c<span class="op" d__="">))</span></span>
<span id="cb878-22" d__=""><a href="#cb878-22"></a>        ungetwc<span class="op" d__="">(</span>c<span class="op" d__="">,</span> fp<span class="op" d__="">);</span></span>
<span id="cb878-23"><a href="#cb878-23"></a></span>
<span id="cb878-24" d__=""><a href="#cb878-24"></a>    <span class="cf" d__="">return</span> origpunct<span class="op" d__="">;</span></span>
<span id="cb878-25"><a href="#cb878-25"></a><span class="op" d__="">}</span></span>
<span id="cb878-26"><a href="#cb878-26"></a></span>
<span id="cb878-27" d__=""><a href="#cb878-27"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb878-28"><a href="#cb878-28"></a><span class="op" d__="">{</span></span>
<span id="cb878-29" d__=""><a href="#cb878-29"></a>    <span class="dt" d__="">wchar_t</span> s<span class="op" d__="">[</span><span class="dv" d__="">128</span><span class="op" d__="">];</span></span>
<span id="cb878-30" d__=""><a href="#cb878-30"></a>    <span class="dt" d__="">wint_t</span> c<span class="op" d__="">;</span></span>
<span id="cb878-31"><a href="#cb878-31"></a></span>
<span id="cb878-32" d__=""><a href="#cb878-32"></a>    <span class="cf" d__="">while</span> <span class="op" d__="">((</span>c <span class="op" d__="">=</span> read_punctstring<span class="op" d__="">(</span>stdin<span class="op" d__="">,</span> s<span class="op" d__="">))</span> <span class="op" d__="">!=</span> WEOF<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb878-33" d__=""><a href="#cb878-33"></a>        wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%lc</span><span class="st" d__="">: </span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> c<span class="op" d__="">,</span> s<span class="op" d__="">);</span></span>
<span id="cb878-34"><a href="#cb878-34"></a>    <span class="op" d__="">}</span></span>
<span id="cb878-35"><a href="#cb878-35"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Sample Input:</p>
<div class="sourceCode" id="cb879"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb879-1" d__=""><a href="#cb879-1" aria-hidden="true" tabindex="-1"></a>!foo#bar*baz</span></code></pre></div>
<p d__="">Sample output:</p>
<div class="sourceCode" id="cb880"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb880-1" d__=""><a href="#cb880-1" aria-hidden="true" tabindex="-1"></a>!: foo</span>
<span id="cb880-2" d__=""><a href="#cb880-2" aria-hidden="true" tabindex="-1"></a>#: bar</span>
<span id="cb880-3" d__=""><a href="#cb880-3" aria-hidden="true" tabindex="-1"></a>*: baz</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-246" d__="">See Also</h3>
<p d__=""><a href="#man-getwc"><code s__="13" d__="">fgetwc()</code></a>, <a href="#man-ungetc"><code s__="13" d__="">ungetc()</code></a></p>
<hr>
<h2 data-number="31.12" id="man-wcstod"><span class="header-section-number" d__="">31.12</span> <code d__="">wcstod()</code> <code d__="">wcstof()</code> <code d__="">wcstold()</code></h2>
<p> </p>
<p d__="">Convert a wide string to a floating point number</p>
<h3 class="unnumbered unlisted" id="synopsis-262" d__="">Synopsis</h3>
<div class="sourceCode" id="cb881"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb881-1"><a href="#cb881-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb881-2"><a href="#cb881-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb881-3" d__=""><a href="#cb881-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">double</span> wcstod<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> nptr<span class="op" d__="">,</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">**</span> <span class="dt" d__="">restrict</span> endptr<span class="op" d__="">);</span></span>
<span id="cb881-4"><a href="#cb881-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb881-5" d__=""><a href="#cb881-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">float</span> wcstof<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> nptr<span class="op" d__="">,</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">**</span> <span class="dt" d__="">restrict</span> endptr<span class="op" d__="">);</span></span>
<span id="cb881-6"><a href="#cb881-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb881-7" d__=""><a href="#cb881-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">double</span> wcstold<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> nptr<span class="op" d__="">,</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">**</span> <span class="dt" d__="">restrict</span> endptr<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-262" d__="">Description</h3>
<p d__="">These are the wide counterparts to the <a href="#man-strtod"><code s__="13" d__="">strtod()</code></a> family of functions. See <a href="#man-strtod" d__="">their reference pages for details</a>.</p>
<h3 class="unnumbered unlisted" id="return-value-260" d__="">Return Value</h3>
<p d__="">Returns the string converted to a floating point value.</p>
<p d__="">Returns <code s__="13">0</code> if there’s no valid number in the string.</p>
<p d__="">On overflow, returns an apporpriately-signed <code s__="13">HUGE_VAL</code>, <code s__="13">HUGE_VALF</code>. or <code s__="13">HUGE_VALL</code> depending on the return type, and <code s__="13">errno</code> is set to <code s__="13">ERANGE</code>.</p>
<p d__="">On underflow, returns a number no greater than the smallest normalized positive number, appropriately signed. The implemention <em>might</em> set <code s__="13">errno</code> to <code s__="13">ERANGE</code>.</p>
<h3 class="unnumbered unlisted" id="example-264" d__="">Example</h3>
<div class="sourceCode" id="cb882"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb882-1"><a href="#cb882-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb882-2"><a href="#cb882-2"></a></span>
<span id="cb882-3" d__=""><a href="#cb882-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb882-4"><a href="#cb882-4"></a><span class="op" d__="">{</span></span>
<span id="cb882-5" d__=""><a href="#cb882-5"></a>    <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>inp <span class="op" d__="">=</span> <span class="st" d__="">L"   123.4567beej"</span><span class="op" d__="">;</span></span>
<span id="cb882-6" d__=""><a href="#cb882-6"></a>    <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>badchar<span class="op" d__="">;</span></span>
<span id="cb882-7"><a href="#cb882-7"></a></span>
<span id="cb882-8" d__=""><a href="#cb882-8"></a>    <span class="dt" d__="">double</span> val <span class="op" d__="">=</span> wcstod<span class="op" d__="">(</span>inp<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>badchar<span class="op" d__="">);</span></span>
<span id="cb882-9"><a href="#cb882-9"></a></span>
<span id="cb882-10" d__=""><a href="#cb882-10"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Converted string to </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> val<span class="op" d__="">);</span></span>
<span id="cb882-11" d__=""><a href="#cb882-11"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Encountered bad characters: </span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> badchar<span class="op" d__="">);</span></span>
<span id="cb882-12"><a href="#cb882-12"></a></span>
<span id="cb882-13" d__=""><a href="#cb882-13"></a>    val <span class="op" d__="">=</span> wcstod<span class="op" d__="">(</span><span class="st" d__="">L"987.654321beej"</span><span class="op" d__="">,</span> NULL<span class="op" d__="">);</span></span>
<span id="cb882-14" d__=""><a href="#cb882-14"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Ignoring bad chars: </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> val<span class="op" d__="">);</span></span>
<span id="cb882-15"><a href="#cb882-15"></a></span>
<span id="cb882-16" d__=""><a href="#cb882-16"></a>    val <span class="op" d__="">=</span> wcstod<span class="op" d__="">(</span><span class="st" d__="">L"11.2233"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>badchar<span class="op" d__="">);</span></span>
<span id="cb882-17"><a href="#cb882-17"></a></span>
<span id="cb882-18" d__=""><a href="#cb882-18"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(*</span>badchar <span class="op" d__="">==</span> <span class="ch" d__="">L'</span><span class="sc" d__="">\0</span><span class="ch" d__="">'</span><span class="op" d__="">)</span></span>
<span id="cb882-19" d__=""><a href="#cb882-19"></a>        wprintf<span class="op" d__="">(</span><span class="st" d__="">L"No bad chars: </span><span class="sc" d__="">%f\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> val<span class="op" d__="">);</span></span>
<span id="cb882-20"><a href="#cb882-20"></a>    <span class="cf" d__="">else</span></span>
<span id="cb882-21" d__=""><a href="#cb882-21"></a>        wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Found bad chars: </span><span class="sc" d__="">%f</span><span class="st" d__="">, </span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> val<span class="op" d__="">,</span> badchar<span class="op" d__="">);</span></span>
<span id="cb882-22"><a href="#cb882-22"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb883"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb883-1" d__=""><a href="#cb883-1" aria-hidden="true" tabindex="-1"></a>Converted string to 123.456700</span>
<span id="cb883-2" d__=""><a href="#cb883-2" aria-hidden="true" tabindex="-1"></a>Encountered bad characters: beej</span>
<span id="cb883-3" d__=""><a href="#cb883-3" aria-hidden="true" tabindex="-1"></a>Ignoring bad chars: 987.654321</span>
<span id="cb883-4" d__=""><a href="#cb883-4" aria-hidden="true" tabindex="-1"></a>No bad chars: 11.223300</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-247" d__="">See Also</h3>
<p d__=""><a href="#man-wcstol"><code s__="13" d__="">wcstol()</code></a>, <a href="#man-strtod"><code s__="13" d__="">strtod()</code></a>, <a href="#errno"><code s__="13" d__="">errno</code></a></p>
<hr>
<h2 data-number="31.13" id="man-wcstol"><span class="header-section-number" d__="">31.13</span> <code d__="">wcstol()</code> <code d__="">wcstoll()</code> <code d__="">wcstoul()</code> <code d__="">wcstoull()</code></h2>
<p> </p>
<p d__="">Convert a wide string to an integer value</p>
<h3 class="unnumbered unlisted" id="synopsis-263" d__="">Synopsis</h3>
<div class="sourceCode" id="cb884"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb884-1"><a href="#cb884-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb884-2"><a href="#cb884-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb884-3" d__=""><a href="#cb884-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">int</span> wcstol<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> nptr<span class="op" d__="">,</span></span>
<span id="cb884-4" d__=""><a href="#cb884-4" aria-hidden="true" tabindex="-1"></a>                <span class="dt" d__="">wchar_t</span> <span class="op" d__="">**</span> <span class="dt" d__="">restrict</span> endptr<span class="op" d__="">,</span> <span class="dt" d__="">int</span> base<span class="op" d__="">);</span></span>
<span id="cb884-5"><a href="#cb884-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb884-6" d__=""><a href="#cb884-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">long</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> wcstoll<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> nptr<span class="op" d__="">,</span></span>
<span id="cb884-7" d__=""><a href="#cb884-7" aria-hidden="true" tabindex="-1"></a>                      <span class="dt" d__="">wchar_t</span> <span class="op" d__="">**</span> <span class="dt" d__="">restrict</span> endptr<span class="op" d__="">,</span> <span class="dt" d__="">int</span> base<span class="op" d__="">);</span></span>
<span id="cb884-8"><a href="#cb884-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb884-9" d__=""><a href="#cb884-9" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> wcstoul<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> nptr<span class="op" d__="">,</span></span>
<span id="cb884-10" d__=""><a href="#cb884-10" aria-hidden="true" tabindex="-1"></a>                          <span class="dt" d__="">wchar_t</span> <span class="op" d__="">**</span> <span class="dt" d__="">restrict</span> endptr<span class="op" d__="">,</span> <span class="dt" d__="">int</span> base<span class="op" d__="">);</span></span>
<span id="cb884-11"><a href="#cb884-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb884-12" d__=""><a href="#cb884-12" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">unsigned</span> <span class="dt" d__="">long</span> <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> wcstoull<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> nptr<span class="op" d__="">,</span></span>
<span id="cb884-13" d__=""><a href="#cb884-13" aria-hidden="true" tabindex="-1"></a>                                <span class="dt" d__="">wchar_t</span> <span class="op" d__="">**</span> <span class="dt" d__="">restrict</span> endptr<span class="op" d__="">,</span> <span class="dt" d__="">int</span> base<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-263" d__="">Description</h3>
<p d__="">These are the wide counterparts to the <a href="#man-strtol"><code s__="13" d__="">strtol()</code></a> family of functions, so see <a href="#man-strtol" d__="">their reference pages for the details</a>.</p>
<h3 class="unnumbered unlisted" id="return-value-261" d__="">Return Value</h3>
<p d__="">Returns the integer value of the string.</p>
<p d__="">If nothing can be found, <code s__="13">0</code> is returned.</p>
<p d__="">If the result is out of range, the value returned is one of <code s__="13">LONG_MIN</code>, <code s__="13">LONG_MAX</code>, <code s__="13">LLONG_MIN</code>, <code s__="13">LLONG_MAX</code>, <code s__="13">ULONG_MAX</code> or <code s__="13">ULLONG_MAX</code>, as appropriate. And <code s__="13">errno</code> is set to <code s__="13">ERANGE</code>.</p>
<h3 class="unnumbered unlisted" id="example-265" d__="">Example</h3>
<div class="sourceCode" id="cb885"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb885-1"><a href="#cb885-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb885-2"><a href="#cb885-2"></a></span>
<span id="cb885-3" d__=""><a href="#cb885-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb885-4"><a href="#cb885-4"></a><span class="op" d__="">{</span></span>
<span id="cb885-5"><a href="#cb885-5"></a>    <span class="co" d__="">// All output in decimal (base 10)</span></span>
<span id="cb885-6"><a href="#cb885-6"></a></span>
<span id="cb885-7" d__=""><a href="#cb885-7"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> wcstol<span class="op" d__="">(</span><span class="st" d__="">L"123"</span><span class="op" d__="">,</span> NULL<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">));</span>     <span class="co" d__="">// 123</span></span>
<span id="cb885-8" d__=""><a href="#cb885-8"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> wcstol<span class="op" d__="">(</span><span class="st" d__="">L"123"</span><span class="op" d__="">,</span> NULL<span class="op" d__="">,</span> <span class="dv" d__="">10</span><span class="op" d__="">));</span>    <span class="co" d__="">// 123</span></span>
<span id="cb885-9" d__=""><a href="#cb885-9"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> wcstol<span class="op" d__="">(</span><span class="st" d__="">L"101010"</span><span class="op" d__="">,</span> NULL<span class="op" d__="">,</span> <span class="dv" d__="">2</span><span class="op" d__="">));</span>  <span class="co" d__="">// binary, 42</span></span>
<span id="cb885-10" d__=""><a href="#cb885-10"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> wcstol<span class="op" d__="">(</span><span class="st" d__="">L"123"</span><span class="op" d__="">,</span> NULL<span class="op" d__="">,</span> <span class="dv" d__="">8</span><span class="op" d__="">));</span>     <span class="co" d__="">// octal, 83</span></span>
<span id="cb885-11" d__=""><a href="#cb885-11"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> wcstol<span class="op" d__="">(</span><span class="st" d__="">L"123"</span><span class="op" d__="">,</span> NULL<span class="op" d__="">,</span> <span class="dv" d__="">16</span><span class="op" d__="">));</span>    <span class="co" d__="">// hex, 291</span></span>
<span id="cb885-12"><a href="#cb885-12"></a></span>
<span id="cb885-13" d__=""><a href="#cb885-13"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> wcstol<span class="op" d__="">(</span><span class="st" d__="">L"0123"</span><span class="op" d__="">,</span> NULL<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">));</span>    <span class="co" d__="">// octal, 83</span></span>
<span id="cb885-14" d__=""><a href="#cb885-14"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> wcstol<span class="op" d__="">(</span><span class="st" d__="">L"0x123"</span><span class="op" d__="">,</span> NULL<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">));</span>   <span class="co" d__="">// hex, 291</span></span>
<span id="cb885-15"><a href="#cb885-15"></a></span>
<span id="cb885-16" d__=""><a href="#cb885-16"></a>    <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>badchar<span class="op" d__="">;</span></span>
<span id="cb885-17" d__=""><a href="#cb885-17"></a>    <span class="dt" d__="">long</span> <span class="dt" d__="">int</span> x <span class="op" d__="">=</span> wcstol<span class="op" d__="">(</span><span class="st" d__="">L"   1234beej"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>badchar<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">);</span></span>
<span id="cb885-18"><a href="#cb885-18"></a></span>
<span id="cb885-19" d__=""><a href="#cb885-19"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Value is </span><span class="sc" d__="">%ld\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> x<span class="op" d__="">);</span>                  <span class="co" d__="">// Value is 1234</span></span>
<span id="cb885-20" d__=""><a href="#cb885-20"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Bad chars at </span><span class="sc" d__="">\"%ls\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> badchar<span class="op" d__="">);</span>    <span class="co" d__="">// Bad chars at "beej"</span></span>
<span id="cb885-21"><a href="#cb885-21"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb886"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb886-1" d__=""><a href="#cb886-1" aria-hidden="true" tabindex="-1"></a>123</span>
<span id="cb886-2" d__=""><a href="#cb886-2" aria-hidden="true" tabindex="-1"></a>123</span>
<span id="cb886-3" d__=""><a href="#cb886-3" aria-hidden="true" tabindex="-1"></a>42</span>
<span id="cb886-4" d__=""><a href="#cb886-4" aria-hidden="true" tabindex="-1"></a>83</span>
<span id="cb886-5" d__=""><a href="#cb886-5" aria-hidden="true" tabindex="-1"></a>291</span>
<span id="cb886-6" d__=""><a href="#cb886-6" aria-hidden="true" tabindex="-1"></a>83</span>
<span id="cb886-7" d__=""><a href="#cb886-7" aria-hidden="true" tabindex="-1"></a>291</span>
<span id="cb886-8" d__=""><a href="#cb886-8" aria-hidden="true" tabindex="-1"></a>Value is 1234</span>
<span id="cb886-9" d__=""><a href="#cb886-9" aria-hidden="true" tabindex="-1"></a>Bad chars at "beej"</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-248" d__="">See Also</h3>
<p d__=""><a href="#man-wcstod"><code s__="13" d__="">wcstod()</code></a>, <a href="#man-strtol"><code s__="13" d__="">strtol()</code></a>, <a href="#errno"><code s__="13" d__="">errno</code></a>, <a href="#man-wcstoimax"><code s__="13" d__="">wcstoimax()</code></a>, <a href="#man-wcstoimax"><code s__="13" d__="">wcstoumax()</code></a></p>
<hr>
<h2 data-number="31.14" id="man-wcscpy"><span class="header-section-number" d__="">31.14</span> <code d__="">wcscpy()</code> <code d__="">wcsncpy()</code></h2>
<p> </p>
<p d__="">Copy a wide string</p>
<h3 class="unnumbered unlisted" id="synopsis-264" d__="">Synopsis</h3>
<div class="sourceCode" id="cb887"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb887-1"><a href="#cb887-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb887-2"><a href="#cb887-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb887-3" d__=""><a href="#cb887-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>wcscpy<span class="op" d__="">(</span><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s1<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s2<span class="op" d__="">);</span></span>
<span id="cb887-4"><a href="#cb887-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb887-5" d__=""><a href="#cb887-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>wcsncpy<span class="op" d__="">(</span><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s1<span class="op" d__="">,</span></span>
<span id="cb887-6" d__=""><a href="#cb887-6" aria-hidden="true" tabindex="-1"></a>                 <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s2<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-264" d__="">Description</h3>
<p d__="">These are the wide versions of <a href="#man-strcpy"><code s__="13" d__="">strcpy()</code></a> and <a href="#man-strcpy"><code s__="13" d__="">strncpy()</code></a>.</p>
<p d__="">They’ll copy a string up to a wide NUL. Or, in the case of the safer <code s__="13">wcsncpy()</code>, until then or until <code s__="13">n</code> wide characters are copied.</p>
<p d__="">If the string in <code s__="13">s1</code> is shorter than <code s__="13">n</code>, <code s__="13">wcsncpy()</code> will pad <code s__="13">s2</code> with wide NUL characters until the <code s__="13">n</code>th wide character is reached.</p>
<p d__="">Even though <code s__="13">wcsncpy()</code> is safer because it will never overrun the end of <code s__="13">s2</code> (assuming you set <code s__="13">n</code> correctly), it’s still unsafe a NUL is not found in <code s__="13">s1</code> in the first <code s__="13">n</code> characters. In that case, <code s__="13">s2</code> will not be NUL-terminated. Always make sure <code s__="13">n</code> is greater than the string length of <code s__="13">s1</code>!</p>
<h3 class="unnumbered unlisted" id="return-value-262" d__="">Return Value</h3>
<p d__="">Returns <code s__="13">s1</code>.</p>
<h3 class="unnumbered unlisted" id="example-266" d__="">Example</h3>
<div class="sourceCode" id="cb888"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb888-1"><a href="#cb888-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb888-2"><a href="#cb888-2"></a></span>
<span id="cb888-3" d__=""><a href="#cb888-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb888-4"><a href="#cb888-4"></a><span class="op" d__="">{</span></span>
<span id="cb888-5" d__=""><a href="#cb888-5"></a>    <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s1 <span class="op" d__="">=</span> <span class="st" d__="">L"Hello!"</span><span class="op" d__="">;</span></span>
<span id="cb888-6" d__=""><a href="#cb888-6"></a>    <span class="dt" d__="">wchar_t</span> s2<span class="op" d__="">[</span><span class="dv" d__="">10</span><span class="op" d__="">];</span></span>
<span id="cb888-7"><a href="#cb888-7"></a></span>
<span id="cb888-8" d__=""><a href="#cb888-8"></a>    wcsncpy<span class="op" d__="">(</span>s2<span class="op" d__="">,</span> s1<span class="op" d__="">,</span> <span class="dv" d__="">10</span><span class="op" d__="">);</span></span>
<span id="cb888-9"><a href="#cb888-9"></a></span>
<span id="cb888-10" d__=""><a href="#cb888-10"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">\"%ls\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> s2<span class="op" d__="">);</span>  <span class="co" d__="">// "Hello!"</span></span>
<span id="cb888-11"><a href="#cb888-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-249" d__="">See Also</h3>
<p d__=""><a href="#man-wmemcpy"><code s__="13" d__="">wmemcpy()</code></a>, <a href="#man-wmemcpy"><code s__="13" d__="">wmemmove()</code></a> <a href="#man-strcpy"><code s__="13" d__="">strcpy()</code></a>, <a href="#man-strcpy"><code s__="13" d__="">strncpy()</code></a></p>
<hr>
<h2 data-number="31.15" id="man-wmemcpy"><span class="header-section-number" d__="">31.15</span> <code d__="">wmemcpy()</code> <code d__="">wmemmove()</code></h2>
<p> </p>
<p d__="">Copy wide characters</p>
<h3 class="unnumbered unlisted" id="synopsis-265" d__="">Synopsis</h3>
<div class="sourceCode" id="cb889"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb889-1"><a href="#cb889-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb889-2"><a href="#cb889-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb889-3" d__=""><a href="#cb889-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>wmemcpy<span class="op" d__="">(</span><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s1<span class="op" d__="">,</span></span>
<span id="cb889-4" d__=""><a href="#cb889-4" aria-hidden="true" tabindex="-1"></a>                 <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s2<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">);</span></span>
<span id="cb889-5"><a href="#cb889-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb889-6" d__=""><a href="#cb889-6" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>wmemmove<span class="op" d__="">(</span><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s1<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s2<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-265" d__="">Description</h3>
<p d__="">These are the wide versions of <a href="#man-memcpy"><code s__="13" d__="">memcpy()</code></a> and <a href="#man-memcpy"><code s__="13" d__="">memmove()</code></a>.</p>
<p d__="">They copy <code s__="13">n</code> wide characters from <code s__="13">s2</code> to <code s__="13">s1</code>.</p>
<p d__="">They’re the same except that <code s__="13">wmemmove()</code> is guaranteed to work with overlapping memory regions, and <code s__="13">wmemcpy()</code> is not.</p>
<h3 class="unnumbered unlisted" id="return-value-263" d__="">Return Value</h3>
<p d__="">Both functions return the pointer <code s__="13">s1</code>.</p>
<h3 class="unnumbered unlisted" id="example-267" d__="">Example</h3>
<div class="sourceCode" id="cb890"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb890-1"><a href="#cb890-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb890-2"><a href="#cb890-2"></a></span>
<span id="cb890-3" d__=""><a href="#cb890-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb890-4"><a href="#cb890-4"></a><span class="op" d__="">{</span></span>
<span id="cb890-5" d__=""><a href="#cb890-5"></a>    <span class="dt" d__="">wchar_t</span> s<span class="op" d__="">[</span><span class="dv" d__="">100</span><span class="op" d__="">]</span> <span class="op" d__="">=</span> <span class="st" d__="">L"Goats"</span><span class="op" d__="">;</span></span>
<span id="cb890-6" d__=""><a href="#cb890-6"></a>    <span class="dt" d__="">wchar_t</span> t<span class="op" d__="">[</span><span class="dv" d__="">100</span><span class="op" d__="">];</span></span>
<span id="cb890-7"><a href="#cb890-7"></a></span>
<span id="cb890-8" d__=""><a href="#cb890-8"></a>    wmemcpy<span class="op" d__="">(</span>t<span class="op" d__="">,</span> s<span class="op" d__="">,</span> <span class="dv" d__="">6</span><span class="op" d__="">);</span>       <span class="co" d__="">// Copy non-overlapping memory</span></span>
<span id="cb890-9"><a href="#cb890-9"></a></span>
<span id="cb890-10" d__=""><a href="#cb890-10"></a>    wmemmove<span class="op" d__="">(</span>s <span class="op" d__="">+</span> <span class="dv" d__="">2</span><span class="op" d__="">,</span> s<span class="op" d__="">,</span> <span class="dv" d__="">6</span><span class="op" d__="">);</span>  <span class="co" d__="">// Copy overlapping memory</span></span>
<span id="cb890-11"><a href="#cb890-11"></a></span>
<span id="cb890-12" d__=""><a href="#cb890-12"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"s is </span><span class="sc" d__="">\"%ls\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> s<span class="op" d__="">);</span></span>
<span id="cb890-13" d__=""><a href="#cb890-13"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"t is </span><span class="sc" d__="">\"%ls\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> t<span class="op" d__="">);</span></span>
<span id="cb890-14"><a href="#cb890-14"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb891"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb891-1" d__=""><a href="#cb891-1" aria-hidden="true" tabindex="-1"></a>s is "GoGoats"</span>
<span id="cb891-2" d__=""><a href="#cb891-2" aria-hidden="true" tabindex="-1"></a>t is "Goats"</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-250" d__="">See Also</h3>
<p d__=""><a href="#man-wcscpy"><code s__="13" d__="">wcscpy()</code></a>, <a href="#man-wcscpy"><code s__="13" d__="">wcsncpy()</code></a>, <a href="#man-memcpy"><code s__="13" d__="">memcpy()</code></a>, <a href="#man-memcpy"><code s__="13" d__="">memmove()</code></a></p>
<hr>
<h2 data-number="31.16" id="man-wcscat"><span class="header-section-number" d__="">31.16</span> <code d__="">wcscat()</code> <code d__="">wcsncat()</code></h2>
<p> </p>
<p d__="">Concatenate wide strings</p>
<h3 class="unnumbered unlisted" id="synopsis-266" d__="">Synopsis</h3>
<div class="sourceCode" id="cb892"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb892-1"><a href="#cb892-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb892-2"><a href="#cb892-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb892-3" d__=""><a href="#cb892-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>wcscat<span class="op" d__="">(</span><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s1<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s2<span class="op" d__="">);</span></span>
<span id="cb892-4"><a href="#cb892-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb892-5" d__=""><a href="#cb892-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>wcsncat<span class="op" d__="">(</span><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s1<span class="op" d__="">,</span></span>
<span id="cb892-6" d__=""><a href="#cb892-6" aria-hidden="true" tabindex="-1"></a>                 <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s2<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-266" d__="">Description</h3>
<p d__="">These are the wide variants of <a href="#man-strcat"><code s__="13" d__="">strcat()</code></a> and <a href="#man-strcat"><code s__="13" d__="">strncat()</code></a>.</p>
<p d__="">They concatenate <code s__="13">s2</code> onto the end of <code s__="13">s1</code>.</p>
<p d__="">They’re the same except <code s__="13">wcsncat()</code> gives you the option to limit the number of wide characters appended.</p>
<p d__="">Note that <code s__="13">wcsncat()</code> always adds a NUL terminator to the end, even if <code s__="13">n</code> characters were appended. So be sure to leave room for that.</p>
<h3 class="unnumbered unlisted" id="return-value-264" d__="">Return Value</h3>
<p d__="">Both functions return the pointer <code s__="13">s1</code>.</p>
<h3 class="unnumbered unlisted" id="example-268" d__="">Example</h3>
<div class="sourceCode" id="cb893"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb893-1"><a href="#cb893-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb893-2"><a href="#cb893-2"></a></span>
<span id="cb893-3" d__=""><a href="#cb893-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb893-4"><a href="#cb893-4"></a><span class="op" d__="">{</span></span>
<span id="cb893-5" d__=""><a href="#cb893-5"></a>    <span class="dt" d__="">wchar_t</span> dest<span class="op" d__="">[</span><span class="dv" d__="">30</span><span class="op" d__="">]</span> <span class="op" d__="">=</span> <span class="st" d__="">L"Hello"</span><span class="op" d__="">;</span></span>
<span id="cb893-6" d__=""><a href="#cb893-6"></a>    <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>src <span class="op" d__="">=</span> <span class="st" d__="">L", World!"</span><span class="op" d__="">;</span></span>
<span id="cb893-7" d__=""><a href="#cb893-7"></a>    <span class="dt" d__="">wchar_t</span> numbers<span class="op" d__="">[]</span> <span class="op" d__="">=</span> <span class="st" d__="">L"12345678"</span><span class="op" d__="">;</span></span>
<span id="cb893-8"><a href="#cb893-8"></a></span>
<span id="cb893-9" d__=""><a href="#cb893-9"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"dest before strcat: </span><span class="sc" d__="">\"%ls\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> dest<span class="op" d__="">);</span> <span class="co" d__="">// "Hello"</span></span>
<span id="cb893-10"><a href="#cb893-10"></a></span>
<span id="cb893-11" d__=""><a href="#cb893-11"></a>    wcscat<span class="op" d__="">(</span>dest<span class="op" d__="">,</span> src<span class="op" d__="">);</span></span>
<span id="cb893-12" d__=""><a href="#cb893-12"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"dest after strcat:  </span><span class="sc" d__="">\"%ls\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> dest<span class="op" d__="">);</span> <span class="co" d__="">// "Hello, world!"</span></span>
<span id="cb893-13"><a href="#cb893-13"></a></span>
<span id="cb893-14" d__=""><a href="#cb893-14"></a>    wcsncat<span class="op" d__="">(</span>dest<span class="op" d__="">,</span> numbers<span class="op" d__="">,</span> <span class="dv" d__="">3</span><span class="op" d__="">);</span> <span class="co" d__="">// strcat first 3 chars of numbers</span></span>
<span id="cb893-15" d__=""><a href="#cb893-15"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"dest after strncat: </span><span class="sc" d__="">\"%ls\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> dest<span class="op" d__="">);</span> <span class="co" d__="">// "Hello, world!123"</span></span>
<span id="cb893-16"><a href="#cb893-16"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-251" d__="">See Also</h3>
<p d__=""><a href="#man-strcat"><code s__="13" d__="">strcat()</code></a>, <a href="#man-strcat"><code s__="13" d__="">strncat()</code></a></p>
<hr>
<h2 data-number="31.17" id="man-wcscmp" d__=""><span class="header-section-number">31.17</span> <code>wcscmp()</code>, <code>wcsncmp()</code>, <code>wmemcmp()</code></h2>
<p> </p>
<p d__="">Compare wide strings or memory</p>
<h3 class="unnumbered unlisted" id="synopsis-267" d__="">Synopsis</h3>
<div class="sourceCode" id="cb894"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb894-1"><a href="#cb894-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb894-2"><a href="#cb894-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb894-3" d__=""><a href="#cb894-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> wcscmp<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s1<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s2<span class="op" d__="">);</span></span>
<span id="cb894-4"><a href="#cb894-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb894-5" d__=""><a href="#cb894-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> wcsncmp<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s1<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s2<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">);</span></span>
<span id="cb894-6"><a href="#cb894-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb894-7" d__=""><a href="#cb894-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> wmemcmp<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s1<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s2<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-267" d__="">Description</h3>
<p d__="">These are the wide variants of <a href="#man-strcmp"><code s__="13" d__="">memcmp()</code></a>, <a href="#man-strcmp"><code s__="13" d__="">strcmp()</code></a>, and <a href="#man-strcmp"><code s__="13" d__="">strncmp()</code></a>.</p>
<p d__=""><code s__="13">wcscmp()</code> and <code s__="13">wcsncmp()</code> both compare strings until a NUL character.</p>
<p d__=""><code s__="13">wcsncmp()</code> also has the additional restriction that it will only compare the first <code s__="13">n</code> characters.</p>
<p d__=""><code s__="13">wmemcmp()</code> is like <code s__="13">wcsncmp()</code> except it won’t stop at a NUL.</p>
<p d__="">The comparison is done against the character value (which might (or might not) be its Unicode code point).</p>
<h3 class="unnumbered unlisted" id="return-value-265" d__="">Return Value</h3>
<p d__="">Returns zero if both regions are equal.</p>
<p d__="">Returns a negative number if the region pointed to by <code s__="13">s1</code> is less than <code s__="13">s2</code>.</p>
<p d__="">Returns a positive number if the region pointed to by <code s__="13">s1</code> is greater than <code s__="13">s2</code>.</p>
<h3 class="unnumbered unlisted" id="example-269" d__="">Example</h3>
<div class="sourceCode" id="cb895"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb895-1"><a href="#cb895-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb895-2"><a href="#cb895-2"></a></span>
<span id="cb895-3" d__=""><a href="#cb895-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb895-4"><a href="#cb895-4"></a><span class="op" d__="">{</span></span>
<span id="cb895-5" d__=""><a href="#cb895-5"></a>    <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s1 <span class="op" d__="">=</span> <span class="st" d__="">L"Muffin"</span><span class="op" d__="">;</span></span>
<span id="cb895-6" d__=""><a href="#cb895-6"></a>    <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s2 <span class="op" d__="">=</span> <span class="st" d__="">L"Muffin Sandwich"</span><span class="op" d__="">;</span></span>
<span id="cb895-7" d__=""><a href="#cb895-7"></a>    <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s3 <span class="op" d__="">=</span> <span class="st" d__="">L"Muffin"</span><span class="op" d__="">;</span></span>
<span id="cb895-8"><a href="#cb895-8"></a></span>
<span id="cb895-9" d__=""><a href="#cb895-9"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> wcscmp<span class="op" d__="">(</span><span class="st" d__="">L"Biscuits"</span><span class="op" d__="">,</span> <span class="st" d__="">L"Kittens"</span><span class="op" d__="">));</span> <span class="co" d__="">// &lt;0 since 'B' &lt; 'K'</span></span>
<span id="cb895-10" d__=""><a href="#cb895-10"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> wcscmp<span class="op" d__="">(</span><span class="st" d__="">L"Kittens"</span><span class="op" d__="">,</span> <span class="st" d__="">L"Biscuits"</span><span class="op" d__="">));</span> <span class="co" d__="">// &gt;0 since 'K' &gt; 'B'</span></span>
<span id="cb895-11"><a href="#cb895-11"></a></span>
<span id="cb895-12" d__=""><a href="#cb895-12"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>wcscmp<span class="op" d__="">(</span>s1<span class="op" d__="">,</span> s2<span class="op" d__="">)</span> <span class="op" d__="">==</span> <span class="dv" d__="">0</span><span class="op" d__="">)</span></span>
<span id="cb895-13" d__=""><a href="#cb895-13"></a>        wprintf<span class="op" d__="">(</span><span class="st" d__="">L"This won't get printed because the strings differ</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb895-14"><a href="#cb895-14"></a></span>
<span id="cb895-15" d__=""><a href="#cb895-15"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>wcscmp<span class="op" d__="">(</span>s1<span class="op" d__="">,</span> s3<span class="op" d__="">)</span> <span class="op" d__="">==</span> <span class="dv" d__="">0</span><span class="op" d__="">)</span></span>
<span id="cb895-16" d__=""><a href="#cb895-16"></a>        wprintf<span class="op" d__="">(</span><span class="st" d__="">L"This will print because s1 and s3 are the same</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb895-17"><a href="#cb895-17"></a></span>
<span id="cb895-18"><a href="#cb895-18"></a>    <span class="co" d__="">// this is a little weird...but if the strings are the same, it'll</span></span>
<span id="cb895-19"><a href="#cb895-19"></a>    <span class="co" d__="">// return zero, which can also be thought of as "false". Not-false</span></span>
<span id="cb895-20"><a href="#cb895-20"></a>    <span class="co" d__="">// is "true", so (!wcscmp()) will be true if the strings are the</span></span>
<span id="cb895-21"><a href="#cb895-21"></a>    <span class="co" d__="">// same. yes, it's odd, but you see this all the time in the wild</span></span>
<span id="cb895-22"><a href="#cb895-22"></a>    <span class="co" d__="">// so you might as well get used to it:</span></span>
<span id="cb895-23"><a href="#cb895-23"></a></span>
<span id="cb895-24" d__=""><a href="#cb895-24"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(!</span>wcscmp<span class="op" d__="">(</span>s1<span class="op" d__="">,</span> s3<span class="op" d__="">))</span></span>
<span id="cb895-25" d__=""><a href="#cb895-25"></a>        wprintf<span class="op" d__="">(</span><span class="st" d__="">L"The strings are the same!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb895-26"><a href="#cb895-26"></a></span>
<span id="cb895-27" d__=""><a href="#cb895-27"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(!</span>wcsncmp<span class="op" d__="">(</span>s1<span class="op" d__="">,</span> s2<span class="op" d__="">,</span> <span class="dv" d__="">6</span><span class="op" d__="">))</span></span>
<span id="cb895-28" d__=""><a href="#cb895-28"></a>        wprintf<span class="op" d__="">(</span><span class="st" d__="">L"The first 6 characters of s1 and s2 are the same</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">);</span></span>
<span id="cb895-29"><a href="#cb895-29"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb896"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb896-1" d__=""><a href="#cb896-1" aria-hidden="true" tabindex="-1"></a>-1</span>
<span id="cb896-2" d__=""><a href="#cb896-2" aria-hidden="true" tabindex="-1"></a>1</span>
<span id="cb896-3" d__=""><a href="#cb896-3" aria-hidden="true" tabindex="-1"></a>This will print because s1 and s3 are the same</span>
<span id="cb896-4" d__=""><a href="#cb896-4" aria-hidden="true" tabindex="-1"></a>The strings are the same!</span>
<span id="cb896-5" d__=""><a href="#cb896-5" aria-hidden="true" tabindex="-1"></a>The first 6 characters of s1 and s2 are the same</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-252" d__="">See Also</h3>
<p d__=""><a href="#man-wcscoll"><code s__="13" d__="">wcscoll()</code></a>, <a href="#man-strcmp"><code s__="13" d__="">memcmp()</code></a>, <a href="#man-strcmp"><code s__="13" d__="">strcmp()</code></a>, <a href="#man-strcmp"><code s__="13" d__="">strncmp()</code></a></p>
<hr>
<h2 data-number="31.18" id="man-wcscoll"><span class="header-section-number" d__="">31.18</span> <code d__="">wcscoll()</code></h2>
<p></p>
<p d__="">Compare two wide strings accounting for locale</p>
<h3 class="unnumbered unlisted" id="synopsis-268" d__="">Synopsis</h3>
<div class="sourceCode" id="cb897"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb897-1"><a href="#cb897-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb897-2"><a href="#cb897-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb897-3" d__=""><a href="#cb897-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> wcscoll<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s1<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s2<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-268" d__="">Description</h3>
<p d__="">This is the wide version of <a href="#man-strcoll"><code s__="13" d__="">strcoll()</code></a>. See <a href="#man-strcoll"><code s__="13" d__="">that reference page</code></a> for details.</p>
<p d__="">This is slower than <code s__="13">wcscmp()</code>, so only use it if you need the locale-specific compare.</p>
<h3 class="unnumbered unlisted" id="return-value-266" d__="">Return Value</h3>
<p d__="">Returns zero if both regions are equal in this locale.</p>
<p d__="">Returns a negative number if the region pointed to by <code s__="13">s1</code> is less than <code s__="13">s2</code> in this locale.</p>
<p d__="">Returns a positive number if the region pointed to by <code s__="13">s1</code> is greater than <code s__="13">s2</code> in this locale.</p>
<h3 class="unnumbered unlisted" id="example-270" d__="">Example</h3>
<div class="sourceCode" id="cb898"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb898-1"><a href="#cb898-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb898-2"><a href="#cb898-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;locale.h&gt;</span></span>
<span id="cb898-3"><a href="#cb898-3"></a></span>
<span id="cb898-4" d__=""><a href="#cb898-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb898-5"><a href="#cb898-5"></a><span class="op" d__="">{</span></span>
<span id="cb898-6" d__=""><a href="#cb898-6"></a>    setlocale<span class="op" d__="">(</span>LC_ALL<span class="op" d__="">,</span> <span class="st" d__="">""</span><span class="op" d__="">);</span></span>
<span id="cb898-7"><a href="#cb898-7"></a></span>
<span id="cb898-8"><a href="#cb898-8"></a>    <span class="co" d__="">// If your source character set doesn't support "é" in a string</span></span>
<span id="cb898-9"><a href="#cb898-9"></a>    <span class="co" d__="">// you can replace it with `\u00e9`, the Unicode code point</span></span>
<span id="cb898-10"><a href="#cb898-10"></a>    <span class="co" d__="">// for "é".</span></span>
<span id="cb898-11"><a href="#cb898-11"></a></span>
<span id="cb898-12" d__=""><a href="#cb898-12"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> wcscmp<span class="op" d__="">(</span><span class="st" d__="">L"é"</span><span class="op" d__="">,</span> <span class="st" d__="">L"f"</span><span class="op" d__="">));</span>   <span class="co" d__="">// Reports é &gt; f, yuck.</span></span>
<span id="cb898-13" d__=""><a href="#cb898-13"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> wcscoll<span class="op" d__="">(</span><span class="st" d__="">L"é"</span><span class="op" d__="">,</span> <span class="st" d__="">L"f"</span><span class="op" d__="">));</span>  <span class="co" d__="">// Reports é &lt; f, yay!</span></span>
<span id="cb898-14"><a href="#cb898-14"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-253" d__="">See Also</h3>
<p d__=""><a href="#man-wcscmp"><code s__="13" d__="">wcscmp()</code></a>, <a href="#man-wcsxfrm"><code s__="13" d__="">wcsxfrm()</code></a>, <a href="#man-strcoll"><code s__="13" d__="">strcoll()</code></a></p>
<hr>
<h2 data-number="31.19" id="man-wcsxfrm"><span class="header-section-number" d__="">31.19</span> <code d__="">wcsxfrm()</code></h2>
<p></p>
<p d__="">Transform a wide string for comparing based on locale</p>
<h3 class="unnumbered unlisted" id="synopsis-269" d__="">Synopsis</h3>
<div class="sourceCode" id="cb899"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb899-1"><a href="#cb899-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb899-2"><a href="#cb899-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb899-3" d__=""><a href="#cb899-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">size_t</span> wcsxfrm<span class="op" d__="">(</span><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s1<span class="op" d__="">,</span></span>
<span id="cb899-4" d__=""><a href="#cb899-4" aria-hidden="true" tabindex="-1"></a>               <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s2<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-269" d__="">Description</h3>
<p d__="">This is the wide variant of <a href="#man-strxfrm"><code s__="13" d__="">strxfrm()</code></a>. See <a href="#man-strxfrm" d__="">that reference page</a> for details.</p>
<h3 class="unnumbered unlisted" id="return-value-267" d__="">Return Value</h3>
<p d__="">Returns the length of the transformed wide string in wide characters.</p>
<p d__="">If the return value is greater than <code s__="13">n</code>, all bets are off for the result in <code s__="13">s1</code>.</p>
<h3 class="unnumbered unlisted" id="example-271" d__="">Example</h3>
<div class="sourceCode" id="cb900"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb900-1"><a href="#cb900-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb900-2"><a href="#cb900-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;locale.h&gt;</span></span>
<span id="cb900-3"><a href="#cb900-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span></span>
<span id="cb900-4"><a href="#cb900-4"></a></span>
<span id="cb900-5"><a href="#cb900-5"></a><span class="co" d__="">// Transform a string for comparison, returning a malloc'd</span></span>
<span id="cb900-6"><a href="#cb900-6"></a><span class="co" d__="">// result</span></span>
<span id="cb900-7" d__=""><a href="#cb900-7"></a><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>get_xfrm_str<span class="op" d__="">(</span><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s<span class="op" d__="">)</span></span>
<span id="cb900-8"><a href="#cb900-8"></a><span class="op" d__="">{</span></span>
<span id="cb900-9" d__=""><a href="#cb900-9"></a>    <span class="dt" d__="">int</span> len <span class="op" d__="">=</span> wcsxfrm<span class="op" d__="">(</span>NULL<span class="op" d__="">,</span> s<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">)</span> <span class="op" d__="">+</span> <span class="dv" d__="">1</span><span class="op" d__="">;</span></span>
<span id="cb900-10" d__=""><a href="#cb900-10"></a>    <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>d <span class="op" d__="">=</span> malloc<span class="op" d__="">(</span>len <span class="op" d__="">*</span> <span class="kw" d__="">sizeof</span><span class="op" d__="">(</span><span class="dt" d__="">wchar_t</span><span class="op" d__="">));</span></span>
<span id="cb900-11"><a href="#cb900-11"></a></span>
<span id="cb900-12" d__=""><a href="#cb900-12"></a>    wcsxfrm<span class="op" d__="">(</span>d<span class="op" d__="">,</span> s<span class="op" d__="">,</span> len<span class="op" d__="">);</span></span>
<span id="cb900-13"><a href="#cb900-13"></a></span>
<span id="cb900-14" d__=""><a href="#cb900-14"></a>    <span class="cf" d__="">return</span> d<span class="op" d__="">;</span></span>
<span id="cb900-15"><a href="#cb900-15"></a><span class="op" d__="">}</span></span>
<span id="cb900-16"><a href="#cb900-16"></a></span>
<span id="cb900-17"><a href="#cb900-17"></a><span class="co" d__="">// Does half the work of a regular wcscoll() because the second</span></span>
<span id="cb900-18"><a href="#cb900-18"></a><span class="co" d__="">// string arrives already transformed.</span></span>
<span id="cb900-19" d__=""><a href="#cb900-19"></a><span class="dt" d__="">int</span> half_wcscoll<span class="op" d__="">(</span><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s1<span class="op" d__="">,</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s2_transformed<span class="op" d__="">)</span></span>
<span id="cb900-20"><a href="#cb900-20"></a><span class="op" d__="">{</span></span>
<span id="cb900-21" d__=""><a href="#cb900-21"></a>    <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s1_transformed <span class="op" d__="">=</span> get_xfrm_str<span class="op" d__="">(</span>s1<span class="op" d__="">);</span></span>
<span id="cb900-22"><a href="#cb900-22"></a></span>
<span id="cb900-23" d__=""><a href="#cb900-23"></a>    <span class="dt" d__="">int</span> result <span class="op" d__="">=</span> wcscmp<span class="op" d__="">(</span>s1_transformed<span class="op" d__="">,</span> s2_transformed<span class="op" d__="">);</span></span>
<span id="cb900-24"><a href="#cb900-24"></a></span>
<span id="cb900-25" d__=""><a href="#cb900-25"></a>    free<span class="op" d__="">(</span>s1_transformed<span class="op" d__="">);</span></span>
<span id="cb900-26"><a href="#cb900-26"></a></span>
<span id="cb900-27" d__=""><a href="#cb900-27"></a>    <span class="cf" d__="">return</span> result<span class="op" d__="">;</span></span>
<span id="cb900-28"><a href="#cb900-28"></a><span class="op" d__="">}</span></span>
<span id="cb900-29"><a href="#cb900-29"></a></span>
<span id="cb900-30" d__=""><a href="#cb900-30"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb900-31"><a href="#cb900-31"></a><span class="op" d__="">{</span></span>
<span id="cb900-32" d__=""><a href="#cb900-32"></a>    setlocale<span class="op" d__="">(</span>LC_ALL<span class="op" d__="">,</span> <span class="st" d__="">""</span><span class="op" d__="">);</span></span>
<span id="cb900-33"><a href="#cb900-33"></a></span>
<span id="cb900-34"><a href="#cb900-34"></a>    <span class="co" d__="">// Pre-transform the string to compare against</span></span>
<span id="cb900-35" d__=""><a href="#cb900-35"></a>    <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s <span class="op" d__="">=</span> get_xfrm_str<span class="op" d__="">(</span><span class="st" d__="">L"éfg"</span><span class="op" d__="">);</span></span>
<span id="cb900-36"><a href="#cb900-36"></a></span>
<span id="cb900-37"><a href="#cb900-37"></a>    <span class="co" d__="">// Repeatedly compare against "éfg" </span></span>
<span id="cb900-38" d__=""><a href="#cb900-38"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> half_wcscoll<span class="op" d__="">(</span><span class="st" d__="">L"fgh"</span><span class="op" d__="">,</span> s<span class="op" d__="">));</span>  <span class="co" d__="">// "fgh" &gt; "éfg"</span></span>
<span id="cb900-39" d__=""><a href="#cb900-39"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> half_wcscoll<span class="op" d__="">(</span><span class="st" d__="">L"àbc"</span><span class="op" d__="">,</span> s<span class="op" d__="">));</span>  <span class="co" d__="">// "àbc" &lt; "éfg"</span></span>
<span id="cb900-40" d__=""><a href="#cb900-40"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> half_wcscoll<span class="op" d__="">(</span><span class="st" d__="">L"ĥij"</span><span class="op" d__="">,</span> s<span class="op" d__="">));</span>  <span class="co" d__="">// "ĥij" &gt; "éfg"</span></span>
<span id="cb900-41"><a href="#cb900-41"></a>    </span>
<span id="cb900-42" d__=""><a href="#cb900-42"></a>    free<span class="op" d__="">(</span>s<span class="op" d__="">);</span></span>
<span id="cb900-43"><a href="#cb900-43"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb901"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb901-1" d__=""><a href="#cb901-1" aria-hidden="true" tabindex="-1"></a>1</span>
<span id="cb901-2" d__=""><a href="#cb901-2" aria-hidden="true" tabindex="-1"></a>-1</span>
<span id="cb901-3" d__=""><a href="#cb901-3" aria-hidden="true" tabindex="-1"></a>1</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-254" d__="">See Also</h3>
<p d__=""><a href="#man-wcscmp"><code s__="13" d__="">wcscmp()</code></a>, <a href="#man-wcscoll"><code s__="13" d__="">wcscoll()</code></a>, <a href="#man-strxfrm"><code s__="13" d__="">strxfrm()</code></a></p>
<hr>
<h2 data-number="31.20" id="man-wcschr"><span class="header-section-number" d__="">31.20</span> <code d__="">wcschr()</code> <code d__="">wcsrchr()</code></h2>
<p> </p>
<p d__="">Find a wide character in a wide string</p>
<h3 class="unnumbered unlisted" id="synopsis-270" d__="">Synopsis</h3>
<div class="sourceCode" id="cb902"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb902-1"><a href="#cb902-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb902-2"><a href="#cb902-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb902-3"><a href="#cb902-3" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">// Pre-C23:</span></span>
<span id="cb902-4"><a href="#cb902-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb902-5" d__=""><a href="#cb902-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>wcschr<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s<span class="op" d__="">,</span> <span class="dt" d__="">wchar_t</span> c<span class="op" d__="">);</span></span>
<span id="cb902-6"><a href="#cb902-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb902-7" d__=""><a href="#cb902-7" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>wcsrchr<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s<span class="op" d__="">,</span> <span class="dt" d__="">wchar_t</span> c<span class="op" d__="">);</span></span>
<span id="cb902-8"><a href="#cb902-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb902-9" d__=""><a href="#cb902-9" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>wmemchr<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s<span class="op" d__="">,</span> <span class="dt" d__="">wchar_t</span> c<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">);</span></span>
<span id="cb902-10"><a href="#cb902-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb902-11"><a href="#cb902-11" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">// C23:</span></span>
<span id="cb902-12"><a href="#cb902-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb902-13" d__=""><a href="#cb902-13" aria-hidden="true" tabindex="-1"></a>QWchar_t <span class="op" d__="">*</span>wcschr<span class="op" d__="">(</span>QWchar_t <span class="op" d__="">*</span>s<span class="op" d__="">,</span> <span class="dt" d__="">wchar_t</span> c<span class="op" d__="">);</span></span>
<span id="cb902-14"><a href="#cb902-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb902-15" d__=""><a href="#cb902-15" aria-hidden="true" tabindex="-1"></a>QWchar_t <span class="op" d__="">*</span>wcsrchr<span class="op" d__="">(</span>QWchar_t <span class="op" d__="">*</span>s<span class="op" d__="">,</span> <span class="dt" d__="">wchar_t</span> c<span class="op" d__="">);</span></span>
<span id="cb902-16"><a href="#cb902-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb902-17" d__=""><a href="#cb902-17" aria-hidden="true" tabindex="-1"></a>QWchar_t <span class="op" d__="">*</span>wmemchr<span class="op" d__="">(</span>QWchar_t <span class="op" d__="">*</span>s<span class="op" d__="">,</span> <span class="dt" d__="">wchar_t</span> c<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-270" d__="">Description</h3>
<p d__="">These are the wide equivalents to <a href="#man-strchr"><code s__="13" d__="">strchr()</code></a>, <a href="#man-strchr"><code s__="13" d__="">strrchr()</code></a>, and <a href="#man-strchr"><code s__="13" d__="">memchr()</code></a>.</p>
<p d__="">They search for wide characters in a wide string from the front (<code s__="13">wcschr()</code>), the end (<code s__="13">wcsrchr()</code>) or for an arbitrary number of wide characters (<code s__="13">wmemchr()</code>).</p>
<h3 class="unnumbered unlisted" id="return-value-268" d__="">Return Value</h3>
<p d__="">All three functions return a pointer to the wide character found, or <code s__="13">NULL</code> if the character, sadly, isn’t found.</p>
<h3 class="unnumbered unlisted" id="example-272" d__="">Example</h3>
<div class="sourceCode" id="cb903"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb903-1"><a href="#cb903-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb903-2"><a href="#cb903-2"></a></span>
<span id="cb903-3" d__=""><a href="#cb903-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb903-4"><a href="#cb903-4"></a><span class="op" d__="">{</span></span>
<span id="cb903-5"><a href="#cb903-5"></a>    <span class="co" d__="">// "Hello, world!"</span></span>
<span id="cb903-6"><a href="#cb903-6"></a>    <span class="co" d__="">//       ^  ^   ^</span></span>
<span id="cb903-7"><a href="#cb903-7"></a>    <span class="co" d__="">//       A  B   C</span></span>
<span id="cb903-8"><a href="#cb903-8"></a></span>
<span id="cb903-9" d__=""><a href="#cb903-9"></a>    <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>str <span class="op" d__="">=</span> <span class="st" d__="">L"Hello, world!"</span><span class="op" d__="">;</span></span>
<span id="cb903-10" d__=""><a href="#cb903-10"></a>    <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>p<span class="op" d__="">;</span></span>
<span id="cb903-11"><a href="#cb903-11"></a></span>
<span id="cb903-12" d__=""><a href="#cb903-12"></a>    p <span class="op" d__="">=</span> wcschr<span class="op" d__="">(</span>str<span class="op" d__="">,</span> <span class="ch" d__="">','</span><span class="op" d__="">);</span>       <span class="co" d__="">// p now points at position A</span></span>
<span id="cb903-13" d__=""><a href="#cb903-13"></a>    p <span class="op" d__="">=</span> wcsrchr<span class="op" d__="">(</span>str<span class="op" d__="">,</span> <span class="ch" d__="">'o'</span><span class="op" d__="">);</span>      <span class="co" d__="">// p now points at position B</span></span>
<span id="cb903-14"><a href="#cb903-14"></a></span>
<span id="cb903-15" d__=""><a href="#cb903-15"></a>    p <span class="op" d__="">=</span> wmemchr<span class="op" d__="">(</span>str<span class="op" d__="">,</span> <span class="ch" d__="">'!'</span><span class="op" d__="">,</span> <span class="dv" d__="">13</span><span class="op" d__="">);</span>   <span class="co" d__="">// p now points at position C</span></span>
<span id="cb903-16"><a href="#cb903-16"></a></span>
<span id="cb903-17"><a href="#cb903-17"></a>    <span class="co" d__="">// repeatedly find all occurrences of the letter 'B'</span></span>
<span id="cb903-18" d__=""><a href="#cb903-18"></a>    str <span class="op" d__="">=</span> <span class="st" d__="">L"A BIG BROWN BAT BIT BEEJ"</span><span class="op" d__="">;</span></span>
<span id="cb903-19"><a href="#cb903-19"></a></span>
<span id="cb903-20" d__=""><a href="#cb903-20"></a>    <span class="cf" d__="">for</span><span class="op" d__="">(</span>p <span class="op" d__="">=</span> wcschr<span class="op" d__="">(</span>str<span class="op" d__="">,</span> <span class="ch" d__="">'B'</span><span class="op" d__="">);</span> p <span class="op" d__="">!=</span> NULL<span class="op" d__="">;</span> p <span class="op" d__="">=</span> wcschr<span class="op" d__="">(</span>p <span class="op" d__="">+</span> <span class="dv" d__="">1</span><span class="op" d__="">,</span> <span class="ch" d__="">'B'</span><span class="op" d__="">))</span> <span class="op" d__="">{</span></span>
<span id="cb903-21" d__=""><a href="#cb903-21"></a>        wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Found a 'B' here: </span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> p<span class="op" d__="">);</span></span>
<span id="cb903-22"><a href="#cb903-22"></a>    <span class="op" d__="">}</span></span>
<span id="cb903-23"><a href="#cb903-23"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb904"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb904-1" d__=""><a href="#cb904-1" aria-hidden="true" tabindex="-1"></a>Found a 'B' here: BIG BROWN BAT BIT BEEJ</span>
<span id="cb904-2" d__=""><a href="#cb904-2" aria-hidden="true" tabindex="-1"></a>Found a 'B' here: BROWN BAT BIT BEEJ</span>
<span id="cb904-3" d__=""><a href="#cb904-3" aria-hidden="true" tabindex="-1"></a>Found a 'B' here: BAT BIT BEEJ</span>
<span id="cb904-4" d__=""><a href="#cb904-4" aria-hidden="true" tabindex="-1"></a>Found a 'B' here: BIT BEEJ</span>
<span id="cb904-5" d__=""><a href="#cb904-5" aria-hidden="true" tabindex="-1"></a>Found a 'B' here: BEEJ</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-255" d__="">See Also</h3>
<p d__=""><a href="#man-strchr"><code s__="13" d__="">strchr()</code></a>, <a href="#man-strchr"><code s__="13" d__="">strrchr()</code></a>, <a href="#man-strchr"><code s__="13" d__="">memchr()</code></a></p>
<hr>
<h2 data-number="31.21" id="man-wcsspn"><span class="header-section-number" d__="">31.21</span> <code d__="">wcsspn()</code> <code d__="">wcscspn()</code></h2>
<p> </p>
<p d__="">Return the length of a wide string consisting entirely of a set of wide characters, or of not a set of wide characters</p>
<h3 class="unnumbered unlisted" id="synopsis-271" d__="">Synopsis</h3>
<div class="sourceCode" id="cb905"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb905-1"><a href="#cb905-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb905-2"><a href="#cb905-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb905-3" d__=""><a href="#cb905-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">size_t</span> wcsspn<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s1<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s2<span class="op" d__="">);</span></span>
<span id="cb905-4"><a href="#cb905-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb905-5" d__=""><a href="#cb905-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">size_t</span> wcscspn<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s1<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s2<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-271" d__="">Description</h3>
<p d__="">The are the wide character counterparts to [<code s__="13">strspn()</code>] (#man-strspn)and <a href="#man-strspn"><code s__="13" d__="">strcspn()</code></a>.</p>
<p d__="">They compute the length of the string pointed to by <code s__="13">s1</code> consisting entirely of the characters found in <code s__="13">s2</code>. Or, in the case of <code s__="13">wcscspn()</code>, the characters <em>not</em> found in <code s__="13">s2</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-269" d__="">Return Value</h3>
<p d__="">The length of the string pointed to by <code s__="13">s1</code> consisting solely of the characters in <code s__="13">s2</code> (in the case of <code s__="13">wcsspn()</code>) or of the characters <em>not</em> in <code s__="13">s2</code> (in th ecase of <code s__="13">wcscspn()</code>).</p>
<h3 class="unnumbered unlisted" id="example-273" d__="">Example</h3>
<div class="sourceCode" id="cb906"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb906-1"><a href="#cb906-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb906-2"><a href="#cb906-2"></a></span>
<span id="cb906-3" d__=""><a href="#cb906-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb906-4"><a href="#cb906-4"></a><span class="op" d__="">{</span></span>
<span id="cb906-5" d__=""><a href="#cb906-5"></a>    <span class="dt" d__="">wchar_t</span> str1<span class="op" d__="">[]</span> <span class="op" d__="">=</span> <span class="st" d__="">L"a banana"</span><span class="op" d__="">;</span></span>
<span id="cb906-6" d__=""><a href="#cb906-6"></a>    <span class="dt" d__="">wchar_t</span> str2<span class="op" d__="">[]</span> <span class="op" d__="">=</span> <span class="st" d__="">L"the bolivian navy on maneuvers in the south pacific"</span><span class="op" d__="">;</span></span>
<span id="cb906-7" d__=""><a href="#cb906-7"></a>    <span class="dt" d__="">int</span> n<span class="op" d__="">;</span></span>
<span id="cb906-8"><a href="#cb906-8"></a></span>
<span id="cb906-9"><a href="#cb906-9"></a>    <span class="co" d__="">// how many letters in str1 until we reach something that's not a vowel?</span></span>
<span id="cb906-10" d__=""><a href="#cb906-10"></a>    n <span class="op" d__="">=</span> wcsspn<span class="op" d__="">(</span>str1<span class="op" d__="">,</span> <span class="st" d__="">L"aeiou"</span><span class="op" d__="">);</span></span>
<span id="cb906-11" d__=""><a href="#cb906-11"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> n<span class="op" d__="">);</span>  <span class="co" d__="">// n == 1, just "a"</span></span>
<span id="cb906-12"><a href="#cb906-12"></a></span>
<span id="cb906-13"><a href="#cb906-13"></a>    <span class="co" d__="">// how many letters in str1 until we reach something that's not a, b,</span></span>
<span id="cb906-14"><a href="#cb906-14"></a>    <span class="co" d__="">// or space?</span></span>
<span id="cb906-15" d__=""><a href="#cb906-15"></a>    n <span class="op" d__="">=</span> wcsspn<span class="op" d__="">(</span>str1<span class="op" d__="">,</span> <span class="st" d__="">L"ab "</span><span class="op" d__="">);</span></span>
<span id="cb906-16" d__=""><a href="#cb906-16"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> n<span class="op" d__="">);</span>  <span class="co" d__="">// n == 4, "a ba"</span></span>
<span id="cb906-17"><a href="#cb906-17"></a></span>
<span id="cb906-18"><a href="#cb906-18"></a>    <span class="co" d__="">// how many letters in str2 before we get a "y"?</span></span>
<span id="cb906-19" d__=""><a href="#cb906-19"></a>    n <span class="op" d__="">=</span> wcscspn<span class="op" d__="">(</span>str2<span class="op" d__="">,</span> <span class="st" d__="">L"y"</span><span class="op" d__="">);</span></span>
<span id="cb906-20" d__=""><a href="#cb906-20"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> n<span class="op" d__="">);</span>  <span class="co" d__="">// n = 16, "the bolivian nav"</span></span>
<span id="cb906-21"><a href="#cb906-21"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-256" d__="">See Also</h3>
<p d__=""><a href="#man-wcschr"><code s__="13" d__="">wcschr()</code></a>, <a href="#man-wcschr"><code s__="13" d__="">wcsrchr()</code></a>, <a href="#man-strspn"><code s__="13" d__="">strspn()</code></a></p>
<hr>
<h2 data-number="31.22" id="man-wcspbrk"><span class="header-section-number" d__="">31.22</span> <code d__="">wcspbrk()</code></h2>
<p></p>
<p d__="">Search a wide string for one of a set of wide characters</p>
<h3 class="unnumbered unlisted" id="synopsis-272" d__="">Synopsis</h3>
<div class="sourceCode" id="cb907"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb907-1"><a href="#cb907-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb907-2"><a href="#cb907-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb907-3"><a href="#cb907-3" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">// Pre-C23:</span></span>
<span id="cb907-4"><a href="#cb907-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb907-5" d__=""><a href="#cb907-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>wcspbrk<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s1<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s2<span class="op" d__="">);</span></span>
<span id="cb907-6"><a href="#cb907-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb907-7"><a href="#cb907-7" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">// C23:</span></span>
<span id="cb907-8"><a href="#cb907-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb907-9" d__=""><a href="#cb907-9" aria-hidden="true" tabindex="-1"></a>QWchar_t <span class="op" d__="">*</span>wcspbrk<span class="op" d__="">(</span>QWchar_t <span class="op" d__="">*</span>s1<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s2<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-272" d__="">Description</h3>
<p d__="">This is the wide character variant of <a href="#man-strpbrk"><code s__="13" d__="">strpbrk()</code></a>.</p>
<p d__="">It finds the first occurrance of any of a set of wide characters in a wide string.</p>
<h3 class="unnumbered unlisted" id="return-value-270" d__="">Return Value</h3>
<p d__="">Returns a pointer to the first character in the string <code s__="13">s1</code> that exists in the string <code s__="13">s2</code>.</p>
<p d__="">Or <code s__="13">NULL</code> if none of the characters in <code s__="13">s2</code> can be found in <code s__="13">s1</code>.</p>
<h3 class="unnumbered unlisted" id="example-274" d__="">Example</h3>
<div class="sourceCode" id="cb908"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb908-1"><a href="#cb908-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb908-2"><a href="#cb908-2"></a></span>
<span id="cb908-3" d__=""><a href="#cb908-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb908-4"><a href="#cb908-4"></a><span class="op" d__="">{</span></span>
<span id="cb908-5"><a href="#cb908-5"></a>    <span class="co" d__="">//  p points here after wcspbrk</span></span>
<span id="cb908-6"><a href="#cb908-6"></a>    <span class="co" d__="">//                  v</span></span>
<span id="cb908-7" d__=""><a href="#cb908-7"></a>    <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s1 <span class="op" d__="">=</span> <span class="st" d__="">L"Hello, world!"</span><span class="op" d__="">;</span></span>
<span id="cb908-8" d__=""><a href="#cb908-8"></a>    <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s2 <span class="op" d__="">=</span> <span class="st" d__="">L"dow!"</span><span class="op" d__="">;</span>  <span class="co" d__="">// Match any of these chars</span></span>
<span id="cb908-9"><a href="#cb908-9"></a></span>
<span id="cb908-10" d__=""><a href="#cb908-10"></a>    <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>p <span class="op" d__="">=</span> wcspbrk<span class="op" d__="">(</span>s1<span class="op" d__="">,</span> s2<span class="op" d__="">);</span>  <span class="co" d__="">// p points to the o</span></span>
<span id="cb908-11"><a href="#cb908-11"></a></span>
<span id="cb908-12" d__=""><a href="#cb908-12"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> p<span class="op" d__="">);</span>  <span class="co" d__="">// "o, world!"</span></span>
<span id="cb908-13"><a href="#cb908-13"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-257" d__="">See Also</h3>
<p d__=""><a href="#man-wcschr"><code s__="13" d__="">wcschr()</code></a>, <a href="#man-wcschr"><code s__="13" d__="">wmemchr()</code></a>, <a href="#man-strpbrk"><code s__="13" d__="">strpbrk()</code></a></p>
<hr>
<h2 data-number="31.23" id="man-wcsstr"><span class="header-section-number" d__="">31.23</span> <code d__="">wcsstr()</code></h2>
<p></p>
<p d__="">Find a wide string in another wide string</p>
<h3 class="unnumbered unlisted" id="synopsis-273" d__="">Synopsis</h3>
<div class="sourceCode" id="cb909"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb909-1"><a href="#cb909-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb909-2"><a href="#cb909-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb909-3"><a href="#cb909-3" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">// Pre-C23:</span></span>
<span id="cb909-4"><a href="#cb909-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb909-5" d__=""><a href="#cb909-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>wcsstr<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s1<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s2<span class="op" d__="">);</span></span>
<span id="cb909-6"><a href="#cb909-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb909-7"><a href="#cb909-7" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">// C23:</span></span>
<span id="cb909-8"><a href="#cb909-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb909-9" d__=""><a href="#cb909-9" aria-hidden="true" tabindex="-1"></a>QWchar_t <span class="op" d__="">*</span>wcsstr<span class="op" d__="">(</span>QWchar_t <span class="op" d__="">*</span>s1<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s2<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-273" d__="">Description</h3>
<p d__="">This is the wide variant of <a href="#man-strstr"><code s__="13" d__="">strstr()</code></a>.</p>
<p d__="">It locates a substring in a string.</p>
<h3 class="unnumbered unlisted" id="return-value-271" d__="">Return Value</h3>
<p d__="">Returns a pointer to the location in <code s__="13">s1</code> that contains <code s__="13">s2</code>.</p>
<p d__="">Or <code s__="13">NULL</code> if <code s__="13">s2</code> cannot be found in <code s__="13">s1</code>.</p>
<h3 class="unnumbered unlisted" id="example-275" d__="">Example</h3>
<div class="sourceCode" id="cb910"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb910-1"><a href="#cb910-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb910-2"><a href="#cb910-2"></a></span>
<span id="cb910-3" d__=""><a href="#cb910-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb910-4"><a href="#cb910-4"></a><span class="op" d__="">{</span></span>
<span id="cb910-5" d__=""><a href="#cb910-5"></a>    <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>str <span class="op" d__="">=</span> <span class="st" d__="">L"The quick brown fox jumped over the lazy dogs."</span><span class="op" d__="">;</span></span>
<span id="cb910-6" d__=""><a href="#cb910-6"></a>    <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>p<span class="op" d__="">;</span></span>
<span id="cb910-7"><a href="#cb910-7"></a></span>
<span id="cb910-8" d__=""><a href="#cb910-8"></a>    p <span class="op" d__="">=</span> wcsstr<span class="op" d__="">(</span>str<span class="op" d__="">,</span> <span class="st" d__="">L"lazy"</span><span class="op" d__="">);</span></span>
<span id="cb910-9" d__=""><a href="#cb910-9"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> p <span class="op" d__="">==</span> NULL<span class="op" d__="">?</span> <span class="st" d__="">L"null"</span><span class="op" d__="">:</span> p<span class="op" d__="">);</span> <span class="co" d__="">// "lazy dogs."</span></span>
<span id="cb910-10"><a href="#cb910-10"></a></span>
<span id="cb910-11"><a href="#cb910-11"></a>    <span class="co" d__="">// p is NULL after this, since the string "wombat" isn't in str:</span></span>
<span id="cb910-12" d__=""><a href="#cb910-12"></a>    p <span class="op" d__="">=</span> wcsstr<span class="op" d__="">(</span>str<span class="op" d__="">,</span> <span class="st" d__="">L"wombat"</span><span class="op" d__="">);</span></span>
<span id="cb910-13" d__=""><a href="#cb910-13"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> p <span class="op" d__="">==</span> NULL<span class="op" d__="">?</span> <span class="st" d__="">L"null"</span><span class="op" d__="">:</span> p<span class="op" d__="">);</span> <span class="co" d__="">// "null"</span></span>
<span id="cb910-14"><a href="#cb910-14"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-258" d__="">See Also</h3>
<p d__=""><a href="#man-wcschr"><code s__="13" d__="">wcschr()</code></a>, <a href="#man-wcschr"><code s__="13" d__="">wcsrchr()</code></a>, <a href="#man-wcsspn"><code s__="13" d__="">wcsspn()</code></a>, <a href="#man-wcsspn"><code s__="13" d__="">wcscspn()</code></a>, <a href="#man-strstr"><code s__="13" d__="">strstr()</code></a></p>
<hr>
<h2 data-number="31.24" id="man-wcstok"><span class="header-section-number" d__="">31.24</span> <code d__="">wcstok()</code></h2>
<p></p>
<p d__="">Tokenize a wide string</p>
<h3 class="unnumbered unlisted" id="synopsis-274" d__="">Synopsis</h3>
<div class="sourceCode" id="cb911"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb911-1"><a href="#cb911-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb911-2" d__=""><a href="#cb911-2" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>wcstok<span class="op" d__="">(</span><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s1<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s2<span class="op" d__="">,</span></span>
<span id="cb911-3" d__=""><a href="#cb911-3" aria-hidden="true" tabindex="-1"></a>                <span class="dt" d__="">wchar_t</span> <span class="op" d__="">**</span> <span class="dt" d__="">restrict</span> ptr<span class="op" d__="">);</span> </span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-274" d__="">Description</h3>
<p d__="">This is the wide version of <a href="#man-strtok"><code s__="13" d__="">strtok()</code></a>.</p>
<p d__="">And, like that one, it modifies the string <code s__="13">s1</code>. So make a copy of it first if you want to preserve the original.</p>
<p d__="">One key difference is that <code s__="13">wcstok()</code> can be threadsafe because you pass in the pointer <code s__="13">ptr</code> to the current state of the transformation. This gets initializers for you when <code s__="13">s1</code> is initially passed in as non-<code s__="13">NULL</code>. (Subsequent calls with a <code s__="13">NULL</code> <code s__="13">s1</code> cause the state to update.)</p>
<h3 class="unnumbered unlisted" id="return-value-272" d__="">Return Value</h3>
<h3 class="unnumbered unlisted" id="example-276" d__="">Example</h3>
<div class="sourceCode" id="cb912"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb912-1"><a href="#cb912-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb912-2"><a href="#cb912-2"></a></span>
<span id="cb912-3" d__=""><a href="#cb912-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb912-4"><a href="#cb912-4"></a><span class="op" d__="">{</span></span>
<span id="cb912-5"><a href="#cb912-5"></a>    <span class="co" d__="">// break up the string into a series of space or</span></span>
<span id="cb912-6"><a href="#cb912-6"></a>    <span class="co" d__="">// punctuation-separated words</span></span>
<span id="cb912-7" d__=""><a href="#cb912-7"></a>    <span class="dt" d__="">wchar_t</span> str<span class="op" d__="">[]</span> <span class="op" d__="">=</span> <span class="st" d__="">L"Where is my bacon, dude?"</span><span class="op" d__="">;</span></span>
<span id="cb912-8" d__=""><a href="#cb912-8"></a>    <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>token<span class="op" d__="">;</span></span>
<span id="cb912-9" d__=""><a href="#cb912-9"></a>    <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>state<span class="op" d__="">;</span></span>
<span id="cb912-10"><a href="#cb912-10"></a></span>
<span id="cb912-11"><a href="#cb912-11"></a>    <span class="co" d__="">// Note that the following if-do-while construct is very very</span></span>
<span id="cb912-12"><a href="#cb912-12"></a>    <span class="co" d__="">// very very very common to see when using strtok().</span></span>
<span id="cb912-13"><a href="#cb912-13"></a></span>
<span id="cb912-14"><a href="#cb912-14"></a>    <span class="co" d__="">// grab the first token (making sure there is a first token!)</span></span>
<span id="cb912-15" d__=""><a href="#cb912-15"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">((</span>token <span class="op" d__="">=</span> wcstok<span class="op" d__="">(</span>str<span class="op" d__="">,</span> <span class="st" d__="">L".,?! "</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>state<span class="op" d__="">))</span> <span class="op" d__="">!=</span> NULL<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb912-16"><a href="#cb912-16"></a>        <span class="cf" d__="">do</span> <span class="op" d__="">{</span></span>
<span id="cb912-17" d__=""><a href="#cb912-17"></a>            wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Word: </span><span class="sc" d__="">\"%ls\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> token<span class="op" d__="">);</span></span>
<span id="cb912-18"><a href="#cb912-18"></a></span>
<span id="cb912-19"><a href="#cb912-19"></a>            <span class="co" d__="">// now, the while continuation condition grabs the</span></span>
<span id="cb912-20"><a href="#cb912-20"></a>            <span class="co" d__="">// next token (by passing NULL as the first param)</span></span>
<span id="cb912-21"><a href="#cb912-21"></a>            <span class="co" d__="">// and continues if the token's not NULL:</span></span>
<span id="cb912-22" d__=""><a href="#cb912-22"></a>        <span class="op" d__="">}</span> <span class="cf" d__="">while</span> <span class="op" d__="">((</span>token <span class="op" d__="">=</span> wcstok<span class="op" d__="">(</span>NULL<span class="op" d__="">,</span> <span class="st" d__="">L".,?! "</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>state<span class="op" d__="">))</span> <span class="op" d__="">!=</span> NULL<span class="op" d__="">);</span></span>
<span id="cb912-23"><a href="#cb912-23"></a>    <span class="op" d__="">}</span></span>
<span id="cb912-24"><a href="#cb912-24"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb913"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb913-1" d__=""><a href="#cb913-1" aria-hidden="true" tabindex="-1"></a>Word: "Where"</span>
<span id="cb913-2" d__=""><a href="#cb913-2" aria-hidden="true" tabindex="-1"></a>Word: "is"</span>
<span id="cb913-3" d__=""><a href="#cb913-3" aria-hidden="true" tabindex="-1"></a>Word: "my"</span>
<span id="cb913-4" d__=""><a href="#cb913-4" aria-hidden="true" tabindex="-1"></a>Word: "bacon"</span>
<span id="cb913-5" d__=""><a href="#cb913-5" aria-hidden="true" tabindex="-1"></a>Word: "dude"</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-259" d__="">See Also</h3>
<p><a href="#man-strtok"><code s__="13" d__="">strtok()</code></a></p>
<hr>
<h2 data-number="31.25" id="man-wcslen"><span class="header-section-number" d__="">31.25</span> <code d__="">wcslen()</code></h2>
<p></p>
<p d__="">Returns the length of a wide string</p>
<h3 class="unnumbered unlisted" id="synopsis-275" d__="">Synopsis</h3>
<div class="sourceCode" id="cb914"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb914-1"><a href="#cb914-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb914-2"><a href="#cb914-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb914-3" d__=""><a href="#cb914-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">size_t</span> wcslen<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-275" d__="">Description</h3>
<p d__="">This is the wide counterpart to <a href="#man-strlen"><code s__="13" d__="">strlen()</code></a>.</p>
<h3 class="unnumbered unlisted" id="return-value-273" d__="">Return Value</h3>
<p d__="">Returns the number of wide characters before the wide NUL terminator.</p>
<h3 class="unnumbered unlisted" id="example-277" d__="">Example</h3>
<div class="sourceCode" id="cb915"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb915-1"><a href="#cb915-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb915-2"><a href="#cb915-2"></a></span>
<span id="cb915-3" d__=""><a href="#cb915-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb915-4"><a href="#cb915-4"></a><span class="op" d__="">{</span></span>
<span id="cb915-5" d__=""><a href="#cb915-5"></a>    <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>s <span class="op" d__="">=</span> <span class="st" d__="">L"Hello, world!"</span><span class="op" d__="">;</span> <span class="co" d__="">// 13 characters</span></span>
<span id="cb915-6"><a href="#cb915-6"></a></span>
<span id="cb915-7"><a href="#cb915-7"></a>    <span class="co" d__="">// prints "The string is 13 characters long.":</span></span>
<span id="cb915-8"><a href="#cb915-8"></a></span>
<span id="cb915-9" d__=""><a href="#cb915-9"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"The string is </span><span class="sc" d__="">%zu</span><span class="st" d__=""> characters long.</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> wcslen<span class="op" d__="">(</span>s<span class="op" d__="">));</span></span>
<span id="cb915-10"><a href="#cb915-10"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-260" d__="">See Also</h3>
<p><a href="#man-strlen"><code s__="13" d__="">strlen()</code></a></p>
<hr>
<h2 data-number="31.26" id="man-wcsftime"><span class="header-section-number" d__="">31.26</span> <code d__="">wcsftime()</code></h2>
<p></p>
<p d__="">Formatted date and time output</p>
<h3 class="unnumbered unlisted" id="synopsis-276" d__="">Synopsis</h3>
<div class="sourceCode" id="cb916"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb916-1"><a href="#cb916-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb916-2"><a href="#cb916-2" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb916-3"><a href="#cb916-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb916-4" d__=""><a href="#cb916-4" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">size_t</span> wcsftime<span class="op" d__="">(</span><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> maxsize<span class="op" d__="">,</span></span>
<span id="cb916-5" d__=""><a href="#cb916-5" aria-hidden="true" tabindex="-1"></a>                <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> format<span class="op" d__="">,</span></span>
<span id="cb916-6" d__=""><a href="#cb916-6" aria-hidden="true" tabindex="-1"></a>                <span class="dt" d__="">const</span> <span class="kw" d__="">struct</span> tm <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> timeptr<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-276" d__="">Description</h3>
<p d__="">This is the wide equivalent to <a href="#man-strftime"><code s__="13" d__="">strftime()</code></a>. See that reference page for details.</p>
<p d__=""><code s__="13">maxsize</code> here refers to the maximum number of wide characters that can be in the result string.</p>
<h3 class="unnumbered unlisted" id="return-value-274" d__="">Return Value</h3>
<p d__="">If successful, returns the number of wide characters written.</p>
<p d__="">If not successful because the result couldn’t fit in the space alloted, <code s__="13">0</code> is returned and the contents of the string could be anything.</p>
<h3 class="unnumbered unlisted" id="example-278" d__="">Example</h3>
<div class="sourceCode" id="cb917"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb917-1"><a href="#cb917-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb917-2"><a href="#cb917-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;time.h&gt;</span></span>
<span id="cb917-3"><a href="#cb917-3"></a></span>
<span id="cb917-4"><a href="#cb917-4"></a><span class="pp" d__="">#define BUFSIZE </span><span class="dv" d__="">128</span></span>
<span id="cb917-5"><a href="#cb917-5"></a></span>
<span id="cb917-6" d__=""><a href="#cb917-6"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb917-7"><a href="#cb917-7"></a><span class="op" d__="">{</span></span>
<span id="cb917-8" d__=""><a href="#cb917-8"></a>    <span class="dt" d__="">wchar_t</span> s<span class="op" d__="">[</span>BUFSIZE<span class="op" d__="">];</span></span>
<span id="cb917-9" d__=""><a href="#cb917-9"></a>    <span class="dt" d__="">time_t</span> now <span class="op" d__="">=</span> time<span class="op" d__="">(</span>NULL<span class="op" d__="">);</span></span>
<span id="cb917-10"><a href="#cb917-10"></a></span>
<span id="cb917-11"><a href="#cb917-11"></a>    <span class="co" d__="">// %c: print date as per current locale</span></span>
<span id="cb917-12" d__=""><a href="#cb917-12"></a>    wcsftime<span class="op" d__="">(</span>s<span class="op" d__="">,</span> BUFSIZE<span class="op" d__="">,</span> <span class="st" d__="">L"</span><span class="sc" d__="">%c</span><span class="st" d__="">"</span><span class="op" d__="">,</span> localtime<span class="op" d__="">(&amp;</span>now<span class="op" d__="">));</span></span>
<span id="cb917-13" d__=""><a href="#cb917-13"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> s<span class="op" d__="">);</span>   <span class="co" d__="">// Sun Feb 28 22:29:00 2021</span></span>
<span id="cb917-14"><a href="#cb917-14"></a></span>
<span id="cb917-15"><a href="#cb917-15"></a>    <span class="co" d__="">// %A: full weekday name</span></span>
<span id="cb917-16"><a href="#cb917-16"></a>    <span class="co" d__="">// %B: full month name</span></span>
<span id="cb917-17"><a href="#cb917-17"></a>    <span class="co" d__="">// %d: day of the month</span></span>
<span id="cb917-18" d__=""><a href="#cb917-18"></a>    wcsftime<span class="op" d__="">(</span>s<span class="op" d__="">,</span> BUFSIZE<span class="op" d__="">,</span> <span class="st" d__="">L"</span><span class="sc" d__="">%A</span><span class="st" d__="">, %B </span><span class="sc" d__="">%d</span><span class="st" d__="">"</span><span class="op" d__="">,</span> localtime<span class="op" d__="">(&amp;</span>now<span class="op" d__="">));</span></span>
<span id="cb917-19" d__=""><a href="#cb917-19"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> s<span class="op" d__="">);</span>   <span class="co" d__="">// Sunday, February 28</span></span>
<span id="cb917-20"><a href="#cb917-20"></a></span>
<span id="cb917-21"><a href="#cb917-21"></a>    <span class="co" d__="">// %I: hour (12 hour clock)</span></span>
<span id="cb917-22"><a href="#cb917-22"></a>    <span class="co" d__="">// %M: minute</span></span>
<span id="cb917-23"><a href="#cb917-23"></a>    <span class="co" d__="">// %S: second</span></span>
<span id="cb917-24"><a href="#cb917-24"></a>    <span class="co" d__="">// %p: AM or PM</span></span>
<span id="cb917-25" d__=""><a href="#cb917-25"></a>    wcsftime<span class="op" d__="">(</span>s<span class="op" d__="">,</span> BUFSIZE<span class="op" d__="">,</span> <span class="st" d__="">L"It's %I:%M:%S </span><span class="sc" d__="">%p</span><span class="st" d__="">"</span><span class="op" d__="">,</span> localtime<span class="op" d__="">(&amp;</span>now<span class="op" d__="">));</span></span>
<span id="cb917-26" d__=""><a href="#cb917-26"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> s<span class="op" d__="">);</span>   <span class="co" d__="">// It's 10:29:00 PM</span></span>
<span id="cb917-27"><a href="#cb917-27"></a></span>
<span id="cb917-28"><a href="#cb917-28"></a>    <span class="co" d__="">// %F: ISO 8601 yyyy-mm-dd</span></span>
<span id="cb917-29"><a href="#cb917-29"></a>    <span class="co" d__="">// %T: ISO 8601 hh:mm:ss</span></span>
<span id="cb917-30"><a href="#cb917-30"></a>    <span class="co" d__="">// %z: ISO 8601 time zone offset</span></span>
<span id="cb917-31" d__=""><a href="#cb917-31"></a>    wcsftime<span class="op" d__="">(</span>s<span class="op" d__="">,</span> BUFSIZE<span class="op" d__="">,</span> <span class="st" d__="">L"ISO 8601: </span><span class="sc" d__="">%F</span><span class="st" d__="">T%T%z"</span><span class="op" d__="">,</span> localtime<span class="op" d__="">(&amp;</span>now<span class="op" d__="">));</span></span>
<span id="cb917-32" d__=""><a href="#cb917-32"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> s<span class="op" d__="">);</span>   <span class="co" d__="">// ISO 8601: 2021-02-28T22:29:00-0800</span></span>
<span id="cb917-33"><a href="#cb917-33"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-261" d__="">See Also</h3>
<p><a href="#man-strftime"><code s__="13" d__="">strftime()</code></a></p>
<hr>
<h2 data-number="31.27" id="man-btowc"><span class="header-section-number" d__="">31.27</span> <code d__="">btowc()</code> <code d__="">wctob()</code></h2>
<p> </p>
<p d__="">Convert a single byte character to a wide character</p>
<h3 class="unnumbered unlisted" id="synopsis-277" d__="">Synopsis</h3>
<div class="sourceCode" id="cb918"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb918-1"><a href="#cb918-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb918-2"><a href="#cb918-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb918-3" d__=""><a href="#cb918-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">wint_t</span> btowc<span class="op" d__="">(</span><span class="dt" d__="">int</span> c<span class="op" d__="">);</span></span>
<span id="cb918-4"><a href="#cb918-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb918-5" d__=""><a href="#cb918-5" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> wctob<span class="op" d__="">(</span><span class="dt" d__="">wint_t</span> c<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-277" d__="">Description</h3>
<p d__="">These functions convert between single byte characters and wide characters, and vice-versa.</p>
<p d__="">Even though <code s__="13">int</code>s are involved, don’t let this mislead you; they’re effectively converted to <code s__="13">unsigned char</code>s internally.</p>
<p d__="">The characters in the basic character set are guaranteed to be a single byte.</p>
<h3 class="unnumbered unlisted" id="return-value-275" d__="">Return Value</h3>
<p d__=""><code s__="13">btowc()</code> returns the single-byte character as a wide character. Returns <code s__="13">WEOF</code> if <code s__="13">EOF</code> is passed in, or if the byte doesn’t correspond to a valid wide character.</p>
<p d__=""><code s__="13">wctob()</code> returns the wide character as a single-byte character. Returns <code s__="13">EOF</code> if <code s__="13">WEOF</code> is passed in, or if the wide character doesn’t correspond to a value single-byte character.</p>
<p d__="">See <a href="#man-mbtowc"><code s__="13" d__="">mbtowc()</code></a> and <a href="#man-wctomb"><code s__="13" d__="">wctomb()</code></a> for multibyte to wide character conversion.</p>
<h3 class="unnumbered unlisted" id="example-279" d__="">Example</h3>
<div class="sourceCode" id="cb919"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb919-1"><a href="#cb919-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb919-2"><a href="#cb919-2"></a></span>
<span id="cb919-3" d__=""><a href="#cb919-3"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb919-4"><a href="#cb919-4"></a><span class="op" d__="">{</span></span>
<span id="cb919-5" d__=""><a href="#cb919-5"></a>    <span class="dt" d__="">wint_t</span> wc <span class="op" d__="">=</span> btowc<span class="op" d__="">(</span><span class="ch" d__="">'B'</span><span class="op" d__="">);</span>    <span class="co" d__="">// Convert single byte to wide char</span></span>
<span id="cb919-6"><a href="#cb919-6"></a></span>
<span id="cb919-7" d__=""><a href="#cb919-7"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Wide character: </span><span class="sc" d__="">%lc\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> wc<span class="op" d__="">);</span></span>
<span id="cb919-8"><a href="#cb919-8"></a></span>
<span id="cb919-9" d__=""><a href="#cb919-9"></a>    <span class="dt" d__="">unsigned</span> <span class="dt" d__="">char</span> c <span class="op" d__="">=</span> wctob<span class="op" d__="">(</span>wc<span class="op" d__="">);</span>  <span class="co" d__="">// Convert back to single byte</span></span>
<span id="cb919-10"><a href="#cb919-10"></a></span>
<span id="cb919-11" d__=""><a href="#cb919-11"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Single-byte character: </span><span class="sc" d__="">%c\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> c<span class="op" d__="">);</span></span>
<span id="cb919-12"><a href="#cb919-12"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb920"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb920-1" d__=""><a href="#cb920-1" aria-hidden="true" tabindex="-1"></a>Wide character: B</span>
<span id="cb920-2" d__=""><a href="#cb920-2" aria-hidden="true" tabindex="-1"></a>Single-byte character: B</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-262" d__="">See Also</h3>
<p d__=""><a href="#man-mbtowc"><code s__="13" d__="">mbtowc()</code></a>, <a href="#man-wctomb"><code s__="13" d__="">wctomb()</code></a></p>
<hr>
<h2 data-number="31.28" id="man-mbsinit"><span class="header-section-number" d__="">31.28</span> <code d__="">mbsinit()</code></h2>
<p></p>
<p d__="">Test if an <code s__="13">mbstate_t</code> is in the initial conversion state</p>
<h3 class="unnumbered unlisted" id="synopsis-278" d__="">Synopsis</h3>
<div class="sourceCode" id="cb921"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb921-1"><a href="#cb921-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb921-2"><a href="#cb921-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb921-3" d__=""><a href="#cb921-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> mbsinit<span class="op" d__="">(</span><span class="dt" d__="">const</span> mbstate_t <span class="op" d__="">*</span>ps<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-278" d__="">Description</h3>
<p d__="">For a given conversion state in a <code s__="13">mbstate_t</code> variable, this function determines if it’s in the initial conversion state.</p>
<h3 class="unnumbered unlisted" id="return-value-276" d__="">Return Value</h3>
<p d__="">Returns non-zero if the value pointed to by <code s__="13">ps</code> is in the initial conversion state, or if <code s__="13">ps</code> is <code s__="13">NULL</code>.</p>
<p d__="">Returns <code s__="13">0</code> if the value pointed to by <code s__="13">ps</code> is <strong>not</strong> in the initial conversion state.</p>
<h3 class="unnumbered unlisted" id="example-280" d__="">Example</h3>
<p d__="">For me, this example doesn’t do anything exciting, saying that the <code s__="13">mbstate_t</code> variable is always in the initial state. Yay.</p>
<p d__="">But if have a stateful encoding like 2022-JP, try messing around with this to see if you can get into an intermediate state.</p>
<p d__="">This program has a bit of code at the top that reports if your locale’s encoding requires any state.</p>
<div class="sourceCode" id="cb922"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb922-1"><a href="#cb922-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;locale.h&gt;</span><span class="pp">   </span><span class="co" d__="">// For setlocale()</span></span>
<span id="cb922-2"><a href="#cb922-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span><span class="pp">   </span><span class="co" d__="">// For memset()</span></span>
<span id="cb922-3"><a href="#cb922-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span><span class="pp">   </span><span class="co" d__="">// For mbtowc()</span></span>
<span id="cb922-4"><a href="#cb922-4"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb922-5"><a href="#cb922-5"></a></span>
<span id="cb922-6" d__=""><a href="#cb922-6"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb922-7"><a href="#cb922-7"></a><span class="op" d__="">{</span></span>
<span id="cb922-8" d__=""><a href="#cb922-8"></a>    mbstate_t state<span class="op" d__="">;</span></span>
<span id="cb922-9" d__=""><a href="#cb922-9"></a>    <span class="dt" d__="">wchar_t</span> wc<span class="op" d__="">[</span><span class="dv" d__="">128</span><span class="op" d__="">];</span></span>
<span id="cb922-10"><a href="#cb922-10"></a></span>
<span id="cb922-11" d__=""><a href="#cb922-11"></a>    setlocale<span class="op" d__="">(</span>LC_ALL<span class="op" d__="">,</span> <span class="st" d__="">""</span><span class="op" d__="">);</span></span>
<span id="cb922-12"><a href="#cb922-12"></a></span>
<span id="cb922-13" d__=""><a href="#cb922-13"></a>    <span class="dt" d__="">int</span> is_state_dependent <span class="op" d__="">=</span> mbtowc<span class="op" d__="">(</span>NULL<span class="op" d__="">,</span> NULL<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">);</span></span>
<span id="cb922-14"><a href="#cb922-14"></a></span>
<span id="cb922-15" d__=""><a href="#cb922-15"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Is encoding state dependent? </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> is_state_dependent<span class="op" d__="">);</span></span>
<span id="cb922-16"><a href="#cb922-16"></a></span>
<span id="cb922-17" d__=""><a href="#cb922-17"></a>    memset<span class="op" d__="">(&amp;</span>state<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span> state<span class="op" d__="">);</span>  <span class="co" d__="">// Set to initial state</span></span>
<span id="cb922-18"><a href="#cb922-18"></a></span>
<span id="cb922-19" d__=""><a href="#cb922-19"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"In initial conversion state? </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> mbsinit<span class="op" d__="">(&amp;</span>state<span class="op" d__="">));</span></span>
<span id="cb922-20"><a href="#cb922-20"></a></span>
<span id="cb922-21" d__=""><a href="#cb922-21"></a>    mbrtowc<span class="op" d__="">(</span>wc<span class="op" d__="">,</span> <span class="st" d__="">"B"</span><span class="op" d__="">,</span> <span class="dv" d__="">5</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>state<span class="op" d__="">);</span></span>
<span id="cb922-22"><a href="#cb922-22"></a></span>
<span id="cb922-23" d__=""><a href="#cb922-23"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"In initial conversion state? </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> mbsinit<span class="op" d__="">(&amp;</span>state<span class="op" d__="">));</span></span>
<span id="cb922-24"><a href="#cb922-24"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-263" d__="">See Also</h3>
<p d__=""><a href="#man-mbtowc"><code s__="13" d__="">mbtowc()</code></a>, <a href="#man-wctomb"><code s__="13" d__="">wctomb()</code></a>, <a href="#man-mbrtowc"><code s__="13" d__="">mbrtowc()</code></a>, <a href="#man-wcrtomb"><code s__="13" d__="">wcrtomb()</code></a></p>
<hr>
<h2 data-number="31.29" id="man-mbrlen"><span class="header-section-number" d__="">31.29</span> <code d__="">mbrlen()</code></h2>
<p></p>
<p d__="">Compute the number of bytes in a multibyte character, restartably</p>
<h3 class="unnumbered unlisted" id="synopsis-279" d__="">Synopsis</h3>
<div class="sourceCode" id="cb923"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb923-1"><a href="#cb923-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb923-2"><a href="#cb923-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb923-3" d__=""><a href="#cb923-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">size_t</span> mbrlen<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s<span class="op" d__="">,</span> <span class="dt" d__="">size_t</span> n<span class="op" d__="">,</span> mbstate_t <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> ps<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-279" d__="">Description</h3>
<p d__="">This is the restartable version of <a href="#man-mblen"><code s__="13" d__="">mblen()</code></a>.</p>
<p d__="">It inspects at most <code s__="13">n</code> bytes of the string <code s__="13">s</code> to see how many bytes in this character.</p>
<p d__="">The conversion state is stored in <code s__="13">ps</code>.</p>
<p d__="">This function doesn’t have the functionality of <code s__="13">mblen()</code> that allowed you to query if this character encoding was stateful and to reset the internal state.</p>
<h3 class="unnumbered unlisted" id="return-value-277" d__="">Return Value</h3>
<p d__="">Returns the number of bytes required for this multibyte character.</p>
<p d__="">Returns <code s__="13">(size_t)(-1)</code> if the data in <code s__="13">s</code> is not a valid multibyte character.</p>
<p d__="">Returns <code s__="13">(size_t)(-2)</code> if the data is <code s__="13">s</code> is a valid but not complete multibyte character.</p>
<h3 class="unnumbered unlisted" id="example-281" d__="">Example</h3>
<p d__="">If your character set doesn’t support the Euro symbol “€”, substitute the Unicode escape sequence <code s__="13">\u20ac</code>, below.</p>
<div class="sourceCode" id="cb924"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb924-1"><a href="#cb924-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;locale.h&gt;</span><span class="pp">   </span><span class="co" d__="">// For setlocale()</span></span>
<span id="cb924-2"><a href="#cb924-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span><span class="pp">   </span><span class="co" d__="">// For memset()</span></span>
<span id="cb924-3"><a href="#cb924-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb924-4"><a href="#cb924-4"></a></span>
<span id="cb924-5" d__=""><a href="#cb924-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb924-6"><a href="#cb924-6"></a><span class="op" d__="">{</span></span>
<span id="cb924-7" d__=""><a href="#cb924-7"></a>    mbstate_t state<span class="op" d__="">;</span></span>
<span id="cb924-8" d__=""><a href="#cb924-8"></a>    <span class="dt" d__="">int</span> len<span class="op" d__="">;</span></span>
<span id="cb924-9"><a href="#cb924-9"></a></span>
<span id="cb924-10" d__=""><a href="#cb924-10"></a>    setlocale<span class="op" d__="">(</span>LC_ALL<span class="op" d__="">,</span> <span class="st" d__="">""</span><span class="op" d__="">);</span></span>
<span id="cb924-11"><a href="#cb924-11"></a></span>
<span id="cb924-12" d__=""><a href="#cb924-12"></a>    memset<span class="op" d__="">(&amp;</span>state<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span> state<span class="op" d__="">);</span>  <span class="co" d__="">// Set to initial state</span></span>
<span id="cb924-13"><a href="#cb924-13"></a></span>
<span id="cb924-14" d__=""><a href="#cb924-14"></a>    len <span class="op" d__="">=</span> mbrlen<span class="op" d__="">(</span><span class="st" d__="">"B"</span><span class="op" d__="">,</span> <span class="dv" d__="">5</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>state<span class="op" d__="">);</span></span>
<span id="cb924-15"><a href="#cb924-15"></a></span>
<span id="cb924-16" d__=""><a href="#cb924-16"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Length of 'B' is </span><span class="sc" d__="">%d</span><span class="st" d__=""> byte(s)</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> len<span class="op" d__="">);</span></span>
<span id="cb924-17"><a href="#cb924-17"></a></span>
<span id="cb924-18" d__=""><a href="#cb924-18"></a>    len <span class="op" d__="">=</span> mbrlen<span class="op" d__="">(</span><span class="st" d__="">"€"</span><span class="op" d__="">,</span> <span class="dv" d__="">5</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>state<span class="op" d__="">);</span></span>
<span id="cb924-19"><a href="#cb924-19"></a></span>
<span id="cb924-20" d__=""><a href="#cb924-20"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Length of '€' is </span><span class="sc" d__="">%d</span><span class="st" d__=""> byte(s)</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> len<span class="op" d__="">);</span></span>
<span id="cb924-21"><a href="#cb924-21"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb925"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb925-1" d__=""><a href="#cb925-1" aria-hidden="true" tabindex="-1"></a>Length of 'B' is 1 byte(s)</span>
<span id="cb925-2" d__=""><a href="#cb925-2" aria-hidden="true" tabindex="-1"></a>Length of '€' is 3 byte(s)</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-264" d__="">See Also</h3>
<p><a href="#man-mblen"><code s__="13" d__="">mblen()</code></a></p>
<hr>
<h2 data-number="31.30" id="man-mbrtowc"><span class="header-section-number" d__="">31.30</span> <code d__="">mbrtowc()</code></h2>
<p></p>
<p d__="">Convert multibyte to wide characters restartably</p>
<h3 class="unnumbered unlisted" id="synopsis-280" d__="">Synopsis</h3>
<div class="sourceCode" id="cb926"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb926-1"><a href="#cb926-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb926-2"><a href="#cb926-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb926-3" d__=""><a href="#cb926-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">size_t</span> mbrtowc<span class="op" d__="">(</span><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> pwc<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s<span class="op" d__="">,</span></span>
<span id="cb926-4" d__=""><a href="#cb926-4" aria-hidden="true" tabindex="-1"></a>               <span class="dt" d__="">size_t</span> n<span class="op" d__="">,</span> mbstate_t <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> ps<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-280" d__="">Description</h3>
<p d__="">This is the restartable counterpart to <a href="#man-mbtowc"><code s__="13" d__="">mbtowc()</code></a>.</p>
<p d__="">It converts individual characters from multibyte to wide, tracking the conversion state in the variable pointed to by <code s__="13">ps</code>.</p>
<p d__="">At most <code s__="13">n</code> bytes are inspected for conversion to a wide character.</p>
<p d__="">These two variants are identical and cause the state pointed to by <code s__="13">ps</code> to be set to the initial conversion state:</p>
<div class="sourceCode" id="cb927"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb927-1" d__=""><a href="#cb927-1" aria-hidden="true" tabindex="-1"></a>mbrtowc<span class="op" d__="">(</span>NULL<span class="op" d__="">,</span> NULL<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>state<span class="op" d__="">);</span></span>
<span id="cb927-2" d__=""><a href="#cb927-2" aria-hidden="true" tabindex="-1"></a>mbrtowc<span class="op" d__="">(</span>NULL<span class="op" d__="">,</span> <span class="st" d__="">""</span><span class="op" d__="">,</span> <span class="dv" d__="">1</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>state<span class="op" d__="">);</span></span></code></pre></div>
<p d__="">Also, if you’re just interested in the length in bytes of the multibyte character, you can pass <code s__="13">NULL</code> for <code s__="13">pwc</code> and nothing will be stored for the wide character:</p>
<div class="sourceCode" id="cb928"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb928-1" d__=""><a href="#cb928-1" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> len <span class="op" d__="">=</span> mbrtowc<span class="op" d__="">(</span>NULL<span class="op" d__="">,</span> <span class="st" d__="">"€"</span><span class="op" d__="">,</span> <span class="dv" d__="">5</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>state<span class="op" d__="">);</span></span></code></pre></div>
<p d__="">This function doesn’t have the functionality of <code s__="13">mbtowc()</code> that allowed you to query if this character encoding was stateful and to reset the internal state.</p>
<h3 class="unnumbered unlisted" id="return-value-278" d__="">Return Value</h3>
<p d__="">On success, returns a positive number corresponding to the number of bytes in the multibyte character.</p>
<p d__="">Returns <code s__="13">0</code> if the character encoded is a wide NUL character.</p>
<p d__="">Returns <code s__="13">(size_t)(-1)</code> if the data in <code s__="13">s</code> is not a valid multibyte character.</p>
<p d__="">Returns <code s__="13">(size_t)(-2)</code> if the data is <code s__="13">s</code> is a valid but not complete multibyte character.</p>
<h3 class="unnumbered unlisted" id="example-282" d__="">Example</h3>
<p d__="">If your character set doesn’t support the Euro symbol “€”, substitute the Unicode escape sequence <code s__="13">\u20ac</code>, below.</p>
<div class="sourceCode" id="cb929"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb929-1"><a href="#cb929-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span><span class="pp">  </span><span class="co" d__="">// For memset()</span></span>
<span id="cb929-2"><a href="#cb929-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span><span class="pp">  </span><span class="co" d__="">// For mbtowc()</span></span>
<span id="cb929-3"><a href="#cb929-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;locale.h&gt;</span><span class="pp">  </span><span class="co" d__="">// For setlocale()</span></span>
<span id="cb929-4"><a href="#cb929-4"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb929-5"><a href="#cb929-5"></a></span>
<span id="cb929-6" d__=""><a href="#cb929-6"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb929-7"><a href="#cb929-7"></a><span class="op" d__="">{</span></span>
<span id="cb929-8" d__=""><a href="#cb929-8"></a>    mbstate_t state<span class="op" d__="">;</span></span>
<span id="cb929-9"><a href="#cb929-9"></a></span>
<span id="cb929-10" d__=""><a href="#cb929-10"></a>    memset<span class="op" d__="">(&amp;</span>state<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span> state<span class="op" d__="">);</span></span>
<span id="cb929-11"><a href="#cb929-11"></a></span>
<span id="cb929-12" d__=""><a href="#cb929-12"></a>    setlocale<span class="op" d__="">(</span>LC_ALL<span class="op" d__="">,</span> <span class="st" d__="">""</span><span class="op" d__="">);</span></span>
<span id="cb929-13"><a href="#cb929-13"></a></span>
<span id="cb929-14" d__=""><a href="#cb929-14"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"State dependency: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> mbtowc<span class="op" d__="">(</span>NULL<span class="op" d__="">,</span> NULL<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">));</span></span>
<span id="cb929-15"><a href="#cb929-15"></a></span>
<span id="cb929-16" d__=""><a href="#cb929-16"></a>    <span class="dt" d__="">wchar_t</span> wc<span class="op" d__="">;</span></span>
<span id="cb929-17" d__=""><a href="#cb929-17"></a>    <span class="dt" d__="">int</span> bytes<span class="op" d__="">;</span></span>
<span id="cb929-18"><a href="#cb929-18"></a></span>
<span id="cb929-19" d__=""><a href="#cb929-19"></a>    bytes <span class="op" d__="">=</span> mbrtowc<span class="op" d__="">(&amp;</span>wc<span class="op" d__="">,</span> <span class="st" d__="">"€"</span><span class="op" d__="">,</span> <span class="dv" d__="">5</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>state<span class="op" d__="">);</span></span>
<span id="cb929-20"><a href="#cb929-20"></a></span>
<span id="cb929-21" d__=""><a href="#cb929-21"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"L'</span><span class="sc" d__="">%lc</span><span class="st" d__="">' takes </span><span class="sc" d__="">%d</span><span class="st" d__=""> bytes as multibyte char '€'</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> wc<span class="op" d__="">,</span> bytes<span class="op" d__="">);</span></span>
<span id="cb929-22"><a href="#cb929-22"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output on my system:</p>
<div class="sourceCode" id="cb930"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb930-1" d__=""><a href="#cb930-1" aria-hidden="true" tabindex="-1"></a>State dependency: 0</span>
<span id="cb930-2" d__=""><a href="#cb930-2" aria-hidden="true" tabindex="-1"></a>L'€' takes 3 bytes as multibyte char '€'</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-265" d__="">See Also</h3>
<p d__=""><a href="#man-mbtowc"><code s__="13" d__="">mbtowc()</code></a>, <a href="#man-wcrtomb"><code s__="13" d__="">wcrtomb()</code></a></p>
<hr>
<h2 data-number="31.31" id="man-wcrtomb"><span class="header-section-number" d__="">31.31</span> <code d__="">wcrtomb()</code></h2>
<p></p>
<p d__="">Convert wide to multibyte characters restartably</p>
<h3 class="unnumbered unlisted" id="synopsis-281" d__="">Synopsis</h3>
<div class="sourceCode" id="cb931"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb931-1"><a href="#cb931-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb931-2"><a href="#cb931-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb931-3" d__=""><a href="#cb931-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">size_t</span> wcrtomb<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> s<span class="op" d__="">,</span> <span class="dt" d__="">wchar_t</span> wc<span class="op" d__="">,</span> mbstate_t <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> ps<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-281" d__="">Description</h3>
<p d__="">This is the restartable counterpart to <a href="#man-wctomb"><code s__="13" d__="">wctomb()</code></a>.</p>
<p d__="">It converts individual characters from wide to multibyte, tracking the conversion state in the variable pointed to by <code s__="13">ps</code>.</p>
<p d__="">The destination array <code s__="13">s</code> should be at least <code s__="13">MB_CUR_MAX</code><a href="#fn80" class="footnote-ref" id="fnref80" role="doc-noteref"><sup s__="13" d__="">80</sup></a> bytes in size—you won’t get anything bigger back from this function.</p>
<p d__="">Note that the values in this result array won’t be NUL-terminated.</p>
<p d__="">If you pass a wide NUL character in, the result will contain 
any bytes needed to restore the conversion state to its initial state 
followed by a NUL character, and the state pointed to by <code s__="13">ps</code> will be reset to its initial state:</p>
<div class="sourceCode" id="cb932"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb932-1"><a href="#cb932-1" aria-hidden="true" tabindex="-1"></a><span class="co" d__="">// Reset state</span></span>
<span id="cb932-2" d__=""><a href="#cb932-2" aria-hidden="true" tabindex="-1"></a>wcrtomb<span class="op" d__="">(</span>mb<span class="op" d__="">,</span> <span class="ch" d__="">L'</span><span class="sc" d__="">\0</span><span class="ch" d__="">'</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>state<span class="op" d__="">)</span></span></code></pre></div>
<p d__="">If you don’t care about the results (i.e.&nbsp;you’re just 
interested in resetting the state or getting the return value), you can 
do this by passing <code s__="13">NULL</code> for <code s__="13">s</code>:</p>
<div class="sourceCode" id="cb933"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb933-1" d__=""><a href="#cb933-1" aria-hidden="true" tabindex="-1"></a>wcrtomb<span class="op" d__="">(</span>NULL<span class="op" d__="">,</span> <span class="ch" d__="">L'</span><span class="sc" d__="">\0</span><span class="ch" d__="">'</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>state<span class="op" d__="">);</span>                <span class="co" d__="">// Reset state</span></span>
<span id="cb933-2"><a href="#cb933-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb933-3" d__=""><a href="#cb933-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> byte_count <span class="op" d__="">=</span> wctomb<span class="op" d__="">(</span>NULL<span class="op" d__="">,</span> <span class="st" d__="">"X"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>state<span class="op" d__="">);</span>  <span class="co" d__="">// Count bytes in 'X'</span></span></code></pre></div>
<p d__="">This function doesn’t have the functionality of <code s__="13">wctomb()</code> that allowed you to query if this character encoding was stateful and to reset the internal state.</p>
<h3 class="unnumbered unlisted" id="return-value-279" d__="">Return Value</h3>
<p d__="">On success, returns the number of bytes needed to encode this wide character in the current locale.</p>
<p d__="">If the input is an invalid wide character, <code s__="13">errno</code> will be set to <code s__="13">EILSEQ</code> and the function returns <code s__="13">(size_t)(-1)</code>. If this happens, all bets are off for the conversion state, so you might as well reset it.</p>
<h3 class="unnumbered unlisted" id="example-283" d__="">Example</h3>
<p d__="">If your character set doesn’t support the Euro symbol “€”, substitute the Unicode escape sequence <code s__="13">\u20ac</code>, below.</p>
<div class="sourceCode" id="cb934"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb934-1"><a href="#cb934-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span><span class="pp">  </span><span class="co" d__="">// For memset()</span></span>
<span id="cb934-2"><a href="#cb934-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span><span class="pp">  </span><span class="co" d__="">// For mbtowc()</span></span>
<span id="cb934-3"><a href="#cb934-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;locale.h&gt;</span><span class="pp">  </span><span class="co" d__="">// For setlocale()</span></span>
<span id="cb934-4"><a href="#cb934-4"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb934-5"><a href="#cb934-5"></a></span>
<span id="cb934-6" d__=""><a href="#cb934-6"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb934-7"><a href="#cb934-7"></a><span class="op" d__="">{</span></span>
<span id="cb934-8" d__=""><a href="#cb934-8"></a>    mbstate_t state<span class="op" d__="">;</span></span>
<span id="cb934-9"><a href="#cb934-9"></a></span>
<span id="cb934-10" d__=""><a href="#cb934-10"></a>    memset<span class="op" d__="">(&amp;</span>state<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span> state<span class="op" d__="">);</span></span>
<span id="cb934-11"><a href="#cb934-11"></a></span>
<span id="cb934-12" d__=""><a href="#cb934-12"></a>    setlocale<span class="op" d__="">(</span>LC_ALL<span class="op" d__="">,</span> <span class="st" d__="">""</span><span class="op" d__="">);</span></span>
<span id="cb934-13"><a href="#cb934-13"></a></span>
<span id="cb934-14" d__=""><a href="#cb934-14"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"State dependency: </span><span class="sc" d__="">%d\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> mbtowc<span class="op" d__="">(</span>NULL<span class="op" d__="">,</span> NULL<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">));</span></span>
<span id="cb934-15"><a href="#cb934-15"></a></span>
<span id="cb934-16" d__=""><a href="#cb934-16"></a>    <span class="dt" d__="">char</span> mb<span class="op" d__="">[</span><span class="dv" d__="">10</span><span class="op" d__="">]</span> <span class="op" d__="">=</span> <span class="op" d__="">{</span><span class="dv" d__="">0</span><span class="op" d__="">};</span></span>
<span id="cb934-17" d__=""><a href="#cb934-17"></a>    <span class="dt" d__="">int</span> bytes <span class="op" d__="">=</span> wcrtomb<span class="op" d__="">(</span>mb<span class="op" d__="">,</span> <span class="ch" d__="">L'€'</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>state<span class="op" d__="">);</span></span>
<span id="cb934-18"><a href="#cb934-18"></a></span>
<span id="cb934-19" d__=""><a href="#cb934-19"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"L'€' takes </span><span class="sc" d__="">%d</span><span class="st" d__=""> bytes as multibyte char '</span><span class="sc" d__="">%s</span><span class="st" d__="">'</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> bytes<span class="op" d__="">,</span> mb<span class="op" d__="">);</span></span>
<span id="cb934-20"><a href="#cb934-20"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-266" d__="">See Also</h3>
<p d__=""><a href="#man-mbrtowc"><code s__="13" d__="">mbrtowc()</code></a>, <a href="#man-wctomb"><code s__="13" d__="">wctomb()</code></a>, <a href="#errno"><code s__="13" d__="">errno</code></a></p>
<hr>
<h2 data-number="31.32" id="man-mbsrtowcs"><span class="header-section-number" d__="">31.32</span> <code d__="">mbsrtowcs()</code></h2>
<p></p>
<p d__="">Convert a multibyte string to a wide character string restartably</p>
<h3 class="unnumbered unlisted" id="synopsis-282" d__="">Synopsis</h3>
<div class="sourceCode" id="cb935"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb935-1"><a href="#cb935-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb935-2"><a href="#cb935-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb935-3" d__=""><a href="#cb935-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">size_t</span> mbsrtowcs<span class="op" d__="">(</span><span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> dst<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">**</span> <span class="dt" d__="">restrict</span> src<span class="op" d__="">,</span></span>
<span id="cb935-4" d__=""><a href="#cb935-4" aria-hidden="true" tabindex="-1"></a>                 <span class="dt" d__="">size_t</span> len<span class="op" d__="">,</span> mbstate_t <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> ps<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-282" d__="">Description</h3>
<p d__="">This is the restartable version of <a href="#man-mbstowcs"><code s__="13" d__="">mbstowcs()</code></a>.</p>
<p d__="">It converts a multibyte string to a wide character string.</p>
<p d__="">The result is put in the buffer pointed to by <code s__="13">dst</code>, and the pointer <code s__="13">src</code> is updated to indicate how much of the string was consumed (unless <code s__="13">dst</code> is <code s__="13">NULL</code>).</p>
<p d__="">At most <code s__="13">len</code> wide characters will be stored.</p>
<p d__="">This also takes a pointer to its own <code s__="13">mbstate_t</code> variable in <code s__="13">ps</code> for holding the conversion state.</p>
<p d__="">You can set <code s__="13">dst</code> to <code s__="13">NULL</code> if you only care about the return value. This could be useful for getting the number of characters in a multibyte string.</p>
<p d__="">In the normal case, the <code s__="13">src</code> string will be consumed up to the NUL character, and the results will be stored in the <code s__="13">dst</code> buffer, including the wide NUL character. In this case, the pointer pointed to by <code s__="13">src</code> will be set to <code s__="13">NULL</code>. And the conversion state will be set to the initial conversion state.</p>
<p d__="">If things go wrong because the source string isn’t a valid 
sequence of characters, conversion will stop and the pointer pointed to 
by <code s__="13">src</code> will be set to the address just after the last successfully-translated multibyte character.</p>
<h3 class="unnumbered unlisted" id="return-value-280" d__="">Return Value</h3>
<p d__="">If successful, returns the number of characters converted, not including any NUL terminator.</p>
<p d__="">If the multibyte sequence is invalid, the function returns <code s__="13">(size_t)(-1)</code> and <code s__="13">errno</code> is set to <code s__="13">EILSEQ</code>.</p>
<h3 class="unnumbered unlisted" id="example-284" d__="">Example</h3>
<p d__="">Here we’ll convert the string “€5 ± π” into a wide character string:</p>
<div class="sourceCode" id="cb936"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb936-1"><a href="#cb936-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;locale.h&gt;</span><span class="pp">  </span><span class="co" d__="">// For setlocale()</span></span>
<span id="cb936-2"><a href="#cb936-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span><span class="pp">  </span><span class="co" d__="">// For memset()</span></span>
<span id="cb936-3"><a href="#cb936-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb936-4"><a href="#cb936-4"></a></span>
<span id="cb936-5"><a href="#cb936-5"></a><span class="pp" d__="">#define WIDE_STR_SIZE </span><span class="dv" d__="">10</span></span>
<span id="cb936-6"><a href="#cb936-6"></a></span>
<span id="cb936-7" d__=""><a href="#cb936-7"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb936-8"><a href="#cb936-8"></a><span class="op" d__="">{</span></span>
<span id="cb936-9" d__=""><a href="#cb936-9"></a>    <span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>mbs <span class="op" d__="">=</span> <span class="st" d__="">"€5 ± π"</span><span class="op" d__="">;</span>  <span class="co" d__="">// That's the exact price range</span></span>
<span id="cb936-10"><a href="#cb936-10"></a></span>
<span id="cb936-11" d__=""><a href="#cb936-11"></a>    <span class="dt" d__="">wchar_t</span> wcs<span class="op" d__="">[</span>WIDE_STR_SIZE<span class="op" d__="">];</span></span>
<span id="cb936-12"><a href="#cb936-12"></a></span>
<span id="cb936-13" d__=""><a href="#cb936-13"></a>    setlocale<span class="op" d__="">(</span>LC_ALL<span class="op" d__="">,</span> <span class="st" d__="">""</span><span class="op" d__="">);</span></span>
<span id="cb936-14"><a href="#cb936-14"></a>    </span>
<span id="cb936-15" d__=""><a href="#cb936-15"></a>    mbstate_t state<span class="op" d__="">;</span></span>
<span id="cb936-16" d__=""><a href="#cb936-16"></a>    memset<span class="op" d__="">(&amp;</span>state<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span> state<span class="op" d__="">);</span></span>
<span id="cb936-17"><a href="#cb936-17"></a></span>
<span id="cb936-18" d__=""><a href="#cb936-18"></a>    <span class="dt" d__="">size_t</span> count <span class="op" d__="">=</span> mbsrtowcs<span class="op" d__="">(</span>wcs<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>mbs<span class="op" d__="">,</span> WIDE_STR_SIZE<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>state<span class="op" d__="">);</span></span>
<span id="cb936-19"><a href="#cb936-19"></a></span>
<span id="cb936-20" d__=""><a href="#cb936-20"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Wide string L</span><span class="sc" d__="">\"%ls\"</span><span class="st" d__=""> is </span><span class="sc" d__="">%d</span><span class="st" d__=""> characters</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> wcs<span class="op" d__="">,</span> count<span class="op" d__="">);</span></span>
<span id="cb936-21"><a href="#cb936-21"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb937"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb937-1" d__=""><a href="#cb937-1" aria-hidden="true" tabindex="-1"></a>Wide string L"€5 ± π" is 6 characters</span></code></pre></div>
<p d__="">Here’s another example of using <code s__="13">mbsrtowcs()</code>
 to get the length in characters of a multibyte string even if the 
string is full of multibyte characters. This is in contrast to <code s__="13">strlen()</code>, which returns the total number of bytes in the string.</p>
<div class="sourceCode" id="cb938"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb938-1"><a href="#cb938-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span><span class="pp">   </span><span class="co" d__="">// For printf()</span></span>
<span id="cb938-2"><a href="#cb938-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;locale.h&gt;</span><span class="pp">  </span><span class="co" d__="">// For setlocale()</span></span>
<span id="cb938-3"><a href="#cb938-3"></a></span>
<span id="cb938-4"><a href="#cb938-4"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span><span class="pp">  </span><span class="co" d__="">// For memset()</span></span>
<span id="cb938-5"><a href="#cb938-5"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdint.h&gt;</span><span class="pp">  </span><span class="co" d__="">// For SIZE_MAX</span></span>
<span id="cb938-6"><a href="#cb938-6"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb938-7"><a href="#cb938-7"></a></span>
<span id="cb938-8" d__=""><a href="#cb938-8"></a><span class="dt" d__="">size_t</span> mbstrlen<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>mbs<span class="op" d__="">)</span></span>
<span id="cb938-9"><a href="#cb938-9"></a><span class="op" d__="">{</span></span>
<span id="cb938-10" d__=""><a href="#cb938-10"></a>    mbstate_t state<span class="op" d__="">;</span></span>
<span id="cb938-11"><a href="#cb938-11"></a></span>
<span id="cb938-12" d__=""><a href="#cb938-12"></a>    memset<span class="op" d__="">(&amp;</span>state<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span> state<span class="op" d__="">);</span></span>
<span id="cb938-13"><a href="#cb938-13"></a></span>
<span id="cb938-14" d__=""><a href="#cb938-14"></a>    <span class="cf" d__="">return</span> mbsrtowcs<span class="op" d__="">(</span>NULL<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>mbs<span class="op" d__="">,</span> SIZE_MAX<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>state<span class="op" d__="">);</span></span>
<span id="cb938-15"><a href="#cb938-15"></a><span class="op" d__="">}</span></span>
<span id="cb938-16"><a href="#cb938-16"></a></span>
<span id="cb938-17" d__=""><a href="#cb938-17"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb938-18"><a href="#cb938-18"></a><span class="op" d__="">{</span></span>
<span id="cb938-19" d__=""><a href="#cb938-19"></a>    setlocale<span class="op" d__="">(</span>LC_ALL<span class="op" d__="">,</span> <span class="st" d__="">""</span><span class="op" d__="">);</span></span>
<span id="cb938-20"><a href="#cb938-20"></a>    </span>
<span id="cb938-21" d__=""><a href="#cb938-21"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>mbs <span class="op" d__="">=</span> <span class="st" d__="">"€5 ± π"</span><span class="op" d__="">;</span>  <span class="co" d__="">// That's the exact price range</span></span>
<span id="cb938-22"><a href="#cb938-22"></a></span>
<span id="cb938-23" d__=""><a href="#cb938-23"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"</span><span class="sc" d__="">\"%s\"</span><span class="st" d__=""> is </span><span class="sc" d__="">%zu</span><span class="st" d__=""> characters...</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> mbs<span class="op" d__="">,</span> mbstrlen<span class="op" d__="">(</span>mbs<span class="op" d__="">));</span> </span>
<span id="cb938-24" d__=""><a href="#cb938-24"></a>    printf<span class="op" d__="">(</span><span class="st" d__="">"but it's </span><span class="sc" d__="">%zu</span><span class="st" d__=""> bytes!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> strlen<span class="op" d__="">(</span>mbs<span class="op" d__="">));</span></span>
<span id="cb938-25"><a href="#cb938-25"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output on my system:</p>
<div class="sourceCode" id="cb939"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb939-1" d__=""><a href="#cb939-1" aria-hidden="true" tabindex="-1"></a>"€5 ± π" is 6 characters...</span>
<span id="cb939-2" d__=""><a href="#cb939-2" aria-hidden="true" tabindex="-1"></a>but it's 10 bytes!</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-267" d__="">See Also</h3>
<p d__=""><a href="#man-mbrtowc"><code s__="13" d__="">mbrtowc()</code></a>, <a href="#man-mbstowcs"><code s__="13" d__="">mbstowcs()</code></a>, <a href="#man-wcsrtombs"><code s__="13" d__="">wcsrtombs()</code></a>, <a href="#man-strlen"><code s__="13" d__="">strlen()</code></a>, <a href="#errno"><code s__="13" d__="">errno</code></a></p>
<hr>
<h2 data-number="31.33" id="man-wcsrtombs"><span class="header-section-number" d__="">31.33</span> <code d__="">wcsrtombs()</code></h2>
<p></p>
<p d__="">Convert a wide character string to a multibyte string restartably</p>
<h3 class="unnumbered unlisted" id="synopsis-283" d__="">Synopsis</h3>
<div class="sourceCode" id="cb940"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb940-1"><a href="#cb940-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb940-2"><a href="#cb940-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb940-3" d__=""><a href="#cb940-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">size_t</span> wcsrtombs<span class="op" d__="">(</span><span class="dt" d__="">char</span> <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> dst<span class="op" d__="">,</span> <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">**</span> <span class="dt" d__="">restrict</span> src<span class="op" d__="">,</span></span>
<span id="cb940-4" d__=""><a href="#cb940-4" aria-hidden="true" tabindex="-1"></a>                 <span class="dt" d__="">size_t</span> len<span class="op" d__="">,</span> mbstate_t <span class="op" d__="">*</span> <span class="dt" d__="">restrict</span> ps<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-283" d__="">Description</h3>
<p d__="">If you have a wide character string, you can convert it to a 
multibyte character string in the current locale using this function.</p>
<p d__="">At most <code s__="13">len</code> bytes of data will be stored in the buffer pointed to by <code s__="13">dst</code>. Conversion will stop just after the NUL terminator is copied, or <code s__="13">len</code> bytes get copied, or some other error occurs.</p>
<p d__="">If <code s__="13">dst</code> is a <code s__="13">NULL</code> 
pointer, no result is stored. You might do this if you’re just 
interested in the return value (nominally the number of bytes this would
 use in a multibyte string, not including the NUL terminator).</p>
<p d__="">If <code s__="13">dst</code> is not a <code s__="13">NULL</code> pointer, the pointer pointed to by <code s__="13">src</code> will get modified to indicate how much of the data was copied. If it contains <code s__="13">NULL</code> at the end, it means everything went well. In this case, the state <code s__="13">ps</code> will be set to the initial conversion state.</p>
<p d__="">If <code s__="13">len</code> was reached or an error occurred, it’ll point one address past <code s__="13">dst+len</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-281" d__="">Return Value</h3>
<p d__="">If everything goes well, returns the number of bytes needed for the multibyte string, not counting the NUL terminator.</p>
<p d__="">If any character in the string doesn’t correspond to a valid multibyte character in the currently locale, it returns <code s__="13">(size_t)(-1)</code> and <code s__="13">EILSEQ</code> is stored in <code s__="13">errno</code>.</p>
<h3 class="unnumbered unlisted" id="example-285" d__="">Example</h3>
<p d__="">Here we’ll convert the wide string “€5 ± π” into a multibyte character string:</p>
<div class="sourceCode" id="cb941"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb941-1"><a href="#cb941-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;locale.h&gt;</span><span class="pp">  </span><span class="co" d__="">// For setlocale()</span></span>
<span id="cb941-2"><a href="#cb941-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span><span class="pp">  </span><span class="co" d__="">// For memset()</span></span>
<span id="cb941-3"><a href="#cb941-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb941-4"><a href="#cb941-4"></a></span>
<span id="cb941-5"><a href="#cb941-5"></a><span class="pp" d__="">#define MB_STR_SIZE </span><span class="dv" d__="">20</span></span>
<span id="cb941-6"><a href="#cb941-6"></a></span>
<span id="cb941-7" d__=""><a href="#cb941-7"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb941-8"><a href="#cb941-8"></a><span class="op" d__="">{</span></span>
<span id="cb941-9" d__=""><a href="#cb941-9"></a>    <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>wcs <span class="op" d__="">=</span> <span class="st" d__="">L"€5 ± π"</span><span class="op" d__="">;</span>  <span class="co" d__="">// That's the exact price range</span></span>
<span id="cb941-10"><a href="#cb941-10"></a></span>
<span id="cb941-11" d__=""><a href="#cb941-11"></a>    <span class="dt" d__="">char</span> mbs<span class="op" d__="">[</span>MB_STR_SIZE<span class="op" d__="">];</span></span>
<span id="cb941-12"><a href="#cb941-12"></a></span>
<span id="cb941-13" d__=""><a href="#cb941-13"></a>    setlocale<span class="op" d__="">(</span>LC_ALL<span class="op" d__="">,</span> <span class="st" d__="">""</span><span class="op" d__="">);</span></span>
<span id="cb941-14"><a href="#cb941-14"></a>    </span>
<span id="cb941-15" d__=""><a href="#cb941-15"></a>    mbstate_t state<span class="op" d__="">;</span></span>
<span id="cb941-16" d__=""><a href="#cb941-16"></a>    memset<span class="op" d__="">(&amp;</span>state<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span> state<span class="op" d__="">);</span></span>
<span id="cb941-17"><a href="#cb941-17"></a></span>
<span id="cb941-18" d__=""><a href="#cb941-18"></a>    <span class="dt" d__="">size_t</span> count <span class="op" d__="">=</span> wcsrtombs<span class="op" d__="">(</span>mbs<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>wcs<span class="op" d__="">,</span> MB_STR_SIZE<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>state<span class="op" d__="">);</span></span>
<span id="cb941-19"><a href="#cb941-19"></a></span>
<span id="cb941-20" d__=""><a href="#cb941-20"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Multibyte string </span><span class="sc" d__="">\"%s\"</span><span class="st" d__=""> is </span><span class="sc" d__="">%d</span><span class="st" d__=""> bytes</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> mbs<span class="op" d__="">,</span> count<span class="op" d__="">);</span></span>
<span id="cb941-21"><a href="#cb941-21"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Here’s another example helper function that <code s__="13">malloc()</code>s
 just enough memory to hold the converted string, then returns the 
result. (Which must later be freed, of course, to prevent leaking 
memory.)</p>
<div class="sourceCode" id="cb942"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb942-1"><a href="#cb942-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdlib.h&gt;</span><span class="pp">  </span><span class="co" d__="">// For malloc()</span></span>
<span id="cb942-2"><a href="#cb942-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;locale.h&gt;</span><span class="pp">  </span><span class="co" d__="">// For setlocale()</span></span>
<span id="cb942-3"><a href="#cb942-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;string.h&gt;</span><span class="pp">  </span><span class="co" d__="">// For memset()</span></span>
<span id="cb942-4"><a href="#cb942-4"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdint.h&gt;</span><span class="pp">  </span><span class="co" d__="">// For SIZE_MAX</span></span>
<span id="cb942-5"><a href="#cb942-5"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb942-6"><a href="#cb942-6"></a></span>
<span id="cb942-7" d__=""><a href="#cb942-7"></a><span class="dt" d__="">char</span> <span class="op" d__="">*</span>get_mb_string<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>wcs<span class="op" d__="">)</span></span>
<span id="cb942-8"><a href="#cb942-8"></a><span class="op" d__="">{</span></span>
<span id="cb942-9" d__=""><a href="#cb942-9"></a>    setlocale<span class="op" d__="">(</span>LC_ALL<span class="op" d__="">,</span> <span class="st" d__="">""</span><span class="op" d__="">);</span></span>
<span id="cb942-10"><a href="#cb942-10"></a></span>
<span id="cb942-11" d__=""><a href="#cb942-11"></a>    mbstate_t state<span class="op" d__="">;</span></span>
<span id="cb942-12" d__=""><a href="#cb942-12"></a>    memset<span class="op" d__="">(&amp;</span>state<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span> state<span class="op" d__="">);</span></span>
<span id="cb942-13"><a href="#cb942-13"></a></span>
<span id="cb942-14"><a href="#cb942-14"></a>    <span class="co" d__="">// Need a copy of this because wcsrtombs changes it</span></span>
<span id="cb942-15" d__=""><a href="#cb942-15"></a>    <span class="dt" d__="">const</span> <span class="dt" d__="">wchar_t</span> <span class="op" d__="">*</span>p <span class="op" d__="">=</span> wcs<span class="op" d__="">;</span></span>
<span id="cb942-16"><a href="#cb942-16"></a></span>
<span id="cb942-17"><a href="#cb942-17"></a>    <span class="co" d__="">// Compute the number of bytes needed to hold the result</span></span>
<span id="cb942-18" d__=""><a href="#cb942-18"></a>    <span class="dt" d__="">size_t</span> bytes_needed <span class="op" d__="">=</span> wcsrtombs<span class="op" d__="">(</span>NULL<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>p<span class="op" d__="">,</span> SIZE_MAX<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>state<span class="op" d__="">);</span></span>
<span id="cb942-19"><a href="#cb942-19"></a></span>
<span id="cb942-20"><a href="#cb942-20"></a>    <span class="co" d__="">// If we didn't get a good full conversion, forget it</span></span>
<span id="cb942-21" d__=""><a href="#cb942-21"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>bytes_needed <span class="op" d__="">==</span> <span class="op" d__="">(</span><span class="dt" d__="">size_t</span><span class="op" d__="">)(-</span><span class="dv" d__="">1</span><span class="op" d__="">))</span></span>
<span id="cb942-22" d__=""><a href="#cb942-22"></a>        <span class="cf" d__="">return</span> NULL<span class="op" d__="">;</span></span>
<span id="cb942-23"><a href="#cb942-23"></a></span>
<span id="cb942-24"><a href="#cb942-24"></a>    <span class="co" d__="">// Allocate space for result</span></span>
<span id="cb942-25" d__=""><a href="#cb942-25"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>mbs <span class="op" d__="">=</span> malloc<span class="op" d__="">(</span>bytes_needed <span class="op" d__="">+</span> <span class="dv" d__="">1</span><span class="op" d__="">);</span>  <span class="co" d__="">// +1 for NUL terminator</span></span>
<span id="cb942-26"><a href="#cb942-26"></a></span>
<span id="cb942-27"><a href="#cb942-27"></a>    <span class="co" d__="">// Set conversion state to initial state</span></span>
<span id="cb942-28" d__=""><a href="#cb942-28"></a>    memset<span class="op" d__="">(&amp;</span>state<span class="op" d__="">,</span> <span class="dv" d__="">0</span><span class="op" d__="">,</span> <span class="kw" d__="">sizeof</span> state<span class="op" d__="">);</span></span>
<span id="cb942-29"><a href="#cb942-29"></a></span>
<span id="cb942-30"><a href="#cb942-30"></a>    <span class="co" d__="">// Convert and store result</span></span>
<span id="cb942-31" d__=""><a href="#cb942-31"></a>    wcsrtombs<span class="op" d__="">(</span>mbs<span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>wcs<span class="op" d__="">,</span> bytes_needed <span class="op" d__="">+</span> <span class="dv" d__="">1</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>state<span class="op" d__="">);</span></span>
<span id="cb942-32"><a href="#cb942-32"></a></span>
<span id="cb942-33"><a href="#cb942-33"></a>    <span class="co" d__="">// Make sure things went well</span></span>
<span id="cb942-34" d__=""><a href="#cb942-34"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>wcs <span class="op" d__="">!=</span> NULL<span class="op" d__="">)</span> <span class="op" d__="">{</span></span>
<span id="cb942-35" d__=""><a href="#cb942-35"></a>        free<span class="op" d__="">(</span>mbs<span class="op" d__="">);</span></span>
<span id="cb942-36" d__=""><a href="#cb942-36"></a>        <span class="cf" d__="">return</span> NULL<span class="op" d__="">;</span></span>
<span id="cb942-37"><a href="#cb942-37"></a>    <span class="op" d__="">}</span></span>
<span id="cb942-38"><a href="#cb942-38"></a></span>
<span id="cb942-39"><a href="#cb942-39"></a>    <span class="co" d__="">// Success!</span></span>
<span id="cb942-40" d__=""><a href="#cb942-40"></a>    <span class="cf" d__="">return</span> mbs<span class="op" d__="">;</span></span>
<span id="cb942-41"><a href="#cb942-41"></a><span class="op" d__="">}</span></span>
<span id="cb942-42"><a href="#cb942-42"></a></span>
<span id="cb942-43" d__=""><a href="#cb942-43"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb942-44"><a href="#cb942-44"></a><span class="op" d__="">{</span></span>
<span id="cb942-45" d__=""><a href="#cb942-45"></a>    <span class="dt" d__="">char</span> <span class="op" d__="">*</span>mbs <span class="op" d__="">=</span> get_mb_string<span class="op" d__="">(</span><span class="st" d__="">L"€5 ± π"</span><span class="op" d__="">);</span></span>
<span id="cb942-46"><a href="#cb942-46"></a></span>
<span id="cb942-47" d__=""><a href="#cb942-47"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Multibyte result: </span><span class="sc" d__="">\"%s\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> mbs<span class="op" d__="">);</span></span>
<span id="cb942-48"><a href="#cb942-48"></a></span>
<span id="cb942-49" d__=""><a href="#cb942-49"></a>    free<span class="op" d__="">(</span>mbs<span class="op" d__="">);</span></span>
<span id="cb942-50"><a href="#cb942-50"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-268" d__="">See Also</h3>
<p d__=""><a href="#man-wcrtomb"><code s__="13" d__="">wcrtomb()</code></a>, <a href="#man-wcstombs"><code s__="13" d__="">wcstombs()</code></a>, <a href="#man-mbsrtowcs"><code s__="13" d__="">mbsrtowcs()</code></a>, <a href="#errno"><code s__="13" d__="">errno</code></a></p>
<!--
***
## `example()` {#man-example}

### Synopsis {.unnumbered .unlisted}

``` {.c}
```

### Description {.unnumbered .unlisted}

### Return Value {.unnumbered .unlisted}

### Example {.unnumbered .unlisted}

``` {.c .numberLines}
```

### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<!-- BG_NEW_CHAPTER -->
<!-- Beej's guide to C

# vim: ts=4:sw=4:nosi:et:tw=72
-->
<h1 data-number="32" id="wctype" d__=""><span class="header-section-number">32</span> <code>&lt;wctype.h&gt;</code> Wide Character Classification and Transformation</h1>
<p></p>
<table>
<colgroup>
<col style="width: 26%">
<col style="width: 73%">
</colgroup>
<thead>
<tr class="header">
<th d__="">Function</th>
<th d__="">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="#man-iswalnum"><code s__="13" d__="">iswalnum()</code></a></td>
<td d__="">Test if a wide character is alphanumeric.</td>
</tr>
<tr class="even">
<td><a href="#man-iswalpha"><code s__="13" d__="">iswalpha()</code></a></td>
<td d__="">Tests if a wide character is alphabetic</td>
</tr>
<tr class="odd">
<td><a href="#man-iswblank"><code s__="13" d__="">iswblank()</code></a></td>
<td d__="">Tests if this is a wide blank character</td>
</tr>
<tr class="even">
<td><a href="#man-iswcntrl"><code s__="13" d__="">iswcntrl()</code></a></td>
<td d__="">Tests if this is a wide control character.</td>
</tr>
<tr class="odd">
<td><a href="#man-iswctype"><code s__="13" d__="">iswctype()</code></a></td>
<td d__="">Determine wide character classification</td>
</tr>
<tr class="even">
<td><a href="#man-iswdigit"><code s__="13" d__="">iswdigit()</code></a></td>
<td d__="">Test if this wide character is a digit</td>
</tr>
<tr class="odd">
<td><a href="#man-iswgraph"><code s__="13" d__="">iswgraph()</code></a></td>
<td d__="">Test to see if a wide character is a printable non-space</td>
</tr>
<tr class="even">
<td><a href="#man-iswlower"><code s__="13" d__="">iswlower()</code></a></td>
<td d__="">Tests if a wide character is lowercase</td>
</tr>
<tr class="odd">
<td><a href="#man-iswprint"><code s__="13" d__="">iswprint()</code></a></td>
<td d__="">Tests if a wide character is printable</td>
</tr>
<tr class="even">
<td><a href="#man-iswpunct"><code s__="13" d__="">iswpunct()</code></a></td>
<td d__="">Test if a wide character is punctuation</td>
</tr>
<tr class="odd">
<td><a href="#man-iswspace"><code s__="13" d__="">iswspace()</code></a></td>
<td d__="">Test if a wide character is whitespace</td>
</tr>
<tr class="even">
<td><a href="#man-iswupper"><code s__="13" d__="">iswupper()</code></a></td>
<td d__="">Tests if a wide character is uppercase</td>
</tr>
<tr class="odd">
<td><a href="#man-iswxdigit"><code s__="13" d__="">iswxdigit()</code></a></td>
<td d__="">Tests if a wide character is a hexadecimal digit</td>
</tr>
<tr class="even">
<td><a href="#man-towctrans"><code s__="13" d__="">towctrans()</code></a></td>
<td d__="">Convert wide characters to upper or lowercase</td>
</tr>
<tr class="odd">
<td><a href="#man-towlower"><code s__="13" d__="">towlower()</code></a></td>
<td d__="">Convert an uppercase wide character to lowercase</td>
</tr>
<tr class="even">
<td><a href="#man-towupper"><code s__="13" d__="">towupper()</code></a></td>
<td d__="">Convert a lowercase wide character to uppercase</td>
</tr>
<tr class="odd">
<td><a href="#man-wctrans"><code s__="13" d__="">wctrans()</code></a></td>
<td d__="">Helper function for <code s__="13">towctrans()</code></td>
</tr>
<tr class="even">
<td><a href="#man-wctype"><code s__="13" d__="">wctype()</code></a></td>
<td d__="">Helper function for <code s__="13">iswctype()</code></td>
</tr>
</tbody>
</table>
<p d__="">This is like <a href="#ctype"><code s__="13" d__="">&lt;ctype.h&gt;</code></a> except for wide characters.</p>
<p d__="">With it you can test for character classifications (like “is 
this character whitespace?”) or do basic character conversions (like 
“force this character to lowercase”).</p>
<hr>
<h2 data-number="32.1" id="man-iswalnum"><span class="header-section-number" d__="">32.1</span> <code d__="">iswalnum()</code></h2>
<p></p>
<p d__="">Test if a wide character is alphanumeric.</p>
<h3 class="unnumbered unlisted" id="synopsis-284" d__="">Synopsis</h3>
<div class="sourceCode" id="cb943"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb943-1"><a href="#cb943-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb943-2"><a href="#cb943-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb943-3" d__=""><a href="#cb943-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> iswalnum<span class="op" d__="">(</span><span class="dt" d__="">wint_t</span> wc<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-284" d__="">Description</h3>
<p d__="">Basically tests if a character is alphabetic (<code s__="13">A</code>-<code s__="13">Z</code> or <code s__="13">a</code>-<code s__="13">z</code>) or a digit (<code s__="13">0</code>-<code s__="13">9</code>). But some other characters might also qualify based on the locale.</p>
<p d__="">This is equivalent to testing if <code s__="13">iswalpha()</code> or <code s__="13">iswdigit()</code> is true.</p>
<h3 class="unnumbered unlisted" id="return-value-282" d__="">Return Value</h3>
<p d__="">Returns true if the character is alphanumeric.</p>
<h3 class="unnumbered unlisted" id="example-286" d__="">Example</h3>
<div class="sourceCode" id="cb944"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb944-1"><a href="#cb944-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb944-2"><a href="#cb944-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb944-3"><a href="#cb944-3"></a></span>
<span id="cb944-4" d__=""><a href="#cb944-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb944-5"><a href="#cb944-5"></a><span class="op" d__="">{</span></span>
<span id="cb944-6"><a href="#cb944-6"></a>    <span class="co" d__="">//                  testing this char</span></span>
<span id="cb944-7"><a href="#cb944-7"></a>    <span class="co" d__="">//                           v</span></span>
<span id="cb944-8" d__=""><a href="#cb944-8"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswalnum<span class="op" d__="">(</span><span class="ch" d__="">L'a'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// yes</span></span>
<span id="cb944-9" d__=""><a href="#cb944-9"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswalnum<span class="op" d__="">(</span><span class="ch" d__="">L'B'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// yes</span></span>
<span id="cb944-10" d__=""><a href="#cb944-10"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswalnum<span class="op" d__="">(</span><span class="ch" d__="">L'5'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// yes</span></span>
<span id="cb944-11" d__=""><a href="#cb944-11"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswalnum<span class="op" d__="">(</span><span class="ch" d__="">L'?'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// no</span></span>
<span id="cb944-12"><a href="#cb944-12"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-269" d__="">See Also</h3>
<p d__=""><a href="#man-iswalpha"><code s__="13" d__="">iswalpha()</code></a>, <a href="#man-iswdigit"><code s__="13" d__="">iswdigit()</code></a>, <a href="#man-isalnum"><code s__="13" d__="">isalnum()</code></a></p>
<hr>
<h2 data-number="32.2" id="man-iswalpha"><span class="header-section-number" d__="">32.2</span> <code d__="">iswalpha()</code></h2>
<p></p>
<p d__="">Tests if a wide character is alphabetic</p>
<h3 class="unnumbered unlisted" id="synopsis-285" d__="">Synopsis</h3>
<div class="sourceCode" id="cb945"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb945-1"><a href="#cb945-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb945-2"><a href="#cb945-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb945-3" d__=""><a href="#cb945-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> iswalpha<span class="op" d__="">(</span><span class="dt" d__="">wint_t</span> wc<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-285" d__="">Description</h3>
<p d__="">Basically tests if a character is alphabetic (<code s__="13">A</code>-<code s__="13">Z</code> or <code s__="13">a</code>-<code s__="13">z</code>).
 But some other characters might also qualify based on the locale. (If 
other characters qualify, they won’t be control characters, digits, 
punctuation, or spaces.)</p>
<p d__="">This is the same as testing for <code s__="13">iswupper()</code> or <code s__="13">iswlower()</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-283" d__="">Return Value</h3>
<p d__="">Returns true if the character is alphabetic.</p>
<h3 class="unnumbered unlisted" id="example-287" d__="">Example</h3>
<div class="sourceCode" id="cb946"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb946-1"><a href="#cb946-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb946-2"><a href="#cb946-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb946-3"><a href="#cb946-3"></a></span>
<span id="cb946-4" d__=""><a href="#cb946-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb946-5"><a href="#cb946-5"></a><span class="op" d__="">{</span></span>
<span id="cb946-6"><a href="#cb946-6"></a>    <span class="co" d__="">//                  testing this char</span></span>
<span id="cb946-7"><a href="#cb946-7"></a>    <span class="co" d__="">//                           v</span></span>
<span id="cb946-8" d__=""><a href="#cb946-8"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswalpha<span class="op" d__="">(</span><span class="ch" d__="">L'a'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// yes</span></span>
<span id="cb946-9" d__=""><a href="#cb946-9"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswalpha<span class="op" d__="">(</span><span class="ch" d__="">L'B'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// yes</span></span>
<span id="cb946-10" d__=""><a href="#cb946-10"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswalpha<span class="op" d__="">(</span><span class="ch" d__="">L'5'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// no</span></span>
<span id="cb946-11" d__=""><a href="#cb946-11"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswalpha<span class="op" d__="">(</span><span class="ch" d__="">L'?'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// no</span></span>
<span id="cb946-12"><a href="#cb946-12"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-270" d__="">See Also</h3>
<p d__=""><a href="#man-iswalnum"><code s__="13" d__="">iswalnum()</code></a>, <a href="#man-isalpha"><code s__="13" d__="">isalpha()</code></a></p>
<hr>
<h2 data-number="32.3" id="man-iswblank"><span class="header-section-number" d__="">32.3</span> <code d__="">iswblank()</code></h2>
<p></p>
<p d__="">Tests if this is a wide blank character</p>
<h3 class="unnumbered unlisted" id="synopsis-286" d__="">Synopsis</h3>
<div class="sourceCode" id="cb947"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb947-1"><a href="#cb947-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb947-2"><a href="#cb947-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb947-3" d__=""><a href="#cb947-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> iswblank<span class="op" d__="">(</span><span class="dt" d__="">wint_t</span> wc<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-286" d__="">Description</h3>
<p d__="">Blank characters are whitespace that are also used as word 
separators on the same line. In the “C” locale, the only blank 
characters are space and tab.</p>
<p d__="">Other locales might define other blank characters.</p>
<h3 class="unnumbered unlisted" id="return-value-284" d__="">Return Value</h3>
<p d__="">Returns true if this is a blank character.</p>
<h3 class="unnumbered unlisted" id="example-288" d__="">Example</h3>
<div class="sourceCode" id="cb948"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb948-1"><a href="#cb948-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb948-2"><a href="#cb948-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb948-3"><a href="#cb948-3"></a></span>
<span id="cb948-4" d__=""><a href="#cb948-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb948-5"><a href="#cb948-5"></a><span class="op" d__="">{</span></span>
<span id="cb948-6"><a href="#cb948-6"></a>    <span class="co" d__="">//                   testing this char</span></span>
<span id="cb948-7"><a href="#cb948-7"></a>    <span class="co" d__="">//                           v</span></span>
<span id="cb948-8" d__=""><a href="#cb948-8"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswblank<span class="op" d__="">(</span><span class="ch" d__="">L' '</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb948-9" d__=""><a href="#cb948-9"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswblank<span class="op" d__="">(</span><span class="ch" d__="">L'</span><span class="sc" d__="">\t</span><span class="ch" d__="">'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// yes</span></span>
<span id="cb948-10" d__=""><a href="#cb948-10"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswblank<span class="op" d__="">(</span><span class="ch" d__="">L'</span><span class="sc" d__="">\n</span><span class="ch" d__="">'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// no</span></span>
<span id="cb948-11" d__=""><a href="#cb948-11"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswblank<span class="op" d__="">(</span><span class="ch" d__="">L'a'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb948-12" d__=""><a href="#cb948-12"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswblank<span class="op" d__="">(</span><span class="ch" d__="">L'?'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb948-13"><a href="#cb948-13"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-271" d__="">See Also</h3>
<p d__=""><a href="#man-iswspace"><code s__="13" d__="">iswspace()</code></a>, <a href="#man-isblank"><code s__="13" d__="">isblank()</code></a></p>
<hr>
<h2 data-number="32.4" id="man-iswcntrl"><span class="header-section-number" d__="">32.4</span> <code d__="">iswcntrl()</code></h2>
<p></p>
<p d__="">Tests if this is a wide control character.</p>
<h3 class="unnumbered unlisted" id="synopsis-287" d__="">Synopsis</h3>
<div class="sourceCode" id="cb949"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb949-1"><a href="#cb949-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb949-2"><a href="#cb949-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb949-3" d__=""><a href="#cb949-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> iswcntrl<span class="op" d__="">(</span><span class="dt" d__="">wint_t</span> wc<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-287" d__="">Description</h3>
<p d__="">The spec is pretty barren, here. But I’m just going to assume that it works like the non-wide version. So let’s look at that.</p>
<p d__="">A <em>control character</em> is a locale-specific non-printing character.</p>
<p d__="">For the “C” locale, this means control characters are in the 
range 0x00 to 0x1F (the character right before SPACE) and 0x7F (the DEL 
character).</p>
<p d__="">Basically if it’s not an ASCII (or Unicode less than 128) printable character, it’s a control character in the “C” locale.</p>
<p d__="">Probably.</p>
<h3 class="unnumbered unlisted" id="return-value-285" d__="">Return Value</h3>
<p d__="">Returns true if this is a control character.</p>
<h3 class="unnumbered unlisted" id="example-289" d__="">Example</h3>
<div class="sourceCode" id="cb950"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb950-1"><a href="#cb950-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb950-2"><a href="#cb950-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb950-3"><a href="#cb950-3"></a></span>
<span id="cb950-4" d__=""><a href="#cb950-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb950-5"><a href="#cb950-5"></a><span class="op" d__="">{</span></span>
<span id="cb950-6"><a href="#cb950-6"></a>    <span class="co" d__="">//                   testing this char</span></span>
<span id="cb950-7"><a href="#cb950-7"></a>    <span class="co" d__="">//                           v</span></span>
<span id="cb950-8" d__=""><a href="#cb950-8"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswcntrl<span class="op" d__="">(</span><span class="ch" d__="">L'</span><span class="sc" d__="">\t</span><span class="ch" d__="">'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// yes (tab)</span></span>
<span id="cb950-9" d__=""><a href="#cb950-9"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswcntrl<span class="op" d__="">(</span><span class="ch" d__="">L'</span><span class="sc" d__="">\n</span><span class="ch" d__="">'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// yes (newline)</span></span>
<span id="cb950-10" d__=""><a href="#cb950-10"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswcntrl<span class="op" d__="">(</span><span class="ch" d__="">L'</span><span class="sc" d__="">\r</span><span class="ch" d__="">'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// yes (return)</span></span>
<span id="cb950-11" d__=""><a href="#cb950-11"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswcntrl<span class="op" d__="">(</span><span class="ch" d__="">L'</span><span class="sc" d__="">\a</span><span class="ch" d__="">'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// yes (bell)</span></span>
<span id="cb950-12" d__=""><a href="#cb950-12"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswcntrl<span class="op" d__="">(</span><span class="ch" d__="">L' '</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb950-13" d__=""><a href="#cb950-13"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswcntrl<span class="op" d__="">(</span><span class="ch" d__="">L'a'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb950-14" d__=""><a href="#cb950-14"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswcntrl<span class="op" d__="">(</span><span class="ch" d__="">L'?'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb950-15"><a href="#cb950-15"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-272" d__="">See Also</h3>
<p><a href="#man-iscntrl"><code s__="13" d__="">iscntrl()</code></a></p>
<hr>
<h2 data-number="32.5" id="man-iswdigit"><span class="header-section-number" d__="">32.5</span> <code d__="">iswdigit()</code></h2>
<p></p>
<p d__="">Test if this wide character is a digit</p>
<h3 class="unnumbered unlisted" id="synopsis-288" d__="">Synopsis</h3>
<div class="sourceCode" id="cb951"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb951-1"><a href="#cb951-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb951-2"><a href="#cb951-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb951-3" d__=""><a href="#cb951-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> iswdigit<span class="op" d__="">(</span><span class="dt" d__="">wint_t</span> wc<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-288" d__="">Description</h3>
<p d__="">Tests if the wide character is a digit (<code s__="13">0</code>-<code s__="13">9</code>).</p>
<h3 class="unnumbered unlisted" id="return-value-286" d__="">Return Value</h3>
<p d__="">Returns true if the character is a digit.</p>
<h3 class="unnumbered unlisted" id="example-290" d__="">Example</h3>
<div class="sourceCode" id="cb952"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb952-1"><a href="#cb952-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb952-2"><a href="#cb952-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb952-3"><a href="#cb952-3"></a></span>
<span id="cb952-4" d__=""><a href="#cb952-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb952-5"><a href="#cb952-5"></a><span class="op" d__="">{</span></span>
<span id="cb952-6"><a href="#cb952-6"></a>    <span class="co" d__="">//                   testing this char</span></span>
<span id="cb952-7"><a href="#cb952-7"></a>    <span class="co" d__="">//                           v</span></span>
<span id="cb952-8" d__=""><a href="#cb952-8"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswdigit<span class="op" d__="">(</span><span class="ch" d__="">L'0'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb952-9" d__=""><a href="#cb952-9"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswdigit<span class="op" d__="">(</span><span class="ch" d__="">L'5'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb952-10" d__=""><a href="#cb952-10"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswdigit<span class="op" d__="">(</span><span class="ch" d__="">L'a'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb952-11" d__=""><a href="#cb952-11"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswdigit<span class="op" d__="">(</span><span class="ch" d__="">L'B'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb952-12" d__=""><a href="#cb952-12"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswdigit<span class="op" d__="">(</span><span class="ch" d__="">L'?'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb952-13"><a href="#cb952-13"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-273" d__="">See Also</h3>
<p d__=""><a href="#man-iswalnum"><code s__="13" d__="">iswalnum()</code></a>, <a href="#man-isdigit"><code s__="13" d__="">isdigit()</code></a></p>
<hr>
<h2 data-number="32.6" id="man-iswgraph"><span class="header-section-number" d__="">32.6</span> <code d__="">iswgraph()</code></h2>
<p></p>
<p d__="">Test to see if a wide character is a printable non-space</p>
<h3 class="unnumbered unlisted" id="synopsis-289" d__="">Synopsis</h3>
<div class="sourceCode" id="cb953"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb953-1"><a href="#cb953-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb953-2"><a href="#cb953-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb953-3" d__=""><a href="#cb953-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> iswgraph<span class="op" d__="">(</span><span class="dt" d__="">wint_t</span> wc<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-289" d__="">Description</h3>
<p d__="">Returns true if this is a printable (non-control) character and also not a whitespace character.</p>
<p d__="">Basically if <code s__="13">iswprint()</code> is true and <code s__="13">iswspace()</code> is false.</p>
<h3 class="unnumbered unlisted" id="return-value-287" d__="">Return Value</h3>
<p d__="">Returns true if this is a printable non-space character.</p>
<h3 class="unnumbered unlisted" id="example-291" d__="">Example</h3>
<div class="sourceCode" id="cb954"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb954-1"><a href="#cb954-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb954-2"><a href="#cb954-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb954-3"><a href="#cb954-3"></a></span>
<span id="cb954-4" d__=""><a href="#cb954-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb954-5"><a href="#cb954-5"></a><span class="op" d__="">{</span></span>
<span id="cb954-6"><a href="#cb954-6"></a>    <span class="co" d__="">//                   testing this char</span></span>
<span id="cb954-7"><a href="#cb954-7"></a>    <span class="co" d__="">//                           v</span></span>
<span id="cb954-8" d__=""><a href="#cb954-8"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswgraph<span class="op" d__="">(</span><span class="ch" d__="">L'0'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb954-9" d__=""><a href="#cb954-9"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswgraph<span class="op" d__="">(</span><span class="ch" d__="">L'a'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb954-10" d__=""><a href="#cb954-10"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswgraph<span class="op" d__="">(</span><span class="ch" d__="">L'B'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb954-11" d__=""><a href="#cb954-11"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswgraph<span class="op" d__="">(</span><span class="ch" d__="">L'?'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb954-12" d__=""><a href="#cb954-12"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswgraph<span class="op" d__="">(</span><span class="ch" d__="">L' '</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb954-13" d__=""><a href="#cb954-13"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswgraph<span class="op" d__="">(</span><span class="ch" d__="">L'</span><span class="sc" d__="">\n</span><span class="ch" d__="">'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// no</span></span>
<span id="cb954-14"><a href="#cb954-14"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-274" d__="">See Also</h3>
<p d__=""><a href="#man-iswprint"><code s__="13" d__="">iswprint()</code></a>, <a href="#man-iswspace"><code s__="13" d__="">iswspace()</code></a>, <a href="#man-isgraph"><code s__="13" d__="">isgraph()</code></a></p>
<hr>
<h2 data-number="32.7" id="man-iswlower"><span class="header-section-number" d__="">32.7</span> <code d__="">iswlower()</code></h2>
<p></p>
<p d__="">Tests if a wide character is lowercase</p>
<h3 class="unnumbered unlisted" id="synopsis-290" d__="">Synopsis</h3>
<div class="sourceCode" id="cb955"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb955-1"><a href="#cb955-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb955-2"><a href="#cb955-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb955-3" d__=""><a href="#cb955-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> iswlower<span class="op" d__="">(</span><span class="dt" d__="">wint_t</span> wc<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-290" d__="">Description</h3>
<p d__="">Tests if a character is lowercase, in the range <code s__="13">a</code>-<code s__="13">z</code>.</p>
<p d__="">In other locales, there could be other lowercase characters. In all cases, to be lowercase, the following must be true:</p>
<div class="sourceCode" id="cb956"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb956-1" d__=""><a href="#cb956-1" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">!</span>iswcntrl<span class="op" d__="">(</span>c<span class="op" d__="">)</span> <span class="op" d__="">&amp;&amp;</span> <span class="op" d__="">!</span>iswdigit<span class="op" d__="">(</span>c<span class="op" d__="">)</span> <span class="op" d__="">&amp;&amp;</span> <span class="op" d__="">!</span>iswpunct<span class="op" d__="">(</span>c<span class="op" d__="">)</span> <span class="op" d__="">&amp;&amp;</span> <span class="op" d__="">!</span>iswspace<span class="op" d__="">(</span>c<span class="op" d__="">)</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="return-value-288" d__="">Return Value</h3>
<p d__="">Returns true if the wide character is lowercase.</p>
<h3 class="unnumbered unlisted" id="example-292" d__="">Example</h3>
<div class="sourceCode" id="cb957"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb957-1"><a href="#cb957-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb957-2"><a href="#cb957-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb957-3"><a href="#cb957-3"></a></span>
<span id="cb957-4" d__=""><a href="#cb957-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb957-5"><a href="#cb957-5"></a><span class="op" d__="">{</span></span>
<span id="cb957-6"><a href="#cb957-6"></a>    <span class="co" d__="">//                   testing this char</span></span>
<span id="cb957-7"><a href="#cb957-7"></a>    <span class="co" d__="">//                           v</span></span>
<span id="cb957-8" d__=""><a href="#cb957-8"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswlower<span class="op" d__="">(</span><span class="ch" d__="">L'c'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb957-9" d__=""><a href="#cb957-9"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswlower<span class="op" d__="">(</span><span class="ch" d__="">L'0'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb957-10" d__=""><a href="#cb957-10"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswlower<span class="op" d__="">(</span><span class="ch" d__="">L'B'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb957-11" d__=""><a href="#cb957-11"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswlower<span class="op" d__="">(</span><span class="ch" d__="">L'?'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb957-12" d__=""><a href="#cb957-12"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswlower<span class="op" d__="">(</span><span class="ch" d__="">L' '</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb957-13"><a href="#cb957-13"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-275" d__="">See Also</h3>
<p d__=""><a href="#man-islower"><code s__="13" d__="">islower()</code></a>, <a href="#man-isupper"><code s__="13" d__="">iswupper()</code></a>, <a href="#man-isalpha"><code s__="13" d__="">iswalpha()</code></a>, <a href="#man-toupper"><code s__="13" d__="">towupper()</code></a>, <a href="#man-tolower"><code s__="13" d__="">towlower()</code></a></p>
<hr>
<h2 data-number="32.8" id="man-iswprint"><span class="header-section-number" d__="">32.8</span> <code d__="">iswprint()</code></h2>
<p></p>
<p d__="">Tests if a wide character is printable</p>
<h3 class="unnumbered unlisted" id="synopsis-291" d__="">Synopsis</h3>
<div class="sourceCode" id="cb958"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb958-1"><a href="#cb958-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb958-2"><a href="#cb958-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb958-3" d__=""><a href="#cb958-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> iswprint<span class="op" d__="">(</span><span class="dt" d__="">wint_t</span> wc<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-291" d__="">Description</h3>
<p d__="">Tests if a wide character is printable, including space (<code s__="13">' '</code>). So like <code s__="13">isgraph()</code>, except space isn’t left out in the cold.</p>
<h3 class="unnumbered unlisted" id="return-value-289" d__="">Return Value</h3>
<p d__="">Returns true if the wide character is printable, including space (<code s__="13">' '</code>).</p>
<h3 class="unnumbered unlisted" id="example-293" d__="">Example</h3>
<div class="sourceCode" id="cb959"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb959-1"><a href="#cb959-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb959-2"><a href="#cb959-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb959-3"><a href="#cb959-3"></a></span>
<span id="cb959-4" d__=""><a href="#cb959-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb959-5"><a href="#cb959-5"></a><span class="op" d__="">{</span></span>
<span id="cb959-6"><a href="#cb959-6"></a>    <span class="co" d__="">//                   testing this char</span></span>
<span id="cb959-7"><a href="#cb959-7"></a>    <span class="co" d__="">//                           v</span></span>
<span id="cb959-8" d__=""><a href="#cb959-8"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswprint<span class="op" d__="">(</span><span class="ch" d__="">L'c'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb959-9" d__=""><a href="#cb959-9"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswprint<span class="op" d__="">(</span><span class="ch" d__="">L'0'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb959-10" d__=""><a href="#cb959-10"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswprint<span class="op" d__="">(</span><span class="ch" d__="">L' '</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb959-11" d__=""><a href="#cb959-11"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswprint<span class="op" d__="">(</span><span class="ch" d__="">L'</span><span class="sc" d__="">\r</span><span class="ch" d__="">'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// no</span></span>
<span id="cb959-12"><a href="#cb959-12"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-276" d__="">See Also</h3>
<p d__=""><a href="#man-isprint"><code s__="13" d__="">isprint()</code></a>, <a href="#man-iswgraph"><code s__="13" d__="">iswgraph()</code></a>, <a href="#man-iswcntrl"><code s__="13" d__="">iswcntrl()</code></a></p>
<hr>
<h2 data-number="32.9" id="man-iswpunct"><span class="header-section-number" d__="">32.9</span> <code d__="">iswpunct()</code></h2>
<p></p>
<p d__="">Test if a wide character is punctuation</p>
<h3 class="unnumbered unlisted" id="synopsis-292" d__="">Synopsis</h3>
<div class="sourceCode" id="cb960"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb960-1"><a href="#cb960-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb960-2"><a href="#cb960-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb960-3" d__=""><a href="#cb960-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> iswpunct<span class="op" d__="">(</span><span class="dt" d__="">wint_t</span> wc<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-292" d__="">Description</h3>
<p d__="">Tests if a wide character is punctuation.</p>
<p d__="">This means for any given locale:</p>
<div class="sourceCode" id="cb961"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb961-1" d__=""><a href="#cb961-1" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">!</span>isspace<span class="op" d__="">(</span>c<span class="op" d__="">)</span> <span class="op" d__="">&amp;&amp;</span> <span class="op" d__="">!</span>isalnum<span class="op" d__="">(</span>c<span class="op" d__="">)</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="return-value-290" d__="">Return Value</h3>
<p d__="">True if the wide character is punctuation.</p>
<h3 class="unnumbered unlisted" id="example-294" d__="">Example</h3>
<p d__="">Results may vary based on locale.</p>
<div class="sourceCode" id="cb962"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb962-1"><a href="#cb962-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb962-2"><a href="#cb962-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb962-3"><a href="#cb962-3"></a></span>
<span id="cb962-4" d__=""><a href="#cb962-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb962-5"><a href="#cb962-5"></a><span class="op" d__="">{</span></span>
<span id="cb962-6"><a href="#cb962-6"></a>    <span class="co" d__="">//                   testing this char</span></span>
<span id="cb962-7"><a href="#cb962-7"></a>    <span class="co" d__="">//                           v</span></span>
<span id="cb962-8" d__=""><a href="#cb962-8"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswpunct<span class="op" d__="">(</span><span class="ch" d__="">L','</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb962-9" d__=""><a href="#cb962-9"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswpunct<span class="op" d__="">(</span><span class="ch" d__="">L'!'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb962-10" d__=""><a href="#cb962-10"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswpunct<span class="op" d__="">(</span><span class="ch" d__="">L'c'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb962-11" d__=""><a href="#cb962-11"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswpunct<span class="op" d__="">(</span><span class="ch" d__="">L'0'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb962-12" d__=""><a href="#cb962-12"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswpunct<span class="op" d__="">(</span><span class="ch" d__="">L' '</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb962-13" d__=""><a href="#cb962-13"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswpunct<span class="op" d__="">(</span><span class="ch" d__="">L'</span><span class="sc" d__="">\n</span><span class="ch" d__="">'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// no</span></span>
<span id="cb962-14"><a href="#cb962-14"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-277" d__="">See Also</h3>
<p d__=""><a href="#man-ispunct"><code s__="13" d__="">ispunct()</code></a>, <a href="#man-iswspace"><code s__="13" d__="">iswspace()</code></a>, <a href="#man-iswalnum"><code s__="13" d__="">iswalnum()</code></a></p>
<hr>
<h2 data-number="32.10" id="man-iswspace"><span class="header-section-number" d__="">32.10</span> <code d__="">iswspace()</code></h2>
<p></p>
<p d__="">Test if a wide character is whitespace</p>
<h3 class="unnumbered unlisted" id="synopsis-293" d__="">Synopsis</h3>
<div class="sourceCode" id="cb963"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb963-1"><a href="#cb963-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb963-2"><a href="#cb963-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb963-3" d__=""><a href="#cb963-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> iswspace<span class="op" d__="">(</span><span class="dt" d__="">wint_t</span> wc<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-293" d__="">Description</h3>
<p d__="">Tests if <code s__="13">c</code> is a whitespace character. These are probably:</p>
<ul>
<li d__="">Space (<code s__="13">' '</code>)</li>
<li d__="">Formfeed (<code s__="13">'\f'</code>)</li>
<li d__="">Newline (<code s__="13">'\n'</code>)</li>
<li d__="">Carriage Return (<code s__="13">'\r'</code>)</li>
<li d__="">Horizontal Tab (<code s__="13">'\t'</code>)</li>
<li d__="">Vertical Tab (<code s__="13">'\v'</code>)</li>
</ul>
<p d__="">Other locales might specify other whitespace characters. <code s__="13">iswalnum()</code>, <code s__="13">iswgraph()</code>, and <code s__="13">iswpunct()</code> are all false for all whitespace characters.</p>
<h3 class="unnumbered unlisted" id="return-value-291" d__="">Return Value</h3>
<p d__="">True if the character is whitespace.</p>
<h3 class="unnumbered unlisted" id="example-295" d__="">Example</h3>
<p d__="">Results may vary based on locale.</p>
<div class="sourceCode" id="cb964"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb964-1"><a href="#cb964-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb964-2"><a href="#cb964-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb964-3"><a href="#cb964-3"></a></span>
<span id="cb964-4" d__=""><a href="#cb964-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb964-5"><a href="#cb964-5"></a><span class="op" d__="">{</span></span>
<span id="cb964-6"><a href="#cb964-6"></a>    <span class="co" d__="">//                   testing this char</span></span>
<span id="cb964-7"><a href="#cb964-7"></a>    <span class="co" d__="">//                           v</span></span>
<span id="cb964-8" d__=""><a href="#cb964-8"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswspace<span class="op" d__="">(</span><span class="ch" d__="">L' '</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb964-9" d__=""><a href="#cb964-9"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswspace<span class="op" d__="">(</span><span class="ch" d__="">L'</span><span class="sc" d__="">\n</span><span class="ch" d__="">'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// yes</span></span>
<span id="cb964-10" d__=""><a href="#cb964-10"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswspace<span class="op" d__="">(</span><span class="ch" d__="">L'</span><span class="sc" d__="">\t</span><span class="ch" d__="">'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>  <span class="co" d__="">// yes</span></span>
<span id="cb964-11" d__=""><a href="#cb964-11"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswspace<span class="op" d__="">(</span><span class="ch" d__="">L','</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb964-12" d__=""><a href="#cb964-12"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswspace<span class="op" d__="">(</span><span class="ch" d__="">L'!'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb964-13" d__=""><a href="#cb964-13"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswspace<span class="op" d__="">(</span><span class="ch" d__="">L'c'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb964-14"><a href="#cb964-14"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-278" d__="">See Also</h3>
<p d__=""><a href="#man-isspace"><code s__="13" d__="">isspace()</code></a>, <a href="#man-iswblank"><code s__="13" d__="">iswblank()</code></a></p>
<hr>
<h2 data-number="32.11" id="man-iswupper"><span class="header-section-number" d__="">32.11</span> <code d__="">iswupper()</code></h2>
<p></p>
<p d__="">Tests if a wide character is uppercase</p>
<h3 class="unnumbered unlisted" id="synopsis-294" d__="">Synopsis</h3>
<div class="sourceCode" id="cb965"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb965-1"><a href="#cb965-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb965-2"><a href="#cb965-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb965-3" d__=""><a href="#cb965-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> iswupper<span class="op" d__="">(</span><span class="dt" d__="">wint_t</span> wc<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-294" d__="">Description</h3>
<p d__="">Tests if a character is uppercase in the current locale.</p>
<p d__="">To be uppercase, the following must be true:</p>
<div class="sourceCode" id="cb966"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb966-1" d__=""><a href="#cb966-1" aria-hidden="true" tabindex="-1"></a><span class="op" d__="">!</span>iscntrl<span class="op" d__="">(</span>c<span class="op" d__="">)</span> <span class="op" d__="">&amp;&amp;</span> <span class="op" d__="">!</span>isdigit<span class="op" d__="">(</span>c<span class="op" d__="">)</span> <span class="op" d__="">&amp;&amp;</span> <span class="op" d__="">!</span>ispunct<span class="op" d__="">(</span>c<span class="op" d__="">)</span> <span class="op" d__="">&amp;&amp;</span> <span class="op" d__="">!</span>isspace<span class="op" d__="">(</span>c<span class="op" d__="">)</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="return-value-292" d__="">Return Value</h3>
<p d__="">Returns true if the wide character is uppercase.</p>
<h3 class="unnumbered unlisted" id="example-296" d__="">Example</h3>
<div class="sourceCode" id="cb967"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb967-1"><a href="#cb967-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb967-2"><a href="#cb967-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb967-3"><a href="#cb967-3"></a></span>
<span id="cb967-4" d__=""><a href="#cb967-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb967-5"><a href="#cb967-5"></a><span class="op" d__="">{</span></span>
<span id="cb967-6"><a href="#cb967-6"></a>    <span class="co" d__="">//                   testing this char</span></span>
<span id="cb967-7"><a href="#cb967-7"></a>    <span class="co" d__="">//                           v</span></span>
<span id="cb967-8" d__=""><a href="#cb967-8"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswupper<span class="op" d__="">(</span><span class="ch" d__="">L'B'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb967-9" d__=""><a href="#cb967-9"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswupper<span class="op" d__="">(</span><span class="ch" d__="">L'c'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb967-10" d__=""><a href="#cb967-10"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswupper<span class="op" d__="">(</span><span class="ch" d__="">L'0'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb967-11" d__=""><a href="#cb967-11"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswupper<span class="op" d__="">(</span><span class="ch" d__="">L'?'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb967-12" d__=""><a href="#cb967-12"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswupper<span class="op" d__="">(</span><span class="ch" d__="">L' '</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb967-13"><a href="#cb967-13"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-279" d__="">See Also</h3>
<p d__=""><a href="#man-isupper"><code s__="13" d__="">isupper()</code></a>, <a href="#man-iswlower"><code s__="13" d__="">iswlower()</code></a>, <a href="#man-iswalpha"><code s__="13" d__="">iswalpha()</code></a>, <a href="#man-towupper"><code s__="13" d__="">towupper()</code></a>, <a href="#man-towlower"><code s__="13" d__="">towlower()</code></a></p>
<hr>
<h2 data-number="32.12" id="man-iswxdigit"><span class="header-section-number" d__="">32.12</span> <code d__="">iswxdigit()</code></h2>
<p></p>
<p d__="">Tests if a wide character is a hexadecimal digit</p>
<h3 class="unnumbered unlisted" id="synopsis-295" d__="">Synopsis</h3>
<div class="sourceCode" id="cb968"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb968-1"><a href="#cb968-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb968-2"><a href="#cb968-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb968-3" d__=""><a href="#cb968-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> iswxdigit<span class="op" d__="">(</span><span class="dt" d__="">wint_t</span> wc<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-295" d__="">Description</h3>
<p d__="">Returns true if the wide character is a hexadecimal digit. Namely if it’s <code s__="13">0</code>-<code s__="13">9</code>, <code s__="13">a</code>-<code s__="13">f</code>, or <code s__="13">A</code>-<code s__="13">F</code>.</p>
<h3 class="unnumbered unlisted" id="return-value-293" d__="">Return Value</h3>
<p d__="">True if the character is a hexadecimal digit.</p>
<h3 class="unnumbered unlisted" id="example-297" d__="">Example</h3>
<div class="sourceCode" id="cb969"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb969-1"><a href="#cb969-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb969-2"><a href="#cb969-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb969-3"><a href="#cb969-3"></a></span>
<span id="cb969-4" d__=""><a href="#cb969-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb969-5"><a href="#cb969-5"></a><span class="op" d__="">{</span></span>
<span id="cb969-6"><a href="#cb969-6"></a>    <span class="co" d__="">//                    testing this char</span></span>
<span id="cb969-7"><a href="#cb969-7"></a>    <span class="co" d__="">//                            v</span></span>
<span id="cb969-8" d__=""><a href="#cb969-8"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswxdigit<span class="op" d__="">(</span><span class="ch" d__="">L'B'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb969-9" d__=""><a href="#cb969-9"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswxdigit<span class="op" d__="">(</span><span class="ch" d__="">L'c'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb969-10" d__=""><a href="#cb969-10"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswxdigit<span class="op" d__="">(</span><span class="ch" d__="">L'2'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// yes</span></span>
<span id="cb969-11" d__=""><a href="#cb969-11"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswxdigit<span class="op" d__="">(</span><span class="ch" d__="">L'G'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb969-12" d__=""><a href="#cb969-12"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%ls\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> iswxdigit<span class="op" d__="">(</span><span class="ch" d__="">L'?'</span><span class="op" d__="">)?</span> <span class="st" d__="">L"yes"</span><span class="op" d__="">:</span> <span class="st" d__="">L"no"</span><span class="op" d__="">);</span>   <span class="co" d__="">// no</span></span>
<span id="cb969-13"><a href="#cb969-13"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-280" d__="">See Also</h3>
<p d__=""><a href="#man-isxdigit"><code s__="13" d__="">isxdigit()</code></a>, <a href="#man-iswdigit"><code s__="13" d__="">iswdigit()</code></a></p>
<hr>
<h2 data-number="32.13" id="man-iswctype"><span class="header-section-number" d__="">32.13</span> <code d__="">iswctype()</code></h2>
<p></p>
<p d__="">Determine wide character classification</p>
<h3 class="unnumbered unlisted" id="synopsis-296" d__="">Synopsis</h3>
<div class="sourceCode" id="cb970"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb970-1"><a href="#cb970-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb970-2"><a href="#cb970-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb970-3" d__=""><a href="#cb970-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">int</span> iswctype<span class="op" d__="">(</span><span class="dt" d__="">wint_t</span> wc<span class="op" d__="">,</span> wctype_t desc<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-296" d__="">Description</h3>
<p d__="">This is the Swiss Army knife of classification functions; it’s all the other ones rolled into one.</p>
<p d__="">You call it with something like this:</p>
<div class="sourceCode" id="cb971"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb971-1" d__=""><a href="#cb971-1" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">if</span> <span class="op" d__="">(</span>iswctype<span class="op" d__="">(</span>c<span class="op" d__="">,</span> wctype<span class="op" d__="">(</span><span class="st" d__="">"digit"</span><span class="op" d__="">)))</span>  <span class="co" d__="">// or "alpha" or "space" or...</span></span></code></pre></div>
<p d__="">and it behaves just like you’d called:</p>
<div class="sourceCode" id="cb972"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb972-1" d__=""><a href="#cb972-1" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">if</span> <span class="op" d__="">(</span>iswdigit<span class="op" d__="">(</span>c<span class="op" d__="">))</span></span></code></pre></div>
<p d__="">The difference is that you can specify the type of matching you want to do as a string at runtime, which might be convenient.</p>
<p d__=""><code s__="13">iswctype()</code> relies on the return value from the <a href="#man-wctype"><code s__="13" d__="">wctype()</code></a> call to get its work done.</p>
<p d__="">Stolen from the spec, here are the <code s__="13">iswctype()</code> calls and their equivalents:</p>
<table>
<thead>
<tr class="header">
<th d__=""><code s__="13">iswctype()</code> call</th>
<th d__="">Hard-coded equivalent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">iswctype(c, wctype("alnum"))</code></td>
<td><code s__="13" d__="">iswalnum(c)</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">iswctype(c, wctype("alpha"))</code></td>
<td><code s__="13" d__="">iswalpha(c)</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">iswctype(c, wctype("blank"))</code></td>
<td><code s__="13" d__="">iswblank(c)</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">iswctype(c, wctype("cntrl"))</code></td>
<td><code s__="13" d__="">iswcntrl(c)</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">iswctype(c, wctype("digit"))</code></td>
<td><code s__="13" d__="">iswdigit(c)</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">iswctype(c, wctype("graph"))</code></td>
<td><code s__="13" d__="">iswgraph(c)</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">iswctype(c, wctype("lower"))</code></td>
<td><code s__="13" d__="">iswlower(c)</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">iswctype(c, wctype("print"))</code></td>
<td><code s__="13" d__="">iswprint(c)</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">iswctype(c, wctype("punct"))</code></td>
<td><code s__="13" d__="">iswpunct(c)</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">iswctype(c, wctype("space"))</code></td>
<td><code s__="13" d__="">iswspace(c)</code></td>
</tr>
<tr class="odd">
<td><code s__="13" d__="">iswctype(c, wctype("upper"))</code></td>
<td><code s__="13" d__="">iswupper(c)</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">iswctype(c, wctype("xdigit"))</code></td>
<td><code s__="13" d__="">iswxdigit(c)</code></td>
</tr>
</tbody>
</table>
<p d__="">See the <a href="#man-wctype" d__=""><code s__="13">wctype()</code> documentation</a> for how that helper function works.</p>
<h3 class="unnumbered unlisted" id="return-value-294" d__="">Return Value</h3>
<p d__="">Returns true if the wide character <code s__="13">wc</code> matches the character class in <code s__="13">desc</code>.</p>
<h3 class="unnumbered unlisted" id="example-298" d__="">Example</h3>
<p d__="">Test for a given character classification at when the classification isn’t known at compile time:</p>
<div class="sourceCode" id="cb973"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb973-1"><a href="#cb973-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span><span class="pp">  </span><span class="co" d__="">// for fflush(stdout)</span></span>
<span id="cb973-2"><a href="#cb973-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb973-3"><a href="#cb973-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb973-4"><a href="#cb973-4"></a></span>
<span id="cb973-5" d__=""><a href="#cb973-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb973-6"><a href="#cb973-6"></a><span class="op" d__="">{</span></span>
<span id="cb973-7" d__=""><a href="#cb973-7"></a>    <span class="dt" d__="">wchar_t</span> c<span class="op" d__="">;</span>        <span class="co" d__="">// Holds a single wide character (to test)</span></span>
<span id="cb973-8" d__=""><a href="#cb973-8"></a>    <span class="dt" d__="">char</span> desc<span class="op" d__="">[</span><span class="dv" d__="">128</span><span class="op" d__="">];</span>   <span class="co" d__="">// Holds the character class</span></span>
<span id="cb973-9"><a href="#cb973-9"></a></span>
<span id="cb973-10"><a href="#cb973-10"></a>    <span class="co" d__="">// Get the character and classification from the user</span></span>
<span id="cb973-11" d__=""><a href="#cb973-11"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Enter a character and character class: "</span><span class="op" d__="">);</span></span>
<span id="cb973-12" d__=""><a href="#cb973-12"></a>    fflush<span class="op" d__="">(</span>stdout<span class="op" d__="">);</span></span>
<span id="cb973-13" d__=""><a href="#cb973-13"></a>    wscanf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%lc</span><span class="st"> </span><span class="sc" d__="">%s</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>c<span class="op" d__="">,</span> desc<span class="op" d__="">);</span></span>
<span id="cb973-14"><a href="#cb973-14"></a></span>
<span id="cb973-15"><a href="#cb973-15"></a>    <span class="co" d__="">// Compute the type from the given class</span></span>
<span id="cb973-16" d__=""><a href="#cb973-16"></a>    wctype_t t <span class="op" d__="">=</span> wctype<span class="op" d__="">(</span>desc<span class="op" d__="">);</span></span>
<span id="cb973-17"><a href="#cb973-17"></a></span>
<span id="cb973-18" d__=""><a href="#cb973-18"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>t <span class="op" d__="">==</span> <span class="dv" d__="">0</span><span class="op" d__="">)</span></span>
<span id="cb973-19"><a href="#cb973-19"></a>        <span class="co" d__="">// If the type is 0, it's an unknown class</span></span>
<span id="cb973-20" d__=""><a href="#cb973-20"></a>        wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Unknown character class: </span><span class="sc" d__="">\"%s\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> desc<span class="op" d__="">);</span></span>
<span id="cb973-21"><a href="#cb973-21"></a>    <span class="cf" d__="">else</span> <span class="op" d__="">{</span></span>
<span id="cb973-22"><a href="#cb973-22"></a>        <span class="co" d__="">// Otherwise, let's test the character and see if its that</span></span>
<span id="cb973-23"><a href="#cb973-23"></a>        <span class="co" d__="">// classification</span></span>
<span id="cb973-24" d__=""><a href="#cb973-24"></a>        <span class="cf" d__="">if</span> <span class="op" d__="">(</span>iswctype<span class="op" d__="">(</span>c<span class="op" d__="">,</span> t<span class="op" d__="">))</span></span>
<span id="cb973-25" d__=""><a href="#cb973-25"></a>            wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Yes! '</span><span class="sc" d__="">%lc</span><span class="st" d__="">' is </span><span class="sc" d__="">%s</span><span class="st" d__="">!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> c<span class="op" d__="">,</span> desc<span class="op" d__="">);</span></span>
<span id="cb973-26"><a href="#cb973-26"></a>        <span class="cf" d__="">else</span></span>
<span id="cb973-27" d__=""><a href="#cb973-27"></a>            wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Nope! '</span><span class="sc" d__="">%lc</span><span class="st" d__="">' is not </span><span class="sc" d__="">%s</span><span class="st" d__="">.</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> c<span class="op" d__="">,</span> desc<span class="op" d__="">);</span></span>
<span id="cb973-28"><a href="#cb973-28"></a>    <span class="op" d__="">}</span></span>
<span id="cb973-29"><a href="#cb973-29"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb974"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb974-1" d__=""><a href="#cb974-1" aria-hidden="true" tabindex="-1"></a>Enter a character and character class: 5 digit</span>
<span id="cb974-2" d__=""><a href="#cb974-2" aria-hidden="true" tabindex="-1"></a>Yes! '5' is digit!</span>
<span id="cb974-3"><a href="#cb974-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb974-4" d__=""><a href="#cb974-4" aria-hidden="true" tabindex="-1"></a>Enter a character and character class: b digit</span>
<span id="cb974-5" d__=""><a href="#cb974-5" aria-hidden="true" tabindex="-1"></a>Nope! 'b' is not digit.</span>
<span id="cb974-6"><a href="#cb974-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb974-7" d__=""><a href="#cb974-7" aria-hidden="true" tabindex="-1"></a>Enter a character and character class: x alnum</span>
<span id="cb974-8" d__=""><a href="#cb974-8" aria-hidden="true" tabindex="-1"></a>Yes! 'x' is alnum!</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-281" d__="">See Also</h3>
<p><a href="#man-wctype"><code s__="13" d__="">wctype()</code></a></p>
<hr>
<h2 data-number="32.14" id="man-wctype"><span class="header-section-number" d__="">32.14</span> <code d__="">wctype()</code></h2>
<p></p>
<p d__="">Helper function for <code s__="13">iswctype()</code></p>
<h3 class="unnumbered unlisted" id="synopsis-297" d__="">Synopsis</h3>
<div class="sourceCode" id="cb975"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb975-1"><a href="#cb975-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb975-2"><a href="#cb975-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb975-3" d__=""><a href="#cb975-3" aria-hidden="true" tabindex="-1"></a>wctype_t wctype<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>property<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-297" d__="">Description</h3>
<p d__="">This function returns an opaque value for the given <code s__="13">property</code> that is meant to be passed as the second argument to <a href="#man-iswctype"><code s__="13" d__="">iswctype()</code></a>.</p>
<p d__="">The returned value is of type <code s__="13">wctype_t</code>.</p>
<p d__="">Valid properties in all locales are:</p>
<div class="sourceCode" id="cb976"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb976-1"><a href="#cb976-1" aria-hidden="true" tabindex="-1"></a><span class="st" d__="">"alnum"</span>   <span class="st" d__="">"alpha"</span>   <span class="st" d__="">"blank"</span>   <span class="st" d__="">"cntrl"</span></span>
<span id="cb976-2"><a href="#cb976-2" aria-hidden="true" tabindex="-1"></a><span class="st" d__="">"digit"</span>   <span class="st" d__="">"graph"</span>   <span class="st" d__="">"lower"</span>   <span class="st" d__="">"print"</span></span>
<span id="cb976-3"><a href="#cb976-3" aria-hidden="true" tabindex="-1"></a><span class="st" d__="">"punct"</span>   <span class="st" d__="">"space"</span>   <span class="st" d__="">"upper"</span>   <span class="st" d__="">"xdigit"</span></span></code></pre></div>
<p d__="">Other properties might be defined as determined by the <code s__="13">LC_CTYPE</code> category of the current locale.</p>
<p d__="">See the <a href="#man-iswctype" d__=""><code s__="13">iswctype()</code> reference page</a> for more usage details.</p>
<h3 class="unnumbered unlisted" id="return-value-295" d__="">Return Value</h3>
<p d__="">Returns the <code s__="13">wctype_t</code> value associated with the given <code s__="13">property</code>.</p>
<p d__="">If an invalid value is passed for <code s__="13">property</code>, returns <code s__="13">0</code>.</p>
<h3 class="unnumbered unlisted" id="example-299" d__="">Example</h3>
<p d__="">Test for a given character classification at when the classification isn’t known at compile time:</p>
<div class="sourceCode" id="cb977"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb977-1"><a href="#cb977-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span><span class="pp">  </span><span class="co" d__="">// for fflush(stdout)</span></span>
<span id="cb977-2"><a href="#cb977-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb977-3"><a href="#cb977-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb977-4"><a href="#cb977-4"></a></span>
<span id="cb977-5" d__=""><a href="#cb977-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb977-6"><a href="#cb977-6"></a><span class="op" d__="">{</span></span>
<span id="cb977-7" d__=""><a href="#cb977-7"></a>    <span class="dt" d__="">wchar_t</span> c<span class="op" d__="">;</span>        <span class="co" d__="">// Holds a single wide character (to test)</span></span>
<span id="cb977-8" d__=""><a href="#cb977-8"></a>    <span class="dt" d__="">char</span> desc<span class="op" d__="">[</span><span class="dv" d__="">128</span><span class="op" d__="">];</span>   <span class="co" d__="">// Holds the character class</span></span>
<span id="cb977-9"><a href="#cb977-9"></a></span>
<span id="cb977-10"><a href="#cb977-10"></a>    <span class="co" d__="">// Get the character and classification from the user</span></span>
<span id="cb977-11" d__=""><a href="#cb977-11"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Enter a character and character class: "</span><span class="op" d__="">);</span></span>
<span id="cb977-12" d__=""><a href="#cb977-12"></a>    fflush<span class="op" d__="">(</span>stdout<span class="op" d__="">);</span></span>
<span id="cb977-13" d__=""><a href="#cb977-13"></a>    wscanf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%lc</span><span class="st"> </span><span class="sc" d__="">%s</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>c<span class="op" d__="">,</span> desc<span class="op" d__="">);</span></span>
<span id="cb977-14"><a href="#cb977-14"></a></span>
<span id="cb977-15"><a href="#cb977-15"></a>    <span class="co" d__="">// Compute the type from the given class</span></span>
<span id="cb977-16" d__=""><a href="#cb977-16"></a>    wctype_t t <span class="op" d__="">=</span> wctype<span class="op" d__="">(</span>desc<span class="op" d__="">);</span></span>
<span id="cb977-17"><a href="#cb977-17"></a></span>
<span id="cb977-18" d__=""><a href="#cb977-18"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>t <span class="op" d__="">==</span> <span class="dv" d__="">0</span><span class="op" d__="">)</span></span>
<span id="cb977-19"><a href="#cb977-19"></a>        <span class="co" d__="">// If the type is 0, it's an unknown class</span></span>
<span id="cb977-20" d__=""><a href="#cb977-20"></a>        wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Unknown character class: </span><span class="sc" d__="">\"%s\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> desc<span class="op" d__="">);</span></span>
<span id="cb977-21"><a href="#cb977-21"></a>    <span class="cf" d__="">else</span> <span class="op" d__="">{</span></span>
<span id="cb977-22"><a href="#cb977-22"></a>        <span class="co" d__="">// Otherwise, let's test the character and see if its that</span></span>
<span id="cb977-23"><a href="#cb977-23"></a>        <span class="co" d__="">// classification</span></span>
<span id="cb977-24" d__=""><a href="#cb977-24"></a>        <span class="cf" d__="">if</span> <span class="op" d__="">(</span>iswctype<span class="op" d__="">(</span>c<span class="op" d__="">,</span> t<span class="op" d__="">))</span></span>
<span id="cb977-25" d__=""><a href="#cb977-25"></a>            wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Yes! '</span><span class="sc" d__="">%lc</span><span class="st" d__="">' is </span><span class="sc" d__="">%s</span><span class="st" d__="">!</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> c<span class="op" d__="">,</span> desc<span class="op" d__="">);</span></span>
<span id="cb977-26"><a href="#cb977-26"></a>        <span class="cf" d__="">else</span></span>
<span id="cb977-27" d__=""><a href="#cb977-27"></a>            wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Nope! '</span><span class="sc" d__="">%lc</span><span class="st" d__="">' is not </span><span class="sc" d__="">%s</span><span class="st" d__="">.</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> c<span class="op" d__="">,</span> desc<span class="op" d__="">);</span></span>
<span id="cb977-28"><a href="#cb977-28"></a>    <span class="op" d__="">}</span></span>
<span id="cb977-29"><a href="#cb977-29"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output:</p>
<div class="sourceCode" id="cb978"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb978-1" d__=""><a href="#cb978-1" aria-hidden="true" tabindex="-1"></a>Enter a character and character class: 5 digit</span>
<span id="cb978-2" d__=""><a href="#cb978-2" aria-hidden="true" tabindex="-1"></a>Yes! '5' is digit!</span>
<span id="cb978-3"><a href="#cb978-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb978-4" d__=""><a href="#cb978-4" aria-hidden="true" tabindex="-1"></a>Enter a character and character class: b digit</span>
<span id="cb978-5" d__=""><a href="#cb978-5" aria-hidden="true" tabindex="-1"></a>Nope! 'b' is not digit.</span>
<span id="cb978-6"><a href="#cb978-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb978-7" d__=""><a href="#cb978-7" aria-hidden="true" tabindex="-1"></a>Enter a character and character class: x alnum</span>
<span id="cb978-8" d__=""><a href="#cb978-8" aria-hidden="true" tabindex="-1"></a>Yes! 'x' is alnum!</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-282" d__="">See Also</h3>
<p><a href="#man-iswctype"><code s__="13" d__="">iswctype()</code></a></p>
<hr>
<h2 data-number="32.15" id="man-towlower"><span class="header-section-number" d__="">32.15</span> <code d__="">towlower()</code></h2>
<p></p>
<p d__="">Convert an uppercase wide character to lowercase</p>
<h3 class="unnumbered unlisted" id="synopsis-298" d__="">Synopsis</h3>
<div class="sourceCode" id="cb979"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb979-1"><a href="#cb979-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb979-2"><a href="#cb979-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb979-3" d__=""><a href="#cb979-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">wint_t</span> towlower<span class="op" d__="">(</span><span class="dt" d__="">wint_t</span> wc<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-298" d__="">Description</h3>
<p d__="">If the character is upper (i.e.&nbsp;<code s__="13">iswupper(c)</code> is true), this function returns the corresponding lowercase letter.</p>
<p d__="">Different locales might have different upper and lowercase letters.</p>
<h3 class="unnumbered unlisted" id="return-value-296" d__="">Return Value</h3>
<p d__="">If the letter <code s__="13">wc</code> is uppercase, a lowercase version of that letter will be returned according to the current locale.</p>
<p d__="">If the letter is not uppercase, <code s__="13">wc</code> is returned unchanged.</p>
<h3 class="unnumbered unlisted" id="example-300" d__="">Example</h3>
<div class="sourceCode" id="cb980"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb980-1"><a href="#cb980-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb980-2"><a href="#cb980-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb980-3"><a href="#cb980-3"></a></span>
<span id="cb980-4" d__=""><a href="#cb980-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb980-5"><a href="#cb980-5"></a><span class="op" d__="">{</span></span>
<span id="cb980-6"><a href="#cb980-6"></a>    <span class="co" d__="">//                  changing this char</span></span>
<span id="cb980-7"><a href="#cb980-7"></a>    <span class="co" d__="">//                           v</span></span>
<span id="cb980-8" d__=""><a href="#cb980-8"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%lc\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> towlower<span class="op" d__="">(</span><span class="ch" d__="">L'B'</span><span class="op" d__="">));</span>  <span class="co" d__="">// b (made lowercase!)</span></span>
<span id="cb980-9" d__=""><a href="#cb980-9"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%lc\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> towlower<span class="op" d__="">(</span><span class="ch" d__="">L'e'</span><span class="op" d__="">));</span>  <span class="co" d__="">// e (unchanged)</span></span>
<span id="cb980-10" d__=""><a href="#cb980-10"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%lc\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> towlower<span class="op" d__="">(</span><span class="ch" d__="">L'!'</span><span class="op" d__="">));</span>  <span class="co" d__="">// ! (unchanged)</span></span>
<span id="cb980-11"><a href="#cb980-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-283" d__="">See Also</h3>
<p d__=""><a href="#man-tolower"><code s__="13" d__="">tolower()</code></a>, <a href="#man-towupper"><code s__="13" d__="">towupper()</code></a>, <a href="#man-iswlower"><code s__="13" d__="">iswlower()</code></a>, <a href="#man-iswupper"><code s__="13" d__="">iswupper()</code></a></p>
<hr>
<h2 data-number="32.16" id="man-towupper"><span class="header-section-number" d__="">32.16</span> <code d__="">towupper()</code></h2>
<p></p>
<p d__="">Convert a lowercase wide character to uppercase</p>
<h3 class="unnumbered unlisted" id="synopsis-299" d__="">Synopsis</h3>
<div class="sourceCode" id="cb981"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb981-1"><a href="#cb981-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb981-2"><a href="#cb981-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb981-3" d__=""><a href="#cb981-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">wint_t</span> towupper<span class="op" d__="">(</span><span class="dt" d__="">wint_t</span> wc<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-299" d__="">Description</h3>
<p d__="">If the character is lower (i.e.&nbsp;<code s__="13">iswlower(c)</code> is true), this function returns the corresponding uppercase letter.</p>
<p d__="">Different locales might have different upper and lowercase letters.</p>
<h3 class="unnumbered unlisted" id="return-value-297" d__="">Return Value</h3>
<p d__="">If the letter <code s__="13">wc</code> is lowercase, an uppercase version of that letter will be returned according to the current locale.</p>
<p d__="">If the letter is not lowercase, <code s__="13">wc</code> is returned unchanged.</p>
<h3 class="unnumbered unlisted" id="example-301" d__="">Example</h3>
<div class="sourceCode" id="cb982"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb982-1"><a href="#cb982-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb982-2"><a href="#cb982-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb982-3"><a href="#cb982-3"></a></span>
<span id="cb982-4" d__=""><a href="#cb982-4"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb982-5"><a href="#cb982-5"></a><span class="op" d__="">{</span></span>
<span id="cb982-6"><a href="#cb982-6"></a>    <span class="co" d__="">//                  changing this char</span></span>
<span id="cb982-7"><a href="#cb982-7"></a>    <span class="co" d__="">//                           v</span></span>
<span id="cb982-8" d__=""><a href="#cb982-8"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%lc\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> towupper<span class="op" d__="">(</span><span class="ch" d__="">L'B'</span><span class="op" d__="">));</span>  <span class="co" d__="">// B (unchanged)</span></span>
<span id="cb982-9" d__=""><a href="#cb982-9"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%lc\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> towupper<span class="op" d__="">(</span><span class="ch" d__="">L'e'</span><span class="op" d__="">));</span>  <span class="co" d__="">// E (made uppercase!)</span></span>
<span id="cb982-10" d__=""><a href="#cb982-10"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%lc\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> towupper<span class="op" d__="">(</span><span class="ch" d__="">L'!'</span><span class="op" d__="">));</span>  <span class="co" d__="">// ! (unchanged)</span></span>
<span id="cb982-11"><a href="#cb982-11"></a><span class="op" d__="">}</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-284" d__="">See Also</h3>
<p d__=""><a href="#man-toupper"><code s__="13" d__="">toupper()</code></a>, <a href="#man-towlower"><code s__="13" d__="">towlower()</code></a>, <a href="#man-iswlower"><code s__="13" d__="">iswlower()</code></a>, <a href="#man-iswupper"><code s__="13" d__="">iswupper()</code></a></p>
<hr>
<h2 data-number="32.17" id="man-towctrans"><span class="header-section-number" d__="">32.17</span> <code d__="">towctrans()</code></h2>
<p></p>
<p d__="">Convert wide characters to upper or lowercase</p>
<h3 class="unnumbered unlisted" id="synopsis-300" d__="">Synopsis</h3>
<div class="sourceCode" id="cb983"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb983-1"><a href="#cb983-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb983-2"><a href="#cb983-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb983-3" d__=""><a href="#cb983-3" aria-hidden="true" tabindex="-1"></a><span class="dt" d__="">wint_t</span> towctrans<span class="op" d__="">(</span><span class="dt" d__="">wint_t</span> wc<span class="op" d__="">,</span> wctrans_t desc<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-300" d__="">Description</h3>
<p d__="">This is the Swiss Army knife of character conversion 
functions; it’s all the other ones rolled into one. And by “all the 
other ones” I mean <code s__="13">towupper()</code> and <code s__="13">towlower()</code>, since those are the only ones there are.</p>
<p d__="">You call it with something like this:</p>
<div class="sourceCode" id="cb984"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb984-1" d__=""><a href="#cb984-1" aria-hidden="true" tabindex="-1"></a><span class="cf" d__="">if</span> <span class="op" d__="">(</span>towctrans<span class="op" d__="">(</span>c<span class="op" d__="">,</span> wctrans<span class="op" d__="">(</span><span class="st" d__="">"toupper"</span><span class="op" d__="">)))</span>  <span class="co" d__="">// or "tolower"</span></span></code></pre></div>
<p d__="">and it behaves just like you’d called:</p>
<div class="sourceCode" id="cb985"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb985-1" d__=""><a href="#cb985-1" aria-hidden="true" tabindex="-1"></a>towupper<span class="op" d__="">(</span>c<span class="op" d__="">);</span></span></code></pre></div>
<p d__="">The difference is that you can specify the type of conversion you want to do as a string at runtime, which might be convenient.</p>
<p d__=""><code s__="13">towctrans()</code> relies on the return value from the <a href="#man-wctrans"><code s__="13" d__="">wctrans()</code></a> call to get its work done.</p>
<table>
<thead>
<tr class="header">
<th d__=""><code s__="13">towctrans()</code> call</th>
<th d__="">Hard-coded equivalent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code s__="13" d__="">towctrans(c, wctrans("toupper"))</code></td>
<td><code s__="13" d__="">towupper(c)</code></td>
</tr>
<tr class="even">
<td><code s__="13" d__="">towctrans(c, wctrans("tolower"))</code></td>
<td><code s__="13" d__="">towlower(c)</code></td>
</tr>
</tbody>
</table>
<p d__="">See the <a href="#man-wctrans" d__=""><code s__="13">wctrans()</code> documentation</a> for how that helper function works.</p>
<h3 class="unnumbered unlisted" id="return-value-298" d__="">Return Value</h3>
<p d__="">Returns the character <code s__="13">wc</code> as if run through <code s__="13">towupper()</code> or <code s__="13">towlower()</code>, depending on the value of <code s__="13">desc</code>.</p>
<p d__="">If the character already matches the classification, it is returned as-is.</p>
<h3 class="unnumbered unlisted" id="example-302" d__="">Example</h3>
<div class="sourceCode" id="cb986"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb986-1"><a href="#cb986-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span><span class="pp">  </span><span class="co" d__="">// for fflush(stdout)</span></span>
<span id="cb986-2"><a href="#cb986-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb986-3"><a href="#cb986-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb986-4"><a href="#cb986-4"></a></span>
<span id="cb986-5" d__=""><a href="#cb986-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb986-6"><a href="#cb986-6"></a><span class="op" d__="">{</span></span>
<span id="cb986-7" d__=""><a href="#cb986-7"></a>    <span class="dt" d__="">wchar_t</span> c<span class="op" d__="">;</span>        <span class="co" d__="">// Holds a single wide character (to test)</span></span>
<span id="cb986-8" d__=""><a href="#cb986-8"></a>    <span class="dt" d__="">char</span> desc<span class="op" d__="">[</span><span class="dv" d__="">128</span><span class="op" d__="">];</span>   <span class="co" d__="">// Holds the conversion type</span></span>
<span id="cb986-9"><a href="#cb986-9"></a></span>
<span id="cb986-10"><a href="#cb986-10"></a>    <span class="co" d__="">// Get the character and conversion type from the user</span></span>
<span id="cb986-11" d__=""><a href="#cb986-11"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Enter a character and conversion type: "</span><span class="op" d__="">);</span></span>
<span id="cb986-12" d__=""><a href="#cb986-12"></a>    fflush<span class="op" d__="">(</span>stdout<span class="op" d__="">);</span></span>
<span id="cb986-13" d__=""><a href="#cb986-13"></a>    wscanf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%lc</span><span class="st"> </span><span class="sc" d__="">%s</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>c<span class="op" d__="">,</span> desc<span class="op" d__="">);</span></span>
<span id="cb986-14"><a href="#cb986-14"></a></span>
<span id="cb986-15"><a href="#cb986-15"></a>    <span class="co" d__="">// Compute the type from the given conversion type</span></span>
<span id="cb986-16" d__=""><a href="#cb986-16"></a>    wctrans_t t <span class="op" d__="">=</span> wctrans<span class="op" d__="">(</span>desc<span class="op" d__="">);</span></span>
<span id="cb986-17"><a href="#cb986-17"></a></span>
<span id="cb986-18" d__=""><a href="#cb986-18"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>t <span class="op" d__="">==</span> <span class="dv" d__="">0</span><span class="op" d__="">)</span></span>
<span id="cb986-19"><a href="#cb986-19"></a>        <span class="co" d__="">// If the type is 0, it's an unknown conversion type</span></span>
<span id="cb986-20" d__=""><a href="#cb986-20"></a>        wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Unknown conversion: </span><span class="sc" d__="">\"%s\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> desc<span class="op" d__="">);</span></span>
<span id="cb986-21"><a href="#cb986-21"></a>    <span class="cf" d__="">else</span> <span class="op" d__="">{</span></span>
<span id="cb986-22"><a href="#cb986-22"></a>        <span class="co" d__="">// Otherwise, let's do the conversion</span></span>
<span id="cb986-23" d__=""><a href="#cb986-23"></a>        <span class="dt" d__="">wint_t</span> result <span class="op" d__="">=</span> towctrans<span class="op" d__="">(</span>c<span class="op" d__="">,</span> t<span class="op" d__="">);</span></span>
<span id="cb986-24" d__=""><a href="#cb986-24"></a>        wprintf<span class="op" d__="">(</span><span class="st" d__="">L"'</span><span class="sc" d__="">%lc</span><span class="st" d__="">' -&gt; </span><span class="sc" d__="">%s</span><span class="st" d__=""> -&gt; '</span><span class="sc" d__="">%lc</span><span class="st" d__="">'</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> c<span class="op" d__="">,</span> desc<span class="op" d__="">,</span> result<span class="op" d__="">);</span></span>
<span id="cb986-25"><a href="#cb986-25"></a>    <span class="op" d__="">}</span></span>
<span id="cb986-26"><a href="#cb986-26"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output on my system:</p>
<div class="sourceCode" id="cb987"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb987-1" d__=""><a href="#cb987-1" aria-hidden="true" tabindex="-1"></a>Enter a character and conversion type: b toupper</span>
<span id="cb987-2" d__=""><a href="#cb987-2" aria-hidden="true" tabindex="-1"></a>'b' -&gt; toupper -&gt; 'B'</span>
<span id="cb987-3"><a href="#cb987-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb987-4" d__=""><a href="#cb987-4" aria-hidden="true" tabindex="-1"></a>Enter a character and conversion type: B toupper</span>
<span id="cb987-5" d__=""><a href="#cb987-5" aria-hidden="true" tabindex="-1"></a>'B' -&gt; toupper -&gt; 'B'</span>
<span id="cb987-6"><a href="#cb987-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb987-7" d__=""><a href="#cb987-7" aria-hidden="true" tabindex="-1"></a>Enter a character and conversion type: B tolower</span>
<span id="cb987-8" d__=""><a href="#cb987-8" aria-hidden="true" tabindex="-1"></a>'B' -&gt; tolower -&gt; 'b'</span>
<span id="cb987-9"><a href="#cb987-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb987-10" d__=""><a href="#cb987-10" aria-hidden="true" tabindex="-1"></a>Enter a character and conversion type: ! toupper</span>
<span id="cb987-11" d__=""><a href="#cb987-11" aria-hidden="true" tabindex="-1"></a>'!' -&gt; toupper -&gt; '!'</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-285" d__="">See Also</h3>
<p d__=""><a href="#man-wctrans"><code s__="13" d__="">wctrans()</code></a>, <a href="#man-towupper"><code s__="13" d__="">towupper()</code></a>, <a href="#man-towlower"><code s__="13" d__="">towlower()</code></a></p>
<hr>
<h2 data-number="32.18" id="man-wctrans"><span class="header-section-number" d__="">32.18</span> <code d__="">wctrans()</code></h2>
<p></p>
<p d__="">Helper function for <code s__="13">towctrans()</code></p>
<h3 class="unnumbered unlisted" id="synopsis-301" d__="">Synopsis</h3>
<div class="sourceCode" id="cb988"><pre class="sourceCode c"><code class="sourceCode c" s__="13"><span id="cb988-1"><a href="#cb988-1" aria-hidden="true" tabindex="-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb988-2"><a href="#cb988-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb988-3" d__=""><a href="#cb988-3" aria-hidden="true" tabindex="-1"></a>wctrans_t wctrans<span class="op" d__="">(</span><span class="dt" d__="">const</span> <span class="dt" d__="">char</span> <span class="op" d__="">*</span>property<span class="op" d__="">);</span></span></code></pre></div>
<h3 class="unnumbered unlisted" id="description-301" d__="">Description</h3>
<p d__="">This is a helper function for generating the second argument to <a href="#man-towctrans"><code s__="13" d__="">towctrans()</code></a>.</p>
<p d__="">You can pass in one of two things for the <code s__="13">property</code>:</p>
<ul>
<li d__=""><code s__="13">toupper</code> to make <code s__="13">towctrans()</code> behave like <code s__="13">towupper()</code></li>
<li d__=""><code s__="13">tolower</code> to make <code s__="13">towctrans()</code> behave like <code s__="13">towlower()</code></li>
</ul>
<h3 class="unnumbered unlisted" id="return-value-299" d__="">Return Value</h3>
<p d__="">On success, returns a value that can be used as the <code s__="13">desc</code> argument to <code s__="13">towctrans()</code>.</p>
<p d__="">Otherwise, if the <code s__="13">property</code> isn’t recognized, returns <code s__="13">0</code>.</p>
<h3 class="unnumbered unlisted" id="example-303" d__="">Example</h3>
<div class="sourceCode" id="cb989"><pre class="sourceCode numberSource c numberLines"><code class="sourceCode c" s__="13"><span id="cb989-1"><a href="#cb989-1"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;stdio.h&gt;</span><span class="pp">  </span><span class="co" d__="">// for fflush(stdout)</span></span>
<span id="cb989-2"><a href="#cb989-2"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wchar.h&gt;</span></span>
<span id="cb989-3"><a href="#cb989-3"></a><span class="pp" d__="">#include </span><span class="im" d__="">&lt;wctype.h&gt;</span></span>
<span id="cb989-4"><a href="#cb989-4"></a></span>
<span id="cb989-5" d__=""><a href="#cb989-5"></a><span class="dt" d__="">int</span> main<span class="op" d__="">(</span><span class="dt" d__="">void</span><span class="op" d__="">)</span></span>
<span id="cb989-6"><a href="#cb989-6"></a><span class="op" d__="">{</span></span>
<span id="cb989-7" d__=""><a href="#cb989-7"></a>    <span class="dt" d__="">wchar_t</span> c<span class="op" d__="">;</span>        <span class="co" d__="">// Holds a single wide character (to test)</span></span>
<span id="cb989-8" d__=""><a href="#cb989-8"></a>    <span class="dt" d__="">char</span> desc<span class="op" d__="">[</span><span class="dv" d__="">128</span><span class="op" d__="">];</span>   <span class="co" d__="">// Holds the conversion type</span></span>
<span id="cb989-9"><a href="#cb989-9"></a></span>
<span id="cb989-10"><a href="#cb989-10"></a>    <span class="co" d__="">// Get the character and conversion type from the user</span></span>
<span id="cb989-11" d__=""><a href="#cb989-11"></a>    wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Enter a character and conversion type: "</span><span class="op" d__="">);</span></span>
<span id="cb989-12" d__=""><a href="#cb989-12"></a>    fflush<span class="op" d__="">(</span>stdout<span class="op" d__="">);</span></span>
<span id="cb989-13" d__=""><a href="#cb989-13"></a>    wscanf<span class="op" d__="">(</span><span class="st" d__="">L"</span><span class="sc" d__="">%lc</span><span class="st"> </span><span class="sc" d__="">%s</span><span class="st" d__="">"</span><span class="op" d__="">,</span> <span class="op" d__="">&amp;</span>c<span class="op" d__="">,</span> desc<span class="op" d__="">);</span></span>
<span id="cb989-14"><a href="#cb989-14"></a></span>
<span id="cb989-15"><a href="#cb989-15"></a>    <span class="co" d__="">// Compute the type from the given conversion type</span></span>
<span id="cb989-16" d__=""><a href="#cb989-16"></a>    wctrans_t t <span class="op" d__="">=</span> wctrans<span class="op" d__="">(</span>desc<span class="op" d__="">);</span></span>
<span id="cb989-17"><a href="#cb989-17"></a></span>
<span id="cb989-18" d__=""><a href="#cb989-18"></a>    <span class="cf" d__="">if</span> <span class="op" d__="">(</span>t <span class="op" d__="">==</span> <span class="dv" d__="">0</span><span class="op" d__="">)</span></span>
<span id="cb989-19"><a href="#cb989-19"></a>        <span class="co" d__="">// If the type is 0, it's an unknown conversion type</span></span>
<span id="cb989-20" d__=""><a href="#cb989-20"></a>        wprintf<span class="op" d__="">(</span><span class="st" d__="">L"Unknown conversion: </span><span class="sc" d__="">\"%s\"\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> desc<span class="op" d__="">);</span></span>
<span id="cb989-21"><a href="#cb989-21"></a>    <span class="cf" d__="">else</span> <span class="op" d__="">{</span></span>
<span id="cb989-22"><a href="#cb989-22"></a>        <span class="co" d__="">// Otherwise, let's do the conversion</span></span>
<span id="cb989-23" d__=""><a href="#cb989-23"></a>        <span class="dt" d__="">wint_t</span> result <span class="op" d__="">=</span> towctrans<span class="op" d__="">(</span>c<span class="op" d__="">,</span> t<span class="op" d__="">);</span></span>
<span id="cb989-24" d__=""><a href="#cb989-24"></a>        wprintf<span class="op" d__="">(</span><span class="st" d__="">L"'</span><span class="sc" d__="">%lc</span><span class="st" d__="">' -&gt; </span><span class="sc" d__="">%s</span><span class="st" d__=""> -&gt; '</span><span class="sc" d__="">%lc</span><span class="st" d__="">'</span><span class="sc" d__="">\n</span><span class="st" d__="">"</span><span class="op" d__="">,</span> c<span class="op" d__="">,</span> desc<span class="op" d__="">,</span> result<span class="op" d__="">);</span></span>
<span id="cb989-25"><a href="#cb989-25"></a>    <span class="op" d__="">}</span></span>
<span id="cb989-26"><a href="#cb989-26"></a><span class="op" d__="">}</span></span></code></pre></div>
<p d__="">Output on my system:</p>
<div class="sourceCode" id="cb990"><pre class="sourceCode default"><code class="sourceCode default" s__="13"><span id="cb990-1" d__=""><a href="#cb990-1" aria-hidden="true" tabindex="-1"></a>Enter a character and conversion type: b toupper</span>
<span id="cb990-2" d__=""><a href="#cb990-2" aria-hidden="true" tabindex="-1"></a>'b' -&gt; toupper -&gt; 'B'</span>
<span id="cb990-3"><a href="#cb990-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb990-4" d__=""><a href="#cb990-4" aria-hidden="true" tabindex="-1"></a>Enter a character and conversion type: B toupper</span>
<span id="cb990-5" d__=""><a href="#cb990-5" aria-hidden="true" tabindex="-1"></a>'B' -&gt; toupper -&gt; 'B'</span>
<span id="cb990-6"><a href="#cb990-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb990-7" d__=""><a href="#cb990-7" aria-hidden="true" tabindex="-1"></a>Enter a character and conversion type: B tolower</span>
<span id="cb990-8" d__=""><a href="#cb990-8" aria-hidden="true" tabindex="-1"></a>'B' -&gt; tolower -&gt; 'b'</span>
<span id="cb990-9"><a href="#cb990-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb990-10" d__=""><a href="#cb990-10" aria-hidden="true" tabindex="-1"></a>Enter a character and conversion type: ! toupper</span>
<span id="cb990-11" d__=""><a href="#cb990-11" aria-hidden="true" tabindex="-1"></a>'!' -&gt; toupper -&gt; '!'</span></code></pre></div>
<h3 class="unnumbered unlisted" id="see-also-286" d__="">See Also</h3>
<p><a href="#man-towctrans"><code s__="13" d__="">towctrans()</code></a></p>
<!--
***
## `example()` {#man-example}

### Synopsis {.unnumbered .unlisted}

``` {.c}
```

### Description {.unnumbered .unlisted}

### Return Value {.unnumbered .unlisted}

### Example {.unnumbered .unlisted}

``` {.c .numberLines}
```

### See Also {.unnumbered .unlisted}

[`example()`](#man-example),
-->
<aside id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p d__="">https://beej.us/guide/bgc/<a href="#fnref1" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn2"><p d__="">https://en.wikipedia.org/wiki/ANSI_C<a href="#fnref2" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn3"><p d__="">https://en.wikipedia.org/wiki/POSIX<a href="#fnref3" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn4"><p d__="">https://visualstudio.microsoft.com/vs/community/<a href="#fnref4" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn5"><p d__="">https://docs.microsoft.com/en-us/windows/wsl/install-win10<a href="#fnref5" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn6"><p d__="">https://developer.apple.com/xcode/<a href="#fnref6" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn7"><p d__="">https://beej.us/guide/bgclr/<a href="#fnref7" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn8"><p d__="">https://en.cppreference.com/<a href="#fnref8" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn9"><p d__="">https://groups.google.com/g/comp.lang.c<a href="#fnref9" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn10"><p d__="">https://www.reddit.com/r/C_Programming/<a href="#fnref10" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn11"><p d__="">This doesn’t change the type of <code s__="13">x</code> in other contexts—it’s just in this one usage in this expression.<a href="#fnref11" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn12"><p d__="">Note that this implication only for <code s__="13">main()</code>, and not for any other functions.<a href="#fnref12" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn13"><p d__="">https://en.wikipedia.org/wiki/Complex_conjugate<a href="#fnref13" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn14"><p d__="">https://en.wikipedia.org/wiki/Riemann_sphere<a href="#fnref14" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn15"><p d__="">Really it’s just required to be a modifiable lvalue, so not necessarily a variable. But you can treat it as such.<a href="#fnref15" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn16"><p d__="">https://man.archlinux.org/man/errno.3.en<a href="#fnref16" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn17"><p d__="">https://docs.microsoft.com/en-us/cpp/c-runtime-library/errno-constants?view=msvc-160<a href="#fnref17" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn18"><p d__="">https://en.wikipedia.org/wiki/Subnormal_number<a href="#fnref18" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn19"><p d__="">The minimum value of an <code s__="13">unsigned char</code> is <code s__="13">0</code>. Same fo an <code s__="13">unsigned short</code> and <code s__="13">unsigned long</code>. Or any unsigned type, for that matter.<a href="#fnref19" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn20"><p d__="">https://en.wikipedia.org/wiki/Two%27s_complement<a href="#fnref20" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn21"><p d__="">Remember that <code s__="13">char</code> is just a byte-sized integer.<a href="#fnref21" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn22"><p d__="">Though the system defines <code s__="13">MATH_ERRNO</code> as <code s__="13">1</code> and <code s__="13">MATH_ERREXCEPT</code> as <code s__="13">2</code>, it’s best to always use their symbolic names. Just in case.<a href="#fnref22" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn23"><p d__="">https://en.wikipedia.org/wiki/Denormal_number<a href="#fnref23" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn24"><p d__="">This is on my system. Some systems will have 
different points at which numbers become subnormal, or they might not 
support subnormal values at all.<a href="#fnref24" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn25"><p d__="">https://en.wikipedia.org/wiki/E_(mathematical_constant)<a href="#fnref25" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn26"><p d__="">https://en.wikipedia.org/wiki/Denormal_number<a href="#fnref26" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn27"><p d__="">https://en.wikipedia.org/wiki/Pythagorean_theorem<a href="#fnref27" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn28"><p d__="">https://en.wikipedia.org/wiki/Error_function<a href="#fnref28" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn29"><p d__="">https://en.wikipedia.org/wiki/Error_function<a href="#fnref29" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn30"><p d__="">https://en.wikipedia.org/wiki/Gamma_function<a href="#fnref30" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn31"><p d__="">https://en.wikipedia.org/wiki/Gamma_function<a href="#fnref31" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn32"><p d__="">https://en.cppreference.com/w/c/numeric/math/remquo<a href="#fnref32" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn33"><p d__="">https://en.cppreference.com/w/c/numeric/math/remquo<a href="#fnref33" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn34"><p d__="">A <em>quiet NaN</em> is one that doesn’t raise any exceptions.<a href="#fnref34" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn35"><p d__="">https://man.archlinux.org/man/sigaction.2.en<a href="#fnref35" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn36"><p d__="">As if might be sent from Unix’s <code s__="13">kill</code> command.]<a href="#fnref36" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn37"><p d__="">https://en.wikipedia.org/wiki/Data_structure_alignment<a href="#fnref37" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn38"><p d__="">Maybe it depends on the run-time environment and can’t be known at compile-time.<a href="#fnref38" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn39"><p d__="">https://en.cppreference.com/w/cpp/atomic/ATOMIC_VAR_INIT<a href="#fnref39" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn40"><p d__="">http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2018/p1138r0.pdf<a href="#fnref40" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn41"><p d__="">This effectively does the same thing, but it’s clearly not atomic.<a href="#fnref41" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn42"><p d__="">The spec says, “This spurious failure enables 
implementation of compare-and-exchange on a broader class of machines, 
e.g.&nbsp;load-locked store-conditional machines.” And adds, “When a 
compare-and-exchange is in a loop, the weak version will yield better 
performance on some platforms. When a weak compare-and-exchange would 
require a loop and a strong one would not, the strong one is 
preferable.”<a href="#fnref42" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn43"><p d__="">Don’t use this unless you know what you’re 
doing—use the thread mutex functionality instead. It’ll let your blocked
 thread sleep and stop chewing up CPU.<a href="#fnref43" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn44"><p d__="">Don’t use this unless you know what you’re 
doing—use the thread mutex functionality instead. It’ll let your blocked
 thread sleep and stop chewing up CPU.<a href="#fnref44" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn45"><p d__="">https://en.wikipedia.org/wiki/Data_structure_alignment<a href="#fnref45" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn46"><p d__="">https://man.archlinux.org/man/unlinkat.2.en#DESCRIPTION<a href="#fnref46" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn47"><p d__="">https://man.archlinux.org/man/mkstemp.3.en<a href="#fnref47" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn48"><p d__="">https://nee.lv/2021/02/28/How-I-cut-GTA-Online-loading-times-by-70/<a href="#fnref48" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn49"><p d__="">https://stackoverflow.com/questions/17017331/c99-vscanf-for-dummies/17018046#17018046<a href="#fnref49" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn50"><p d__="">http://man.cat-v.org/unix-1st/3/atof<a href="#fnref50" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn51"><p d__="">http://man.cat-v.org/unix-1st/3/atoi<a href="#fnref51" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn52"><p d__="">https://en.wikipedia.org/wiki/Radix<a href="#fnref52" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn53"><p d__="">https://stackoverflow.com/questions/10984974/why-do-people-say-there-is-modulo-bias-when-using-a-random-number-generator<a href="#fnref53" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn54"><p d__="">https://mumble.net/~campbell/2014/04/28/uniform-random-float<a href="#fnref54" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn55"><p d__="">https://www.gnu.org/software/gsl/doc/html/rng.html<a href="#fnref55" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn56"><p d__="">Minecraft enthusiasts might recall that when 
generating a new world, they were given the option to enter a random 
number seed. That single value is used to generate that entire random 
world. And if your friend starts a world with the same seed you did, 
they’ll get the same world you did.<a href="#fnref56" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn57"><p d__="">https://en.wikipedia.org/wiki/Unix_time<a href="#fnref57" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn58"><p d__="">The C spec doesn’t say exactly what <code s__="13">time(NULL)</code> will return, but the POSIX spec does! And virtually everyone returns exactly that: the number of seconds since epoch.<a href="#fnref58" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn59"><p d__="">https://en.wikipedia.org/wiki/Data_structure_alignment<a href="#fnref59" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn60"><p d__="">“Try to imagine all life as you know it stopping
 instantaneously and every molecule in your body exploding at the speed 
of light.” —Egon Spengler<a href="#fnref60" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn61"><p d__="">https://en.wikipedia.org/wiki/Core_dump<a href="#fnref61" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn62"><p d__=""><code s__="13">quick_exit()</code> differs from <code s__="13">exit()</code> in that open files might not be flushed and temporary files might not be removed.<a href="#fnref62" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn63"><p d__="">“In-place” meaning that the original array will hold the results; no new array is allocated.<a href="#fnref63" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn64"><p d__="">It always returns the number of bytes the transformed string took, but in this case because <code s__="13">s1</code> was <code s__="13">NULL</code>, it doesn’t actually write a transformed string.<a href="#fnref64" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn65"><p d__="">Which you should because of spurious wakeups.<a href="#fnref65" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn66"><p d__="">Well, as at least as many things as you have free cores. Your OS will schedule them as it can.<a href="#fnref66" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn67"><p d__="">For example, if a destructor caused more variables to be set.<a href="#fnref67" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn68"><p d__="">Unix-like systems have a <code s__="13">sleep()</code> syscall that sleeps for an integer number of seconds. But <code s__="13">thrd_sleep()</code> is likely more portable and gives subsecond resolution, besides!<a href="#fnref68" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn69"><p d__="">When you say GMT, unless you’re talking specifically about the time zone and not the time, you probably mean “UTC”.<a href="#fnref69" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn70"><p d__="">The spec doesn’t actually say “clock ticks”, but I… am.<a href="#fnref70" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn71"><p d__="">Unless you’re on a POSIX system where <code s__="13">time_t</code> is definitely an integer, in which case you can subtract. But you should still use <code s__="13">difftime()</code> for maximum portability.<a href="#fnref71" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn72"><p d__="">https://man.archlinux.org/man/timegm.3.en<a href="#fnref72" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn73"><p d__="">https://docs.microsoft.com/en-us/cpp/c-runtime-library/reference/mkgmtime-mkgmtime32-mkgmtime64?view=msvc-160<a href="#fnref73" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn74"><p d__="">https://man.archlinux.org/man/timegm.3.en<a href="#fnref74" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn75"><p d__="">https://docs.microsoft.com/en-us/cpp/c-runtime-library/reference/mkgmtime-mkgmtime32-mkgmtime64?view=msvc-160<a href="#fnref75" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn76"><p d__="">https://en.wikipedia.org/wiki/Unix_time<a href="#fnref76" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn77"><p d__="">https://en.wikipedia.org/wiki/ISO_week_date<a href="#fnref77" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn78"><p d__="">https://en.wikipedia.org/wiki/Symbols_for_Legacy_Computing<a href="#fnref78" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn79"><p d__="">https://stackoverflow.com/questions/17017331/c99-vscanf-for-dummies/17018046#17018046<a href="#fnref79" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
<li id="fn80"><p d__="">This is a variable, not a macro, so if you use it to define an array, it’ll be a variable-length array.<a href="#fnref80" class="footnote-back" role="doc-backlink" d__="">↩︎</a></p></li>
</ol>
</aside>


</body></html>